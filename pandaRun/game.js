window.Laya=function(a,b){var c={__internals:[],__packages:{},__classmap:{Object:Object,Function:Function,Array:Array,String:String},__sysClass:{object:"Object",array:"Array",string:"String",dictionary:"Dictionary"},__propun:{writable:!0,enumerable:!1,configurable:!0},__presubstr:String.prototype.substr,__substr:function(e,a){return 1==arguments.length?c.__presubstr.call(this,e):c.__presubstr.call(this,e,0<a?a:this.length+a)},__init:function(c){c.forEach(function(c){c.__init$&&c.__init$()})},__parseInt:function(c){return c?parseInt(c):0},__isClass:function(c){return c&&(c.__isclass||c==Object||c==String||c==Array)},__newvec:function(c,e){var a=[];a.length=c;for(var b=0;b<c;b++)a[b]=e;return a},__extend:function(e,a){function b(){c.un(this,"constructor",e)}for(var g in a)if(a.hasOwnProperty(g)){var l=a.__lookupGetter__(g),m=a.__lookupSetter__(g);l||m?(l&&e.__defineGetter__(g,l),m&&e.__defineSetter__(g,m)):e[g]=a[g]}b.prototype=a.prototype;e.prototype=new b;c.un(e.prototype,"__imps",c.__copy({},a.prototype.__imps))},__copy:function(c,e){if(!e)return null;c=c||{};for(var a in e)c[a]=e[a];return c},__package:function(e,b){if(!c.__packages[e]){c.__packages[e]=!0;var g=a,k=e.split(".");if(1<k.length)for(var l=0,m=k.length-1;l<m;l++)var n=g[k[l]],g=n?n:g[k[l]]={};g[k[k.length-1]]||(g[k[k.length-1]]=b||{})}},__hasOwnProperty:function(c,e){function a(c,e){if(Object.hasOwnProperty.call(e.prototype,c))return!0;var b=e.prototype.__super;return null==b?null:a(c,b)}e=e||this;return Object.hasOwnProperty.call(e,c)||a(c,e.__class)},__typeof:function(c,e){if(!c||!e)return!1;if(e==String)return"string"==typeof c;if(e==Number)return"number"==typeof c;if(e.__interface__)e=e.__interface__;else if("string"!=typeof e)return c instanceof e;return c.__imps&&c.__imps[e]||c.__class==e},__as:function(c,e){return this.__typeof(c,e)?c:null},"interface":function(e,b){c.__package(e,{});var g=c.__internals,k=g[e]=g[e]||{};k.self=e;b&&(k.extend=g[b]=g[b]||{});for(var g=a,k=e.split("."),l=0;l<k.length-1;l++)g=g[k[l]];g[k[k.length-1]]={__interface__:e}},"class":function(e,b,h,k,l){h&&c.un(e.prototype,"toString",g.toStringForDic);k&&c.__extend(e,k);if(b)if(c.__package(b,e),c.__classmap[b]=e,0<b.indexOf(".")){if(0==b.indexOf("laya.")){h=b.split(".");l=l||h[h.length-1];if(c[l])debugger;c[l]=e}}else if("Main"==b)a.Main=e;else{if(c[b]){console.log("Err!,Same class:"+b,c[b]);debugger}c[b]=e}l=c.un;h=e.prototype;l(h,"hasOwnProperty",c.__hasOwnProperty);l(h,"__class",e);l(h,"__super",k);l(h,"__className",b);l(e,"__super",k);l(e,"__className",b);l(e,"__isclass",!0);l(e,"super",function(c){this.__super.call(c)})},imps:function(e,a){if(!a)return null;var b=e.__imps||c.un(e,"__imps",{}),g;for(g in a){b[g]=a[g];for(var l=g;(l=this.__internals[l])&&(l=l.extend);)l=l.self,b[l]=!0}},getset:function(e,a,b,g,l){e?(g&&(a["_$GET_"+b]=g),l&&(a["_$SET_"+b]=l)):(g&&c.un(a,"_$get_"+b,g),l&&c.un(a,"_$set_"+b,l));g&&l?Object.defineProperty(a,b,{get:g,set:l,enumerable:!1}):(g&&Object.defineProperty(a,b,{get:g,enumerable:!1}),l&&Object.defineProperty(a,b,{set:l,enumerable:!1}))},"static":function(c,e){for(var a=0,b=e.length;a<b;a+=2)"length"==e[a]?c.length=e[a+1].call(c):function(){var b=e[a],g=e[a+1];Object.defineProperty(c,b,{get:function(){delete this[b];return this[b]=g.call(this)},set:function(c){delete this[b];this[b]=c},enumerable:!0,configurable:!0})}()},un:function(e,a,b){3>arguments.length&&(b=e[a]);c.__propun.value=b;Object.defineProperty(e,a,c.__propun);return b},uns:function(e,a){a.forEach(function(a){c.un(e,a)})}};a.console=a.console||{log:function(){}};a.trace=a.console.log;Error.prototype.throwError=function(){throw arguments;};String.prototype.substr=c.__substr;Object.defineProperty(Array.prototype,"fixed",{enumerable:!1});var e=a.iflash={utils:{}},g=a.LAYABOX=a.LAYABOX||{classmap:c.__classmap,systemClass:c.__sysClass};Function.prototype.BIND$=function(c){this.__$BiD___||(this.__$BiD___=g.__bindid++);c.BIND$__||(c.BIND$__={});var e=c.BIND$__[this.__$BiD___];return e?e:c.BIND$__[this.__$BiD___]=this.bind(c)};Array.CASEINSENSITIVE=1;Array.DESCENDING=2;Array.NUMERIC=16;Array.RETURNINDEXEDARRAY=8;Array.UNIQUESORT=4;Object.defineProperty(Array.prototype,"fixed",{enumerable:!1});(function(c){var e=Date.prototype;Object.defineProperty(e,"millisecondsUTC",{get:e.getUTCMilliseconds,enumerable:!1});Object.defineProperty(e,"minutesUTC",{get:e.getUTCMinutes,enumerable:!1});Object.defineProperty(e,"mouthUTC",{get:e.getUTCMonth,enumerable:!1});for(var a=0;a<c.length;a++)Object.defineProperty(e,c[a],{get:e["get"+c[a].charAt(0).toUpperCase()+c[a].substr(1)]})})("date day fullYear hours millseconds minutes month seconds time timezoneOffset dateUTC dayUTC fullYearUTC hoursUTC".split(" "));g.__bindid=1;g.sortonNameArray2=function(c,e,a){void 0===a&&(a=0);var b=e[0],g=e[1],m=1;18==a&&(m=-1);return c.sort(function(c,e){return e[b]==c[b]?m*(c[g]-e[g]):m*(c[b]-e[b])})};g.sortonNameArray=function(c,e,a){void 0===a&&(a=0);var b=e[0],g=1;18==a&&(g=-1);return c.sort(function(c,a){if(a[b]==c[b]){for(var d=1,h=e.length;d<h;d++){var r=e[d];if(a[r]!=c[r])return g*(c[r]-a[r])}return 0}return g*(c[b]-a[b])})};g.arraypresort=Array.prototype.sort;c.un(Array.prototype,"sortOn",function(c,e){if(c instanceof Function)return this.sort(c);if(c instanceof Array){if(0==c.length)return this;if(2==c.length)return g.sortonNameArray2(this,c,e);if(2<c.length)return g.sortonNameArray(this,c,e);c=c[0]}return 16==e?this.sort(function(e,a){return e[c]-a[c]}):2==e?this.sort(function(e,a){return a[c]-e[c]}):18==e?this.sort(function(e,a){return a[c]-e[c]}):1==e?this.sort():this.sort(function(e,a){return e[c]-a[c]})});c.un(Array.prototype,"sort",function(c){return 16==c?g.arraypresort.call(this,function(c,e){return c-e}):18==c?g.arraypresort.call(this,function(c,e){return e-c}):1==c?g.arraypresort.call(this):g.arraypresort.call(this,c)});g.bind=function(c,e){return null==c||null==e?null:e.BIND$(c)};e=a.Dictionary=e.utils.Dictionary=function(){};a.Dictionary.prototype=Object.prototype;c.__classmap.Dictionary=e;g.DICKEY=0;g.DICKEYS=[];g.toStringForDic=function(){!this.__DICKEY__&&(c.un(this,"__DICKEY__",--g.DICKEY),g.DICKEYS["\x26layadic_"+this.__DICKEY__]=this);return"\x26layadic_"+this.__DICKEY__};return c}(window,document);var __un=Laya.un,__uns=Laya.uns,__static=Laya["static"],__class=Laya["class"],__getset=Laya.getset,__newvec=Laya.__newvec,__bind=LAYABOX.bind,LAYAFNVOID=function(){},LAYAFNSTR=function(){return""},LAYAFNNULL=function(){return null},LAYAFNTRUE=function(){return!0},LAYAFNFALSE=function(){return!1},LAYAFN0=function(){return 0},LAYAFNARRAY=function(){return[]},GETEACH=function(a){return a?a:[]};Laya["interface"]("iflash.utils.IDataInput");Laya["interface"]("iflash.events.IEventDispatcher");Laya["interface"]("iflash.net.IDynamicPropertyOutput");Laya["interface"]("mx.core.ILayoutDirectionElement");Laya["interface"]("mx.core.IAssetLayoutFeatures");Laya["interface"]("iflash.laya.system.IObject");Laya["interface"]("mx.core.IFlexAsset");Laya["interface"]("iflash.display.IGraphicsFill");Laya["interface"]("iflash.display.IGraphicsPath");Laya["interface"]("iflash.display.IGraphicsData");Laya["interface"]("iflash.xml.IXMLElement");Laya["interface"]("iflash.display.IGraphicsStroke");Laya["interface"]("mx.core.IRepeaterClient");Laya["interface"]("interf.ICtrl");Laya["interface"]("iflash.display.IBitmapDrawable");Laya["interface"]("iflash.utils.IDataOutput");Laya["interface"]("iflash.net.IDynamicPropertyWriter");Laya["interface"]("interf.ISteper");Laya["interface"]("iflash.utils.IExternalizable");Laya["interface"]("iflash.utils.IDataInput");Laya["interface"]("iflash.utils.IDataOutput");Laya["interface"]("mx.core.IFlexDisplayObject","iflash.display.IBitmapDrawable");Laya["interface"]("interf.IGameElm","interf.ISteper");var Browser=function(){function a(){}__class(a,"Browser",!0);__getset(1,a,"frameRate",function(){return a._driver_.frameRate},function(b){a._driver_.frameRate=b});a.__init__=function(b){a._driver_=new iflash.laya.driver.Driver(b)};a.__start__=function(){a._driver_.start();a._driver_.regEvent()};a.eval=function(b,c){c=c||a.window;return c.eval(b)};a.err=function(a){console.log("err:"+a)};a._createRootCanvas_=function(){var b=a._driver_.getRootCanvas();b.id="canvas";b.size(a.window.innerWidth,a.window.innerHeight);Laya.HTMLVER&&(a.document.body.appendChild(b),Laya.CONCHVER||(b.style.position="absolute",b.style.left=b.style.top=0));return b};a.addToBody=function(b){a.document.body.appendChild(b)};a.removeFromBody=function(a){a&&a.parentNode&&a.parentNode.removeChild(a)};a._createWebGLCanvas_=function(){if(Laya.CONCHVER)return a._createRootCanvas_();var b=a.document.createElement("canvas");b.size(a.window.innerWidth,a.window.innerHeight);Laya.HTMLVER&&(a.document.body.appendChild(b),Laya.CONCHVER||(b.style.position="absolute",b.style.left=b.style.top=0,b.style.zIndex=-1E3));return b};a._debugger_=function(){debugger};a.alert=function(a){alert(a)};a._createModle_=function(b,c,e){return a._driver_.createModle(b,c,e)};a.createHttpRequest=function(){return a._driver_.createHttpRequest()};a.setCursor=function(b){a._driver_.cursor(b);a._cursors_.push(b)};a.restoreCursor=function(){0!=a._cursors_.length&&(a._cursors_.pop(),a._driver_.cursor(0<a._cursors_.length?a._cursors_[a._cursors_.length-1]:"default"))};a.hideSystemLoading=function(){Laya.CONCHVER&&(a.window.conchMarket&&a.window.conchMarket.sendMessageToPlatform('{"type":"ge_load_game_end"}',function(){}),conch.showLoadingView(!1))};a.refresh=function(){a.location.reload()};a.window=null;a.document=null;a.location=null;a.navigator=null;a.input=null;a._driver_=null;a._cursors_=[];a.__init$=function(){window.Browser=a};return a}();Laya.__package("iflash.utils");iflash.utils.getDefinitionByName=function(a){a=a.replace("::",".");return LAYABOX.classmap[a]};Laya.__package("iflash.utils");iflash.utils.regClass=function(a,b){LAYABOX.classmap[a]=b};Laya.__package("iflash.method");iflash.method.importJS=function(a,b,c){void 0===c&&(c=!0);LAYABOX.importsJS=LAYABOX.importsJS||[];if(a instanceof Array){var e=a.length;for(c=0;c<a.length;c++)a[c]=Method.formatUrl(a[c]),iflash.method.importJS(a[c],function(){e--;0==e&&b()},!1)}else if(a=Method.formatUrl(a),console.log("import JavaScript:"+a),LAYABOX.importsJS[a])b();else{var g=new XMLHttpRequest;g.onload=function(c){window.eval(g.responseText);LAYABOX.importsJS[a]=!0;b()};g.onerror=function(c){throw"\u4e0b\u8f7djs"+a+"\u5931\u8d25";};g.open("GET",a,!0);g.send()}};Laya.__package("iflash.laya.utils");iflash.laya.utils.regXmlAttr=function(a,b,c,e){void 0===e&&(e=!0);DynamicProperties.reg(a,b,c,e);return 1};LAYABOX.getInterfaceDefinitionByName=function(a){a=a.split(".");for(var b=Laya,c=0;c<a.length;c++)if(b=b[a[c]],!b)return null;return b};Laya.__package("iflash.utils");iflash.utils.escapeMultiByte=function(a){return encodeURIComponent(a).replace("_","%5F").replace(".","%2E")};Laya.__package("iflash.method");iflash.method.bind=function(a,b,c){return null==b?null:b.BIND$(a)};Laya.__package("iflash.utils");iflash.utils.clearTimeout=function(a){SetIntervalTimer.clearInterval(a)};Laya.__package("iflash.method");iflash.method.byteAt=function(a,b){return a._byteAt_(b)};Laya.__package("iflash.method");iflash.method.DIC=function(a){if(!a||a.__DICKEY__||"string"==typeof a||"number"==typeof a)return a;a.toString=LAYABOX.toStringForDic;a.toString();return a};Laya.__package("iflash.method");iflash.method.byteSet=function(a,b,c){a._byteSet_(b,c)};Laya.__package("iflash.method");iflash.method.DICCLEAR=function(a,b){null!=LAYABOX.DICKEYS[b]&&delete LAYABOX.DICKEYS[b]};Laya.__package("iflash.utils");iflash.utils.getTimer=function(){return(Date.now()-Timer.__STARTTIME__)*Timer.__SPEED__};Laya.__package("iflash.utils");iflash.utils.getQualifiedClassName=function(a){if(!a)return null;if("string"==typeof a)return"String";if(a instanceof Array)return"Array";if("function"==typeof a){if(a.__className){var b=a.__className.lastIndexOf(".");return-1!=b?a.__className.substr(0,b)+"::"+a.__className.substr(b+1,a.__className.length):a.__className}return a.name||a.lin}if(a.__interface__)return b=a.__interface__.lastIndexOf("."),-1!=b?a.__interface__.substr(0,b)+"::"+a.__interface__.substr(b+1,a.__interface__.length):a.__interface__;a=a.__className?a.__className:LAYABOX.systemClass[typeof a];b=a.lastIndexOf(".");return-1!=b?a.substr(0,b)+"::"+a.substr(b+1,a.length):a};Laya.__package("iflash.utils");iflash.utils.clearInterval=function(a){SetIntervalTimer.clearInterval(a)};Laya.__package("iflash.utils");iflash.utils.formatString=function(a,b){for(var c=[],e=1,g=arguments.length;e<g;e++)c.push(arguments[e]);for(e=0;e<c.length;++e)a=a.replace(new RegExp("\\{"+e+"\\}","g"),c[e]);return a};Laya.__package("iflash.system");iflash.system.fscommand=function(a,b){};Laya.__package("iflash.net");iflash.net.sendToURL=function(a){};Laya.__package("iflash.method");iflash.method.getNetworkType=function(){var a=-1;Laya.CONCHVER&&(a=window.conchConfig.getNetworkType());return a};Laya.__package("iflash.utils");iflash.utils.setTimeout=function(a,b,c){for(var e=[],g=2,d=arguments.length;g<d;g++)e.push(arguments[g]);return(new SetIntervalTimer(a,b,!1,e)).id};Laya.__package("iflash.utils");iflash.utils.getAliasName=function(a){return""};Laya.__package("iflash.utils");iflash.utils.setInterval=function(a,b,c){for(var e=[],g=2,d=arguments.length;g<d;g++)e.push(arguments[g]);return(new SetIntervalTimer(a,b,!0,e)).id};Laya.__package("iflash.net");iflash.net.registerClassAlias=function(a,b){iflash.net.classDic[a]=b};Laya.__package("iflash.utils");iflash.utils.getQualifiedSuperclassName=function(a){return iflash.utils.getQualifiedClassName(a.__super)};Laya.__package("iflash.method");iflash.method.typeAs=function(a,b){return Laya.__typeof(a,b)?a:null};Laya.__package("iflash.method");iflash.method.xmlLength=function(a){return a?a.lengths():0};Laya.__package("iflash.net");iflash.net.navigateToURL=function(a,b){window.open(a.url||a,b?b:"_blank")};Laya.__package("iflash.utils");iflash.utils.describeType=function(a){for(a=iflash.utils.getQualifiedClassName(a);-1!=a.indexOf(".");)a=a.replace(".","");a="dst"+a.replace("::","_");return new XML(iflash.utils.getDefinitionByName("DescribeTypeClass")[a]())};Laya.__package("iflash.net");iflash.net.getClassByAlias=function(a){return iflash.net.classDic[a]};Laya.__package("iflash.method");iflash.method.DICKEY=function(a){return"string"!=typeof a||0!=a.indexOf("\x26layadic_")?a:LAYABOX.DICKEYS[a.toString()]};this.__namespace_mx_internal="http://www.adobe.com/2006/flex/mx/internal";
var ByteArray=function(){function a(){this._position_=this._objectEncoding_=this._length=0;this._allocated_=8;this._data_=null;this._littleEndian_=!1;this._traitsTable=this._objTable=this._strTable=this._byteView_=null;this.___resizeBuffer(this._allocated_)}__class(a,"iflash.utils.ByteArray",!1);var b=a.prototype;b.clear=function(){this._strTable=[];this._objTable=[];this._traitsTable=[];this.length=this._position_=0};b.ensureWrite=function(c){this._length<c&&(this.length=c)};b.readBoolean=function(){return 0!=this.readByte()};b.readByte=function(){return this._data_.getInt8(this._position_++)};b.readBytes=function(c,e,a){void 0===e&&(e=0);void 0===a&&(a=0);if(0>e||0>a)throw"Read error - Out of bounds";0==a&&(a=this._length-this._position_);c.ensureWrite(e+a);c._byteView_.set(this._byteView_.subarray(this._position_,this._position_+a),e);c.position=e;this._position_+=a;c.position+a>c.length&&(c.length=c.position+a)};b.readDouble=function(){var c=this._data_.getFloat64(this._position_,this._littleEndian_);this._position_+=8;return c};b.readFloat=function(){var c=this._data_.getFloat32(this._position_,this._littleEndian_);this._position_+=4;return c};b.readFullBytes=function(c,e,a){this.ensureWrite(a);for(var b=e;b<e+a;b++)this._data_.setInt8(this._position_++,c.get(b))};b.readInt=function(){var c=this._data_.getInt32(this._position_,this._littleEndian_);this._position_+=4;return c};b.readShort=function(){var c=this._data_.getInt16(this._position_,this._littleEndian_);this._position_+=2;return c};b.readUnsignedByte=function(){return this._data_.getUint8(this._position_++)};b.readUnsignedInt=function(){var c=this._data_.getUint32(this._position_,this._littleEndian_);this._position_+=4;return int(c)};b.readUnsignedShort=function(){var c=this._data_.getUint16(this._position_,this._littleEndian_);this._position_+=2;return c};b.readUTF=function(){return this.readUTFBytes(this.readUnsignedShort())};b.readUnicode=function(c){var e="";c=this._position_+c;for(var a=0,b=0;this._position_<c;)b=this._byteView_[this._position_++],a=this._byteView_[this._position_++],e+=String.fromCharCode(a<<8|b);return e};b.readMultiByte=function(c,e){return"UNICODE"==e||"unicode"==e?this.readUnicode(c):this.readUTFBytes(c)};b.readUTFBytes=function(c){var e="";c=this._position_+c;for(var a=0,b=0,f=0;this._position_<c;)a=this._data_.getUint8(this._position_++),128>a?0!=a&&(e+=String.fromCharCode(a)):224>a?e+=String.fromCharCode((a&63)<<6|this._data_.getUint8(this._position_++)&127):240>a?(b=this._data_.getUint8(this._position_++),e+=String.fromCharCode((a&31)<<12|(b&127)<<6|this._data_.getUint8(this._position_++)&127)):(b=this._data_.getUint8(this._position_++),f=this._data_.getUint8(this._position_++),e+=String.fromCharCode((a&15)<<18|(b&127)<<12|f<<6&127|this._data_.getUint8(this._position_++)&127));return e};b.toString=function(){var c=this._position_;this._position_=0;var e=this.readUTFBytes(this.length);this._position_=c;return e};b.writeBoolean=function(c){this.writeByte(c?1:0)};b.writeByte=function(c){this.ensureWrite(this._position_+1);this._data_.setInt8(this._position_,c);this._position_+=1};b.writeBytes=function(c,e,a){void 0===e&&(e=0);void 0===a&&(a=0);if(0>e||0>a)throw"writeBytes error - Out of bounds";0==a&&(a=c.length-e);this.ensureWrite(this._position_+a);this._byteView_.set(c._byteView_.subarray(e,e+a),this._position_);this._position_+=a};b.writeArrayBuffer=function(c,e,a){void 0===e&&(e=0);void 0===a&&(a=0);if(0>e||0>a)throw"writeArrayBuffer error - Out of bounds";0==a&&(a=c.byteLength-e);this.ensureWrite(this._position_+a);c=new Uint8Array(c);this._byteView_.set(c.subarray(e,e+a),this._position_);this._position_+=a};b.writeDouble=function(c){this.ensureWrite(this._position_+8);this._data_.setFloat64(this._position_,c,this._littleEndian_);this._position_+=8};b.writeFloat=function(c){this.ensureWrite(this._position_+4);this._data_.setFloat32(this._position_,c,this._littleEndian_);this._position_+=4};b.writeInt=function(c){this.ensureWrite(this._position_+4);this._data_.setInt32(this._position_,c,this._littleEndian_);this._position_+=4};b.writeShort=function(c){this.ensureWrite(this._position_+2);this._data_.setInt16(this._position_,c,this._littleEndian_);this._position_+=2};b.writeUnsignedInt=function(c){this.ensureWrite(this._position_+4);this._data_.setUint32(this._position_,c,this._littleEndian_);this._position_+=4};b.writeUnsignedShort=function(c){this.ensureWrite(this._position_+2);this._data_.setUint16(this._position_,c,this._littleEndian_);this._position_+=2};b.writeUTF=function(c){c+="";this.writeUnsignedShort(this._getUTFBytesCount(c));this.writeUTFBytes(c)};b.writeUnicode=function(c){c+="";this.ensureWrite(this._position_+2*c.length);for(var e=0,a=0,b=c.length;a<b;a++)e=c.charCodeAt(a),this._byteView_[this._position_++]=e&255,this._byteView_[this._position_++]=e>>8};b.writeMultiByte=function(c,e){c+="";if("UNICODE"==e||"unicode"==e)return this.writeUnicode(c);this.writeUTFBytes(c)};b.writeUTFBytes=function(c){c+="";this.ensureWrite(this._position_+4*c.length);for(var e=0,a=c.length;e<a;e++){var b=c.charCodeAt(e);127>=b?this.writeByte(b):(2047>=b?this.writeByte(192|b>>6):(65535>=b?this.writeByte(224|b>>12):(this.writeByte(240|b>>18),this.writeByte(128|b>>12&63)),this.writeByte(128|b>>6&63)),this.writeByte(128|b&63))}this.length=this._position_};b.__fromBytes=function(c){this._byteView_=new Uint8Array(c.getData());this._allocated_=this.length=this._byteView_.length};b.__get=function(c){return this._data_.getUint8(c)};b._getUTFBytesCount=function(c){var e=0;c+="";for(var a=0,b=c.length;a<b;a++)var f=c.charCodeAt(a),e=127>=f?e+1:2047>=f?e+2:65535>=f?e+3:e+4;return e};b._byteAt_=function(c){return this._byteView_[c]};b._byteSet_=function(c,e){this.ensureWrite(c+1);this._byteView_[c]=e};b.uncompress=function(c){this._byteView_=(new Zlib.Inflate(this._byteView_)).decompress();this._data_=new DataView(this._byteView_.buffer);this._allocated_=this._length=this._byteView_.byteLength;this._position_=0};b.compress=function(c){this._byteView_=(new Zlib.Deflate(this._byteView_)).compress();this._data_=new DataView(this._byteView_.buffer);this._position_=this._allocated_=this._length=this._byteView_.byteLength};b.___resizeBuffer=function(c){try{var e=new Uint8Array(c);null!=this._byteView_&&(this._byteView_.length<=c?e.set(this._byteView_):e.set(this._byteView_.subarray(0,c)));this._byteView_=e;this._data_=new DataView(e.buffer)}catch(a){throw"___resizeBuffer err:"+c;}};b.__getBuffer=function(){this._data_.buffer.byteLength=this.length;return this._data_.buffer};b.__set=function(c,e){this._data_.setUint8(c,e)};b.setUint8Array=function(c){this._byteView_=c;this._data_=new DataView(c.buffer);this._length=c.byteLength;this._position_=0};b.readObject=function(){this._strTable=[];this._objTable=[];this._traitsTable=[];return this.readObject2()};b.readObject2=function(){var c=this.readByte();return this.readObjectValue(c)};b.readObjectValue=function(c){var e;switch(c){case 1:break;case 6:e=this.__readString();break;case 4:e=this.readInterger();break;case 2:e=!1;break;case 3:e=!0;break;case 10:e=this.readScriptObject();break;case 9:e=this.readArray();break;case 5:e=this.readDouble();break;case 12:e=this.readByteArray();break;default:console.log("Unknown object type tag!!!"+c)}return e};b.readByteArray=function(){var c=this.readUInt29();if(0==(c&1))return this.getObjRef(c>>1);var c=c>>1,e=new a;this._objTable.push(e);this.readBytes(e,0,c);return e};b.readInterger=function(){var c=this.readUInt29();return int(c<<3>>3)};b.getStrRef=function(c){return this._strTable[c]};b.getObjRef=function(c){return this._objTable[c]};b.__readString=function(){var c=this.readUInt29();if(0==(c&1))return this.getStrRef(c>>1);c>>=1;if(0==c)return"";c=this.readUTFBytes(c);this._strTable.push(c);return c};b.readTraits=function(c){if(1==(c&3))return c=this.getTraitReference(c>>2),c.propoties?c:{obj:{}};var e=4==(c&4),a=8==(c&8),b=c>>4,f=this.__readString();c={};c.className=f;c.propoties=[];c.dynamic=a;c.externalizable=e;if(0<b)for(e=0;e<b;e++)a=this.__readString(),c.propoties.push(a);this._traitsTable.push(c);return c};b.readScriptObject=function(){var c=this.readUInt29();if(0==(c&1))return this.getObjRef(c>>1);var c=this.readTraits(c),e=c.className,a=c.propoties;e=e&&""!=e?(e=iflash.net.getClassByAlias(e))?new e:{}:{};this._objTable.push(e);if(a)for(var b=0;b<a.length;b++)e[a[b]]=this.readObject2();if(c.dynamic)for(;;){c=this.__readString();if(null==c||0==c.length)break;e[c]=this.readObject2()}return e};b.readArray=function(){var c=this.readUInt29();if(0==(c&1))return this.getObjRef(c>>1);for(var e=null,c=c>>1,a;;){a=this.__readString();if(null==a||0==a.length)break;null==e&&(e={},this._objTable.push(e));e[a]=this.readObject2()}if(null==e)for(e=[],this._objTable.push(e),a=a=0;a<c;a++)e.push(this.readObject2());else for(a=0;a<c;a++)e[a.toString()]=this.readObject2();return e};b.readUInt29=function(){var c=0,e=this.readByte()&255;if(128>e)return e;c=(e&127)<<7;e=this.readByte()&255;if(128>e)return c|e;c=(c|e&127)<<7;e=this.readByte()&255;if(128>e)return c|e;c=(c|e&127)<<8;e=this.readByte()&255;return c|e};b.writeObject=function(c){this._strTable=[];this._objTable=[];this._traitsTable=[];this.writeObject2(c)};b.writeObject2=function(c){if(null==c)this.writeAMFNull();else{var e=typeof c;"string"==e?this.writeAMFString(c):"boolean"==e?this.writeAMFBoolean(c):"number"==e?-1!=String(c).indexOf(".")?this.writeAMFDouble(c):this.writeAMFInt(c):"object"==e&&(c instanceof Array?this.writeArray(c):c instanceof iflash.utils.ByteArray?this.writeAMFByteArray(c):this.writeCustomObject(c))}};b.writeAMFNull=function(){this.writeByte(1)};b.writeAMFString=function(c){this.writeByte(6);this.writeStringWithoutType(c)};b.writeStringWithoutType=function(c){if(0==c.length)this.writeUInt29(1);else{var e=this._strTable.indexOf(c);0<=e?this.writeUInt29(e<<1):(e=this._getUTFBytesCount(c),this.writeUInt29(e<<1|1),this.writeUTFBytes(c),this._strTable.push(c))}};b.writeAMFInt=function(c){c>=a.INT28_MIN_VALUE&&268435455>=c?(c&=536870911,this.writeByte(4),this.writeUInt29(c)):this.writeAMFDouble(c)};b.writeAMFDouble=function(c){this.writeByte(5);this.writeDouble(c)};b.writeAMFBoolean=function(c){c?this.writeByte(3):this.writeByte(2)};b.writeCustomObject=function(c){this.writeByte(10);var e=this._objTable.indexOf(c);if(-1!=e)this.writeUInt29(e<<1);else{this._objTable.push(c);e={};e.className=this.getAliasByObj(c);e.dynamic=!1;e.externalizable=!1;e.properties=[];for(var b in c)"function"!=typeof c[b]&&(e.properties.push(b),e.properties.sort());b=a.getTraitsInfoRef(this._traitsTable,e);var d=e.properties.length,f=0;if(0<=b)this.writeUInt29(b<<2|1);else for(this._traitsTable.push(e),this.writeUInt29(3|(e.externalizable?4:0)|(e.dynamic?8:0)|d<<4),this.writeStringWithoutType(e.className),f=0;f<d;f++)this.writeStringWithoutType(e.properties[f]);for(f=0;f<d;f++)this.writeObject2(c[e.properties[f]])}};b.getAliasByObj=function(c){c=iflash.utils.getQualifiedClassName(c);if(null==c||""==c)return"";c=iflash.utils.getDefinitionByName(c);if(null==c)return"";for(var e in iflash.net.classDic)if(iflash.net.classDic[e]==c)return e;return""};b.writeArray=function(c){this.writeByte(9);var e=c.length;if(-1<this._objTable.indexOf(c))this.writeUInt29(e<<1);else{this.writeUInt29(e<<1|1);this.writeStringWithoutType("");for(var a=0;a<e;a++)this.writeObject2(c[a]);this._objTable.push(c)}};b.writeAMFByteArray=function(c){this.writeByte(12);var e=this._objTable.indexOf(c);0<=e?this.writeUInt29(e<<1):(e=c.length,this.writeUInt29(e<<1|1),this.writeBytes(c,0,e))};b.writeMapAsECMAArray=function(c){this.writeByte(9);this.writeUInt29(1);var e=0,a;for(a in c)e++,this.writeStringWithoutType(a),this.writeObject2(c[a]);this.writeStringWithoutType("")};b.writeUInt29=function(c){128>c?this.writeByte(c):16384>c?(this.writeByte(c>>7&127|128),this.writeByte(c&127)):2097152>c?(this.writeByte(c>>14&127|128),this.writeByte(c>>7&127|128),this.writeByte(c&127)):1073741824>c?(this.writeByte(c>>22&127|128),this.writeByte(c>>15&127|128),this.writeByte(c>>8&127|128),this.writeByte(c&255)):console.log("Integer out of range: "+c)};b.getTraitReference=function(c){return this._traitsTable[c]};__getset(0,b,"bytesAvailable",function(){return this.length-this._position_});__getset(0,b,"length",function(){return this._length},function(c){this._allocated_<c?this.___resizeBuffer(this._allocated_=Math.floor(Math.max(c,2*this._allocated_))):this._allocated_>c&&this.___resizeBuffer(this._allocated_=c);this._length=c});__getset(0,b,"endian",function(){return this._littleEndian_?"littleEndian":"bigEndian"},function(c){this._littleEndian_="littleEndian"==c});__getset(0,b,"position",function(){return this._position_},function(c){c<this._length?this._position_=0>c?0:c:this.length=this._position_=c});a.__ofBuffer=function(c){var e=new a;e.length=e.allocated=c.byteLength;e.data=new DataView(c);e.byteView=new Uint8Array(c);return e};a.getTraitsInfoRef=function(c,e){for(var b=0,d=c.length,b=0;b<d;b++)if(a.equalsTraitsInfo(e,c[b]))return b;return-1};a.equalsTraitsInfo=function(c,e){if(c==e)return!0;if(!c.className===e.className||c.properties.length!=e.properties.length)return!1;var a=c.properties.length;c.properties.sort();e.properties.sort();for(var b=0;b<a;b++)if(c.properties[b]!=e.properties[b])return!1;return!0};a.BIG_ENDIAN="bigEndian";a.LITTLE_ENDIAN="littleEndian";a.UNDEFINED_TYPE=0;a.NULL_TYPE=1;a.FALSE_TYPE=2;a.TRUE_TYPE=3;a.INTEGER_TYPE=4;a.DOUBLE_TYPE=5;a.STRING_TYPE=6;a.XML_TYPE=7;a.DATE_TYPE=8;a.ARRAY_TYPE=9;a.OBJECT_TYPE=10;a.AVMPLUSXML_TYPE=11;a.BYTEARRAY_TYPE=12;a.EMPTY_STRING="";a.UINT29_MASK=536870911;a.INT28_MAX_VALUE=268435455;a.INT28_MIN_VALUE=-268435456;return a}(),int=function(){function a(c){this.pattern=/^.?[0-9]*(\.|E)?[0-9]*$/;void 0===c&&(c=0);return 1==c?1:this.pattern.test(c)?c?a.safe_int(Laya.__parseInt(c)):0:0}__class(a,"int",!1);var b=a.prototype;b.toString=function(c){void 0===c&&(c=10);return Number(this).toString(c)};b.valueOf=function(){return this};b.toExponential=function(c){void 0===c&&(c=0);return Number(this).toExponential(c)};b.toPrecision=function(c){void 0===c&&(c=0);return Number(this).toPrecision(c)};b.toFixed=function(c){void 0===c&&(c=0);return Number(this).toFixed(c)};a.safe_int=function(c){var e=c&65535;return(c>>16)+(e>>16)<<16|e&65535};a.MIN_VALUE=-2147483648;a.MAX_VALUE=2147483647;a.length=1;return a}(),EventDispatcher=function(){function a(c){this._eventListener_=null;this._type_=0;this.hidden=2;this._repaint_=0;this._modle_=null;this._private_={};this._id_=++a.__LASTID__;this._deepIndex=0}__class(a,"iflash.events.EventDispatcher",!0);var b=a.prototype;Laya.imps(b,{"iflash.events.IEventDispatcher":!0,"iflash.laya.system.IObject":!0});b.checkType=function(c){return 0!=(this._type_&c)};b.addType=function(c){this._type_|=c};b.removeType=function(c){this._type_&=~c};b.lyAddEventListener=function(c,e,b,d,f){void 0===b&&(b=!1);void 0===d&&(d=0);void 0===f&&(f=!1);if(null==e)return null;"added"==c&&a._useCountADDED++;if(this!=Laya.window&&"enterFrame"==c){var h=Laya.window.lyAddEventListener(c,e,b,d,f);h._target_=this;return h}e=Method.jsToEventFun(e);null==this._eventListener_&&(this._eventListener_=[]);h=this._eventListener_[c];if(!h)h=this._eventListener_[c]=[];else if(0<h.length){c=0;for(var k=h.length;c<k;c++)if(h[c]&&h[c].listener==e)return h[c]}e=EventListener.__create__(e,b,d,f,this);h.push(e);return e};b.addEventListener=function(c,e,a,b,f){void 0===a&&(a=!1);void 0===b&&(b=0);void 0===f&&(f=!1);this.lyAddEventListener(c,e,a,b,f)};b.dispatchEvent=function(c){if(c.bubbles){c._lytarget=this;for(var e=this,a=!1;e;)e.lyDispatchEvent(c)&&(a=!0),e=e.parent;return a}return this.lyDispatchEvent2(c)};b.addOneEventListener=function(c,e){null==this._eventListener_&&(this._eventListener_=[]);var a=this._eventListener_[c];a||(a=this._eventListener_[c]=[]);a.push(e)};b.lyDispatchEvent=function(c){if(null==this._eventListener_)return!1;var e;if("string"==typeof c){e=this._eventListener_[c];if(!e)return!1;c=new Event(c)}else if(e=this._eventListener_[c.type],!e)return!1;null==e[-1]&&(e[-1]=0);e[-1]++;var a=e.length+0,b=!1;c._lytarget=c._lytarget?c._lytarget:this;c._currentTarget_=this;for(var f=e.concat(),h=0;h<a;h++)f[h]&&0!=f[h].run(this,c)||(b=!0);if(b&&1==e[-1]){h=b=0;for(a=e.length;h<a;h++)f=e[h],null==f||f._deleted_||(e[b]=e[h],b++);e.length=b;0==e.length&&(this._eventListener_[c.type]=null)}e[-1]--;return!0};b.lyDispatchEvent2=function(c){if(null==this._eventListener_)return!1;var e;if("string"==typeof c){e=this._eventListener_[c];if(!e)return!1;c=new Event(c)}else if(e=this._eventListener_[c.type],!e)return!1;null==e[-1]&&(e[-1]=0);e[-1]++;var a=e.length+0,b=!1;c._lytarget=this;c._currentTarget_=this;for(var f=e.concat(),h=0;h<a;h++)if(8==c._type_){c._type_=0;break}else f[h]&&0!=f[h].run(this,c)||(b=!0);if(b&&1==e[-1]){h=b=0;for(a=e.length;h<a;h++)f=e[h],null==f||f._deleted_||(e[b]=e[h],b++);e.length=b;0==e.length&&(this._eventListener_[c.type]=null)}e[-1]--;return!0};b.hasEventListener=function(c){var e=this._eventListener_&&null!=this._eventListener_[c]&&0<this._eventListener_[c].length;if(e){c=this._eventListener_[c];for(var a=c.length,b=0;b<a&&!(e=null!=c[b]);b++);e||(c.length=0)}return e};b.removeEventListener=function(c,e,b){void 0===b&&(b=!1);if("enterFrame"==c&&this!=Laya.window)Laya.window.removeEventListener(c,e,b);else if(this._eventListener_)if(b=this._eventListener_[c])for(c=b.length-1;-1<c;c--){var d=b[c];d&&d.listener==e&&(d.destroy(),b.splice(c,1))}else"added"==c&&a._useCountADDED--};b.willTrigger=function(c){return!1};b.evalEvent=function(c){var e=this._eventListener_?this._eventListener_[c.type]:null,a=null==e?0:e.length;if(a){for(var e=e.concat(),b=0;b<a;++b){var f=e[b];if(f&&(c._currentTarget_=this,f.run(this,c),c.stopsImmediatePropagation))return!0}return c.stopsPropagation}return!1};b._removeEvents_=function(){this._eventListener_=null};__getset(0,b,"deleted",function(){return 0!=(this._type_&1)},function(c){0==(this._type_&1)&&(this._type_|=1,this._eventListener_=null)});__getset(1,a,"_isOpenTypeAdded",function(){return 0!=a._useCountADDED});a._useCountADDED=0;a.TYPE_DELETED=1;a.document=null;a.window=null;a.__NULLARRAY__=[];a.__LASTID__=0;return a}(),Event=function(){function a(c,e,a,b){this._currentTarget_=this._lytarget=this.type=null;this._type_=0;this._lyData=null;void 0===e&&(e=!1);void 0===a&&(a=!1);this._type_=0;this.bubbles=e;this.type=c;this.cancelable=a;!this._lyData&&(this._lyData=b)}__class(a,"iflash.events.Event",!1);var b=a.prototype;b._lysetTarget=function(c){this._lytarget=c};b.clone=function(){return new a(this.type,this.bubbles,this.cancelable,this._lyData)};b.stopPropagation=function(){this.stopsPropagation=this.returnValue=!0};b.stopImmediatePropagation=function(){this.stopsImmediatePropagation=!0};b.formatToString=function(c,e){for(var a=[],b=1,f=arguments.length;b<f;b++)a.push(arguments[b]);return null};b.isDefaultPrevented=function(){return!1};b.preventDefault=function(){};b.toString=function(){return"event:"+this._type_};b.destory=function(){this._currentTarget_=this._lytarget=null};b.toMouseEvent=function(){null==a.__helpMouseEvt__&&(a.__helpMouseEvt__=new MouseEvent(""));return a.__helpMouseEvt__};b.dispatch=function(c){if(c&&c.length){this.resetStops();var e=this.bubbles?c.length:1,a=c.length-1;this._lysetTarget(c[a]);this.dispatchTargetsEvt(this.toMouseEvent(),c,e,a);if(this instanceof iflash.events.TouchEvent)if("gesture"!=Multitouch.inputMode)this.dispatchTargetsEvt(this,c,e,a);else{var b=TouchInfo.dealGestrueHandler(this);b&&this.dispatchTargetsEvt(b,c,e,a)}}};b.dispatchTargetsEvt=function(c,e,a,b){for(var f=0;f<a&&!c.stopsImmediatePropagation&&(e[b-f].evalEvent(c),!c.stopsPropagation);f++);};b.resetStops=function(){this.stopsPropagation=this.stopsImmediatePropagation=!1};b.checkType=function(c){return 0!=(this._type_&c)};b.addType=function(c){this._type_|=c};b.removeType=function(c){this._type_&=~c};__getset(0,b,"eventPhase",function(){return 0});__getset(0,b,"stopsPropagation",function(){return 0!=(this._type_&16)},function(c){this._type_=c?this._type_|16:this._type_&-17});__getset(0,b,"returnValue",function(){return this.checkType(4)},function(c){c?this.addType(4):this.removeType(4)});__getset(0,b,"stopsImmediatePropagation",function(){return 0!=(this._type_&8)},function(c){this._type_=c?this._type_|8:this._type_&-9});__getset(0,b,"currentTarget",function(){return this._currentTarget_});__getset(0,b,"target",function(){return this._lytarget});__getset(0,b,"bubbles",function(){return this.checkType(1)},function(c){c?this.addType(1):this.removeType(1)});__getset(0,b,"cancelable",function(){return this.checkType(2)},function(c){c?this.addType(2):this.removeType(2)});__getset(0,b,"lyData",function(){return this._lyData},function(c){this._lyData=c});a.copyFromByObj=function(c,e,a){if(a)for(var b in a)c[b]=e[a[b]]};a.ACTIVATE="activate";a.ADDED="added";a.ADDED_TO_STAGE="addedToStage";a.CANCEL="cancel";a.CHANGE="change";a.DESTROY="destroy";a.CLEAR="clear";a.CLOSE="close";a.COMPLETE="complete";a.CONNECT="connect";a.CONTEXT3D_CREATE="context3DCreate";a.COPY="copy";a.CUT="cut";a.DEACTIVATE="deactivate";a.ENTER_FRAME="enterFrame";a.EXIT_FRAME="exitFrame";a.FRAME_CONSTRUCTED="frameConstructed";a.FULLSCREEN="fullScreen";a.ID3="id3";a.INIT="init";a.MOUSE_LEAVE="mouseLeave";a.OPEN="open";a.LOADED="loaded";a.PASTE="paste";a.ONRESHOW="onreshow";a.REMOVED="removed";a.REMOVED_FROM_STAGE="removedFromStage";a.RENDER="render";a.RESIZE="resize";a.REPOS="repos";a.SCROLL="scroll";a.SCROLLSIZE="scrollsize";a.SELECT="select";a.SELECT_ALL="selectAll";a.SOUND_COMPLETE="soundComplete";a.TAB_CHILDREN_CHANGE="tabChildrenChange";a.TAB_ENABLED_CHANGE="tabEnabledChange";a.TAB_INDEX_CHANGE="tabIndexChange";a.TEXT_INTERACTION_MODE_CHANGE="textInteractionModeChange";a.UNLOAD="unload";a.ONPARENT="onparent";a.TODOCUMENT="todocument";a.ERROR="error";a.MESSAGE="message";a.TYPE_BUBBLES=1;a.TYPE_CANCELABLE=2;a.TYPE_RETURNVALUE=4;a.TYPE_STOPSIMMEDIATEPROPAGATION=8;a.TYPE_STOPSPROPAGATION=16;a.__helpMouseEvt__=null;__static(a,["INPUT_EVENT_TYPE_MAP",function(){return this.INPUT_EVENT_TYPE_MAP={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"}}]);return a}(),EventListener=function(){function a(c,e,a,b,f){this.listener=null;this.useCapture=!1;this.priority=0;this.useWeakReference=!1;this._ower_=null;this._deleted_=!1;this._target_=this.data=null;this.reset(c,e,a,b,f)}__class(a,"iflash.events.EventListener",!0);var b=a.prototype;b.setOwer=function(c){this._ower_=c};b.run=function(c,e){if(this._ower_&&this._ower_.deleted||null==this.listener)return this.destroy(),!1;var a=!0;this._target_?(e._lytarget=this._target_,e._currentTarget_=this._target_,a=this.callListener(e),e._lytarget=c):a=this.callListener(e);a&&this.destroy();return!a};b.callListener=function(c){var e=!0;return e=0==this.listener.call(this._ower_,c)};b.reset=function(c,e,a,b,f){this.listener=c;this.useCapture=e;this.priority=a;this.useWeakReference=b;this._ower_=f;this._deleted_=!1;this.data=null};b.destroy=function(){this._deleted_||(this._target_=this.listener=this._ower_=null,this._deleted_=!0,this.data=null)};a.__create__=function(c,e,b,d,f){return new a(c,e,b,d,f)};return a}(),EventManager=function(){function a(){this._curid_=0;this._mouseOverNodes_=[];this._currentSysEvent=null;this._keyEvents_=[];this._delayTime_=100;this.DT_RD=50;this._chainTop=null;this._clientY=this._clientX=0;this._curChainTop=this._mouseDownTarget=null;this._isMoveUpdated=this.enableTouch=!1;this.dealAccepInput=this.dealAcceptSysMouseInput;this._bubbleChain=[]}__class(a,"iflash.events.EventManager",!0);var b=a.prototype;b.acceptSystemKeyEvent=function(c){this._keyEvents_.push(c)};b._dispatchKeyEvent_=function(c){switch(c.type){case "keyDown":Laya.document.onkeydown&&Laya.document.onkeydown(c);break;case "keyUp":Laya.document.onkeyup&&Laya.document.onkeyup(c)}c.currentTarget&&c.currentTarget.lyDispatchEvent(c);c._currentTarget_=Laya.document.activeElement;Laya.document.lyDispatchEvent(c)};b.dispatchSystemEvent=function(c){c=0;this._currentSysEvent&&this.dealAccepInput();if(this._keyEvents_.length){var e=this._keyEvents_,b=e.length;this._keyEvents_=[];for(c=0;c<b;c++){var d=new iflash.events.KeyboardEvent(e[c].type);d.changeEvent(e[c]);a.stage.lyDispatchEvent(d)}}};b.dealAcceptSysMouseInput=function(){a.clientToStage(this._currentSysEvent.clientX,this._currentSysEvent.clientY);if("mousemove"==this._currentSysEvent.type&&(a._mouseEvent=MouseEvent.copyFromSysEvent(this._currentSysEvent),0==a._mouseEvent.button)){this._curChainTop=a.stage._hitTest_(a._stageX,a._stageY);var c=[];if(this._chainTop!=this._curChainTop){for(var c=this.getTargetBubbleChain(this._curChainTop),e=-1,b=c.length,d=0;d<b&&!(this._bubbleChain.length<=d||c[d]!=this._bubbleChain[d]);d++)e=d;d=a._mouseEvent;d.type="mouseOut";d.bubbles=!0;d.relatedObject=this._curChainTop;d.dispatch(this._bubbleChain);b=[];for(d=this._bubbleChain.length-1;d>e;d--){var f=a._mouseEvent;f.type="rollOut";f.bubbles=!1;f.relatedObject=this._curChainTop;b.length=0;b.push(this._bubbleChain[d]);f.dispatch(b)}for(d=c.length-1;d>e;d--)f=a._mouseEvent,f.type="rollOver",f.bubbles=!1,f.relatedObject=this._chainTop,b.length=0,b.push(c[d]),f.dispatch(b);e=a._mouseEvent;e.type="mouseOver";e.bubbles=!0;e.relatedObject=this._chainTop;e.dispatch(c);this._chainTop=this._curChainTop;this._bubbleChain=c}if(a._stageX!=this._clientX||a._stageY!=this._clientY)this._clientX=a._stageX,this._clientY=a._stageY,c=a._mouseEvent,c.bubbles=!0,c.relatedObject=this._chainTop,c.type="mouseMove",this._bubbleChain&&c.dispatch(this._bubbleChain);a._mouseEvent&&a._mouseEvent.destory();this._currentSysEvent=null}};b.dealAcceptTouchInput=function(){0!=this._currentSysEvent.touches.length?"touchmove"==this._currentSysEvent.type&&this._isMoveUpdated&&(this._isMoveUpdated=!1,TouchEvent.touchSysEvent(this._currentSysEvent,__bind(this,this.touchMoveInterval))):this._currentSysEvent=null};b.touchMoveInterval=function(c){var e=TouchInfo.getTouchInfo(c);e.curChainTop=a.stage._hitTest_(c.stageX,c.stageY);if(e.chainTop!=e.curChainTop){for(var b=this.getTargetBubbleChain(e.curChainTop),d=-1,f=b.length,h=0;h<f&&!(e.bubbleChain.length<=h||b[h]!=e.bubbleChain[h]);h++)d=h;c.type="touchOut";c.bubbles=!0;c.relatedObject=e.curChainTop;c.dispatch(e.bubbleChain);f=[];for(h=e.bubbleChain.length-1;h>d;h--)c.type="touchRollOut",c.bubbles=!1,c.relatedObject=e.curChainTop,f.length=0,f.push(e.bubbleChain[h]),c.dispatch(f);for(h=b.length-1;h>d;h--)c.type="touchRollOver",c.bubbles=!1,c.relatedObject=e.chainTop,f.length=0,f.push(b[h]),c.dispatch(f);c.type="touchOver";c.bubbles=!0;c.relatedObject=e.chainTop;c.dispatch(b);e.chainTop=e.curChainTop;e.bubbleChain=b}if(c.stageX!=e.stageX||c.stageY!=e.stageY)c.bubbles=!0,c.type="touchMove",c.relatedObject=e.chainTop,e.bubbleChain&&c.dispatch(e.bubbleChain),e.touchMove(c);c&&c.destory()};b.getTargetBubbleChain=function(c){for(var e=[];c;)e.unshift(c),c=c.parent;return e};b.dispatchTargetEvent=function(c,e){e.dispatch(this.getTargetBubbleChain(c))};b.acceptSystemMouseEvent=function(c){this._currentSysEvent=c;TouchEvent.isTypeMove(this._currentSysEvent.type)?this._isMoveUpdated=!0:this.enableTouch?TouchEvent.touchSysEvent(c,__bind(this,this.touchMomentHandler)):(a._mouseEvent=MouseEvent.copyFromSysEvent(this._currentSysEvent),0==a._mouseEvent.button&&(this._curChainTop=a.stage._hitTest_(a._stageX,a._stageY),this.dispatchTargetEvent(this._curChainTop,a._mouseEvent),"mousedown"==this._currentSysEvent.type?this._mouseDownTarget=this._curChainTop:"mouseup"==this._currentSysEvent.type&&(this._curChainTop==this._mouseDownTarget&&(a._mouseEvent.bubbles=!0,a._mouseEvent.type="click",this.dispatchTargetEvent(this._curChainTop,a._mouseEvent)),this._mouseDownTarget=null),a._mouseEvent&&a._mouseEvent.destory()))};b.touchMomentHandler=function(c){var e=TouchInfo.getTouchInfo(c);e.curChainTop=a.stage._hitTest_(a._stageX,a._stageY);e.stageX=a._stageX;e.stageY=a._stageY;"touchBegin"==c.type?(e.touchBegin(c),this.dispatchTargetEvent(e.curChainTop,c)):"touchEnd"==c.type&&(e.touchEnd(c),this.dispatchTargetEvent(e.curChainTop,c),e.curChainTop==e.touchDownTarget&&(c.type="touchTap",this.dispatchTargetEvent(e.curChainTop,c)),e.destory());c&&c.destory()};a.clientToStage=function(c,e){if(Laya.window.mouseX!=c||Laya.window.mouseY!=e){var b=c;0!=Laya.document.adapter.screenRotate&&(c=e,e=Laya.window.innerHeight-b);a._stageX=(c-Laya.document.body._left_)/Laya.window.scale.x;a._stageY=(e-Laya.document.body._top_)/Laya.window.scale.y;Laya.document.mouseX=a._stageX;Laya.document.mouseY=a._stageY;Laya.window.mouseX=c;Laya.window.mouseY=e}};a.mgr=new a;a.stage=null;a._stageX=0;a._stageY=0;a._mouseEvent=null;__static(a,["HELPER_POINT",function(){return this.HELPER_POINT=new Point}]);return a}(),EventPhase=function(){function a(){}__class(a,"iflash.events.EventPhase",!0);a.AT_TARGET=2;a.BUBBLING_PHASE=3;a.CAPTURING_PHASE=1;return a}(),GesturePhase=function(){function a(){}__class(a,"iflash.events.GesturePhase",!0);a.ALL="all";a.BEGIN="begin";a.END="end";a.UPDATE="update";__static(a,["GESTURE_PHASE_MAP_TOUCH",function(){return this.GESTURE_PHASE_MAP_TOUCH={touchBegin:"begin",touchEnd:"end",touchMove:"update",touchOut:"all",touchOver:"all",touchRollOut:"all",touchRollOver:"all",touchTap:"end"}}]);return a}(),ThrottleType=function(){function a(){}__class(a,"iflash.events.ThrottleType",!0);a.PAUSE="pause";a.RESUME="resume";a.THROTTLE="throttle";return a}(),Touch=function(){function a(c){this._id_=0;this._previousGlobalY_=this._previousGlobalX_=this._globalY_=this._globalX_=NaN;this._tapCount_=0;this._target_=this._phase_=null;this._height_=this._width_=this._pressure_=this._timestamp_=NaN;this.nativeEvent=this.touchType=this._bubbleChain_=null;this._id_=c;this._tapCount_=0;this._phase_="hover";this._pressure_=this._width_=this._height_=1;this._bubbleChain_=[]}__class(a,"iflash.events.Touch",!0);var b=a.prototype;b.getLocation=function(c,e){a.SHELPER_POINT.setTo(this._globalX_,this._globalY_);c.globalToLocal(a.SHELPER_POINT,e);return e};b.getPreviousLocation=function(c,e){a.SHELPER_POINT.setTo(this._previousGlobalX_,this._previousGlobalY_);return c.globalToLocal(a.SHELPER_POINT,e)};b.getMovement=function(c,e){null==e&&(e=new Point);this.getLocation(c,e);var a=e.x,b=e.y;this.getPreviousLocation(c,e);e.setTo(a-e.x,b-e.y);return e};b.isTouching=function(c){return-1!=this._bubbleChain_.indexOf(c)};b.clone=function(){var c=new a(this._id_);c._globalX_=this._globalX_;c._globalY_=this._globalY_;c._previousGlobalX_=this._previousGlobalX_;c._previousGlobalY_=this._previousGlobalY_;c._phase_=this._phase_;c._tapCount_=this._tapCount_;c._timestamp_=this._timestamp_;c._pressure_=this._pressure_;c._width_=this._width_;c._height_=this._height_;c.target=this._target_;c.touchType=this.touchType;c.nativeEvent=this.nativeEvent;return c};b.updateBubbleChain=function(){if(this._target_){var c=1,e=this._target_;this._bubbleChain_.length=1;for(this._bubbleChain_[0]=e;null!=(e=e.parent);)this._bubbleChain_[int(c++)]=e}else this._bubbleChain_.length=0};b.dispatchEvent=function(c){this._target_&&c.dispatch(this._bubbleChain_)};__getset(0,b,"id",function(){return this._id_});__getset(0,b,"previousGlobalX",function(){return this._previousGlobalX_});__getset(0,b,"previousGlobalY",function(){return this._previousGlobalY_});__getset(0,b,"globalX",function(){return this._globalX_},function(c){this._previousGlobalX_=this._globalX_!=this._globalX_?c:this._globalX_;this._globalX_=c});__getset(0,b,"globalY",function(){return this._globalY_},function(c){this._previousGlobalY_=this._globalY_!=this._globalY_?c:this._globalY_;this._globalY_=c});__getset(0,b,"target",function(){return this._target_},function(c){this._target_!=c&&(this._target_=c,this.updateBubbleChain())});__getset(0,b,"bubbleChain",function(){return this._bubbleChain_.concat()});__static(a,["SHELPER_MATRIX",function(){return this.SHELPER_MATRIX=new Matrix},"SHELPER_POINT",function(){return this.SHELPER_POINT=new Point}]);return a}(),TouchEventIntent=function(){function a(){}__class(a,"iflash.events.TouchEventIntent",!0);a.ERASER="eraser";a.PEN="pen";a.UNKNOWN="unknown";return a}(),TouchInfo=function(){function a(c){this.endTimestamp=this.startTimestamp=this.touchPointID=0;this.chainTop=null;this.endY=this.endX=this.startY=this.startX=this.stageY=this.stageX=0;this.touchEvent=this.touchDownTarget=this.curChainTop=null;this.bubbleChain=[];this.touchEvent=c;this.touchPointID=c.touchPointID}__class(a,"iflash.events.TouchInfo",!0);var b=a.prototype;b.touchBegin=function(c){this.startTimestamp=c.timestamp;this.startX=c.stageX;this.startY=c.stageY;this.stageX=this.startX;this.stageY=this.startY;this.endX=this.startX;this.endY=this.startY;this.touchDownTarget=this.curChainTop};b.touchEnd=function(c){this.endTimestamp=c.timestamp;this.endX=c.stageX;this.endY=c.stageY;this.stageX=this.endX;this.stageY=this.endY};b.touchMove=function(c){this.stageX=c.stageX;this.stageY=c.stageY};b.destory=function(){for(var c=0;c<a.touchs.length;c++)if(this.touchPointID==a.touchs[c].touchPointID){a.touchs.splice(c,1);break}delete a.touchInfos[this.touchPointID];this.touchEvent=this.touchDownTarget=this.curChainTop=this.chainTop=this.bubbleChain=null};__getset(0,b,"localX",function(){return this.curChainTop.mouseX});__getset(0,b,"localY",function(){return this.curChainTop.mouseY});a.getTouchInfo=function(c){var e=iflash.events.TouchInfo.touchInfos[c.touchPointID];null==e&&(e=iflash.events.TouchInfo.touchInfos[c.touchPointID]=new a(c),a.touchs.push(e));return e};a.dealGestrueHandler=function(c){var e=a.touchs.length;2==e&&"touchBegin"==c.type?(a.twoFingerGapTime=Math.abs(a.touchs[1].startTimestamp-a.touchs[0].startTimestamp),a.twoFignerDownTime=a.touchs[0].startTimestamp,a.isTwoFingerDown=!0,a.twoFignerDownCount=1):2!=e&&"touchEnd"==c.type&&(a.isTwoFingerDown=!1,a.twoFignerDownCount=0);if("touchTap"==c.type&&2==e&&100>a.twoFingerGapTime&&50>c.timestamp-a.twoFignerDownTime-100)return e=GestureEvent.getGestureEvent(),e._lytarget=c.target,e;var b=c.timestamp-a.twoFignerDownTime;if(2==e&&120<b&&("touchMove"==c.type||"touchEnd"==c.type)){var d=a.touchInfos[c.touchPointID],e=a.touchInfos[0],b=a.touchInfos[1],f=new TransformGestureEvent("",!0,!1,GesturePhase.GESTURE_PHASE_MAP_TOUCH[c.type]);f.localX=c.localX;f.localY=c.localY;f._lytarget=c._lytarget;f.shiftKey=c.shiftKey;f.ctrlKey=c.ctrlKey;f.altKey=c.altKey;f.offsetX=c.stageX-d.stageX;f.offsetY=c.stageY-d.stageY;if("touchEnd"==a.twoFignerTouchType)return a.twoFignerTouchType="",null;a.twoFignerTouchType=c.type;if(10<(e.stageX-e.startX)*(b.stageX-b.startX)&&10<(e.stageY-e.startY)*(b.stageY-b.startY))f.type="gesturePan";else{0<a.twoFignerDownCount&&(f.phase="begin",a.twoFignerDownCount=0);var h=b.startX-e.startX,k=b.startY-e.startY;c=b.stageX-e.stageX;var d=b.stageY-e.stageY,l=Math.sqrt(c*c+d*d),h=Math.acos((h*c+k*d)/(Math.sqrt(h*h+k*k)*l)),k=b.endX-e.endX,m=b.endY-e.endY;c=1>Math.abs(c)?1:c;var d=1>Math.abs(d)?1:d,k=1>Math.abs(k)?1:k,m=1>Math.abs(m)?1:m,n=c/k,p=d/m,n=1.1<n?1.1:n,p=1.1<p?1.1:p;f.scaleX=.9>n?.9:n;f.scaleY=.9>p?.9:p;f.type="gestureZoom";h>20*a.RAD_UNIT&&(f.rotation=(0<=k*d-m*c?1:-1)*Math.acos((k*c+m*d)/(Math.sqrt(k*k+m*m)*l))/a.RAD_UNIT,f.type="gestureRotate");b.endX=b.stageX;e.endX=e.stageX;b.endY=b.stageY;e.endY=e.stageY}return f}1==e&&"touchBegin"==c.type?(a.isSingleFingerDown=!0,a.singleFignerDownTime=c.timestamp):1==e&&"touchEnd"==c.type&&(a.isSingleFingerDown=!1,a.singleFignerDownTime=0);return 2==e&&"touchEnd"==c.type&&100<=a.twoFingerGapTime?(e=PressAndTapGestureEvent.getInstance(),e._lytarget=c.target,e.tapLocalX=c.localX,e.tapLocalY=c.localY,e.tapStageX=c.stageX,e.tapStageY=c.stageY,e):1==e&&a.isSingleFingerDown&&"touchMove"==c.type&&0!=a.singleFignerDownTime&&80<c.timestamp-a.singleFignerDownTime?(a.singleFignerDownTime=0,e=a.touchs[0],b=new TransformGestureEvent("gestureSwipe",!0,!1,GesturePhase.GESTURE_PHASE_MAP_TOUCH[c.type]),b.localX=c.localX,b.localY=c.localY,b._lytarget=c._lytarget,b.shiftKey=c.shiftKey,b.ctrlKey=c.ctrlKey,b.altKey=c.altKey,b.offsetX=0<c.stageX-e.startX?1:-1,b.offsetY=0<c.stageY-e.startY?1:-1,b):null};a.touchInfos={};a.touchs=[];a.TWO_FINGER_GAP_MIN_TIME=100;a.GESTURE_SWIPE_MIN_TIME=80;a.TRANSFORM_MIN_SIZE=10;a.MIN_ROTATION_NUM=20;a.twoFingerGapTime=0;a.twoFignerDownTime=0;a.singleFignerDownTime=0;a.isSingleFingerDown=!1;a.isTwoFingerDown=!1;a.twoFignerDownCount=0;a.twoFignerTouchType="";__static(a,["RAD_UNIT",function(){return this.RAD_UNIT=Math.PI/180}]);return a}(),TouchPhase=function(){function a(){}__class(a,"iflash.events.TouchPhase",!0);a.HOVER="hover";a.BEGAN="began";a.MOVED="moved";a.STATIONARY="stationary";a.ENDED="ended";return a}(),DocumentAdapter=function(){function a(){this._screenRotate_=this.autoScaleDifference=0;this._autorotate_="rotator";this._onWindows=-1<navigator.userAgent.indexOf("Windows");Laya.window.lyAddEventListener("resize",__bind(this,this.onResize))}__class(a,"iflash.laya.utils.DocumentAdapter",!0);var b=a.prototype;b.onResize=function(c){if(this._onWindows||!(Stage.stage.focus instanceof iflash.text.TextField))if(c=Laya.document.body){var e=Laya.window,a=e.innerWidth/Stage.stage.width,b=e.innerHeight/Stage.stage.height;c.width=Stage.stage.width;c.height=Stage.stage.height;.02>Math.abs(a-1)&&(a=1);.02>Math.abs(b-1)&&(b=1);"noScale"==Stage.stage.scaleMode?b=a=1:"noBorder"==Stage.stage.scaleMode?a<b?a=b:b=a:"showAll"==Stage.stage.scaleMode&&(a>b?a=b:b=a);e.scale.x=a;e.scale.y=b;c.scaleX=a;c.scaleY=b;var f=Math.floor((e.innerWidth-Stage.stage.width*a)/2),h=Math.floor((e.innerHeight-Stage.stage.height*b)/2);""!=Stage.stage.align&&(StageAlign.isTop(Stage.stage.align)&&(h=0),StageAlign.isBottom(Stage.stage.align)&&(h=Math.floor(e.innerHeight-Stage.stage.height*b)),StageAlign.isLeft(Stage.stage.align)&&(f=0),StageAlign.isRight(Stage.stage.align)&&(f=Math.floor(e.innerWidth-Stage.stage.width*a)));c.x=f;c.y=h}};__getset(0,b,"autorotate",function(){return this._autorotate_},function(c){this._autorotate_=c.toLowerCase();Laya.window.lyDispatchEvent("resize")});__getset(0,b,"screenRotate",function(){return this._screenRotate_});return a}(),DynamicProperties=function(){function a(c,e,b,d){this.valueTo=this.nameWith=null;this.htmlNeed=!1;void 0===d&&(d=!0);this.htmlNeed=d;null!=c&&(e=a._regProperties.exec(e),d=e[2],this.valueTo=e[4]?a.__CALCULATORTYPE__[e[4]]:StringMethod.strToStr,this.nameWith=null==b?d:b,c.prototype["??"+d]=this)}__class(a,"iflash.laya.utils.DynamicProperties",!0);var b=a.prototype;b.setValue=function(c,e){c[this.nameWith]=this.valueTo(e)};b.getValue=function(c){return c instanceof iflash.media.AudioElement||"autoplay"!=this.nameWith?c[this.nameWith]:null};b.toHTML=function(){return this.htmlNeed};a.reg=function(c,e,b,d){void 0===d&&(d=!0);return 0>e.indexOf("(")?new a(c,e,b,d):new DynamicMethods(c,e,b,d)};a._regProperties=/(\s*)([\w-]+)\s*(=\s*(\w))?/;__static(a,["__CALCULATORTYPE__",function(){return this.__CALCULATORTYPE__={s:StringMethod.strToStr,i:StringMethod.toInt,I:StringMethod.strToBigInt,d:StringMethod.toFloat,b:StringMethod.toBool,t:StringMethod.strToTime}}]);return a}(),MatrixUtil=function(){function a(){throw Error("can not new MatrixUtil");}__class(a,"iflash.laya.utils.MatrixUtil",!0);a.transformPoint=function(b,c,e){return a.transformCoords(b,c.x,c.y,e)};a.transformCoords=function(a,c,e,g){null==g&&(g=new Point);g.x=a.a*c+a.c*e+a.tx;g.y=a.d*e+a.b*c+a.ty;return g};a.skew=function(a,c,e){var g=Math.sin(c);c=Math.cos(c);var d=Math.sin(e);e=Math.cos(e);a.setTransform(a.a*e-a.b*g,a.a*d+a.b*c,a.c*e-a.d*g,a.c*d+a.d*c,a.tx*e-a.ty*g,a.tx*d+a.ty*c)};a.prependMatrix=function(a,c){a.setTransform(a.a*c.a+a.c*c.b,a.b*c.a+a.d*c.b,a.a*c.c+a.c*c.d,a.b*c.c+a.d*c.d,a.tx+a.a*c.tx+a.c*c.ty,a.ty+a.b*c.tx+a.d*c.ty)};a.prependTranslation=function(a,c,e){a.tx+=a.a*c+a.c*e;a.ty+=a.b*c+a.d*e};a.prependScale=function(a,c,e){a.setTransform(a.a*c,a.b*c,a.c*e,a.d*e,a.tx,a.ty)};a.prependRotation=function(a,c){var e=Math.sin(c),g=Math.cos(c);a.setTransform(a.a*g+a.c*e,a.b*g+a.d*e,a.c*g-a.a*e,a.d*g-a.b*e,a.tx,a.ty)};a.prependSkew=function(a,c,e){var g=Math.sin(c);c=Math.cos(c);var d=Math.sin(e);e=Math.cos(e);a.setTransform(a.a*e+a.c*d,a.b*e+a.d*d,a.c*c-a.a*g,a.d*c-a.b*g,a.tx,a.ty)};__static(a,["sRawData",function(){return this.sRawData=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},"sRawData2",function(){return this.sRawData2=__newvec(16,0)}]);return a}(),Method=function(){function a(){}__class(a,"iflash.laya.utils.Method",!0);a.getPath=function(a){if(null==a||""==a)return"";var c=a.indexOf("?");0>c&&a.indexOf("#");c=a.lastIndexOf("/");a=0<=c?a.substring(0,c+1):"/";"/"==a.charAt(0)&&(a="file://"+a);return a};a.formatUrl=function(b,c){Laya.config.urlToLower&&(b=b.toLowerCase());var e=a.__urlCache__[b];if(null!=e)return e;if(null==b)return"";":"==b.charAt(1)&&"/"==b.charAt(2)&&(b="file://"+b);if("/"==b.charAt(0))return Laya.window.location.fullPath+b.substring(1,b.length);null==c&&(c=Laya.window.location.fullPath);e=a.__urlCache__[c+"/"+b];if(null!=e)return e;0>b.indexOf("://")&&(b=c+"/"+b);e=b.split("/");e[1]="";for(var g,d=2,f=e.length;d<f;){g=e[d];if(null==g)break;""==g||"."==g?e.splice(d,1):".."==g?(e.splice(d-1,2),--d):d+=1}return b=e.join("/")};a.isNullOrEmpty=function(a){return null==a||""==a};a.removeFromeArray=function(a,c){var e=a.indexOf(c);0<=e&&a.splice(e)};a.InitAttributesToHTML=function(a,c){var e=0,g=0,d,f,h=[];f=a.split(";");e=0;for(g=f.length;e<g;e++)d=f[e].split(":"),1>d[0].length||(d={name:d[0],defaultv:d[1],namenew:d[2]},null==d.namenew&&(d.namenew=d.name),h.push(d),null!=c&&d.namenew!=d.name&&iflash.laya.utils.regXmlAttr(c,d.namenew,d.name));return h};a.jsonParse=function(a,c){try{return JSON.parse(a,c)}catch(e){}return null};a.JsFunctionErr=LAYAFNVOID;a.jsToEventFun=function(a){return"string"==typeof a?Browser.eval("(function(event){"+a+";})"):a};a.insert=function(a,c,e){if(0>c)throw"insert less than 0";if(c>=a.length)a.push(e);else if(0==c)a.unshift(e);else{for(var g=a.length;g>c;g--)a[g]=a[g-1];a[c]=e}};a.forseInsert=function(a,c,e){if(0>c)throw"insert less than 0";c>=a.length&&(a.length=c+1);a[c]=e};a.execScript=function(a,c){if(Laya.CONCHVER)Browser.eval(a,null);else try{Log.log("execScript:"+c);var e=Browser.document.createElement("script");e.type="text/javascript";e.text=a;Browser.document.getElementsByTagName("head")[0].appendChild(e)}catch(g){debugger}};a._JpgToPng=function(b){var c=Canvas.create(),e=b.width,g=int((b.height-1)/2);c.size(e,g);c.context.drawImage(b,0,0,e,g,0,0,e,g);var d=c.context.getImageData(0,0,e,g),f=d.data;null==f&&Browser.alert("JpgToPng err:"+b.src);null==a.__tmpCanvas__&&(a.__tmpCanvas__=Canvas.create());a.__tmpCanvas__.active();var h=a.__tmpCanvas__;h.size(e,g);h.context.drawImage(b,0,g+2,e,g,0,0,e,g);b=h.context.getImageData(0,0,e,g).data;for(var k=h=0,l=0;l<g;l++)for(h=l*e<<2,k=0;k<e;)h+=4,k++,f[h+3]=b[h];c.context.putImageData(d,0,0);return c};a.formatUrlType=function(a){1>=a.split("?").length||(a=a.slice(0,a.indexOf("?")));var c="";a=a.split("/");a=a[a.length-1];a=a.split(".");return c=1<a.length?a[a.length-1].toLowerCase():"."};a.__tmpCanvas__=null;a._TEMP_FUN_=null;a.__urlCache__=[];return a}(),StringMethod=function(){function a(){}__class(a,"iflash.laya.utils.StringMethod",!0);a.nChar=function(a,c){if(1>c)return"";for(var e="",g=0;g<c;g++)e+=a;return e};a.strToStr=function(a){return a};a.toInt=function(a){return"string"==typeof a?Laya.__parseInt(a):a};a.toFloat=function(a){return a};a.toBool=function(a){return 1==a||"true"==a};a.strToBigInt=function(a){return"infinite"==a?2147483647:Laya.__parseInt(a)};a.strToTime=function(a){if(null==a)return 0;var c=1,e=a.length;"s"==a.charAt(e-1)&&("ms"==a.substring(0,e-2)?e-=2:(e--,c=1E3));return Math.floor(parseFloat(a.substring(0,e))*c)};a.strTrim=function(b){return b.replace(a._string_Trim_,"")};a.replaceBlankChar=function(b,c){return b.replace(a._string_Trim_,"").replace(a._removeBlankChar_,c?c:" ")};a.subString=function(a,c,e,g,d){if(null==a)return g;var f=a.indexOf(c),h=0;if(0>f)return g;f+=c.length;if(null==e)return a.substring(f,a.length);0>(h=a.indexOf(e,f))&&(h=a.length);null!=d&&(d.x=f,d.y=h);return a.substring(f,h)};a.getColorString=function(a){if(!a&&0!=a)return null;a=a.toString(16).toUpperCase();a=a.replace(/0x|0X/,"");var c=6-a.length,e="";if(6>a.length)for(var g=0;g<c;g++)e+=0;return"#"+e+a};a._string_Trim_=RegExp("(^\\s*)|(\\s*$)","g");a._string_LTrim_=RegExp("(^\\s*)","g");a._string_RTrim_=RegExp("(\\s*$)","g");a._removeBlankChar_=RegExp("\\s+","g");a._WORDSIZEMAP_=[];return a}(),TimerObject=function(){function a(c,e,b,d,f){this.owner=this._listener_=null;this.isdel=!1;this.runCount=this.repeatCount=this.delay=this.nextTime=this.startTime=NaN;this.data=null;this.name="";void 0===d&&(d=0);void 0===f&&(f=0);this.isdel=!1;this.delay=d;this.repeatCount=f;this._reset_(c,e,b);this.name=""+a.NameConut++}__class(a,"iflash.laya.utils.TimerObject",!0);var b=a.prototype;Laya.imps(b,{"iflash.laya.system.IObject":!0});b._reset_=function(c,e,a){this.deleted=!1;this.data=null;this._listener_=e;this.owner=a;this.startTime=c;this.isdel=!1;this.runCount=0;this.nextTime=this.startTime+this.delay;return this};b.run=function(c){if(this.isdel)return!1;if(0==this.delay)return this.owner&&this.owner.deleted||this._listener_&&this._listener_.call(this.owner,c,c-this.startTime,this);if(this.nextTime==c)return!0;for(;this.nextTime<=c;){if(this.owner&&this.owner.deleted||null!=this._listener_&&0==this._listener_.call(this.owner,c,c-this.startTime,this))return!(this.deleted=!0);this.nextTime+=this.delay;this.runCount++;if(0<this.repeatCount&&this.runCount>=this.repeatCount)return!(this.deleted=!0)}return!0};__getset(0,b,"listener",function(){return this._listener_});__getset(0,b,"deleted",function(){return this.isdel},function(c){if(this.isdel=c)this.data=this.owner=this._listener_=null});a.NameConut=0;return a}(),URI=function(){function a(a){this.path=this.url=null;this.url=a;this.path=Method.getPath(a)}__class(a,"iflash.laya.utils.URI",!1);a.prototype.toString=function(){return this.url};return a}(),byteArrayContextCMD=function(){function a(){this.result=null;this.result=new ByteArray}__class(a,"iflash.utils.byteArrayContextCMD",!0);var b=a.prototype;b.clear=function(){this.result.clear()};b.getBuffer=function(){return this.result};b.save=function(){this.result.writeShort(0)};b.restore=function(){this.result.writeShort(1)};b.beginPath=function(){this.result.writeShort(2)};b.drawImage=function(c){for(var e=[],a=0,b=arguments.length;a<b;a++)e.push(arguments[a]);3==e.length?(this.result.writeShort(3),this.result.writeFloat(e[1]),this.result.writeFloat(e[2])):5==e.length?(this.result.writeShort(4),this.result.writeDouble(e[0].id),this.result.writeFloat(e[1]),this.result.writeFloat(e[2]),this.result.writeFloat(e[3]),this.result.writeFloat(e[4])):(this.result.writeShort(5),this.result.writeDouble(e[0].id),this.result.writeFloat(e[1]),this.result.writeFloat(e[2]),this.result.writeFloat(e[3]),this.result.writeFloat(e[4]),this.result.writeFloat(e[5]),this.result.writeFloat(e[6]),this.result.writeFloat(e[7]),this.result.writeFloat(e[8]))};b.rect=function(c,e,a,b){this.result.writeShort(6);this.result.writeInt(c);this.result.writeInt(e);this.result.writeInt(a);this.result.writeInt(b)};b.clip=function(){this.result.writeShort(7);return!0};b.scale=function(c,e){this.result.writeShort(8);this.result.writeFloat(c);this.result.writeFloat(e)};b.translate=function(c,e){this.result.writeShort(9);this.result.writeFloat(c);this.result.writeFloat(e)};b.transform=function(c,e,a,b,f,h){this.result.writeShort(10);this.result.writeFloat(c);this.result.writeFloat(e);this.result.writeFloat(a);this.result.writeFloat(b);this.result.writeFloat(f);this.result.writeFloat(h)};b.clearRect=function(c,e,a,b){this.result.writeShort(12);this.result.writeInt(c);this.result.writeInt(e);this.result.writeInt(a);this.result.writeInt(b)};b.closePath=function(){this.result.writeShort(13)};b.fillRect=function(c,e,a,b){this.result.writeShort(15);this.result.writeInt(c);this.result.writeInt(e);this.result.writeInt(a);this.result.writeInt(b)};b.stroke=function(){this.result.writeShort(17)};b.strokeRect=function(c,e,a,b){this.result.writeShort(18);this.result.writeInt(c);this.result.writeInt(e);this.result.writeInt(a);this.result.writeInt(b)};b.fillText=function(c,e,a){this.result.writeShort(19);this.result.writeUTF(c);this.result.writeFloat(e);this.result.writeFloat(a)};b.fill=function(){this.result.writeShort(20)};b.moveTo=function(c,e){this.result.writeShort(24);this.result.writeFloat(c);this.result.writeFloat(e)};b.lineTo=function(c,e){this.result.writeShort(25);this.result.writeFloat(c);this.result.writeFloat(e)};b.arc=function(c,e,a,b,f,h){this.result.writeShort(26);this.result.writeInt(c);this.result.writeInt(e)};b.arcTo=LAYAFNVOID;b.bezierCurveTo=LAYAFNVOID;b.quadraticCurveTo=LAYAFNVOID;__getset(0,b,"globalAlpha",null,function(c){this.result.writeShort(11);this.result.writeFloat(c)});__getset(0,b,"fillStyle",null,function(c){this.result.writeShort(14);this.result.writeUTF(c)});__getset(0,b,"lineJoin",null,function(c){this.result.writeShort(23);this.result.writeUTF(c)});__getset(0,b,"strokeStyle",null,function(c){this.result.writeShort(16);this.result.writeUTF(c)});__getset(0,b,"lineCap",null,function(c){this.result.writeShort(21);this.result.writeUTF(c)});__getset(0,b,"lineWidth",null,function(c){this.result.writeShort(22);this.result.writeInt(c)});__static(a,["INSTANCE",function(){return this.INSTANCE=new a}]);return a}(),ConchRenderVCanvas=function(){function a(){}__class(a,"iflash.utils.ConchRenderVCanvas",!0);a.prototype.uploadConch=function(){a.cmdArray.length=0;for(var b,c=0,e=a.maps.length;c<e;c++){var g=a.maps[c];b=VirtualCanvas.getConchSring(g._cmds_);a.cmdArray.push(g.conchVirtualBitmap.id+"\u0006"+b||"");b=g.conchVirtualBitmap;a.maps.splice(c,1);g.inMap=!1;c--;e--}c=a.cmdArray.join("\u0003");b&&b.setAllBuffer(c)};a.CMD_SAVE=0;a.CMD_RESTORE=1;a.CMD_BEGINPATH=2;a.CMD_DRAWIMAGE3=3;a.CMD_DRAWIMAGE5=4;a.CMD_DRAWIMAGE9=5;a.CMD_RECT=6;a.CMD_CLIP=7;a.CMD_SCALE=8;a.CMD_TRANSLATE=9;a.CMD_TRANSFORM=10;a.CMD_GLOBALALPHA=11;a.CMD_CLEARRECT=12;a.CMD_CLOSEPATH=13;a.CMD_FILLSTYLE=14;a.CMD_FILLRECT=15;a.CMD_STROKESTYLE=16;a.CMD_STROKE=17;a.CMD_STROKERECT=18;a.CMD_FILLTEXT=19;a.CMD_FILL=20;a.CMD_LINECAP=21;a.CMD_LINEWIDTH=22;a.CMD_LINEJOIN=23;a.CMD_MOVETO=24;a.CMD_LINETO=25;a.CMD_ARC=26;a.CMD_ARCTO=27;a.CMD_BEZIERCURVETO=28;a.CMD_QUADRATICCURVETO=29;a.CMD_DRAWCANVAS3=30;a.CMD_DRAWCANCAS5=31;a.CMD_DRAWCANCAS9=32;a.CMD_FONT=33;a.CMD_DRAWREPEAT=34;a.CMD_GLOBALCOMPOSITEOPERATION=35;a.CMD_TEXTBASELINE=36;a.maps=[];a.INSTANCE=new a;a.cmdArray=[];__static(a,["CMDMAP",function(){return this.CMDMAP={_drawVCanvas_:-1,_save_:0,_restore_:1,_beginPath_:2,_drawImage3_:3,_drawImage5_:4,_drawImage9_:5,_rect_:6,_clip_:7,_scale_:8,_translate_:9,_transform_:10,_globalAlpha_:11,_clearRect_:12,_closePath_:13,_fillStyle_:14,_fillRect_:15,_strokeStyle_:16,_stroke_:17,_strokeRect_:18,_fillText_:19,_fill_:20,_lineCap_:21,_lineWidth_:22,_lineJoin_:23,_moveTo_:24,_lineTo_:25,_arc_:26,_arcTo_:27,_bezierCurveTo_:28,_quadraticCurveTo_:29,_drawCanvas3_:30,_drawCanvas5_:31,_drawCanvas9_:32,_font_:33,_drawRepeat_:34,_globalCompositeOperation_:35,_textBaseline_:36}}]);return a}(),Datas=function(){function a(){}__class(a,"iflash.utils.Datas",!0);a.DICKEY=0;a.DICKEYS=[];return a}(),DebugTools=function(){function a(){}__class(a,"iflash.utils.DebugTools",!0);a.getTTime=function(){return(new Date).time};a.startTime=function(b){a.timeSignPreTimeDic[b]=a.getTTime()};a.endTime=function(b){var c=0,c=a.getTTime()-a.timeSignPreTimeDic[b];a.timeSignDic[b]=int(a.timeSignDic[b])+c};a.resetTime=function(b){a.timeSignDic[b]=0};a.getTime=function(b){return a.timeSignDic[b]};a.timeSignDic={};a.timeSignPreTimeDic={};return a}(),DisTools=function(){function a(){}__class(a,"iflash.utils.DisTools",!0);return a}(),Endian=function(){function a(){}__class(a,"iflash.utils.Endian",!0);a.BIG_ENDIAN="bigEndian";a.LITTLE_ENDIAN="littleEndian";return a}(),FileParse=function(){function a(){}__class(a,"iflash.utils.FileParse",!0);a.getFile=function(b){return a.fileContentObj[b]};a.parse=function(b){for(var c=0,e=0;;e++)if(0==b[e]){c=e;break}var e=b.readUTFBytes(c).split("\n"),g,d=0;b.position=c+1;for(var f=0;f<e.length;f+=2)g=e[f],d=Laya.__parseInt(e[f+1]),c=new ByteArray,b.readBytes(c,0,d),a.fileContentObj[g]=c};a.fileContentObj={};return a}(),LayaDictionary=function(){function a(){this._elements=[];this._keys=[]}__class(a,"iflash.utils.LayaDictionary",!0);var b=a.prototype;b.set=function(c,e){var a=this.indexOf(c);0<=a?this._elements[a]=e:(this._keys.push(c),this._elements.push(e))};b.contains=function(c){return-1<this._keys.indexOf(c)};b.indexOf=function(c){var e=this._keys.indexOf(c);if(0<=e)return e;c="string"==typeof c?Number(c):"number"==typeof c?c.toString():c;return this._keys.indexOf(c)};b.get=function(c){c=this.indexOf(c);return 0>c?null:this._elements[c]};b.remove=function(c){c=this.indexOf(c);return 0<=c?(this._keys.splice(c,1),this._elements.splice(c,1),!0):!1};b.clear=function(){this._elements.length=0;this._keys.length=0};__getset(0,b,"elements",function(){return this._elements});__getset(0,b,"keys",function(){return this._keys});return a}(),Log=function(){function a(){}__class(a,"iflash.utils.Log",!0);a.log=function(b){a.isLog&&console.log("[layaLog]:"+b)};a.error=function(b){a.isError||console.log("[error]:"+b)};a.warming=function(b){a.isWarMing||console.log("[warming]:"+b)};a.unfinished=function(b,c){a.isOpen&&console.log("[unfinished]:"+b+"--"+c)};a.isOpen=!1;a.isLog=!1;a.isWarMing=!1;a.isError=!1;return a}(),Proxy=function(){function a(){}__class(a,"iflash.utils.Proxy",!0);var b=a.prototype;b.getProperty=function(c){Error.throwError(IllegalOperationError,2088);return null};b.setProperty=function(c,e){Error.throwError(IllegalOperationError,2089)};b.callProperty=function(c,e){for(var a=[],b=1,f=arguments.length;b<f;b++)a.push(arguments[b]);Error.throwError(IllegalOperationError,2090);return null};b.hasProperty=function(c){Error.throwError(IllegalOperationError,2091);return!1};b.deleteProperty=function(c){Error.throwError(IllegalOperationError,2092);return!1};b.getDescendants=function(c){Error.throwError(IllegalOperationError,2093);return!1};b.nextNameIndex=function(c){Error.throwError(IllegalOperationError,2105);return 0};b.nextName=function(c){Error.throwError(IllegalOperationError,2106);return null};b.nextValue=function(c){Error.throwError(IllegalOperationError,2107);return null};b.isAttribute=LAYAFNFALSE;return a}(),stringContextCMD=function(){function a(){this._cmds_=this.result=null;this.result="";this._cmds_=[]}__class(a,"iflash.utils.stringContextCMD",!0);var b=a.prototype;b.clear=function(){this.result="";this._cmds_=[]};b.getBuffer=function(){return this.result=this._cmds_.join("\u0005")};b.save=function(){this._cmds_.push(0)};b.restore=function(){this._cmds_.push(1)};b.beginPath=function(){this._cmds_.push(2)};b.drawImage=function(c){for(var e=[],a=0,b=arguments.length;a<b;a++)e.push(arguments[a]);3==e.length?this._cmds_.push("3\u0004"+e[0].imgId+"\u0004"+e[1]+"\u0004"+e[2]):5==e.length?this._cmds_.push("4\u0004"+e[0].imgId+"\u0004"+e[1]+"\u0004"+e[2]+"\u0004"+e[3]+"\u0004"+e[4]):this._cmds_.push("5\u0004"+e[0].imgId+"\u0004"+e[1]+"\u0004"+e[2]+"\u0004"+e[3]+"\u0004"+e[4]+"\u0004"+e[5]+"\u0004"+e[6]+"\u0004"+e[7]+"\u0004"+e[8])};b.rect=function(c,e,a,b){this._cmds_.push("6\u0004"+c+"\u0004"+e+"\u0004"+a+"\u0004"+b)};b.clip=function(){this._cmds_.push(7);return!0};b.scale=function(c,e){this._cmds_.push("8\u0004"+c+"\u0004"+e)};b.translate=function(c,e){this._cmds_.push("9\u0004"+c+"\u0004"+e)};b.transform=function(c,e,a,b,f,h){this._cmds_.push("10\u0004"+c+"\u0004"+e+"\u0004"+a+"\u0004"+b+"\u0004"+f+"\u0004"+h)};b.clearRect=function(c,e,a,b){this._cmds_.push("12\u0004"+c+"\u0004"+e+"\u0004"+a+"\u0004"+b)};b.closePath=function(){this._cmds_.push(13)};b.fillRect=function(c,e,a,b){this._cmds_.push("15\u0004"+c+"\u0004"+e+"\u0004"+a+"\u0004"+b)};b.stroke=function(){this._cmds_.push(17)};b.strokeRect=function(c,e,a,b){this._cmds_.push("18\u0004"+c+"\u0004"+e+"\u0004"+a+"\u0004"+b)};b.fillText=function(c,e,a){this._cmds_.push("19\u0004"+c+"\u0004"+e+"\u0004"+a)};b.fill=function(){this._cmds_.push(20)};b.moveTo=function(c,e){this._cmds_.push("24\u0004"+c+"\u0004"+e)};b.lineTo=function(c,e){this._cmds_.push("25\u0004"+c+"\u0004"+e)};b.arc=function(c,e,a,b,f,h){this._cmds_.push("26\u0004"+c+"\u0004"+e+"\u0004"+a+"\u0004"+b+"\u0004"+f+"\u0004"+(h?1:0))};b.arcTo=function(c,e,a,b,f){this._cmds_.push("27\u0004"+c+"\u0004"+e+"\u0004"+a+"\u0004"+b+"\u0004"+f)};b.bezierCurveTo=function(c,e,a,b,f,h){this._cmds_.push("28\u0004"+c+"\u0004"+e+"\u0004"+a+"\u0004"+b+"\u0004"+f+"\u0004"+h)};b.quadraticCurveTo=function(c,e,a,b){this._cmds_.push("29\u0004"+c+"\u0004"+e+"\u0004"+a+"\u0004"+b)};__getset(0,b,"globalAlpha",null,function(c){this._cmds_.push("11\u0004"+c)});__getset(0,b,"fillStyle",null,function(c){this._cmds_.push("14\u0004"+c)});__getset(0,b,"font",null,function(c){this._cmds_.push("33\u0004"+c)});__getset(0,b,"lineJoin",null,function(c){this._cmds_.push("23\u0004"+c)});__getset(0,b,"strokeStyle",null,function(c){this._cmds_.push("16\u0004"+c)});__getset(0,b,"lineCap",null,function(c){this._cmds_.push("21\u0004"+c)});__getset(0,b,"lineWidth",null,function(c){this._cmds_.push("22\u0004"+c)});a.COMMA="\u0004";a.SEMICOLON="\u0005";a.INSTANCE=new a;return a}(),TextureManager=function(){function a(){this._textureDic={}}__class(a,"iflash.utils.TextureManager",!0);var b=a.prototype;b.getTexture=function(c){return this._textureDic[c]};b.addTexture=function(c,e){this._textureDic[c]=e};a.getInstance=function(){a._instance||(a._instance=new a);return a._instance};a._instance=null;return a}(),ToolUtils=function(){function a(){}__class(a,"iflash.utils.ToolUtils",!0);a.formatUrlType=function(a){1>=a.split("?").length||(a=a.split("?")[0].toString());var c="";a=a.split(".");0<a.length&&(c=a[a.length-1].toLowerCase());return c};a.getColor=function(a){a=a.toString(16).toUpperCase();var c=6-a.length,e="";if(6>a.length)for(var g=0;g<c;g++)e+=0;return"#"+e+a};return a}(),___Laya=function(){Laya.Main=function(a){"function"==typeof a&&(Laya._startCallBack_=a,a=null);Laya.config||(window.Laya=Laya,Laya.config=new iflash.laya.system.Config,Laya.root=a,Browser.__init__(a),Laya.CONCHVER&&(conch.disableMultiTouch=!0),Laya.RENDERBYCANVAS=Laya.CONCHVER?!1:!LAYABOX.runOnlyPlayer,DisplayObject.TYPE2DEFAULT=Laya.RENDERBYCANVAS?0:2048,null==Laya.process&&Laya.onConchReady())};Laya.onConchReady=function(){Laya.process&&Laya.process.active();Laya.window=new Window3;Browser.__start__();Laya._startCallBack_&&Laya._startCallBack_();Laya.ilaya.onStart()};Laya.setIf=function(a,b){Laya.ifdef[a]=b};Laya.getIfdef=function(a){return null!=Laya.ifdef[a]};Laya.window=null;Laya.document=null;Laya.root=null;Laya.config=null;Laya.ifdef={};Laya.NULLFLOAT=NaN;Laya.SHOW_FPS=!0;Laya.conch=null;Laya.process=null;Laya.ilaya=null;Laya._startCallBack_=null;Laya.RENDERBYCANVAS=!1;Laya.FLASHVER=0;__static(Laya,["ENABLE3D",function(){return this.ENABLE3D=LAYABOX.ENABLE3D},"CONCHVER",function(){return this.CONCHVER=window.conch?1:0},"HTMLVER",function(){return this.HTMLVER=1}]);return Laya}(),UncaughtErrorEvents=function(a){function b(c){b.__super.call(this,c)}__class(b,"iflash.events.UncaughtErrorEvents",!1,a);return b}(EventDispatcher),AccelerometerEvent=function(a){function b(c,a,g,d){this.timestamp=this.accelerationZ=this.accelerationY=this.accelerationX=0;void 0===a&&(a=!1);void 0===g&&(g=!1);b.__super.call(this,c,a,g,d)}__class(b,"iflash.events.AccelerometerEvent",!1,a);b.prototype.clone=function(){var c=new b(this.type,this.bubbles,this.cancelable,this._lyData);c.accelerationX=this.accelerationX;c.accelerationY=this.accelerationY;c.accelerationZ=this.accelerationZ;return c};b.copySysEvent=function(c){var a=new b("update",c.bubbles,c.cancelable,null);a.accelerationX=-c.accelerationIncludingGravity.y;a.accelerationY=c.accelerationIncludingGravity.x;a.accelerationZ=c.accelerationIncludingGravity.z;a.timestamp=c.timeStamp;return a};b.UPDATE="update";return b}(Event),ActivityEvent=function(a){function b(c,a,g,d){void 0===a&&(a=!1);void 0===g&&(g=!1);b.__super.call(this,c,a,g,d)}__class(b,"iflash.events.ActivityEvent",!1,a);__getset(0,b.prototype,"activating",LAYAFNFALSE,LAYAFNVOID);b.ACTIVITY="activity";return b}(Event),TextEvent=function(a){function b(c,a,g,d){this.m_text=null;void 0===a&&(a=!1);void 0===g&&(g=!1);void 0===d&&(d="");b.__super.call(this,c,a,g);this.m_text=d}__class(b,"iflash.events.TextEvent",!1,a);a=b.prototype;a.clone=function(){var c=new b(this.type,this.bubbles,this.cancelable,this.m_text);c.copyNativeData(this);return c};a.copyNativeData=LAYAFNVOID;__getset(0,a,"text",function(){return this.m_text},function(c){this.m_text=c});b.LINK="link";b.TEXT_INPUT="textInput";return b}(Event),ContextMenuEvent=function(a){function b(c,a,g,d){void 0===a&&(a=!1);void 0===g&&(g=!1);b.__super.call(this,c,a,g,d)}__class(b,"iflash.events.ContextMenuEvent",!1,a);a=b.prototype;__getset(0,a,"contextMenuOwner",LAYAFNNULL,LAYAFNVOID);__getset(0,a,"isMouseTargetInaccessible",LAYAFNFALSE,LAYAFNVOID);__getset(0,a,"mouseTarget",LAYAFNNULL,LAYAFNVOID);b.MENU_ITEM_SELECT="menuItemSelect";b.MENU_SELECT="menuSelect";return b}(Event),FocusEvent=function(a){function b(c,a,g,d,f,h){this._keyCode=0;this._shiftKey=!1;void 0===a&&(a=!0);void 0===g&&(g=!1);void 0===f&&(f=!1);void 0===h&&(h=0);b.__super.call(this,c,a,g,d);this._shiftKey=f;this._keyCode=h}__class(b,"iflash.events.FocusEvent",!1,a);a=b.prototype;a.clone=function(){return this};__getset(0,a,"isRelatedObjectInaccessible",LAYAFNFALSE,LAYAFNVOID);__getset(0,a,"keyCode",function(){return this._keyCode},function(c){this._keyCode=c});__getset(0,a,"relatedObject",LAYAFNNULL,LAYAFNVOID);__getset(0,a,"shiftKey",function(){return this._shiftKey},function(c){this._shiftKey=c});b.FOCUS_IN="focusIn";b.FOCUS_OUT="focusOut";b.KEY_FOCUS_CHANGE="keyFocusChange";b.MOUSE_FOCUS_CHANGE="mouseFocusChange";return b}(Event),GeolocationEvent=function(a){function b(c,a,g,d,f,h,k,l,m,n,p){this._verticalAccuracy=this._timestamp=this._speed=this._longitude=this._latitude=this._horizontalAccuracy=this._heading=this._altitude=NaN;void 0===a&&(a=!1);void 0===g&&(g=!1);void 0===d&&(d=0);void 0===f&&(f=0);void 0===h&&(h=0);void 0===k&&(k=0);void 0===l&&(l=0);void 0===m&&(m=0);void 0===n&&(n=0);void 0===p&&(p=0);b.__super.call(this,c,a,g,null);this.latitude=d;this.longitude=f;this.altitude=h;this.horizontalAccuracy=k;this.verticalAccuracy=l;this.speed=m;this.heading=n;this.timestamp=p}__class(b,"iflash.events.GeolocationEvent",!1,a);a=b.prototype;__getset(0,a,"altitude",function(){return this._altitude},function(c){this._altitude=c});__getset(0,a,"speed",function(){return this._speed},function(c){this._speed=c});__getset(0,a,"heading",function(){return this._heading},function(c){this._heading=c});__getset(0,a,"horizontalAccuracy",function(){return this._horizontalAccuracy},function(c){this._horizontalAccuracy=c});__getset(0,a,"latitude",function(){return this._latitude},function(c){this._latitude=c});__getset(0,a,"timestamp",function(){return this._timestamp},function(c){this._timestamp=c});__getset(0,a,"longitude",function(){return this._longitude},function(c){this._longitude=c});__getset(0,a,"verticalAccuracy",function(){return this._timestamp},function(c){this._verticalAccuracy=c});b.getFromH5Event=function(c){var a=new b("update");Event.copyFromByObj(a,c,b.NAME_MAP);return a};b.UPDATE="update";__static(b,["NAME_MAP",function(){return this.NAME_MAP={latitude:"latitude",longitude:"longitude",altitude:"altitude",speed:"speed",horizontalAccuracy:"accuracy",verticalAccuracy:"altitudeAccuracy",heading:"heading"}}]);return b}(Event),GestureEvent=function(a){function b(c,a,d,f,h,k,l,m,n,p,q,r){this.shiftKey=this.commandKey=this.ctrlKey=this.controlKey=this.altKey=!1;this.localY=this.localX=0;this.phase=null;this.__stageY__=this.__stageX__=0;void 0===a&&(a=!1);void 0===d&&(d=!1);void 0===h&&(h=0);void 0===k&&(k=0);void 0===l&&(l=!1);void 0===m&&(m=!1);void 0===n&&(n=!1);void 0===p&&(p=!1);void 0===q&&(q=!1);b.__super.call(this,c,a,d,r);this.altKey=m;this.controlKey=q;this.ctrlKey=l;this.commandKey=p;this.shiftKey=n;this.localX=h;this.localY=k;this.phase=f}__class(b,"iflash.events.GestureEvent",!1,a);var c=b.prototype;c.toMouseEvent=function(){a.prototype.toMouseEvent.call(this);Event.__helpMouseEvt__.type="click";Event.__helpMouseEvt__.bubbles=this.bubbles;Event.__helpMouseEvt__.cancelable=this.cancelable;Event.__helpMouseEvt__.relatedObject=null;Event.__helpMouseEvt__.mCtrlKey=this.ctrlKey;Event.__helpMouseEvt__.mAltKey=this.altKey;Event.__helpMouseEvt__.mShiftKey=this.shiftKey;Event.__helpMouseEvt__.buttonDown=!1;Event.__helpMouseEvt__._lytarget=this._lytarget;Event.__helpMouseEvt__.lyData=this.lyData;Event.__helpMouseEvt__._type_=this._type_;return Event.__helpMouseEvt__};c.updateAfterEvent=function(){};__getset(0,c,"stageX",function(){return this.__stageX__});__getset(0,c,"stageY",function(){return this.__stageY__});b.getGestureEvent=function(){null==b._gestrueEvt&&(b._gestrueEvt=new b("gestureTwoFingerTap",!0,!1,"end"));return b._gestrueEvt};b.GESTURE_TWO_FINGER_TAP="gestureTwoFingerTap";b._gestrueEvt=null;return b}(Event),HTTPStatusEvent=function(a){function b(c,a,g,d){this.m_responseURL=this.m_responseHeaders=null;this.m_status=0;void 0===a&&(a=!1);void 0===g&&(g=!1);b.__super.call(this,c,a,g,d)}__class(b,"iflash.events.HTTPStatusEvent",!1,a);a=b.prototype;__getset(0,a,"responseHeaders",function(){return this.m_responseHeaders},function(c){this.m_responseHeaders=c});__getset(0,a,"responseURL",function(){return this.m_responseURL},function(c){this.m_responseURL=c});__getset(0,a,"status",function(){return this.m_status});b.HTTP_RESPONSE_STATUS="httpResponseStatus";b.HTTP_STATUS="httpStatus";return b}(Event),KeyboardEvent=function(a){function b(c,a,g,d,f,h,k,l,m){this._altKey=!1;this._charCode=0;this._ctrlKey=!1;this._keyLocation=this._keyCode=0;this._shiftKey=!1;void 0===a&&(a=!0);void 0===g&&(g=!1);b.__super.call(this,c,a,g)}__class(b,"iflash.events.KeyboardEvent",!1,a);a=b.prototype;a.clone=LAYAFNNULL;a.updateAfterEvent=LAYAFNVOID;a.changeEvent=function(c){this._currentTarget_=c._currentTarget_;this.keyCode=c.keyCode;this._type_=c._type_;this._lytarget=c._lytarget;this.cancelable=c.cancelable;this.charCode=c.charCode;this.ctrlKey=c.ctrlKey;this.altKey=c.altKey;this.shiftKey=c.shiftKey};__getset(0,a,"altKey",function(){return this._altKey},function(c){this._altKey=c});__getset(0,a,"charCode",function(){return this._charCode},function(c){this._charCode=c});__getset(0,a,"ctrlKey",function(){return this._ctrlKey},function(c){this._ctrlKey=c});__getset(0,a,"keyLocation",function(){return this._keyLocation},function(c){this._keyLocation=c});__getset(0,a,"keyCode",function(){return this._keyCode},function(c){this._keyCode=c});__getset(0,a,"shiftKey",function(){return this._shiftKey},function(c){this._shiftKey=c});b.KEY_DOWN="keyDown";b.KEY_UP="keyUp";return b}(Event),MouseEvent=function(a){function b(c,a,d,f,h,k,l,m,n,p,q){this._buttonDown=this.mCtrlKey=this.mShiftKey=!1;this._timestamp_=NaN;this.mAltKey=!1;this.relatedObject=null;this._delta=this._localY=this._localX=0;this.touchEvent=this.nativeEvent=null;this.offsetY=this.offsetX=this.clientY=this.clientX=NaN;this.button=0;void 0===a&&(a=!0);void 0===f&&(f=NaN);void 0===h&&(h=NaN);void 0===l&&(l=!1);void 0===m&&(m=!1);void 0===n&&(n=!1);void 0===p&&(p=!1);void 0===q&&(q=0);b.__super.call(this,c,a);this._timestamp_=-1;this.mShiftKey=n;this.mCtrlKey=l;this.mAltKey=m;this._buttonDown=p;this.relatedObject=k;this._localX=f;this._localY=h;this.delta=q}__class(b,"iflash.events.MouseEvent",!1,a);var c=b.prototype;c.getTouches=function(c,a,b){null==b&&(b=[]);for(var f=this.lyData,h=f.length,k=0;k<h;++k){var l=f[k],m=l.isTouching(c),n=null==a||a==l._phase_;m&&n&&(b[b.length]=l)}return b};c.getTouch=function(c,a,d){void 0===d&&(d=-1);this.getTouches(c,a,b.sTouches);c=b.sTouches.length;if(0<c){a=null;if(0>d)a=b.sTouches[0];else for(var f=0;f<c;++f)if(b.sTouches[f].id==d){a=b.sTouches[f];break}b.sTouches.length=0;return a}return null};c.interactsWith=function(c){var a=!1;this.getTouches(c,null,b.sTouches);for(c=b.sTouches.length-1;0<=c;--c)if("ended"!=b.sTouches[c]._phase_){a=!0;break}b.sTouches.length=0;return a};c.updateAfterEvent=LAYAFNVOID;c.toMouseEvent=function(){return this};c.clone=function(){var c=new b(this.type,this.bubbles,this.cancelable,this.localX,this.localY,null,this.ctrlKey,this.altKey,this.shiftKey,this.buttonDown,this.delta);c.clientX=this.clientX;c.clientY=this.clientY;c.offsetX=this.offsetX;c.offsetY=this.offsetY;c._localX=this._localX;c._localY=this._localY;c.nativeEvent=this.nativeEvent;c.touchEvent=this.touchEvent;return c};c.destory=function(){this.relatedObject=this.touchEvent=this._lytarget=this._lyData=this.nativeEvent=null;a.prototype.destory.call(this)};__getset(0,c,"stageX",function(){return EventManager._stageX});__getset(0,c,"stageY",function(){return EventManager._stageY});__getset(0,c,"localY",function(){return null==this._lytarget?this._localY:this._lytarget.mouseY});__getset(0,c,"localX",function(){return null==this._lytarget?this._localX:this._lytarget.mouseX});__getset(0,c,"buttonDown",function(){return this._buttonDown},function(c){this._buttonDown=c});__getset(0,c,"delta",function(){return this._delta},function(c){this._delta=c});__getset(0,c,"lyData",a.prototype._$get_lyData,function(c){a.prototype._$set_lyData.call(this,c);if(c){c=this._lyData.length;for(var b=0;b<c;++b)this._lyData[b]._timestamp_>this._timestamp_&&(this._timestamp_=this._lyData[b]._timestamp_)}});__getset(0,c,"shiftKey",function(){return this.mShiftKey});__getset(0,c,"touches",function(){return this.lyData.concat()});__getset(0,c,"timestamp",function(){return this._timestamp_});__getset(0,c,"altKey",function(){return this.mAltKey});__getset(0,c,"ctrlKey",function(){return this.mCtrlKey});b.getSignType=function(c){c=c.toLowerCase();return"mouseOver"==c||"touchOver"===c?"mouseOver":"mouseOut"==c||"touchOut"===c?"mouseOut":"mouseDown"==c||"touchBegin"===c?"mouseDown":"mouseUp"==c||"touchEnd"===c?"mouseUp":"click"==c||"touchTap"===c?"click":"mouseMove"==c||"touchMove"===c?"mouseMove":"rollOut"==c||"touchRollOut"===c?"rollOut":"rollOver"==c||"touchRollOver"===c?"rollOver":c};b.copyFromSysEvent=function(c){var a=new b(iflash.events.MouseEvent.SYS_MOUSE_INPUT_MAP[c.type],c.bubbles,c.cancelable,NaN,NaN,null,c.ctrlKey,c.altKey,c.shiftKey,0!=c.buttons,0);a.button=c.button||0;a.delta=void 0!=c.delta?c.delta:c.wheelDeltaY?c.wheelDeltaY/40:0;a.nativeEvent=c;return a};b.CLICK="click";b.DOUBLE_CLICK="doubleClick";b.MOUSE_DOWN="mouseDown";b.MOUSE_MOVE="mouseMove";b.MOUSE_OUT="mouseOut";b.MOUSE_OVER="mouseOver";b.MOUSE_UP="mouseUp";b.MOUSE_WHEEL="mouseWheel";b.ROLL_OUT="rollOut";b.ROLL_OVER="rollOver";b.MIDDLE_CLICK="middleClick";b.MIDDLE_MOUSE_DOWN="middleMouseDown";b.MIDDLE_MOUSE_UP="middleMouseUp";b.RIGHT_CLICK="rightClick";b.RIGHT_MOUSE_DOWN="rightMouseDown";b.RIGHT_MOUSE_UP="rightMouseUp";b.FOCUS="focus";b.BLUR="blur";b.MOUSE_DRAG="drag";b.MOUSE_DRAG_START="dragstart";b.MOUSE_DRAG_END="dragend";__static(b,["SYS_MOUSE_INPUT_MAP",function(){return this.SYS_MOUSE_INPUT_MAP={mousedown:"mouseDown",mouseup:"mouseUp",mousemove:"mouseMove",mousewheel:"mouseWheel"}},"sTouches",function(){return this.sTouches=[]}]);return b}(Event),NetStatusEvent=function(a){function b(c,a,g,d){this.info=null;void 0===a&&(a=!1);void 0===g&&(g=!1);this.info=d;b.__super.call(this,c,a,g)}__class(b,"iflash.events.NetStatusEvent",!1,a);b.NET_STATUS="netStatus";return b}(Event),ProgressEvent=function(a){function b(c,a,g,d,f){this._bytesTotal=this._bytesLoaded=NaN;void 0===a&&(a=!1);void 0===g&&(g=!1);void 0===d&&(d=0);void 0===f&&(f=0);b.__super.call(this,c,a,g);this._bytesLoaded=d;this._bytesTotal=f}__class(b,"iflash.events.ProgressEvent",!1,a);a=b.prototype;__getset(0,a,"bytesLoaded",function(){return this._bytesLoaded},function(c){this._bytesLoaded=c});__getset(0,a,"bytesTotal",function(){return this._bytesTotal},function(c){this._bytesTotal=c});b.PROGRESS="progress";b.SOCKET_DATA="socketData";return b}(Event),SampleDataEvent=function(a){function b(c,a,g,d,f){void 0===a&&(a=!1);b.__super.call(this,c,a)}__class(b,"iflash.events.SampleDataEvent",!1,a);a=b.prototype;__getset(0,a,"data",LAYAFNNULL,LAYAFNVOID);__getset(0,a,"position",LAYAFN0,LAYAFNVOID);b.SAMPLE_DATA="sampleData";return b}(Event),ShaderEvent=function(a){function b(c,a,g,d,f,h){b.__super.call(this,c)}__class(b,"iflash.events.ShaderEvent",!1,a);a=b.prototype;a.clone=LAYAFNNULL;__getset(0,a,"bitmapData",LAYAFNNULL,LAYAFNVOID);__getset(0,a,"byteArray",LAYAFNNULL,LAYAFNVOID);__getset(0,a,"vector",LAYAFNNULL,LAYAFNVOID);b.COMPLETE="complete";return b}(Event),StageOrientationEvent=function(a){function b(c,a,g,d,f){this.afterOrientation=this.beforeOrientation=null;void 0===a&&(a=!1);void 0===g&&(g=!1);this.beforeOrientation=d;this.afterOrientation=f;b.__super.call(this,c,a,g,null)}__class(b,"iflash.events.StageOrientationEvent",!1,a);b.ORIENTATION_CHANGE="orientationChange";b.ORIENTATION_CHANGING="orientationChanging";return b}(Event),StatusEvent=function(a){function b(c,a,g,d,f){this._level=this._code=null;void 0===a&&(a=!1);void 0===g&&(g=!1);void 0===f&&(f="");b.__super.call(this,c,a,g);this._code=d;this._level=f}__class(b,"iflash.events.StatusEvent",!1,a);a=b.prototype;__getset(0,a,"code",LAYAFNSTR,LAYAFNVOID);__getset(0,a,"level",LAYAFNSTR,LAYAFNVOID);b.STATUS="status";return b}(Event),SyncEvent=function(a){function b(c,a,g,d){void 0===a&&(a=!1);void 0===g&&(g=!1);b.__super.call(this,c,a,g,d)}__class(b,"iflash.events.SyncEvent",!1,a);a=b.prototype;a.clone=LAYAFNNULL;__getset(0,a,"changeList",LAYAFNNULL,LAYAFNVOID);b.SYNC="sync";return b}(Event),ThrottleEvent=function(a){function b(c,a,g,d,f){this._targetFrameRate=0;this._state="resume";void 0===a&&(a=!1);void 0===g&&(g=!1);void 0===f&&(f=0);b.__super.call(this,c,a,g);this._state=d;this._targetFrameRate=f}__class(b,"iflash.events.ThrottleEvent",!1,a);a=b.prototype;a.clone=function(){return new b("throttle")};__getset(0,a,"state",function(){return this._state});__getset(0,a,"targetFrameRate",function(){return"pause"==this._state?0:"throttle"==this._state?2:this._targetFrameRate});b.THROTTLE="throttle";return b}(Event),TimerEvent=function(a){function b(c,a,g){void 0===a&&(a=!1);void 0===g&&(g=!1);b.__super.call(this,c,a,g)}__class(b,"iflash.events.TimerEvent",!1,a);a=b.prototype;a.clone=LAYAFNNULL;a.updateAfterEvent=LAYAFNVOID;b.TIMER="timer";b.TIMER_COMPLETE="timerComplete";return b}(Event),TouchEvent=function(a){function b(c,a,d,f,h,k,l,m,n,p,q,r,v,t,u,w,x,z,A,y,C){this.isPrimaryTouchPoint=this.shiftKey=this.ctrlKey=this.controlKey=this.commandKey=this.altKey=!1;this.timestamp=0;this.samples=this.touchIntent=null;this.isTouchPointCanceled=!1;this.touchPointID=this.pressure=this.sizeY=this.sizeX=this._localY=this._localX=0;this.relatedObject=null;void 0===a&&(a=!0);void 0===d&&(d=!1);void 0===f&&(f=0);void 0===h&&(h=!1);void 0===k&&(k=NaN);void 0===l&&(l=NaN);void 0===m&&(m=NaN);void 0===n&&(n=NaN);void 0===p&&(p=NaN);void 0===r&&(r=!1);void 0===v&&(v=!1);void 0===t&&(t=!1);void 0===u&&(u=!1);void 0===w&&(w=!1);void 0===x&&(x=NaN);void 0===z&&(z="unknown");void 0===y&&(y=!1);b.__super.call(this,c,a,d,C);this.touchPointID=f;this.isPrimaryTouchPoint=h;this._localX=k;this._localY=l;this.sizeX=m;this.sizeY=n;this.pressure=p;this.relatedObject=q;this.ctrlKey=r;this.altKey=v;this.shiftKey=t;this.commandKey=u;this.controlKey=w;this.timestamp=x;this.touchIntent=z;this.samples=A;this.isTouchPointCanceled=y}__class(b,"iflash.events.TouchEvent",!1,a);var c=b.prototype;c.updateAfterEvent=function(){};c.toMouseEvent=function(){a.prototype.toMouseEvent.call(this);Event.__helpMouseEvt__.type=b.MOUSE_INPUT_TO_TOUCH_MAP[this.type];Event.__helpMouseEvt__.bubbles=this.bubbles;Event.__helpMouseEvt__.cancelable=this.cancelable;Event.__helpMouseEvt__.relatedObject=this.relatedObject;Event.__helpMouseEvt__.mCtrlKey=this.ctrlKey;Event.__helpMouseEvt__.mAltKey=this.altKey;Event.__helpMouseEvt__.mShiftKey=this.shiftKey;Event.__helpMouseEvt__.buttonDown=!0;Event.__helpMouseEvt__._lytarget=this._lytarget;Event.__helpMouseEvt__.lyData=this.lyData;Event.__helpMouseEvt__._type_=this._type_;Event.__helpMouseEvt__.touchEvent=this;return Event.__helpMouseEvt__};c.clone=function(){return new b(this.type,this.bubbles,this.cancelable,this.touchPointID,this.isPrimaryTouchPoint,this._localX,this._localY,this.sizeX,this.sizeY,this.pressure,this.relatedObject,this.ctrlKey,this.altKey,this.shiftKey,this.commandKey,this.controlKey,this.timestamp,this.touchIntent,this.samples,this.isTouchPointCanceled,this.lyData)};c.destory=function(){this.relatedObject=this.samples=null;a.prototype.destory.call(this)};__getset(0,c,"localY",function(){this._lytarget&&(this._localY=this._lytarget.mouseY);return this._localY});__getset(0,c,"localX",function(){this._lytarget&&(this._localX=this._lytarget.mouseX);return this._localX});__getset(0,c,"stageX",function(){return EventManager._stageX});__getset(0,c,"stageY",function(){return EventManager._stageY});b.isTypeMove=function(c){return"touchmove"==c||"mousemove"==c};b.isTouchType=function(c){return-1!=c.indexOf("touch")};b.touchSysEvent=function(c,a){for(var d=c.changedTouches.length,f,h=null,k=0;k<d;k++)h=c.changedTouches[k],f=new b(iflash.events.TouchEvent.SYS_TOUCH_INPUT_MAP[c.type],c.bubbles,c.cancelable,h.identifier,0==k,0,0,h.radiusX,h.radiusY,h.force,null,c.ctrlKey,c.altKey,c.shiftKey,!1,!1,c.timeStamp,"unknown",null,!1,null),EventManager.clientToStage(h.clientX,h.clientY),null!=a&&a(f)};b.TOUCH_BEGIN="touchBegin";b.TOUCH_END="touchEnd";b.TOUCH_MOVE="touchMove";b.TOUCH_OUT="touchOut";b.TOUCH_OVER="touchOver";b.TOUCH_ROLL_OUT="touchRollOut";b.TOUCH_ROLL_OVER="touchRollOver";b.TOUCH_TAP="touchTap";__static(b,["MOUSE_INPUT_TO_TOUCH_MAP",function(){return this.MOUSE_INPUT_TO_TOUCH_MAP={mouseDown:"touchBegin",mouseUp:"touchEnd",mouseMove:"touchMove",mouseOut:"touchOut",mouseOver:"touchOver",rollOut:"touchRollOut",rollOver:"touchRollOver",click:"touchTap",touchBegin:"mouseDown",touchEnd:"mouseUp",touchMove:"mouseMove",touchOut:"mouseOut",touchOver:"mouseOver",touchRollOut:"rollOut",touchRollOver:"rollOver",touchTap:"click"}},"SYS_TOUCH_INPUT_MAP",function(){return this.SYS_TOUCH_INPUT_MAP={touchstart:"touchBegin",touchmove:"touchMove",touchend:"touchEnd",touchcancel:"touchEnd"}}]);return b}(Event),Timer=function(a){function b(c,a){this._timeobj=null;this._delay=NaN;this._repeatCount=0;this._running=!1;b.__super.call(this);void 0===a&&(a=0);this.delay=c;this.repeatCount=a;this._running=!1}__class(b,"iflash.utils.Timer",!1,a);a=b.prototype;a._ontimer_=function(c,a,b){this.lyDispatchEvent(new TimerEvent("timer"));this.currentCount>=this.repeatCount&&1==this._running&&0!=this.repeatCount&&(this._running=!1,this.lyDispatchEvent(new TimerEvent("timerComplete")))};a.reset=function(){null!=this._timeobj&&(this._timeobj.runCount<this.repeatCount-1?this._timeobj.runCount=0:this.stop())};a.start=function(){this.stop();this._timeobj=this._timeobj||TimerCtrl.__DEFAULT__.addTimer(this,__bind(this,this._ontimer_),this.delay,this.repeatCount);this._running=!0};a.stop=function(){null!=this._timeobj&&(this._timeobj.deleted=!0,this._timeobj=null);this._running=!1};__getset(0,a,"currentCount",function(){return null!=this._timeobj?this._timeobj.runCount+1:0});__getset(0,a,"delay",function(){return this._delay},function(c){this._delay=c;this._timeobj&&(this._timeobj.delay=c)});__getset(0,a,"repeatCount",function(){return this._repeatCount},function(c){this._repeatCount=c});__getset(0,a,"running",function(){return this._running});b.__SPEED__=1;__static(b,["__STARTTIME__",function(){return this.__STARTTIME__=Date.now()}]);return b}(EventDispatcher),DynamicMethods=function(a){function b(c,a,g,d){this.argsClipChr=this.getName=this.setName=this.args=null;void 0===d&&(d=!0);b.__super.call(this,null,null,g,d);a=b._regMethoed.exec(a);this.setName=this.getName=a[2];g&&("string"==typeof g?this.setName=this.getName=g:(this.setName=g.set,this.getName=g.get));a[3]=a[3].replace(b._string_Trim_,"");g=a[3].split(b._argsClip);this.args=[];for(d=0;d<g.length;d++)this.args.push(DynamicProperties.__CALCULATORTYPE__[g[d]]);c.prototype["??"+a[2]]=this}__class(b,"iflash.laya.utils.DynamicMethods",!1,a);a=b.prototype;a.setValue=function(c,a){a=a.replace(b._string_Trim_,"");for(var g=a.split(b._argsClip),d=this.args.length>g.length?this.args.length:g.length,f=this.args.length+g.length-d,h=0;h<f;h++)g[h]=this.args[h](g[h]);g.splice(h,d-f);c[this.setName].apply(c,g)};a.getValue=function(c){return c[this.getName].call(c)};a.toHTML=LAYAFNFALSE;b._regMethoed=/(\s*)([\w-]+)\s*[(]\s*((\w\s*)+)[)]/;b._argsClip=/\s+/;b._string_Trim_=RegExp("(^\\s*)|(\\s*$)","g");return b}(DynamicProperties),ErrorEvent=function(a){function b(c,a,g,d,f){this.m_errorID=0;void 0===a&&(a=!1);void 0===g&&(g=!1);void 0===d&&(d="");void 0===f&&(f=0);b.__super.call(this,c,a,g,d);this.m_errorID=f}__class(b,"iflash.events.ErrorEvent",!1,a);a=b.prototype;a.clone=function(){return new b(this.type,this.bubbles,this.cancelable,this.text,this.m_errorID)};a.toString=function(){return this.formatToString("ErrorEvent","type","bubbles","cancelable","eventPhase","text","errorID")};__getset(0,a,"errorID",function(){return this.m_errorID});b.ERROR="error";return b}(TextEvent),DataEvent=function(a){function b(c,a,g,d){void 0===a&&(a=!1);void 0===g&&(g=!1);b.__super.call(this,c,a,g)}__class(b,"iflash.events.DataEvent",!1,a);__getset(0,b.prototype,"data",LAYAFNSTR,LAYAFNVOID);b.DATA="data";b.UPLOAD_COMPLETE_DATA="uploadCompleteData";return b}(TextEvent),FullScreenEvent=function(a){function b(c,a,g,d){void 0===a&&(a=!1);void 0===g&&(g=!1);void 0===d&&(d=!1);b.__super.call(this,c,a,g,d)}__class(b,"iflash.events.FullScreenEvent",!1,a);__getset(0,b.prototype,"fullScreen",LAYAFNFALSE);b.FULL_SCREEN="fullScreen";return b}(ActivityEvent),IMEEvent=function(a){function b(c,a,g,d){void 0===a&&(a=!1);void 0===g&&(g=!1);void 0===d&&(d="");b.__super.call(this,c,a,g,d)}__class(b,"iflash.events.IMEEvent",!1,a);a=b.prototype;a.clone=function(){return null};__getset(0,a,"imeClient",function(){return null},function(c){});b.IME_COMPOSITION="imeComposition";b.IME_START_COMPOSITION="imeStartComposition";return b}(TextEvent),PressAndTapGestureEvent=function(a){function b(c,a,g,d,f,h,k,l,m,n,p,q){this.tapStageY=this.tapStageX=this.tapLocalY=this.tapLocalX=0;void 0===a&&(a=!1);void 0===g&&(g=!1);void 0===f&&(f=0);void 0===h&&(h=0);void 0===k&&(k=!1);void 0===l&&(l=!1);void 0===m&&(m=!1);void 0===n&&(n=!1);void 0===p&&(p=!1);b.__super.call(this,c,a,g,d,f,h,k,l,m,n,p,q)}__class(b,"iflash.events.PressAndTapGestureEvent",!1,a);b.getInstance=function(){null==b._instance&&(b._instance=new b("gesturePressAndTap",!0,!1,"all"));return b._instance};b.GESTURE_PRESS_AND_TAP="gesturePressAndTap";b._instance=null;return b}(GestureEvent),TransformGestureEvent=function(a){function b(c,a,g,d,f,h,k,l,m,n,p,q,r,v,t,u,w){this.scaleY=this.scaleX=this.rotation=this.offsetY=this.offsetX=0;void 0===a&&(a=!1);void 0===g&&(g=!1);void 0===f&&(f=0);void 0===h&&(h=0);void 0===k&&(k=1);void 0===l&&(l=1);void 0===m&&(m=0);void 0===n&&(n=0);void 0===p&&(p=0);void 0===q&&(q=!1);void 0===r&&(r=!1);void 0===v&&(v=!1);void 0===t&&(t=!1);void 0===u&&(u=!1);b.__super.call(this,c,a,g,d,f,h,q,r,v,t,u,w);this.offsetX=n;this.offsetY=p;this.rotation=m;this.scaleX=k;this.scaleY=l}__class(b,"iflash.events.TransformGestureEvent",!1,a);b.prototype.toMouseEvent=function(){a.prototype.toMouseEvent.call(this);Event.__helpMouseEvt__.type="mouseMove";Event.__helpMouseEvt__.buttonDown=!0;return Event.__helpMouseEvt__};b.GESTURE_PAN="gesturePan";b.GESTURE_ROTATE="gestureRotate";b.GESTURE_SWIPE="gestureSwipe";b.GESTURE_ZOOM="gestureZoom";return b}(GestureEvent),SetIntervalTimer=function(a){function b(c,a,g,d){this.id=0;this.rest=this.closure=null;b.__super.call(this,a,g?0:1);this.closure=c;this.rest=d;this.addEventListener(g?"timer":"timerComplete",__bind(this,this.onTimer));this.start();this.id=b.intervals.length+1;b.intervals.push(this)}__class(b,"iflash.utils.SetIntervalTimer",!1,a);b.prototype.onTimer=function(c){this.closure.apply(null,this.rest);1==this.repeatCount&&b.intervals[this.id-1]==this&&(delete b.intervals[this.id-1],!0)};b.clearInterval=function(c){c--;b.intervals[c]instanceof iflash.utils.SetIntervalTimer&&(b.intervals[c].stop(),delete b.intervals[c],!0)};b.intervals=[];return b}(Timer),AsyncErrorEvent=function(a){function b(c,a,g,d,f){this.error=null;void 0===a&&(a=!1);void 0===g&&(g=!1);void 0===d&&(d="");b.__super.call(this,c,a,g,d)}__class(b,"iflash.events.AsyncErrorEvent",!1,a);b.prototype.clone=LAYAFNNULL;b.ASYNC_ERROR="asyncError";return b}(ErrorEvent),IOErrorEvent=function(a){function b(c,a,g,d,f){void 0===a&&(a=!1);void 0===g&&(g=!1);void 0===d&&(d="");void 0===f&&(f=0);b.__super.call(this,c,a,g,d,f)}__class(b,"iflash.events.IOErrorEvent",!1,a);b.DISK_ERROR="disk_error";b.IO_ERROR="ioError";b.NETWORK_ERROR="network_error";b.VERIFY_ERROR="verify_error";return b}(ErrorEvent),SecurityErrorEvent=function(a){function b(c,a,g,d,f){void 0===a&&(a=!1);void 0===g&&(g=!1);void 0===d&&(d="");void 0===f&&(f=0);b.__super.call(this,c,a,g,d,f)}__class(b,"iflash.events.SecurityErrorEvent",!1,a);b.SECURITY_ERROR="securityError";return b}(ErrorEvent),UncaughtErrorEvent=function(a){function b(c,a,g,d,f){void 0===c&&(c="uncaughtError");void 0===a&&(a=!0);void 0===g&&(g=!0);void 0===f&&(f=0);b.__super.call(this,c,a,g,d,f)}__class(b,"iflash.events.UncaughtErrorEvent",!1,a);__getset(0,b.prototype,"error",LAYAFNSTR);b.UNCAUGHT_ERROR="uncaughtError";return b}(ErrorEvent),AccessibilityImplementation=function(){function a(){this.errno=0;this.stub=!1}__class(a,"iflash.accessibility.AccessibilityImplementation",!0);var b=a.prototype;b.accDoDefaultAction=LAYAFNVOID;b.accLocation=LAYAFNNULL;b.accSelect=LAYAFNVOID;b.get_accDefaultAction=LAYAFNSTR;b.get_accFocus=LAYAFN0;b.get_accName=LAYAFNSTR;b.get_accRole=LAYAFN0;b.get_accSelection=LAYAFNARRAY;b.get_accState=LAYAFN0;b.get_accValue=LAYAFNSTR;b.getChildIDArray=LAYAFNARRAY;b.isLabeledBy=LAYAFNFALSE;return a}(),BitmapData=function(){function a(c,a,b,d){this._canvas_=this.paint=null;this._type_=0;this._context_=null;this._height_=this._width_=NaN;this.transparent=!1;this._url=null;this._rect_=new Rectangle;void 0===c&&(c=0);void 0===a&&(a=0);void 0===b&&(b=!0);void 0===d&&(d=16777215);this.transparent=b;this._rect_.x=this._rect_.y=0;this._rect_.width=this._width_=c;this._rect_.height=this._height_=a;this.setType(2);this.transparent||(this._createCMD_(),this._fillRect_(new Rectangle(0,0,c,a),d))}__class(a,"iflash.display.BitmapData",!0);var b=a.prototype;b.paintCanvas=function(c,a,b,d,f){0!=c.width&&0!=c.height&&this._canvas_&&0!=this._canvas_.width&&0!=this._canvas_.height&&this._canvas_&&c.drawImage(this._canvas_,0,0,this._canvas_.width,this._canvas_.height,a,b,d,f)};b.paintCmd=function(c,a,b,d,f){this._canvas_&&this._canvas_.paint(c,a,b,d,f)};b.setType=function(c){this._type_=c;this.paint=1==this._type_?this.paintCanvas:this.paintCmd};b.clone=function(){return this.copyTo(new a)};b.size=function(c,a){this._width_=c;this._height_=a};b.copyTo=function(c){c._height_=this._height_;c._width_=this._width_;c._rect_=this._rect_.clone();this._canvas_&&(c._canvas_=this._canvas_.clone());c._context_=1==c.type?c._canvas_.getContext("2d"):c._canvas_;return c};b.initBitmapdata=function(c){var a=Browser.document.createElement("image");a.onload=function(){this.setImage(a)};a.src=c;Laya.RENDERBYCANVAS&&DisplayUnit._insertUnit_(this,DrawBitmapData._DEFAULT_);return!1};b.destroy=function(){this._context_=this._canvas_=null};b.setCanvas=function(c){this._canvas_=c;this._context_=this._canvas_.getContext("2d");if(0==this._width_||0==this._height_)this._width_=c.width,this._height_=c.height};b.setImage=function(c){if(0==this._width_||0==this._height_)this._width_=c.width,this._height_=c.height;this._canvas_?2==this._type_?this._canvas_.changeImage(c):this._context_.drawImage(c,0,0):2==this._type_?(this._canvas_=new VirtualCanvas,this._canvas_.size(this._width_,this._height_),this._canvas_.setImage(c),this._context_=this._canvas_.getContext("2d")):(this._canvas_=this._canvas_||Canvas.create(),this._canvas_.size(this._width_,this._height_),this._context_=this._canvas_.getContext("2d"),this._context_.drawImage(c,0,0))};b.fillRect=function(c,a){this._createCMD_();0==a?this._context_.clearRect(c.left,c.top,c.width,c.height):this._fillRect_(c,a)};b._fillRect_=function(c,a){this._context_.save();var b,d=0,f="";if(16777215>=a)b=a.toString(16).toUpperCase(),d=6-b.length;else{b=a%16777216;var h=Laya.__parseInt(a/16777216+"");this._context_.globalAlpha=h/255;b=b.toString(16)}if(6>b.length)for(h=0;h<d;h++)f+=0;this._context_.fillStyle="#"+f+b;this._context_.fillRect(c.left,c.top,c.width,c.height);this._context_.restore()};b._createCMD_=function(){if(this._canvas_)return this._canvas_;this._canvas_=2==this._type_?Browser.document.createElement("virtualBitmap"):Canvas.create();this._context_=1==this.type?this._canvas_.getContext("2d"):this._canvas_;this._canvas_.size(this.width,this.height);return this._canvas_};b.isOk=function(){return this._canvas_&&this._canvas_.isReady()?!0:!1};b.setComplete=function(c){this._canvas_.onComplete=c};b.draw=function(c,a,b,d,f,h){null==f&&(f=new Rectangle(0,0,this.width,this.height));f.right>this.width&&(f.width=this.width-f.x);f.bottom>this.height&&(f.height=this.height-f.y);this._createCMD_();c instanceof iflash.display.BitmapData?b=c._canvas_:(b=new VirtualCanvas,b.size(c.width,c.height),c._lyToBody_(),c.conchPaint(b,0,0,!0));this._context_&&(a?this._context_.drawMartixImage(b,a,f):this._context_.drawImage(b,f.x,f.y,f.width,f.height,f.x,f.y,f.width,f.height))};b.scroll=LAYAFNVOID;b.dispose=function(){this._context_=this._canvas_=null};b.isReady=function(){return null!=this._canvas_};b.setPixels=function(c,a,b){this._width_=c.width;this._height_=c.height;var d={};d.data=a;d.width=c.width;d.height=c.height;if(Laya.CONCHVER||Laya.FLASHVER)c=Browser.document.createElement("img"),this.setImage(c),c.putImageData(b,d,0,0,null);this._url=b};b.getPixel=LAYAFN0;b.clear=function(){this._context_&&this._context_.clearRect(0,0,this._width_,this._height_)};b.copyPixels=function(c,a,b,d,f,h){void 0===h&&(h=!1);d=this._width_;f=this._height_;b=b||Point.__DEFAULT__;var k=b.x;b=b.y;var l=a.left,m=a.top,n=a.width;a=a.height;0>k&&(l-=k,n+=k,k=0);0>b&&(m-=b,a+=b,b=0);n+k>this.width&&(n=this.width-k);a+b>this.height&&(a=this.height-b);c.width<n?n=c.width:c.height<a&&(a=c.height);null==this._canvas_&&(this.size(d||n,f||a),this._createCMD_());!h&&this._canvas_.clearRect(k,b,n,a);c._canvas_&&this._canvas_.drawImage(c._canvas_,l,m,Math.min(n,this._width_),Math.min(this._height_,a),k,b,Math.min(n,this._width_),Math.min(this._height_,a))};b.getPixel32=function(c,a){return 16750848};b.lock=LAYAFNVOID;b.unlock=LAYAFNVOID;b.setPixel=LAYAFNVOID;b.getCanvas=function(){if(1==this._type_)return this._canvas_;if(this._canvas_.isNormal())return this._canvas_.getImage();var c=Canvas.create();c.size(this._width_,this._height_);var a=c.getContext("2d");c.context=a;this.paintCmd(a,0,0,this._width_,this._height_);return c};b.getCanvasII=function(){return this._canvas_.isNormal()?this._canvas_.getImage():null};b.getColorBoundsRect=function(c,a,b){return this.rect};b.copyChannel=LAYAFNVOID;b.colorTransform=LAYAFNVOID;b.applyFilter=LAYAFNVOID;b.setPixel32=LAYAFNVOID;b.threshold=function(c,a,b,d,f,h,k,l){return 0};b.getPixels=LAYAFNNULL;b.histogram=function(c){return[]};b.hitTest=function(c,a,b,d,f){return!1};b.compare=LAYAFNNULL;b.generateFilterRect=LAYAFNNULL;__getset(0,b,"type",function(){return this._type_});__getset(0,b,"width",function(){return this._width_},function(c){this.size(c,this._height_)});__getset(0,b,"rect",function(){this._rect_.width=this._width_;this._rect_.height=this._height_;return this._rect_});__getset(0,b,"height",function(){return this._height_},function(c){this.size(this._width_,c)});__getset(0,b,"url",function(){return this._url});a.CANVAS=1;a.CMD=2;return a}(),BitmapDataChannel=function(){function a(){}__class(a,"iflash.display.BitmapDataChannel",!0);a.ALPHA=8;a.BLUE=4;a.GREEN=2;a.RED=1;return a}(),BlendMode=function(){function a(){}__class(a,"iflash.display.BlendMode",!0);a.NORMAL="normal";a.LAYER="layer";a.MULTIPLY="multiply";a.SCREEN="screen";a.LIGHTEN="lighten";a.DARKEN="darken";a.ADD="add";a.SUBTRACT="subtract";a.DIFFERENCE="difference";a.INVERT="invert";a.OVERLAY="overlay";a.HARDLIGHT="hardlight";a.ALPHA="alpha";a.ERASE="erase";a.SHADER="shader";return a}(),CapsStyle=function(){function a(){}__class(a,"iflash.display.CapsStyle",!0);a.ROUND="round";a.NONE="none";a.SQUARE="square";return a}(),FrameLabel=function(){function a(){this.frame=0;this.name=null}__class(a,"iflash.display.FrameLabel",!0);return a}(),GradientType=function(){function a(){}__class(a,"iflash.display.GradientType",!0);a.LINEAR="linear";a.RADIAL="radial";return a}(),Graphics=function(){function a(c){this._context_=this._canvas_=this.ower=null;this._rendercomds_=[];this.height=this.width=this._rendercomdsOffset_=0;this.bitmapFlag=!1;this.y=this.x=0;this._rectArea=null;this.isFill=!1;this._oddeven=0;this.prefill=this._beginPos=null;this.isDrawGraphic=!1;this.lythickness=0;this.isMoveto=this.lystroke=this.lystorkeStyle=!1;this._lastY=this._lastX=this._maxY=this._maxX=this._minY=this._minX=0;this._helprec=new Rectangle;this._pointMove=new Point;this.ower=c;this._createCanvas_()}__class(a,"iflash.display.Graphics",!0);var b=a.prototype;b._createCanvas_=function(){this._canvas_||(this._canvas_=new VirtualCanvas,this._context_=this._canvas_.getContext("2d"),this._rectArea=new Rectangle)};b.hasUse=function(){return 0<this._rendercomds_.length};b._expandSize_=function(c){this._rectArea=this._rectArea?this._rectArea.union(c):c.clone();this.width=Math.max(this.width,this._rectArea.width+this.lythickness);this.height=Math.max(this.height,this._rectArea.height+this.lythickness);this.ower._height_=this.height;this.ower._width_=this.width;this.x=this._rectArea.x;this.y=this._rectArea.y;this._canvas_.size(this.width,this.height)};b.isReady=function(){return this._canvas_&&(0<this.width&&0<this.height||this.lystroke)};b.beginBitmapFill=function(c,a,b,d){void 0===b&&(b=!0);void 0===d&&(d=!1);this._rendercomds_.push([null,3,[c,a,b,d]]);this.bitmapFlag=!0};b.beginFill=function(c,a){void 0===a&&(a=1);this._oddeven=0;this.isFill=!0;var b=c.toString(16).toUpperCase(),d=6-b.length,f="";if(6>b.length)for(var h=0;h<d;h++)f+=0;d=Laya.__parseInt(255*a+"").toString(16);2>d.length&&(d="0"+d);h="rgba("+(c>>16)+","+((c&65280)>>8)+","+(c&255)+","+a+")";Laya.CONCHVER&&(h="#"+d+(f+b));this._context_.fillStyle=h;this.bitmapFlag=!1};b.beginGradientFill=function(c,a,b,d,f,h,k,l){};b.beginShaderFill=LAYAFNVOID;b.clear=function(){this.width=this.height=this.x=this.y=0;this.lystorkeStyle=this.lystroke=this.isFill=!1;this._rectArea=null;this.lythickness=0;this._context_.globalCompositeOperation="source-over";this._maxY=this._maxX=this._minY=this._minX=this._oddeven=0;this.isMoveto=!1;this._rendercomdsOffset_=this._rendercomds_.length=0;this._canvas_&&this._canvas_.clearRect(0,0,this._canvas_.width,this._canvas_.height)};b.copyFrom=LAYAFNVOID;b.cubicCurveTo=function(c,a,b,d,f,h){this.setxy(c,a);this._addplug_();this._context_.bezierCurveTo(c,a,b,d,f,h);this.lystorkeStyle&&this._context_.stroke();this.isFill&&this._context_.fill()};b.curveTo=function(c,a,b,d){this._addplug_();this.setxy(c,a);this._context_.quadraticCurveTo(c,a,b,d);this.isFill&&this._context_.fill();this._context_.stroke()};b.drawCircle=function(c,a,b){this._oddeven++;this._addplug_();this.setxy(c-b,a-b);this._helprec.x=c-b;this._helprec.y=a-b;this._helprec.width=this._helprec.height=2*b;this._expandSize_(this._helprec);this._context_.beginPath();this._context_.arc(c,a,b,0,2*Math.PI,!0);this._context_.closePath();this.isFill&&this._context_.fill();this.lystorkeStyle&&this._context_.stroke()};b.drawEllipse=function(c,a,b,d){this._addplug_();this.setxy(c,a);this._helprec.x=c-b;this._helprec.y=a-d;this._helprec.width=b;this._helprec.height=d;this._expandSize_(this._helprec);this._context_.save();var f=b>d?b:d,h=b/f*.5,k=d/f*.5;this._context_.scale(h,k);this._context_.beginPath();this._context_.arc((c+.5*b)/h,(a+.5*d)/k,f,0,2*Math.PI,!0);this._context_.closePath();this.isFill&&this._context_.fill();this.lystorkeStyle&&this._context_.stroke();this._context_.restore()};b.drawGraphicsData=LAYAFNVOID;b.drawPath=function(c,a,b){};b._addplug_=function(){1<this._oddeven&&(this._context_.globalCompositeOperation="xor");this.isDrawGraphic||(Laya.RENDERBYCANVAS?DisplayUnit._insertUnit_(this.ower,DrawGraphics._DEFAULT_):this.ower._modle_.vcanvas(this._canvas_),this.isDrawGraphic=!0)};b.drawRect=function(c,a,b,d){this._oddeven++;c=parseFloat(c);a=parseFloat(a);b=parseFloat(b);d=parseFloat(d);this._addplug_();this.setxy(c,a);!this._beginPos&&(this._beginPos=new Point);this._beginPos.x=c;this._beginPos.y=a;this._helprec.x=c;this._helprec.y=a;this._helprec.width=b;this._helprec.height=d;this._expandSize_(this._helprec);if(this.bitmapFlag)if(3==this._rendercomds_[this._rendercomds_.length-1][1]){var f=this._rendercomds_.pop(),h=f[2][1],k=f[2][0],l=k.getCanvasII();f[2][2]&&h&&!h.isTransform()&&l&&(k.width<b||k.height<d)?this._context_.fillImage(l,c,a,b,d):h?this._context_.drawMartixImage(k._canvas_,h,new Rectangle(c,a,b,d)):this._context_.drawImage(k._canvas_,c,a,b,d,c,a,b,d);this.prefill=[this._context_.drawImage,l]}else this.prefill&&this._context_.drawImage(this.prefill[1],c,a,b,d,c,a,b,d);else{if(this.lystorkeStyle)this.isFill&&this._context_.fillRect(c,a,b,d),this._context_.strokeRect(c+.5,a+.5,b,d);else if(this.isFill)this._context_.fillRect(c-1,a-1,b+1,d+1);else return;this._context_.closePath()}this._context_.globalCompositeOperation="source-over"};b.drawRoundRect=function(c,a,b,d,f,h){this._addplug_();this.setxy(c,a);f/=2;this._context_.beginPath();this._context_.moveTo(c+f,a);this._context_.arcTo(c+b,a,c+b,a+d,f);this._context_.arcTo(c+b,a+d,c,a+d,f);this._context_.arcTo(c,a+d,c,a,f);this._context_.arcTo(c,a,c+b,a,f);this.isFill&&this._context_.fill();this.lystorkeStyle&&this._context_.stroke();this._context_.closePath();this._helprec.x=c;this._helprec.y=a;this._helprec.width=b;this._helprec.height=d;this._expandSize_(this._helprec)};b.drawRoundRectComplex=LAYAFNVOID;b.drawTriangles=function(c,a,b,d){};b.endFill=function(){this.lystorkeStyle=this.lystroke=this.isFill=!1;this.lythickness=0};b.setxy=function(c,a){};b.lineBitmapStyle=function(c,a,b,d){};b.lineGradientStyle=function(c,a,b,d,f,h,k,l){};b.lineShaderStyle=LAYAFNVOID;b.lineStyle=function(c,a,b,d,f,h,k,l){void 0===c&&(c=0);void 0===a&&(a=0);void 0===b&&(b=1);if(c){this.bitmapFlag=!1;this.lystroke=this.lystorkeStyle=!0;this.lythickness=c;a=Laya.__parseInt(a+"");a=a.toString(16).toUpperCase();d=6-a.length;f="";if(6>a.length)for(h=0;h<d;h++)f+=0;this._context_.lineWidth=c;this._context_.strokeStyle="#"+(f+a);this._context_.lineCap="round";this._context_.lineJoin="round";this._context_.globalAlpha=b}};b.lineTo=function(c,a){0==this.isMoveto&&this.moveTo(0,0);this._addplug_();this._helprec.width=Math.abs(c-this._pointMove.x);this._helprec.height=Math.abs(a-this._pointMove.y);this._helprec.x=this._pointMove.x;this._helprec.y=this._pointMove.y;this._expandSize_(this._helprec);this._context_.lineTo(c,a);this._context_.stroke();this.isFill&&this._context_.fill()};b.moveTo=function(c,a){this._addplug_();this.setxy(c,a);this.lystroke=!0;this._pointMove.x=c;this._pointMove.y=a;this._context_.beginPath();this._context_.moveTo(c,a);this.isMoveto=!0};b.checkRect=function(c,a,b,d){this._minX=Math.min(this._minX,c);this._minY=Math.min(this._minY,a);this._maxX=Math.max(this._maxX,c+b);this._maxY=Math.max(this._maxY,a+d)};b.checkPoint=function(c,a){this._minX=Math.min(this._minX,c);this._minY=Math.min(this._minY,a);this._maxX=Math.max(this._maxX,c);this._maxY=Math.max(this._maxY,a);this._lastX=c;this._lastY=a};b.getBounds=function(c){return this._getBounds_(c)};b._getBounds_=function(c,a){a||(a=new Rectangle);if(c==this.ower)a.setTo(this.x,this.y,this.width,this.height);else{var b=c.globalToLocal(this.ower.localToGlobal(new Point(this.x,this.y)));a.setTo(b.x,b.y,this.width,this.height)}return a};__getset(0,b,"beginPos",function(){return this._beginPos});return a}(),GraphicsEndFill=function(){function a(){}__class(a,"iflash.display.GraphicsEndFill",!0);Laya.imps(a.prototype,{"iflash.display.IGraphicsFill":!0,"iflash.display.IGraphicsData":!0});return a}(),GraphicsGradientFill=function(){function a(c){this.colors=this.alphas=null;this.focalPointRatio=NaN;this.ratios=this.matrix=null}__class(a,"iflash.display.GraphicsGradientFill",!0);var b=a.prototype;Laya.imps(b,{"iflash.display.IGraphicsFill":!0,"iflash.display.IGraphicsData":!0});__getset(0,b,"interpolationMethod",LAYAFNSTR,LAYAFNVOID);__getset(0,b,"spreadMethod",LAYAFNSTR,LAYAFNVOID);__getset(0,b,"type",LAYAFNSTR,LAYAFNVOID);return a}(),GraphicsPath=function(){function a(c,a,b){this.data=this.commands=null}__class(a,"iflash.display.GraphicsPath",!0);var b=a.prototype;Laya.imps(b,{"iflash.display.IGraphicsPath":!0,"iflash.display.IGraphicsData":!0});b.cubicCurveTo=LAYAFNVOID;b.curveTo=LAYAFNVOID;b.lineTo=LAYAFNVOID;b.moveTo=LAYAFNVOID;b.wideLineTo=LAYAFNVOID;b.wideMoveTo=LAYAFNVOID;__getset(0,b,"winding",LAYAFNSTR,LAYAFNVOID);return a}(),GraphicsPathCommand=function(){function a(){}__class(a,"iflash.display.GraphicsPathCommand",!0);a.CUBIC_CURVE_TO=0;a.CURVE_TO=3;a.LINE_TO=2;a.MOVE_TO=1;a.NO_OP=0;a.WIDE_LINE_TO=5;a.WIDE_MOVE_TO=4;return a}(),GraphicsSolidFill=function(){function a(a){this.alpha=NaN;this.color=0}__class(a,"iflash.display.GraphicsSolidFill",!0);Laya.imps(a.prototype,{"iflash.display.IGraphicsFill":!0,"iflash.display.IGraphicsData":!0});return a}(),GraphicsStroke=function(){function a(c){this.fill=null;this.miterLimit=NaN;this.pixelHinting=!1;this.thickness=NaN}__class(a,"iflash.display.GraphicsStroke",!0);var b=a.prototype;Laya.imps(b,{"iflash.display.IGraphicsStroke":!0,"iflash.display.IGraphicsData":!0});__getset(0,b,"caps",LAYAFNSTR,LAYAFNVOID);__getset(0,b,"joints",LAYAFNSTR,LAYAFNVOID);__getset(0,b,"scaleMode",LAYAFNSTR,LAYAFNVOID);return a}(),InterpolationMethod=function(){function a(){}__class(a,"iflash.display.InterpolationMethod",!0);a.LINEAR_RGB="linearRGB";a.RGB="rgb";return a}(),JointStyle=function(){function a(){}__class(a,"iflash.display.JointStyle",!0);a.ROUND="round";a.BEVEL="bevel";a.MITER="miter";return a}(),LineScaleMode=function(){function a(){}__class(a,"iflash.display.LineScaleMode",!0);a.HORIZONTAL="horizontal";a.NONE="none";a.NORMAL="normal";a.VERTICAL="vertical";return a}(),PixelSnapping=function(){function a(){}__class(a,"iflash.display.PixelSnapping",!0);a.ALWAYS="always";a.AUTO="auto";a.NEVER="never";return a}(),DisplayUnit=function(){function a(){this.pre=this.next=null}__class(a,"iflash.display.plug.DisplayUnit",!0);var b=a.prototype;b.clone=LAYAFNNULL;b.destroy=LAYAFNVOID;b.paint=function(c,a,b,d,f,h){this.next&&this.next.paint(c,a,b,d,f,h)};__getset(0,b,"place",function(){return-1});__getset(0,b,"id",function(){return-1});a._insertUnit_=function(c,a){if(!Laya.RENDERBYCANVAS)return null;if(null==c._firstDisplayUnit_)return c._firstDisplayUnit_=a.clone(c);var b=c._firstDisplayUnit_,d,f=a.place,h=a.id;do{d=b;if(b.id==h)return b;if(b.place>=f)break;b=b.next}while(b);if(d.place==f)return b=a.clone(c),b.pre=d.pre,b.next=d.next,null==b.pre&&(c._firstDisplayUnit_=b),d.destroy(),b;if(d.place<f)return b=d.next,d.next=a.clone(c),d.next.pre=d,d.next.next=b,d.next;b=a.clone(c);d.pre&&(d.pre.next=b);b.pre=d.pre;b.next=d;d.pre=b;null==b.pre&&(c._firstDisplayUnit_=b);return b};a.removeUnit=function(c,a){a.pre&&(a.pre.next=a.next);a.next&&(a.next.pre=a.pre);a.destroy()};a._DEFAULT_=new a;return a}(),Scene=function(){function a(c){}__class(a,"iflash.display.Scene",!0);var b=a.prototype;__getset(0,b,"labels",LAYAFNNULL);__getset(0,b,"name",LAYAFNNULL);__getset(0,b,"numFrames",LAYAFN0);return a}(),Shader=function(){function a(c){this._data;c&&(this.byteCode=c)}__class(a,"iflash.display.Shader",!0);var b=a.prototype;__getset(0,b,"byteCode",null,function(c){this.data=new ShaderData(c)});__getset(0,b,"data",function(){return this._data},function(c){this._data=c});__getset(0,b,"precisionHint",LAYAFNSTR,LAYAFNVOID);return a}(),ShaderData=function(){function a(a){}__class(a,"iflash.display.ShaderData",!0);return a}(),SpreadMethod=function(){function a(){}__class(a,"iflash.display.SpreadMethod",!0);a.PAD="pad";a.REFLECT="reflect";a.REPEAT="repeat";return a}(),StageAlign=function(){function a(){}__class(a,"iflash.display.StageAlign",!0);a.isTop=function(b){return(a.ALIGN_SIGN[b]&a.NUM_T)==a.NUM_T};a.isBottom=function(b){return(a.ALIGN_SIGN[b]&a.NUM_B)==a.NUM_B};a.isLeft=function(b){return(a.ALIGN_SIGN[b]&a.NUM_L)==a.NUM_L};a.isRight=function(b){return(a.ALIGN_SIGN[b]&a.NUM_R)==a.NUM_R};a.NUM_T=1;a.NUM_L=2;a.NUM_R=4;a.NUM_B=8;a.BOTTOM="B";a.BOTTOM_LEFT="BL";a.BOTTOM_RIGHT="BR";a.LEFT="L";a.RIGHT="R";a.TOP="T";a.TOP_LEFT="TL";a.TOP_RIGHT="TR";__static(a,["ALIGN_SIGN",function(){return this.ALIGN_SIGN={T:1,L:2,R:4,B:8,BL:10,BR:12,TL:3,TR:5}}]);return a}(),StageAspectRatio=function(){function a(){}__class(a,"iflash.display.StageAspectRatio",!0);a.ANY="any";a.LANDSCAPE="landscape";a.PORTRAIT="portrait";return a}(),StageDisplayState=function(){function a(){}__class(a,"iflash.display.StageDisplayState",!0);a.FULL_SCREEN="fullScreen";a.FULL_SCREEN_INTERACTIVE="fullScreenInteractive";a.NORMAL="normal";return a}(),StageOrientation=function(){function a(){}__class(a,"iflash.display.StageOrientation",!0);a.DEFAULT="default";a.ROTATED_LEFT="rotatedLeft";a.ROTATED_RIGHT="rotatedRight";a.UNKNOWN="unknown";a.UPSIDE_DOWN="upsideDown";return a}(),StageQuality=function(){function a(){}__class(a,"iflash.display.StageQuality",!0);a.LOW="low";a.MEDIUM="medium";a.HIGH="high";a.BEST="best";return a}(),StageScaleMode=function(){function a(){}__class(a,"iflash.display.StageScaleMode",!0);a.SHOW_ALL="showAll";a.EXACT_FIT="exactFit";a.NO_BORDER="noBorder";a.NO_SCALE="noScale";return a}(),SWFVersion=function(){function a(){}__class(a,"iflash.display.SWFVersion",!0);a.FLASH1=1;a.FLASH10=10;a.FLASH11=11;a.FLASH12=0;a.FLASH2=2;a.FLASH3=3;a.FLASH4=4;a.FLASH5=5;a.FLASH6=6;a.FLASH7=7;a.FLASH8=8;a.FLASH9=9;return a}(),Filters=function(){function a(){this._alpha_=1;this.key=0}__class(a,"iflash.display.utils.Filters",!0);a.prototype.alpha=function(a,c){Laya.RENDERBYCANVAS&&UseFilter.insertUnit(a);this._alpha_=c;a._modle_.alpha(c)};a.__DEFAULT__=new a;return a}(),Point3d=function(){function a(a,c,e){this.z=this.y=this.x=NaN;this.x=a;this.y=c;this.z=e}__class(a,"iflash.display.utils.Point3d",!0);return a}(),ExternalInterface=function(){function a(){}__class(a,"iflash.external.ExternalInterface",!0);__getset(1,a,"available",LAYAFNFALSE);__getset(1,a,"objectID",LAYAFNSTR);a.addCallback=LAYAFNVOID;a.call=function(a,c){for(var e=[],g=1,d=arguments.length;g<d;g++)e.push(arguments[g]);return null};a.marshallExceptions=!1;return a}(),Base64=function(){function a(){}__class(a,"iflash.filesystem.Base64",!0);a.encode=function(b){var c=new ByteArray;c.writeUTFBytes(b);return a.encodeByteArray(c)};a.encodeByteArray=function(b){var c="",e,g=Array(4);for(b.position=0;0<b.bytesAvailable;){e=[];for(var d=0;3>d&&0<b.bytesAvailable;d++)e[d]=b.readUnsignedByte();g[0]=(e[0]&252)>>2;g[1]=(e[0]&3)<<4|e[1]>>4;g[2]=(e[1]&15)<<2|e[2]>>6;g[3]=e[2]&63;for(e=e.length;3>e;e++)g[e+1]=64;for(e=0;e<g.length;e++)c+=a.BASE64_CHARS.charAt(g[e])}return c};a.decode=function(b){b=a.decodeToByteArray(b);return b.readUTFBytes(b.length)};a.decodeToByteArray=function(b){for(var c=new ByteArray,e=Array(4),g=Array(3),d=0;d<b.length;d+=4){for(var f=0;4>f&&d+f<b.length;f++)e[f]=a.BASE64_CHARS.indexOf(b.charAt(d+f));g[0]=(e[0]<<2)+((e[1]&48)>>4);g[1]=((e[1]&15)<<4)+((e[2]&60)>>2);g[2]=((e[2]&3)<<6)+e[3];for(f=0;f<g.length&&64!=e[f+1];f++)c.writeByte(g[f])}c.position=0;return c};a.BASE64_CHARS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d";a.version="1.0.0";return a}(),FileMode=function(){function a(){}__class(a,"iflash.filesystem.FileMode",!0);a.APPEND="append";a.READ="read";a.UPDATE="update";a.WRITE="write";return a}(),FileStorage=function(){function a(){this.so=this.layaFileSystem=null;this.lastId=0;this.so=SharedObject.getLocal("LayaAirApplicationStorage_"+encodeURIComponent(location.href));this.layaFileSystem=this.so.data;this.lastId=Laya.__parseInt(this.layaFileSystem.LAYA_FS_ID)}__class(a,"iflash.filesystem.FileStorage",!0);var b=a.prototype;b.createFile=function(c){c=c.split("/").filter(function(c,a,e){return""!=d});for(var a=this.layaFileSystem,b=0;b<c.length;b++){var d=c[b];null!=d&&""!=d&&(null==a[d]?(this.lastId=Laya.__parseInt(this.layaFileSystem.LAYA_FS_ID),b<c.length-1?a[d]={LAYA_FS_TYPE:"D"}:(++this.lastId,a[d]={LAYA_FS_ID:this.lastId},this.layaFileSystem["LAYA_FS_CONTENT"+this.lastId]="",this.layaFileSystem.LAYA_FS_ID=this.lastId),a=a[d],this.so.flush()):a=a[d])}};b.getList=function(c){for(var a=c.split("/").filter(function(c,a,e){return""!=f}),b=this.layaFileSystem,d=0;d<a.length;d++){var f=a[d];null!=f&&""!=f&&null!=b[f]&&(b=b[f])}var a=[],h;for(h in b)0!=h.indexOf("LAYA_FS_CONTENT")&&0!=h.indexOf("LAYA_FS_ID")&&0!=h.indexOf("LAYA_FS_TYPE")&&(d=new File("app-storage:/"+(""==c?"":c+"/")+h),"D"==b[h].LAYA_FS_TYPE&&(d._isDirectory=!0),a.push(d));return a};b.fileExist=function(c){c=c.split("/").filter(function(c,a,e){return""!=d});for(var a=this.layaFileSystem,b=0;b<c.length;b++){var d=c[b];if(null!=d&&""!=d){if(null==a[d])return!1;a=a[d]}}return!0};b.fileWrite=function(c,a){void 0===a&&(a="");for(var b=c.split("/").filter(function(c,a,e){return""!=h}),d=this.layaFileSystem,f=0;f<b.length;f++){var h=b[f];null!=h&&""!=h&&(null==d[h]&&f<b.length-1?this.createFile(b.slice(0,f).join("/")):d=d[h])}this.layaFileSystem["LAYA_FS_CONTENT"+d.LAYA_FS_ID]=escape(a);this.so.flush()};b.fileWriteBinary=function(c,a){for(var b=c.split("/").filter(function(c,a,e){return""!=h}),d=this.layaFileSystem,f=0;f<b.length;f++){var h=b[f];null!=h&&""!=h&&(null==d[h]&&f<b.length-1?this.createFile(b.slice(0,f).join("/")):d=d[h])}this.layaFileSystem["LAYA_FS_CONTENT"+d.LAYA_FS_ID]=Base64.encodeByteArray(a);this.so.flush()};b.getBinaryFile=function(c){if(""==c||null==c)return null;c=c.split("/").filter(function(c,a,e){return""!=d});for(var a=this.layaFileSystem,b=0;b<c.length;b++){var d=c[b];null!=d&&""!=d&&"app:"!=d&&"app-storage:"!=d&&(null==a[d]?(this.lastId=Laya.__parseInt(this.layaFileSystem.LAYA_FS_ID),b<c.length-1?a[d]={LAYA_FS_TYPE:"D"}:(++this.lastId,a[d]={LAYA_FS_ID:this.lastId},this.layaFileSystem["LAYA_FS_CONTENT"+this.lastId]="",this.layaFileSystem.LAYA_FS_ID=this.lastId),a=a[d],this.so.flush()):a=a[d])}return"D"!=a.LAYA_FS_TYPE?Base64.decodeToByteArray(this.layaFileSystem["LAYA_FS_CONTENT"+a.LAYA_FS_ID]):null};b.getFile=function(c){if(""==c||null==c)return null;c=c.split("/").filter(function(c,a,e){return""!=d});for(var a=this.layaFileSystem,b=0;b<c.length;b++){var d=c[b];null!=d&&""!=d&&"app:"!=d&&"app-storage:"!=d&&(null==a[d]?(this.lastId=Laya.__parseInt(this.layaFileSystem.LAYA_FS_ID),b<c.length-1?a[d]={LAYA_FS_TYPE:"D"}:(++this.lastId,a[d]={LAYA_FS_ID:this.lastId},this.layaFileSystem["LAYA_FS_CONTENT"+this.lastId]="",this.layaFileSystem.LAYA_FS_ID=this.lastId),a=a[d],this.so.flush()):a=a[d])}return"D"!=a.LAYA_FS_TYPE?unescape(this.layaFileSystem["LAYA_FS_CONTENT"+a.LAYA_FS_ID]):null};__getset(1,a,"instance",function(){null==a.fileStorage&&(a.fileStorage=new a);return a.fileStorage});a.fileStorage=null;return a}(),BitmapFilter=function(){function a(c){this._mType=null;this.___cached=!1;this.passes=0;this._mType=c}__class(a,"iflash.filters.BitmapFilter",!0);var b=a.prototype;b.clone=function(){return new a(this._mType)};b.__preApplyFilter=LAYAFNVOID;b.__applyFilter=LAYAFNVOID;return a}(),BitmapFilterQuality=function(){function a(){}__class(a,"iflash.filters.BitmapFilterQuality",!0);a.HIGH=3;a.LOW=1;a.MEDIUM=2;return a}(),BitmapFilterType=function(){function a(){}__class(a,"iflash.filters.BitmapFilterType",!0);a.FULL="full";a.INNER="inner";a.OUTER="outer";return a}(),DisplacementMapFilterMode=function(){function a(){this.WRAP=this.IGNORE=this.COLOR=this.CLAMP=null}__class(a,"iflash.filters.DisplacementMapFilterMode",!0);return a}(),ColorTransform=function(){function a(c,a,b,d,f,h,k,l){this.alphaOffset=this.blueOffset=this.greenOffset=this.redOffset=this.alphaMultiplier=this.blueMultiplier=this.greenMultiplier=this.redMultiplier=NaN;void 0===c&&(c=1);void 0===a&&(a=1);void 0===b&&(b=1);void 0===d&&(d=1);void 0===f&&(f=0);void 0===h&&(h=0);void 0===k&&(k=0);void 0===l&&(l=0);this.redMultiplier=c;this.greenMultiplier=a;this.blueMultiplier=b;this.alphaMultiplier=d;this.redOffset=f;this.greenOffset=h;this.blueOffset=k;this.alphaOffset=l}__class(a,"iflash.geom.ColorTransform",!1);var b=a.prototype;b.concat=function(c){this.alphaOffset+=this.alphaMultiplier*c.alphaOffset;this.alphaMultiplier*=c.alphaMultiplier;this.redOffset+=this.redMultiplier*c.redOffset;this.redMultiplier*=c.redMultiplier;this.greenOffset+=this.greenMultiplier*c.greenOffset;this.greenMultiplier*=c.greenMultiplier;this.blueOffset+=this.blueMultiplier*c.blueOffset;this.blueMultiplier*=c.blueMultiplier};b.toString=function(){return"(redMultiplier\x3d"+this.redMultiplier+", greenMultiplier\x3d"+this.greenMultiplier+", blueMultiplier\x3d"+this.blueMultiplier+", alphaMultiplier\x3d"+this.alphaMultiplier+", redOffset\x3d"+this.redOffset+", greenOffset\x3d"+this.greenOffset+", blueOffset\x3d"+this.blueOffset+", alphaOffset\x3d"+this.alphaOffset+")"};__getset(0,b,"color",function(){return this.redOffset<<16|this.greenOffset<<8|this.blueOffset},function(c){this.redMultiplier=this.greenMultiplier=this.blueMultiplier=0;this.redOffset=c>>16&255;this.greenOffset=c>>8&255;this.blueOffset=c&255});a._DEFAULT_=new a;return a}(),Matrix=function(){function a(c,a,b,d,f,h){this.a=1;this.c=this.b=0;this.d=1;this.ty=this.tx=0;void 0===c&&(c=1);void 0===a&&(a=0);void 0===b&&(b=0);void 0===d&&(d=1);void 0===f&&(f=0);void 0===h&&(h=0);this.a=c;this.b=a;this.c=b;this.d=d;this.tx=f;this.ty=h}__class(a,"iflash.geom.Matrix",!0);var b=a.prototype;b.isTransform=function(){return 1!=this.a||0!=this.b||0!=this.c||1!=this.d};b.clone=function(){return new a(this.a,this.b,this.c,this.d,this.tx,this.ty)};b.createGradientBox=function(c,a,b,d,f){void 0===b&&(b=0);void 0===d&&(d=0);void 0===f&&(f=0);this.a=c/1638.4;this.d=a/1638.4;if(0!=b&&0!=b){var h=Math.cos(b);b=Math.sin(b);this.b=b*this.d;this.c=-b*this.a;this.a*=h;this.d*=h}else this.c=this.b=0;this.tx=0!=d?d+c/2:c/2;this.ty=0!=f?f+a/2:a/2};b.transformPoint=function(c){return new Point(this.a*c.x+this.c*c.y+this.tx,this.d*c.y+this.b*c.x+this.ty)};b.identity=function(){this.a=this.d=1;this.b=this.c=this.tx=this.ty=0};b.copy=function(c){this.a=c.a;this.b=c.b;this.c=c.c;this.d=c.d;this.tx=c.tx;this.ty=c.ty;return this};b.copyFrom=function(c){this.a=c.a;this.b=c.b;this.c=c.c;this.d=c.d;this.tx=c.tx;this.ty=c.ty};b.IsEqual=function(c){return this.a!=c.a||this.b!=c.b||this.c!=c.c||this.d!=c.d||this.tx!=c.tx||this.ty!=c.ty?!1:!0};b.translate=function(c,a){this.tx=c+this.tx;this.ty=a+this.ty};b.rotate=function(c){if(!(1E-7>Math.abs(c-0))){var a=Math.cos(c);c=Math.sin(c);var b=this.a*c+this.b*a,d=this.c*a-this.d*c,f=this.c*c+this.d*a,h=this.tx*a-this.ty*c,k=this.tx*c+this.ty*a;this.a=this.a*a-this.b*c;this.b=b;this.c=d;this.d=f;this.tx=h;this.ty=k}};b.scale=function(c,a){if(1!=c||1!=a)this.a*=c,this.b*=a,this.c*=c,this.d*=a,this.tx*=c,this.ty*=a};b.setTransform=function(c,a,b,d,f,h){this.a=c;this.b=a;this.c=b;this.d=d;this.tx=f;this.ty=h};b.transform=function(c,a,b,d,f,h){var k=c*this.b+a*this.d+0*this.ty,l=b*this.a+d*this.c+0*this.tx;b=b*this.b+d*this.d+0*this.ty;d=f*this.a+h*this.c+1*this.tx;f=f*this.b+h*this.d+1*this.ty;this.a=c*this.a+a*this.c+0*this.tx;this.b=k;this.c=l;this.d=b;this.tx=d;this.ty=f};b.invert=function(){var c=this.a,a=this.b,b=this.c,d=this.d,f=this.tx,h=c*d-a*b;this.a=d/h;this.b=-a/h;this.c=-b/h;this.d=c/h;this.tx=(b*this.ty-d*f)/h;this.ty=-(c*this.ty-a*f)/h;return this};b.concat=function(c){var a=this.a,b=this.c,d=this.tx;this.a=a*c.a+this.b*c.c;this.b=a*c.b+this.b*c.d;this.c=b*c.a+this.d*c.c;this.d=b*c.b+this.d*c.d;this.tx=d*c.a+this.ty*c.c+c.tx;this.ty=d*c.b+this.ty*c.d+c.ty;return this};b.preMultiplyInto=function(c,a){var b=c.a*this.a,d=0,f=0,h=c.d*this.d,k=c.tx*this.a+this.tx,l=c.ty*this.d+this.ty;if(0!=c.b||0!=c.c||0!==this.b||0!=this.c)b+=c.b*this.c,h+=c.c*this.b,d+=c.a*this.b+c.b*this.d,f+=c.c*this.a+c.d*this.c,k+=c.ty*this.c,l+=c.tx*this.b;a.a=b;a.b=d;a.c=f;a.d=h;a.tx=k;a.ty=l};b.concatSix=function(c,a,b,d,f,h){var k=this.a,l=this.c,m=this.tx;this.a=k*c+this.b*b;this.b=k*a+this.b*d;this.c=l*c+this.d*b;this.d=l*a+this.d*d;this.tx=m*c+this.ty*b+f;this.ty=m*a+this.ty*d+h};b.deltaTransformPoint=function(c){return new Point(c.x*this.a+c.y*this.c,c.x*this.b+c.y*this.d)};b.createBox=function(c,a,b,d,f){void 0===b&&(b=0);void 0===d&&(d=0);void 0===f&&(f=0);this.a=c;this.d=a;this.b=b;this.tx=d;this.ty=f};b.setTo=function(c,a,b,d,f,h){this.a=c;this.b=a;this.c=b;this.d=d;this.tx=f;this.ty=h};b.transformPointInPlace=function(c,a){a.setTo(this.a*c.x+this.c*c.y+this.tx,this.b*c.x+this.d*c.y+this.ty);return a};b.transformBounds=function(c){if(!c)return c;var a=c.x,b=c.y,d=Math.abs(c.width),f=Math.abs(c.height),a=0>c.width?a-d:a,b=0>c.height?b-f:b,h=this.a*a+this.c*b+this.tx,k=this.b*a+this.d*b+this.ty,l=this.a*(a+d)+this.c*b+this.tx,m=this.b*(a+d)+this.d*b+this.ty,n=this.a*(a+d)+this.c*(b+f)+this.tx,d=this.b*(a+d)+this.d*(b+f)+this.ty,p=this.a*a+this.c*(b+f)+this.tx,a=this.b*a+this.d*(b+f)+this.ty;c.x=Math.min(h,l,n,p);c.width=Math.max(h,l,n,p)-c.x;c.y=Math.min(k,m,d,a);c.height=Math.max(k,m,d,a)-c.y;return c};a.lerp=function(c,a,b,d){c.a=a.a+(b.a-a.a)*d;c.b=a.b+(b.b-a.b)*d;c.c=a.c+(b.c-a.c)*d;c.d=a.d+(b.d-a.d)*d;c.tx=a.tx+(b.tx-a.tx)*d;c.ty=a.ty+(b.ty-a.ty)*d};a.lerp1=function(c,a,b,d){c.a=a[0]+(b[0]-a[0])*d;c.b=a[1]+(b[1]-a[1])*d;c.c=a[2]+(b[2]-a[2])*d;c.d=a[3]+(b[3]-a[3])*d;c.tx=a[4]+(b[4]-a[4])*d;c.ty=a[5]+(b[5]-a[5])*d};a.fromSRT=function(c,a,b,d,f,h){var k=Math.sin(d);d=Math.cos(d);c.a=a*d;c.b=a*k;c.c=-b*k;c.d=b*d;c.tx=f;c.ty=h};a.fromRST=function(c,a,b,d,f,h){var k=Math.sin(d);d=Math.cos(d);c.a=a*d;c.b=b*k;c.c=-a*k;c.d=b*d;c.tx=f;c.ty=h};a.fromTransformInfo=function(c,b,g,d,f,h,k){if(0==d)a.fromSRT(c,b,g,f,h,k);else if(1E-4>Math.abs(d-f))a.fromRST(c,b,g,f,h,k);else{var l=Math.sin(d);d=Math.cos(d);c.a=b*d;c.b=g*l;c.c=-b*l;c.d=g*d;c.tx=0;c.ty=0;b=new a;b.a=d;b.b=-l;b.c=l;b.d=d;b.tx=0;b.ty=0;a.mul(c,c,b);l=Math.sin(f);d=Math.cos(f);b.a=d;b.b=l;b.c=-l;b.d=d;b.tx=0;b.ty=0;a.mul(c,c,b);c.tx=h;c.ty=k}};a.mul=function(c,a,b){var d=a.a,f=a.b,h=a.c,k=a.d,l=a.tx;a=a.ty;var m=b.a,n=b.b,p=b.c,q=b.d,r=b.tx;b=b.ty;c.a=d*m+f*p;c.b=d*n+f*q;c.c=h*m+k*p;c.d=h*n+k*q;c.tx=m*l+p*a+r;c.ty=n*l+q*a+b};__static(a,["__DEFAULT__",function(){return this.__DEFAULT__=new a},"__SMALL__",function(){return this.__SMALL__=new a(1E-5,0,0,1E-6,0,0)}]);return a}(),Matrix3D=function(){function a(c){this.$vec=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];this.$transposeTransform=[0,4,8,12,1,5,9,13,2,6,10,14,3,7,11,15];if(null!=c){if(c.length!=this.$vec.length)throw Error("Not equal length!");for(var a=0;a<this.$vec.length;a++)this.$vec[a]=c[a]}}__class(a,"iflash.geom.Matrix3D",!0);var b=a.prototype;b.append=function(c){var a=c.rawData,b=this.$vec;c=a[0];var d=a[4],f=a[8],h=a[12],k=a[1],l=a[5],m=a[9],n=a[13],p=a[2],q=a[6],r=a[10],v=a[14],t=a[3],u=a[7],w=a[11],a=a[15],x=b[0],z=b[4],A=b[8],y=b[12],C=b[1],F=b[5],D=b[9],E=b[13],G=b[2],B=b[6],H=b[10],I=b[14],J=b[3],K=b[7],L=b[11],b=b[15];this.$vec[0]=c*x+d*C+f*G+h*J;this.$vec[1]=k*x+l*C+m*G+n*J;this.$vec[2]=p*x+q*C+r*G+v*J;this.$vec[3]=t*x+u*C+w*G+a*J;this.$vec[4]=c*z+d*F+f*B+h*K;this.$vec[5]=k*z+l*F+m*B+n*K;this.$vec[6]=p*z+q*F+r*B+v*K;this.$vec[7]=t*z+u*F+w*B+a*K;this.$vec[8]=c*A+d*D+f*H+h*L;this.$vec[9]=k*A+l*D+m*H+n*L;this.$vec[10]=p*A+q*D+r*H+v*L;this.$vec[11]=t*A+u*D+w*H+a*L;this.$vec[12]=c*y+d*E+f*I+h*b;this.$vec[13]=k*y+l*E+m*I+n*b;this.$vec[14]=p*y+q*E+r*I+v*b;this.$vec[15]=t*y+u*E+w*I+a*b};b.appendRotation=function(c,a,b){this.append(this.getRotationMatrix(c/180*Math.PI,a.x,a.y,a.z,b?b.x:0,b?b.y:0,b?b.z:0))};b.appendScale=function(c,a,b){this.$vec[0]*=c;this.$vec[1]*=a;this.$vec[2]*=b;this.$vec[4]*=c;this.$vec[5]*=a;this.$vec[6]*=b;this.$vec[8]*=c;this.$vec[9]*=a;this.$vec[10]*=b;this.$vec[12]*=c;this.$vec[13]*=a;this.$vec[14]*=b};b.appendTranslation=function(c,a,b){var d=this.$vec,f=d[3],h=d[7],k=d[11],l=d[15];d[0]+=c*f;d[1]+=a*f;d[2]+=b*f;d[4]+=c*h;d[5]+=a*h;d[6]+=b*h;d[8]+=c*k;d[9]+=a*k;d[10]+=b*k;d[12]+=c*l;d[13]+=a*l;d[14]+=b*l};b.clone=function(){return new iflash.geom.Matrix3D(this.$vec)};b.copyColumnFrom=function(c,a){if(3<c)throw Error("column number too bigger");var b=c<<2;this.$vec[b]=a.x;this.$vec[b+1]=a.y;this.$vec[b+2]=a.z;this.$vec[b+3]=a.w};b.copyColumnTo=function(c,a){if(3<c)throw Error("column number too bigger");var b=c<<2;a.x=this.$vec[b];a.y=this.$vec[b+1];a.z=this.$vec[b+2];a.w=this.$vec[b+3]};b.copyFrom=function(c){for(var a=0;a<this.$vec.length;a++)this.$vec[a]=c.$vec[a]};b.copyRawDataFrom=function(c,a,b){void 0===a&&(a=0);void 0===b&&(b=!1);var d=0;a|=0;if(b)for(;16>d;d++,a++)this.$vec[this.$transposeTransform[d]]=c[a]||0;else for(;16>d;d++,a++)this.$vec[d]=c[a]||0};b.copyRawDataTo=function(c,a,b){void 0===a&&(a=0);void 0===b&&(b=!1);var d=0;a|=0;if(b)for(;16>d;d++,a++)c[a]=this.$vec[this.$transposeTransform[d]];else for(;16>d;d++,a++)c[a]=this.$vec[d]};b.copyRowFrom=function(c,a){if(3<c)throw Error("row number too bigger",0);var b=c|0;this.$vec[b]=a.x;this.$vec[b+4]=a.y;this.$vec[b+8]=a.z;this.$vec[b+12]=a.w};b.copyRowTo=function(c,a){var b=c|0;a.x=this.$vec[b];a.y=this.$vec[b+4];a.z=this.$vec[b+8];a.w=this.$vec[b+12]};b.copyToMatrix3D=function(c){for(var a=0;16>a;a++)c.rawData[a]=this.$vec[a]};b.decompose=function(c){throw Error("decompose");};b.deltaTransformVector=function(c){var a=c.x,b=c.y;c=c.z;return new Vector3D(this.$vec[0]*a+this.$vec[4]*b+this.$vec[8]*c,this.$vec[1]*a+this.$vec[5]*b+this.$vec[9]*c,this.$vec[2]*a+this.$vec[6]*b+this.$vec[10]*c)};b.identity=function(){this.$vec[0]=this.$vec[5]=this.$vec[10]=this.$vec[15]=1;this.$vec[1]=this.$vec[2]=this.$vec[3]=this.$vec[4]=this.$vec[6]=this.$vec[7]=this.$vec[8]=this.$vec[9]=this.$vec[11]=this.$vec[12]=this.$vec[13]=this.$vec[14]=0};b.interpolateTo=function(c,a){throw Error("NOT REAL FUNCTION!!!",0);};b.invert=function(){var c=this.$vec,a=c[0],b=c[4],d=c[8],f=c[12],h=c[1],k=c[5],l=c[9],m=c[13],n=c[2],p=c[6],q=c[10],r=c[14],v=c[3],t=c[7],u=c[11],w=c[15],c=n*t-p*v,x=n*u-q*v,z=n*w-r*v,A=p*u-q*t,y=p*w-r*t,C=q*w-r*u,F=+(C*k-y*l+A*m),D=-(C*h-z*l+x*m),E=+(y*h-z*k+c*m),G=-(A*h-x*k+c*l),B=1/(F*a+D*b+E*d+G*f),H=-(C*b-y*d+A*f)*B,I=+(C*a-z*d+x*f)*B,J=-(y*a-z*b+c*f)*B,K=+(A*a-x*b+c*d)*B,c=h*t-k*v,x=h*u-l*v,z=h*w-m*v,A=k*u-l*t,y=k*w-m*t,C=l*w-m*u,v=+(C*b-y*d+A*f)*B,t=-(C*a-z*d+x*f)*B,u=+(y*a-z*b+c*f)*B,w=-(A*a-x*b+c*d)*B,c=p*h-n*k,x=q*h-n*l,z=r*h-n*m,A=q*k-p*l,y=r*k-p*m,C=r*l-q*m,a=new iflash.geom.Matrix3D([F*B,H,v,-(C*b-y*d+A*f)*B,D*B,I,t,+(C*a-z*d+x*f)*B,E*B,J,u,-(y*a-z*b+c*f)*B,G*B,K,w,+(A*a-x*b+c*d)*B]);if(1E-6>Math.abs(a.determinant))return!1;for(b=0;b<this.$vec.length;b++)this.$vec[b]=a.rawData[b];return!0};b.pointAt=LAYAFNVOID;b.prepend=function(c){var a=this.$vec,b=c.rawData;c=a[0];var d=a[4],f=a[8],h=a[12],k=a[1],l=a[5],m=a[9],n=a[13],p=a[2],q=a[6],r=a[10],v=a[14],t=a[3],u=a[7],w=a[11],a=a[15],x=b[0],z=b[4],A=b[8],y=b[12],C=b[1],F=b[5],D=b[9],E=b[13],G=b[2],B=b[6],H=b[10],I=b[14],J=b[3],K=b[7],L=b[11],b=b[15];this.$vec[0]=c*x+d*C+f*G+h*J;this.$vec[1]=k*x+l*C+m*G+n*J;this.$vec[2]=p*x+q*C+r*G+v*J;this.$vec[3]=t*x+u*C+w*G+a*J;this.$vec[4]=c*z+d*F+f*B+h*K;this.$vec[5]=k*z+l*F+m*B+n*K;this.$vec[6]=p*z+q*F+r*B+v*K;this.$vec[7]=t*z+u*F+w*B+a*K;this.$vec[8]=c*A+d*D+f*H+h*L;this.$vec[9]=k*A+l*D+m*H+n*L;this.$vec[10]=p*A+q*D+r*H+v*L;this.$vec[11]=t*A+u*D+w*H+a*L;this.$vec[12]=c*y+d*E+f*I+h*b;this.$vec[13]=k*y+l*E+m*I+n*b;this.$vec[14]=p*y+q*E+r*I+v*b;this.$vec[15]=t*y+u*E+w*I+a*b};b.prependRotation=function(c,a,b){this.prepend(this.getRotationMatrix(c/180*Math.PI,a.x,a.y,a.z,b?b.x:0,b?b.y:0,b?b.z:0))};b.prependScale=function(c,a,b){this.$vec[0]*=c;this.$vec[1]*=c;this.$vec[2]*=c;this.$vec[3]*=c;this.$vec[4]*=a;this.$vec[5]*=a;this.$vec[6]*=a;this.$vec[7]*=a;this.$vec[8]*=b;this.$vec[9]*=b;this.$vec[10]*=b;this.$vec[11]*=b};b.prependTranslation=function(c,a,b){var d=this.$vec,f=d[1],h=d[5],k=d[9],l=d[2],m=d[6],n=d[10],p=d[3],q=d[7],r=d[11];d[12]+=d[0]*c+d[4]*a+d[8]*b;d[13]+=f*c+h*a+k*b;d[14]+=l*c+m*a+n*b;d[15]+=p*c+q*a+r*b};b.recompose=function(c,a){return!1};b.transformVector=function(c){var a=c.x,b=c.y;c=c.z;return new Vector3D(this.$vec[0]*a+this.$vec[4]*b+this.$vec[8]*c+this.$vec[12],this.$vec[1]*a+this.$vec[5]*b+this.$vec[9]*c+this.$vec[13],this.$vec[2]*a+this.$vec[6]*b+this.$vec[10]*c+this.$vec[14])};b.transformVectors=function(c,a){for(var b=this.$vec[0],d=this.$vec[4],f=this.$vec[8],h=this.$vec[12],k=this.$vec[1],l=this.$vec[5],m=this.$vec[9],n=this.$vec[13],p=this.$vec[2],q=this.$vec[6],r=this.$vec[10],v=this.$vec[14],t=0;t<c.length-2;t+=3){var u=c[t],w=c[t+1],x=c[t+2];a[t]=b*u+d*w+f*x+h;a[t+1]=k*u+l*w+m*x+n;a[t+2]=p*u+q*w+r*x+v}};b.transpose=function(){var c=NaN,c=this.$vec[1];this.$vec[1]=this.$vec[4];this.$vec[4]=c;c=this.$vec[2];this.$vec[2]=this.$vec[8];this.$vec[5]=c;c=this.$vec[3];this.$vec[3]=this.$vec[12];this.$vec[12]=c;c=this.$vec[6];this.$vec[6]=this.$vec[9];this.$vec[9]=c;c=this.$vec[7];this.$vec[7]=this.$vec[13];this.$vec[13]=c;c=this.$vec[11];this.$vec[11]=this.$vec[14];this.$vec[14]=c};b.getRotationMatrix=function(c,a,b,d,f,h,k){var l=a*a,m=b*b,n=d*d,p=l+m+n,q=Math.sqrt(p);a/=q;b/=q;d/=q;l/=p;m/=p;n/=p;p=Math.cos(c);c=Math.sin(c);q=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];q[0]=l+(m+n)*p;q[1]=a*b*(1-p)+d*c;q[2]=a*d*(1-p)-b*c;q[3]=0;q[4]=a*b*(1-p)-d*c;q[5]=m+(l+n)*p;q[6]=b*d*(1-p)+a*c;q[7]=0;q[8]=a*d*(1-p)+b*c;q[9]=b*d*(1-p)-a*c;q[10]=n+(l+m)*p;q[11]=0;q[12]=(f*(m+n)-a*(h*b+k*d))*(1-p)+(h*d-k*b)*c;q[13]=(h*(l+n)-b*(f*a+k*d))*(1-p)+(k*a-f*d)*c;q[14]=(k*(l+m)-d*(f*a+h*b))*(1-p)+(f*b-h*a)*c;return new iflash.geom.Matrix3D(q)};__getset(0,b,"determinant",function(){var c=this.$vec[4],a=this.$vec[8],b=this.$vec[12],d=this.$vec[5],f=this.$vec[9],h=this.$vec[13],k=this.$vec[6],l=this.$vec[10],m=this.$vec[14],n=this.$vec[7],p=this.$vec[11],q=this.$vec[15];return this.$vec[0]*(d*(l*q-p*m)-k*(f*q-p*h)+n*(f*m-l*h))-this.$vec[1]*(c*(l*q-p*m)-k*(a*q-p*b)+n*(a*m-l*b))+this.$vec[2]*(c*(f*q-p*h)-d*(a*q-p*b)+n*(a*h-f*b))-this.$vec[3]*(c*(f*m-l*h)-d*(a*m-l*b)+k*(a*h-f*b))});__getset(0,b,"position",function(){return new Vector3D(this.$vec[12],this.$vec[13],this.$vec[14])},function(c){this.$vec[12]=c.x;this.$vec[13]=c.y;this.$vec[14]=c.z});__getset(0,b,"rawData",function(){return this.$vec},function(c){if(c.length!=this.$vec.length)throw Error("Data Error");for(var a=0;a<c.length;a++)this.$vec[a]=c[a]});a.interpolate=LAYAFNNULL;return a}(),PerspectiveProjection=function(){function a(){}__class(a,"iflash.geom.PerspectiveProjection",!0);var b=a.prototype;b.toMatrix3D=LAYAFNNULL;__getset(0,b,"fieldOfView",LAYAFN0,LAYAFNVOID);__getset(0,b,"focalLength",LAYAFN0,LAYAFNVOID);__getset(0,b,"projectionCenter",LAYAFNNULL,LAYAFNVOID);return a}(),Point=function(){function a(c,a){this.y=this.x=NaN;void 0===c&&(c=0);void 0===a&&(a=0);this.x=1*c;this.y=1*a}__class(a,"iflash.geom.Point",!1);var b=a.prototype;b.add=function(c){var b=new a;b.x=this.x+c.x;b.y=this.y+c.y;return b};b.clone=function(){var c=new a;c.x=this.x;c.y=this.y;return c};b.copyFrom=function(c){this.x=c.x;this.y=c.y;return this};b.equals=function(c){return null==c?!1:c.x==this.x&&c.y==this.y?!0:!1};b.normalize=function(c){c/=this.length;this.x*=c;this.y*=c};b.offset=function(c,a){this.x+=c;this.y+=a};b.setTo=function(c,a){this.x=c;this.y=a;return this};b.subtract=function(c){var b=new a;b.x=this.x-c.x;b.y=this.y-c.y;return b};b.identity=function(){this.x=this.y=0};b.toString=function(){return"(x\x3d"+this.x+", y\x3d"+this.y+")"};__getset(0,b,"length",function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))});a.distance=function(c,a){return Math.sqrt(Math.pow(a.x-c.x,2)+Math.pow(a.y-c.y,2))};a.interpolate=function(c,b,g){var d=1-g,f=new a;f.x=c.x*g+b.x*d;f.y=c.y*g+b.y*d;return f};a.polar=function(c,b){var g=new a;g.x=c*Math.cos(b);g.y=c*Math.sin(b);return g};__static(a,["__DEFAULT__",function(){return this.__DEFAULT__=new a}]);return a}(),Rectangle=function(){function a(c,a,b,d){this.y=this.x=this.width=this.height=0;void 0===c&&(c=0);void 0===a&&(a=0);void 0===b&&(b=0);void 0===d&&(d=0);this.x=Number(c);this.y=Number(a);this.width=Number(b);this.height=Number(d)}__class(a,"iflash.geom.Rectangle",!1);var b=a.prototype;b.clone=function(){return new a(this.x,this.y,this.width,this.height)};b.contains=function(c,a){return c<this.x||a<this.y?!1:c<this.x+this.width&&a<this.y+this.height};b.containsPoint=function(c){return this.contains(c.x,c.y)};b.containsRect=function(c){return this.contains(c.x,c.y)&&this.contains(c.x+c.width,c.y+c.height)};b.copyFrom=function(c){this.x=c.x;this.y=c.y;this.width=c.width;this.height=c.height};b.equals=function(c){return this.x==c.x&&this.y==c.y&&this.width==c.width&&this.height==c.height};b.inflate=function(c,a){this.x-=c;this.y-=a;this.width+=2*c;this.height+=2*a};b.inflatePoint=function(c){this.inflate(c.x,c.y)};b.intersection=function(c){var b=Math.max(this.x,c.x),g=Math.max(this.y,c.y);return new a(b,g,Math.min(this.x+this.width,c.right)-b,Math.min(this.y+this.height,c.bottom)-g)};b.intersectionThis=function(c){var a=Math.min(this.x+this.width,c.right),b=Math.min(this.y+this.height,c.bottom);this.x=Math.max(this.x,c.x);this.y=Math.max(this.y,c.y);this.width=a-this.x;this.height=b-this.y};b.intersects=function(c){var a=Math.min(this.y+this.height,c.bottom),b=Math.max(this.y,c.y);return Math.min(this.x+this.width,c.right)>Math.max(this.x,c.x)&&a>b};b.isEmpty=function(){return 1>this.width||1>this.height};b.offset=function(c,a){this.x+=c;this.y+=a};b.offsetPoint=function(c){this.x+=c.x;this.y+=c.y};b.setEmpty=function(){this.x=this.y=this.width=this.height=0};b.setTo=function(c,a,b,d){this.x=c;this.y=a;this.width=b;this.height=d;return this};b.toString=function(){return"(x\x3d"+this.x+", y\x3d"+this.y+", w\x3d"+this.width+", h\x3d"+this.height+")"};b.union=function(c){if(null==c)return this;if(0==this.width||0==this.height)return new a(c.x,c.y,c.width,c.height);if(0==c.width||0==c.height)return new a(this.x,this.y,this.width,this.height);var b=Math.min(this.x,c.x),g=Math.min(this.y,c.y);return new a(b,g,Math.max(this.x+this.width,c.right)-b,Math.max(this.y+this.height,c.bottom)-g)};b._union_=function(c){if(null==c)return this;if(0==this.width||0==this.height)return this.setTo(c.x,c.y,c.width,c.height);if(0==c.width||0==c.height)return this.setTo(this.x,this.y,this.width,this.height);var a=Math.min(this.x,c.x),b=Math.min(this.y,c.y);return this.setTo(a,b,Math.max(this.x+this.width,c.right)-a,Math.max(this.y+this.height,c.bottom)-b)};__getset(0,b,"bottom",function(){return this.height+this.y},function(c){this.height=c-this.y});__getset(0,b,"top",function(){return this.y},function(c){this.height-=c-this.y;this.y=c});__getset(0,b,"bottomRight",function(){return new Point(this.x+this.width,this.height+this.y)},function(c){this.right=c.x;this.bottom=c.y});__getset(0,b,"left",function(){return this.x},function(c){this.width-=c-this.x;this.x=c});__getset(0,b,"right",function(){return this.x+this.width},function(c){this.width=c-this.x});__getset(0,b,"size",function(){return new Point(this.width,this.height)},function(c){this.width=c.x;this.height=c.y});__getset(0,b,"topLeft",function(){return new Point(this.x,this.y)},function(c){this.left=c.x;this.top=c.y});__static(a,["__DEFAULT__",function(){return this.__DEFAULT__=new a}]);return a}(),Transform=function(){function a(){this._colorTransform_=null;this._rotate_=0;this.__node__=null;this._scale_=a.__SCALE__;this._skew_=Point.__DEFAULT__;this._matrix_=new Matrix}__class(a,"iflash.geom.Transform",!0);var b=a.prototype;b._setNode_=function(c){this.__node__=c;this._colorTransform_=ColorTransform._DEFAULT_;Laya.RENDERBYCANVAS&&c&&DrawTransform.insertUnit(c);return this};b._setRotation_=function(c){c!=this._rotate_&&(this._rotate_=c,this.__node__._type_|=131072,this.__node__._modle_.rotate2d(c),this.__node__._propagateFlagsDown_(5))};b._setScaleX_=function(c){c!=this._scale_.x&&(this._scale_!=a.__SCALE__?this._scale_.x=c:this._scale_=new Point(c,1),this.__node__._type_|=131072,this.__node__._modle_.scale2dEx(this._scale_.x,this._scale_.y),this.__node__._propagateFlagsDown_(5))};b._setScaleY_=function(c){c!=this._scale_.y&&(this._scale_!=a.__SCALE__?this._scale_.y=c:this._scale_=new Point(1,c),this.__node__._type_|=131072,this.__node__._modle_.scale2dEx(this._scale_.x,this._scale_.y),this.__node__._propagateFlagsDown_(5))};b._setSkewX_=function(c){c!=this._skew_.x&&(this._skew_!=Point.__DEFAULT__?this._skew_.x=c:this._skew_=new Point(c,0),this.__node__._type_|=131072,Laya.CONCHVER&&(c=this.matrix,this.__node__._modle_.matrix(c.a,c.b,c.c,c.d,0,0)),this.__node__._propagateFlagsDown_(5))};b._setSkewY_=function(c){c!=this._skew_.y&&(this._skew_!=Point.__DEFAULT__?this._skew_.y=c:this._skew_=new Point(0,c),this.__node__._type_|=131072,Laya.CONCHVER&&(c=this.matrix,this.__node__._modle_.matrix(c.a,c.b,c.c,c.d,0,0)),this.__node__._propagateFlagsDown_(5))};__getset(0,b,"matrix",function(){if(0==(this.__node__._type_&131072))return this._matrix_.clone();this.__node__._type_&=-131073;if(0==this._skew_.x&&0==this._skew_.y)if(0==this._rotate_)this._matrix_.setTo(this._scale_.x,0,0,this._scale_.y,this.__node__._left_,this.__node__._top_);else{var c=Math.cos(this._rotate_*a.ATOR),b=Math.sin(this._rotate_*a.ATOR);this._matrix_.a=this._scale_.x*c;this._matrix_.b=this._scale_.x*b;this._matrix_.c=this._scale_.y*-b;this._matrix_.d=this._scale_.y*c;this._matrix_.tx=this.__node__._left_;this._matrix_.ty=this.__node__._top_}else this._matrix_.identity(),this._matrix_.a=this._scale_.x,this._matrix_.d=this._scale_.y,a.__skew__(this._matrix_,this._skew_.x,this._skew_.y),this._matrix_.translate(this.__node__._left_,this.__node__._top_);return this._matrix_.clone()},function(c){this._matrix_.IsEqual(c)||(this._matrix_.copy(c),this.__node__.x=this._matrix_.tx,this.__node__.y=this._matrix_.ty,this._skew_=this._skew_!=Point.__DEFAULT__?this._skew_:new Point,this._skew_.x=Math.atan(-this._matrix_.c/this._matrix_.d),this._skew_.y=Math.atan(this._matrix_.b/this._matrix_.a),this._skew_.x!=this._skew_.x&&(this._skew_.x=0),this._skew_.y!=this._skew_.y&&(this._skew_.y=0),this._scale_=this._scale_!=a.__SCALE__?this._scale_:new Point,this._scale_.y=this._skew_.x>-a.PI_4&&this._skew_.x<a.PI_4?this._matrix_.d/Math.cos(this._skew_.x):-this._matrix_.c/Math.sin(this._skew_.y),this._scale_.x=this._skew_.y>-a.PI_4&&this._skew_.y<a.PI_4?this._matrix_.a/Math.cos(this._skew_.y):this._matrix_.b/Math.sin(this._skew_.y),Math.abs(c.a*c.b)==Math.abs(c.c*c.d)?(this._rotate_=Math.min(this._skew_.x*a.RTOA,this._skew_.y*a.RTOA),this._scale_.y=this._scale_.x=Math.min(this._scale_.y,this._scale_.x)):this._skew_.x-1E-4<this._skew_.y&&this._skew_.x+1E-4>this._skew_.y?(this._rotate_=this._skew_.x*a.RTOA,this._skew_.x=this._skew_.y=0):this._rotate_=0,1==c.a&&0==c.b&&0==c.c&&1==c.d||this.__node__._modle_.matrix(c.a,c.b,c.c,c.d,0,0),this.__node__._propagateFlagsDown_(5))});__getset(0,b,"colorTransform",function(){return null==this._colorTransform_?this._colorTransform_=new ColorTransform:this._colorTransform_},function(c){this._colorTransform_=c});__getset(0,b,"concatenatedMatrix",LAYAFNNULL);a.__skew__=function(c,a,b){var d=Math.sin(a);a=Math.cos(a);var f=Math.sin(b);b=Math.cos(b);c.setTransform(c.a*b-c.b*d,c.a*f+c.b*a,c.c*b-c.d*d,c.c*f+c.d*a,c.tx*b-c.ty*d,c.tx*f+c.ty*a);c};a.__SCALE__=new Point(1,1);a.__DEFAULT__=new a;__static(a,["PI2",function(){return this.PI2=2*Math.PI},"PI_4",function(){return this.PI_4=Math.PI/4},"RTOA",function(){return this.RTOA=180/Math.PI},"ATOR",function(){return this.ATOR=Math.PI/180}]);return a}(),Vector3D=function(){function a(c,a,b,d){this.$w=this.$z=this.$y=this.$x=0;void 0===c&&(c=0);void 0===a&&(a=0);void 0===b&&(b=0);void 0===d&&(d=0);this.$x=c;this.$y=a;this.$z=b;this.$w=d}__class(a,"iflash.geom.Vector3D",!1);var b=a.prototype;b.add=function(c){return new a(this.$x+c.x,this.$y+c.y,this.$z+c.z)};b.clone=function(){return new a(this.$x,this.$y,this.$z,this.$w)};b.copyFrom=function(c){this.$x=c.x;this.$y=c.y;this.$z=c.z};b.crossProduct=function(c){return new a(this.$y*c.z-this.$z*c.y,this.$z*c.x-this.$x*c.z,this.$x*c.y-this.$y*c.x,1)};b.decrementBy=function(c){this.$x-=c.x;this.$y-=c.y;this.$z-=c.z};b.dotProduct=function(c){return this.$x*c.x+this.$y*c.y+this.$z*c.z};b.equals=function(c,a){void 0===a&&(a=!1);return this.$x==c.x&&this.$y==c.y&&this.$z==c.z&&(!a||this.$w==c.w)};b.incrementBy=function(c){this.$x+=c.x;this.$y+=c.y;this.$z+=c.z};b.nearEquals=function(c,a,b){void 0===b&&(b=!1);return Math.abs(this.$x-c.x)<a&&Math.abs(this.$y-c.y)<a&&Math.abs(this.$z-c.z)<a&&(!b||Math.abs(this.$w-c.w)<a)};b.negate=function(){this.$x=-this.$x;this.$y=-this.$y;this.$z=-this.$z};b.normalize=function(){var c=c;0!=c?(this.$x/=c,this.$y/=c,this.$z/=c):this.$x=this.$y=this.$z=0;return c};b.project=function(){this.$x/=this.$w;this.$y/=this.$w;this.$z/=this.$w};b.scaleBy=function(c){this.$x*=c;this.$y*=c;this.$z*=c};b.setTo=function(c,a,b){this.$x=c;this.$y=a;this.$z=b};b.subtract=function(c){return new a(this.$x-c.x,this.$y-c.y,this.$z-c.z)};b.toString=function(){return"Vector3D("+this.$x+", "+this.$y+", "+this.$z+")"};__getset(0,b,"x",function(){return this.$x},function(c){this.$x=c});__getset(0,b,"y",function(){return this.$y},function(c){this.$y=c});__getset(0,b,"z",function(){return this.$z},function(c){this.$z=c});__getset(0,b,"w",function(){return this.$w},function(c){this.$w=c});__getset(0,b,"length",function(){return Math.sqrt(this.lengthSquared)});__getset(0,b,"lengthSquared",function(){return this.$x*this.$x+this.$y*this.$y+this.$z*this.$z});a.angleBetween=function(c,a){return Math.acos(c.dotProduct(a)/(c.length*a.length))};a.distance=function(c,a){return c.subtract(a).length};__static(a,["X_AXIS",function(){return this.X_AXIS=new a(1,0,0)},"Y_AXIS",function(){return this.Y_AXIS=new a(0,1,0)},"Z_AXIS",function(){return this.Z_AXIS=new a(0,0,1)}]);return a}(),Canvas=function(){function a(){this.context3D=this.context=null;this.activTime=NaN;this.top=this.left=this._height_=this._width_=this.decY=this.decX=this._active_=0;this.style=null}__class(a,"iflash.laya.display.Canvas",!0);var b=a.prototype;b.getContext=function(c,a){switch(c){case "2d":return this.context;case "experimental-webgl":return this.context3D}};b.size=function(c,a){if(c!=this._width_||a!=this._height_)this._width_=c,this._height_=a,this.width=c,this.height=a,this.context&&(this.context.widthMe=c,this.context.heightMe=a)};b.active=function(){this.activTime=Laya.window.updateTime;if(0<this._active_)return!0;a.enable(this);return!1};b.reset=function(){this.context.filter=null;this.context.textAlign="left";this.context.textBaseline="top"};b._getType_=function(){return 3};b.isReady=function(){return!0};b.getContent=function(){return this};b.clone=function(){var c=a.create();c.context=c.getContext("2d");c.size(this.width,this.height);c.context.drawImage(this,0,0,this.width,this.height);return c};b.setCanvasType=LAYAFNVOID;__getset(0,b,"width",function(){return this._width_},function(c){c!=this._width_&&this.size(c,this._height_)});__getset(0,b,"height",function(){return this._height_},function(c){c!=this._height_&&this.size(this._width_,c)});a.getTempCanvas=function(){return a._TEMP_=a._TEMP_||a.create()};a.create=function(){return Browser.document.createElement("canvas")};a.__on_new__=function(c){c.size||(c.size=a._DEFAULT_.size,c.active=a._DEFAULT_.active,c.isReady=a._DEFAULT_.isReady,c._getType_=a._DEFAULT_._getType_,c.left=a._DEFAULT_.left,c.top=a._DEFAULT_.top,c.decX=c.decY=0,c.getContent=a._DEFAULT_.getContent,c.clone=a._DEFAULT_.clone);iflash.laya.display.Canvas._bIs3D?(iflash.laya.display.Canvas._Canvas3DInited=!0,this.enable3D(c)):this.enable(c)};a.enableTimeoutRelease=function(c,b){c._active_=b?0>c._active_?c._active_:1:a._DISABLETIMEOUTRELEASE_};a.disable=function(c){c.context&&(c.context.canvas=null,c.context=null)};a.destroy=function(c){a.disable(c)};a.enable=function(c){c.context=c.getContext("2d");c.context.canvas=c};a.enable3D=function(c){c.context3D=c.getContext("webgl",{alpha:!1,stencil:!0})||c.getContext("experimental-webgl",{alpha:!1,stencil:!0});try{WebGLDebugUtils&&(c.context3D=WebGLDebugUtils.makeDebugContext(c.context3D))}catch(a){}c.context3D&&(c.context3D.canvas=c);window.conch&&SetupWebglContext(c.context3D)};a._DISABLETIMEOUTRELEASE_=1E4;a._Canvas3DInited=!1;a._TEMP_=null;a._bIs3D=!1;__static(a,["_DEFAULT_",function(){return this._DEFAULT_=new a}]);return a}(),Context=function(){function a(){}__class(a,"iflash.laya.display.Context",!0);a.prototype.getBitMap=function(){return null};return a}(),DisplayMethod=function(){function a(){}__class(a,"iflash.laya.display.DisplayMethod",!0);a.JpgToPng=function(a){var c=0,e=0,g=0,d=0,f=0,h,k,l=Canvas.create(),d=a.width,f=Math.floor((a.height-1)/2);l.size(d,f);l.context.drawImage(a,0,0,d,f,0,0,d,f);h=l.context.getImageData(0,0,d,f);k=h.data;c=Canvas.getTempCanvas();c.active();c.size(d,f);c.context.drawImage(a,0,f+2,d,f,0,0,d,f);a=c.context.getImageData(0,0,d,f).data;for(g=0;g<f;g++)for(c=g*d<<2,e=0;e<d;)c+=4,e++,k[c+3]=a[c];l.context.putImageData(h,0,0);return l};return a}(),IModel=function(){function a(c){this.jnode=null;this.jnode=c}__class(a,"iflash.laya.display.IModel",!0);var b=a.prototype;b.setHideText=LAYAFNVOID;b.vcanvas=LAYAFNVOID;b.reset=LAYAFNVOID;b.uploadCmd=LAYAFNVOID;b.pos=LAYAFNVOID;b.zIndex=LAYAFNVOID;b.size=LAYAFNVOID;b.scale2d=LAYAFNVOID;b.scale2dEx=LAYAFNVOID;b.rotate2d=LAYAFNVOID;b.bgcolor=LAYAFNVOID;b.bgimg=LAYAFNVOID;b.position=LAYAFNVOID;b.image=function(c,a){};b.bitmapdataContent=LAYAFNVOID;b.border=LAYAFNVOID;b.font=LAYAFNVOID;b.text=LAYAFNVOID;b.textStrs=LAYAFNVOID;b.clip=LAYAFNVOID;b.insert=LAYAFNVOID;b.flip=LAYAFNVOID;b.padding=LAYAFNVOID;b.margin=LAYAFNVOID;b.scroll=LAYAFNVOID;b.alpha=LAYAFNVOID;b.filter=LAYAFNVOID;b.globalCompositeOperation=LAYAFNVOID;b.show=LAYAFNVOID;b.destroy=LAYAFNVOID;b.destroyAllChild=LAYAFNVOID;b.swap=LAYAFNVOID;b.removeAt=LAYAFNVOID;b.setOrigin=LAYAFNVOID;b.color=LAYAFNVOID;b.setToCanvas=LAYAFNVOID;b.quote=LAYAFNVOID;b.quoteEx=LAYAFNVOID;b.matrix=LAYAFNVOID;b.virtualBitmap=LAYAFNVOID;b.drawImage9=LAYAFNVOID;b.drawImage3=LAYAFNVOID;b.flashClip=LAYAFNVOID;b.removeClip=LAYAFNVOID;b.mask=LAYAFNVOID;b.textView=LAYAFNVOID;__static(a,["__DEFAULT__",function(){return this.__DEFAULT__=new a(null)}]);return a}(),VirtualCanvas=function(){function a(){this._cmds_=[];this.height=this.width=this.loaded=this.imageNum=0;this.conchVirtualBitmap=this.onComplete=this.baseImage=null;this.heightScale=this.widthScale=1;this.inMap=!1}__class(a,"iflash.laya.display.VirtualCanvas",!0);var b=a.prototype;b._check_=function(){this.conchVirtualBitmap&&!this.inMap&&(ConchRenderVCanvas.maps.push(this),this.inMap=!0)};b._conchResize_=function(){Laya.CONCHVER&&(this.conchVirtualBitmap||(this.conchVirtualBitmap=new ConchVirtualBitmap),this.conchVirtualBitmap.size(this.width,this.height))};b.size=function(c,a){this.width=c;this.height=a;this._conchResize_()};b.setImage=function(c){this.clear();this.baseImage=c;this.drawImage(c,0,0);this._check_()};b.changeImage=function(c){this.baseImage!=c&&this.setImage(c)};b.isNormal=function(){return this.baseImage&&1==this._cmds_.length};b.getImage=function(){return this.baseImage};b.removeImage=function(){this.baseImage=null};b.checkCMDfull=function(){};b.drawMartixImage=function(c,b,g){0!=c._cmds_.length&&(0==b.b&&0==b.c&&0<b.a&&0<b.d&&c.isNormal()?this.drawImage(c.baseImage,(g.x-b.tx)/b.a,(g.y-b.ty)/b.d,g.width/b.a,g.height/b.d,g.x,g.y,g.width,g.height):(a._DEFAULT_.clear(),a._DEFAULT_.save(),a._DEFAULT_.beginPath(),a._DEFAULT_.rect(g.x,g.y,g.width,g.height),a._DEFAULT_.clip(),a._DEFAULT_.transform(b.a,b.b,b.c,b.d,b.tx,b.ty),c.copyTo(a._DEFAULT_),a._DEFAULT_.restore(),this.drawVCanvas([a._DEFAULT_._cmds_,g.x,g.y,g.width,g.height,g.x,g.y,g.width,g.height])))};b.drawVCanvas=function(c){this._cmds_.push(["_drawVCanvas_",c]);c=c[0];for(var a=0,b=c.length;a<b;a++)-1!=c[a][0].indexOf("_drawImage")&&this._loadImg_(c[a][1][0]);this._check_()};b.save=function(){this._cmds_.push(["_save_",null]);this._check_()};b.restore=function(){this.checkCMDfull();this._cmds_.push(["_restore_",null]);this._check_()};b.beginPath=function(){this._cmds_.push(["_beginPath_",null]);this._check_()};b.drawImage=function(c){var b=arguments;this.checkCMDfull();var g=b[0],d=g._cmds_;0<g.width&&g.width<b[3]&&(b[3]=g.width);0<g.width&&g.height<b[4]&&(b[4]=g.height);if(d)if(1==d.length&&3==d[0][1].length)b[0]=d[0][1][0],this.drawImage.apply(this,b);else{var d=b[7]/b[3],f=b[8]/b[4];a._DEFAULT_.clear();a._DEFAULT_.save();a._DEFAULT_.translate(b[5],b[6]);if(b[3]<g.width||b[4]<g.height)a._DEFAULT_.beginPath(),a._DEFAULT_.rect(0,0,b[7],b[8]),a._DEFAULT_.clip();a._DEFAULT_.scale(d,f);a._DEFAULT_.translate(-b[1],-b[2]);g.copyTo(a._DEFAULT_);a._DEFAULT_.restore();b[0]=a._DEFAULT_._cmds_;this.drawVCanvas(b)}else 3==b.length?this._cmds_.push(["_drawImage3_",b]):5==b.length?this._cmds_.push(["_drawImage5_",b]):this._cmds_.push(["_drawImage9_",b]),this._loadImg_(g),this._check_()};b.rect=function(c,a,b,d){this._cmds_.push(["_rect_",[c,a,b,d]]);this._check_()};b.clip=function(){this._cmds_.push(["_clip_",null]);this._check_();return!0};b.scale=function(c,a){if(1!=c||1!=a)this._cmds_.push(["_scale_",[c,a]]),this._check_()};b.translate=function(c,a){if(0!=c||0!=a)this._cmds_.push(["_translate_",[c,a]]),this._check_()};b.transform=function(c,a,b,d,f,h){this._cmds_.push(["_transform_",[c,a,b,d,f,h]]);this._check_()};b.clearRect=function(c,a,b,d){if(0==c&&0==a&&b==this.width&&d==this.height)this.clear();else{var f;b=c+b;d=a+d;for(var h=0,k=this._cmds_.length;h<k;h++){var l=this._cmds_[h];("_drawVCanvas_"==l[0]||"_drawImage9_"==l[0])&&(f=l[1])[5]>=c&&f[6]>=a&&f[5]+f[7]<=b&&f[6]+f[8]<=d&&(this._cmds_.splice(h,1),h--,k--)}this._check_()}};b.closePath=function(){this._cmds_.push(["_closePath_",null]);this._check_()};b.fillRect=function(c,a,b,d){this._cmds_.push(["_fillRect_",[c,a,b,d]]);this._check_()};b.stroke=function(){this._cmds_.push(["_stroke_",null]);this._check_()};b.strokeRect=function(c,a,b,d){this._cmds_.push(["_strokeRect_",[c,a,b,d]]);this._check_()};b.strokeText=function(c,a,b){Laya.CONCHVER||(this._cmds_.push(["_strokeText_",[c,a,b]]),this._check_())};b.fillText=function(c,b,g){c=c.replace(a.pre,function(c){return{"\x00":"0","\u0001":"1","\u0002":"2","\u0003":"3","\u0004":"4","\u0005":"5","\u0006":"6","\u0007":"7"}[c]||c});this._cmds_.push(["_fillText_",[c,b,g]]);this._check_()};b.fill=function(){this._cmds_.push(["_fill_",null]);this._check_()};b.moveTo=function(c,a){this._cmds_.push(["_moveTo_",[c,a]]);this._check_()};b.lineTo=function(c,a){this._cmds_.push(["_lineTo_",[c,a]]);this._check_()};b.arc=function(c,a,b,d,f,h){this._cmds_.push(["_arc_",[c,a,b,d,f,h]]);this._check_()};b.arcTo=function(c,a,b,d,f){this._cmds_.push(["_arcTo_",[c,a,b,d,f]]);this._check_()};b.bezierCurveTo=function(c,a,b,d,f,h){this._cmds_.push(["_bezierCurveTo_",[c,a,b,d,f,h]]);this._check_()};b.quadraticCurveTo=function(c,a,b,d){this._cmds_.push(["_quadraticCurveTo_",[c,a,b,d]]);this._check_()};b.fillImage=function(c,a,b,d,f){this._cmds_.push(["_drawRepeat_",[c,a,b,d,f]]);this._check_()};b._drawRepeat_=function(c,a){if(c instanceof iflash.laya.display.VirtualCanvas)c.fillImage.apply(c,a);else{var b=c.createPattern(a[0],"repeat");c.fillStyle=b;c.fillRect(a[1],a[2],a[3],a[4])}};b._transform_=function(c,a){c.transform.apply(c,a)};b._beginPath_=function(c,a){c.beginPath()};b._closePath_=function(c,a){c.closePath()};b._fillStyle_=function(c,a){c.fillStyle=a[0]};b._globalAlpha_=function(c,a){c.globalAlpha=a[0]};b._globalCompositeOperation_=function(c,a){c.globalCompositeOperation=a[0]};b._lineCap_=function(c,a){c.lineCap=a[0]};b._lineWidth_=function(c,a){c.lineWidth=a[0]};b._lineJoin_=function(c,a){c.lineJoin=a[0]};b._strokeStyle_=function(c,a){c.strokeStyle=a[0]};b._stroke_=function(c,a){c.stroke()};b._strokeRect_=function(c,a){c.strokeRect.apply(c,a)};b._translate_=function(c,a){c.translate.apply(c,a)};b._scale_=function(c,a){c.scale.apply(c,a)};b._save_=function(c,a){c.save()};b._restore_=function(c,a){c.restore()};b._strokeText_=function(c,a){c.strokeText.apply(c,a)};b._fillText_=function(c,a){c.fillText.apply(c,a)};b._fill_=function(c,a){c.fill()};b._moveTo_=function(c,a){c.moveTo.apply(c,a)};b._lineTo_=function(c,a){c.lineTo.apply(c,a)};b._arc_=function(c,a){c.arc.apply(c,a)};b._arcTo_=function(c,a){c.arcTo.apply(c,a)};b._bezierCurveTo_=function(c,a){c.bezierCurveTo.apply(c,a)};b._quadraticCurveTo_=function(c,a){c.quadraticCurveTo.apply(c,a)};b._clip_=function(c,a){c.clip()};b._rect_=function(c,a){c.rect.apply(c,a)};b._drawImage3_=function(c,a){c.drawImage.apply(c,a)};b._drawImage5_=function(c,a){c.drawImage.apply(c,a)};b._drawImage9_=function(c,a){c.drawImage.apply(c,a)};b._drawVCanvas_=function(c,a){for(var b=a[0],d=0,f=b.length;d<f;d++)this[b[d][0]].call(this,c,b[d][1])};b._font_=function(c,a){c.font=a[0]};b._textBaseline_=function(c,a){c.textBaseline=a[0]};b._loadImg_=function(c){};b._checkloadComplete=function(){this.imageNum==this.loaded&&this.onComplete&&this.onComplete()};b.isReady=function(){return this.imageNum==this.loaded};b.copyTo=function(c){for(var a=0,b=this._cmds_.length;a<b;a++)this[this._cmds_[a][0]].call(this,c,this._cmds_[a][1])};b.paint=function(c,a,b,d,f){var h=!1;0<d&&0<f&&(this.widthScale=d/this.width,this.heightScale=f/this.height,h=1!=this.widthScale||1!=this.heightScale);d=0==a&&0==b;switch(this._cmds_.length){case 0:break;case 1:h&&c.save();d?(h&&c.scale(this.widthScale,this.heightScale),this[this._cmds_[0][0]].call(this,c,this._cmds_[0][1])):(c.translate(a,b),h&&c.scale(this.widthScale,this.heightScale),this[this._cmds_[0][0]].call(this,c,this._cmds_[0][1]),c.translate(-a,-b));h&&c.restore();break;default:c.save();!d&&c.translate(a,b);1==this.widthScale&&1==this.heightScale||c.scale(this.widthScale,this.heightScale);a=0;for(b=this._cmds_.length;a<b;a++)this[this._cmds_[a][0]].call(this,c,this._cmds_[a][1]);c.restore()}};b._fillRect_=function(c,a){c.fillRect.apply(c,a)};b.getContext=function(c){return this};b.clear=function(){this._cmds_=[];this.baseImage=null;this._check_()};b.clone=function(){var c=new a;this.copyTo(c);c.baseImage=this.baseImage;c.width=this.width;c.height=this.height;c._conchResize_();return c};__getset(0,b,"context",function(){return this});__getset(0,b,"font",null,function(c){this._cmds_.push(["_font_",[c]]);this._check_()});__getset(0,b,"lineJoin",null,function(c){this._cmds_.push(["_lineJoin_",[c]]);this._check_()});__getset(0,b,"strokeStyle",null,function(c){this._cmds_.push(["_strokeStyle_",[c]]);this._check_()});__getset(0,b,"globalAlpha",null,function(c){1!=c&&(this._cmds_.push(["_globalAlpha_",[c]]),this._check_())});__getset(0,b,"fillStyle",null,function(c){this._cmds_.push(["_fillStyle_",[c]]);this._check_()});__getset(0,b,"globalCompositeOperation",null,function(c){this._cmds_.push(["_globalCompositeOperation_",[c]]);this._check_()});__getset(0,b,"lineCap",null,function(c){this._cmds_.push(["_lineCap_",[c]]);this._check_()});__getset(0,b,"lineWidth",null,function(c){this._cmds_.push(["_lineWidth_",[c]]);this._check_()});__getset(0,b,"textBaseline",null,function(c){this._cmds_.push(["_textBaseline_",[c]]);this._check_()});a.getConchSring=function(c){for(var b="",g=0,d=c.length;g<d;g++){var f=c[g],h=ConchRenderVCanvas.CMDMAP[f[0]];-1==h?b+=a.getConchSring(f[1][0]):-1!=f[0].indexOf("draw")?(f=Array.prototype.slice.call(f[1]),f[0]=f[0].imgId,b+=h+"\u0004"+f.join("\u0004")):b=null==f[1]?b+h:b+(h+"\u0004"+f[1].join("\u0004"));g!=d-1&&(b+="\u0005")}return b};a._DEFAULT_=new a;a.MAXCMDNUM=200;__static(a,["pre",function(){return this.pre=RegExp("[\x00\u0001\u0002\u0003\u0004\u0005\u0006\u000789]","g")}]);return a}(),Document3=function(){function a(){this._createElement_=this._addEventListener_=this.onscroll=this.onmousewheel=this.ontouchmove=this.onselectstart=this.head=this.body=null}__class(a,"iflash.laya.driver.Document",!0,null,"Document3");var b=a.prototype;b.addEventListener=function(c,a,b){null!=this._addEventListener_?this._addEventListener_.call(this,c,a,b):this.attachEvent("on"+c,a)};b.getElementsByTagName=LAYAFNNULL;b.attachEvent=function(c,a){};b.createElement=function(c){var a=this;switch(c){case "virtualBitmap":return new VirtualCanvas;case "canvas":return c=this._createElement_.call(this,c),Canvas.__on_new__(c),c;case "img":case "image":return c=this._createElement_.call(this,"img"),c.left=c.top=0,null==c._getType_&&(c._getType_=function(){return 1},c.getContent=function(){return this},c.isReady=function(){return 0<this.width},c.rect=function(c,a,b,e){this.left=c;this.top=a;this.width=b;this.height=e},c.clone||(c.clone=function(){var c=a.createElement("img");c.width=this.width;c.height=this.height;c.left=this.left;c.top=this.top;c.src=this.src;return c})),c}return this._createElement_.call(this,c)};__getset(0,b,"title",null,function(c){});a.__init__=function(c){c._addEventListener_=c.addEventListener;c.addEventListener=a.__TMP__.addEventListener;c._createElement_=c.createElement;c.createElement=a.__TMP__.createElement};__static(a,["__TMP__",function(){return this.__TMP__=new a}]);return a}(),Driver=function(){function a(c){this._frameRate_=NaN;this.tempId=null;this.buttonDown=!1;this.create(c);this._init_(c)}__class(a,"iflash.laya.driver.Driver",!0);var b=a.prototype;b.create=function(c){Browser.document=document;Browser.window=window;Browser.location=location;Browser.navigator=navigator;Document3.__init__(Browser.document)};b._init_=function(c){a._input||(Laya.CONCHVER?Browser.input=Browser.document.createElement("input"):(Browser.input=a._input=window.document.createElement("input"),a._textarea=window.document.createElement("textArea")),Laya.CONCHVER?(Browser.input.setSelectionRange=function(c,a){var b=Browser.input.value.length;0>c?c=0:c>=b&&(c=b);Browser.input.setCursorPosition(c)},Browser.input.setFontSize(60)):(a._input.setPos=a._textarea.setPos=function(c,a){Browser.input.style.left=c+"px";Browser.input.style.top=a+"px"},a._input.setSize=a._textarea.setSize=function(c,a){Browser.input.style.width=c+"px";Browser.input.style.height=a+"px"},a._input.setStyle=a._textarea.setStyle=function(c){Browser.input.style.cssText=c},a._input.setFont=a._textarea.setFont=function(c){Browser.input.style.fontFamily=c},a._input.setColor=a._textarea.setColor=function(c){Browser.input.style.color=c},a._input.setOpacity=a._textarea.setOpacity=function(c){Browser.input.style.opacity=c},a._input.setFontSize=a._textarea.setFontSize=function(c){Browser.input.style.fontSize=c+"px"},a._input.setScale=a._textarea.setScale=function(c,a){Browser.input.style.webkitTransform="scale("+c+","+a+")";Browser.input.style.mozTransform="scale("+c+","+a+")";Browser.input.style.oTransform="scale("+c+","+a+")";Browser.input.style.msTransform="scale("+c+","+a+")"},a._input.setRotate=a._textarea.setRotate=function(c){Browser.input.style.webkitTransform+="rotate("+c+"deg)";Browser.input.style.mozTransform+="rotate("+c+"deg)";Browser.input.style.oTransform+="rotate("+c+"deg)";a._textarea.style.msTransform+="rotate("+c+"deg)"},a._input.setType=a._textarea.setType=function(c,b){void 0===b&&(b=!1);iflash.laya.driver.Driver.enableTouch()&&!Laya.CONCHVER?b&&"password"!=c?Browser.input=a._textarea:(a._input.type=c,Browser.input=a._input):Browser.input="password"==c?a._input:a._textarea},a._input.setRegular=a._textarea.setRegular=function(c){a._textarea.onkeyup=c},a._input.setAlign=a._textarea.setAlign=function(c){Browser.input.style.textAlign=c},a._input.clear=a._textarea.clear=function(){a._input.value="";a._textarea.value=""}),c="-webkit-transform-origin:left top;-moz-transform-origin:left top;transform-origin:left top;-ms-transform-origin:left top;position:absolute;top:-2000;border:none;z-index:9999;",a.enableTouch()||(c+="background:transparent;outline:none;overflow:hidden;"),Browser.input.setStyle(c),Laya.CONCHVER?Browser.document.body.appendChild(a._textarea):(a._textarea.style.cssText=c,a._textarea.style.resize="none",!a.enableTouch()&&(a._input.type="password")))};b.err=LAYAFNVOID;b.alert=function(c){alert(c)};b.onEnterFrame=function(c){null!=Laya.window&&(c=Browser.window,null!=Laya.window&&(Laya.window.resizeTo(c.innerWidth,c.innerHeight),Laya.window.enterFrame(),Laya.RENDERBYCANVAS&&this.onDomRender()))};b.onDomRender=function(){null!=Laya.window&&Laya.document.render()};b.onResize=LAYAFNVOID;b.start=function(){Laya.HTMLVER&&(Browser.document.body.style.cssText+="overflow:hidden;margin:0;padding:0")};b._debugger_=function(){debugger};b.eval=function(c,a){a=a||Browser.window;a.eval(c)};b.getRootCanvas=function(){return Browser.document.createElement("canvas")};b.createModle=function(c,b,g){return 0<a.__DOMCACHE__.length?(c=a.__DOMCACHE__.pop(),c.reset(b,g),c):Laya.CONCHVER&&!Laya.RENDERBYCANVAS?new ConchNode:IModel.__DEFAULT__};b.attachBrowserMouseEvent=function(c,a,b){c=c.toLowerCase();(Laya.CONCHVER?Browser.document:Laya.document.canvas).addEventListener(c.substring(2,c.length),a,!1)};b.attachBrowserKeyEvent=function(c,a){Browser.document[c.toLowerCase()]=function(b){var d=new KeyboardEvent(c.substring(2));d.keyCode=b.keyCode;d.shiftKey=b.shiftKey;d.ctrlKey=b.ctrlKey;a(d)}};b.createHttpRequest=function(){return new HttpRequest};b.regEvent=function(){var c=EventManager.mgr;a.enableTouch()?(a.activateTouchEvent(),c.dealAccepInput=c.dealAcceptTouchInput,c.enableTouch=!0):(this.attachBrowserMouseEvent("onmouseDown",function(a){c.acceptSystemMouseEvent(a)}),this.attachBrowserMouseEvent("onmouseMove",function(a){c.acceptSystemMouseEvent(a)}),this.attachBrowserMouseEvent("onmouseUp",function(a){c.acceptSystemMouseEvent(a)}),Browser.window.onmousewheel=Browser.document.onmousewheel=function(a){c.acceptSystemMouseEvent(a)});this.attachBrowserKeyEvent("onkeyDown",function(a){c.acceptSystemKeyEvent(a)});this.attachBrowserKeyEvent("onkeyUp",function(a){c.acceptSystemKeyEvent(a)})};b.cursor=function(c){Browser.document.body.style.cursor=c};__getset(0,b,"frameRate",function(){return this._frameRate_},function(c){this._frameRate_=c;a.interval&&clearInterval(a.interval);var b=this;a.interval=setInterval(function(){b.onEnterFrame()},1E3/c)});a.enableTouch=function(){return Laya.CONCHVER?window.enableTouch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch};a.activateTouchEvent=function(){a.touchActive=!0;var c=Laya.CONCHVER?Browser.document:Laya.document.canvas;c.addEventListener("touchstart",a.touchstartHandler);c.addEventListener("touchmove",a.touchmoveHandler);c.addEventListener("touchend",a.touchendHandler);c.addEventListener("touchcancel",a.touchcancelHandler)};a.deactivateTouchEvent=function(){a.touchActive=!1;var c=Laya.CONCHVER?Browser.document:Laya.document.canvas;c.removeEventListener("touchstart",a.touchstartHandler);c.removeEventListener("touchend",a.touchendHandler);c.removeEventListener("touchmove",a.touchmoveHandler);c.removeEventListener("touchcancel",a.touchcancelHandler)};a.touchstartHandler=function(c){EventManager.mgr.acceptSystemMouseEvent(c)};a.touchmoveHandler=function(c){c.type="touchmove";EventManager.mgr.acceptSystemMouseEvent(c)};a.touchendHandler=function(c){c.type="touchend";EventManager.mgr.acceptSystemMouseEvent(c)};a.touchcancelHandler=function(c){c.type="touchcancel";EventManager.mgr.acceptSystemMouseEvent(c)};a.__DOMCACHE__=[];a.__ID__=1E5;a.interval=null;a._textarea=null;a._input=null;a.touchActive=!1;return a}(),Location=function(){function a(){this.href=null}__class(a,"iflash.laya.driver.Location",!0);a.prototype.reload=LAYAFNVOID;return a}(),Navigator=function(){function a(){}__class(a,"iflash.laya.driver.Navigator",!0);return a}(),Window2=function(){function a(){this.innerHeight=this.innerWidth=0;this.onscroll=this.event=this._title_=this.onmousewheel=this.ActiveXObject=this.XMLHttpRequest=null;this.scrollLeft=this.scrollTop=0;this._ConchMask=this.DeviceMotionEvent=this.conchMarket=this.conchConfig=null}__class(a,"iflash.laya.driver.Window",!0,null,"Window2");var b=a.prototype;b.eval=LAYAFNNULL;b.setTimeout=LAYAFNVOID;b.clearInterval=LAYAFNVOID;b.setInterval=LAYAFN0;__getset(0,b,"title",function(){return this._title_},function(c){this._title_=c});return a}(),ILaya=function(){function a(c,a){this._html_=null;Laya.ilaya=this;Laya.Main(c);this._html_=a;!this._html_&&Laya.CONCHVER&&Browser.location&&Browser.location.href&&(this._html_=Browser.location.href)}__class(a,"iflash.laya.ILaya",!0);var b=a.prototype;b._onInit_=LAYAFNVOID;b.onStart=function(){Browser.hideSystemLoading()};return a}(),Ajax=function(){function a(){}__class(a,"iflash.laya.net.Ajax",!0);a.onJSONDone=function(a,c,e){null==c?e():a(c)};a.GetJSONInBrowser=function(b,c,e,g){void 0===e&&(e="\x26");var d,f=function(c){d=c},h="";null!=c&&(h=iflash.utils.getTimer()+"",Browser.window["layacallback"+h]=f);var k=Browser.document.createElement("script");k.type="text/javascript";k.onerror=null!=g?g:c;k.onload=k.onreadystatechange=function(b,e){var g=/loaded|complete/;if(e||!k.readyState||g.test(k.readyState+""))if(k.onload=k.onreadystatechange=null,!e)a.onJSONDone(c,d,k.onerror)};k.src=b+(""!=h?e+"callback\x3dlayacallback"+h:"");Browser.document.getElementsByTagName("head")[0].appendChild(k)};a.GetJSONInApp=function(b,c,e,g){void 0===e&&(e="\x26");var d="",f="";null!=c&&(f=iflash.utils.getTimer()+"",Browser.window["layacallback"+f]=function(c){d=c});Browser.window.downloadfile(b+(""!=f?e+"callback\x3dlayacallback"+f:""),!0,function(b){console.log("getJson onload:"+b);Browser.eval(b);a.onJSONDone(c,d,null)},function(){console.log("getjson error");a.onJSONDone(null,null,null!=g?g:c)})};a.GetJSON=function(b,c,e,g){void 0===e&&(e="\x26");return Laya.CONCHVER?a.GetJSONInApp(b,c,e,g):a.GetJSONInBrowser(b,c,e,g)};return a}(),Cookie=function(){function a(c){this._data=this._name=null;this._name=c}__class(a,"iflash.laya.net.Cookie",!0);var b=a.prototype;b.clear=function(){this._data={};localStorage.removeItem(this._name)};b.close=LAYAFNVOID;b.flush=function(c){localStorage.setItem(this._name,window.JSON.stringify(this._data));return this._name};b.send=function(c){};b.setDirty=LAYAFNVOID;b.setProperty=function(c,a){this._data.propertyName=a};__getset(0,b,"data",function(){return this._data});__getset(0,b,"objectEncoding",LAYAFN0,LAYAFNVOID);__getset(0,b,"fps",null,LAYAFNVOID);__getset(0,b,"client",LAYAFNNULL,LAYAFNVOID);__getset(0,b,"size",LAYAFN0);__getset(1,a,"defaultObjectEncoding",LAYAFN0,LAYAFNVOID);a.deleteAll=LAYAFN0;a.getDiskUsage=LAYAFN0;a.getLocal=function(c,b,g){b=new a(c);b._data=localStorage.getItem(c)?window.JSON.parse(localStorage.getItem(c)):{};return b};a.getRemote=function(c,a,b,d){return null};return a}(),FileData=function(){function a(c,b,g){this.quoteFile=this.contentdata=this.contentType=null;this.state=0;this.baseURI=this._type_=this._fileRead_=null;this.state=0;this._type_=b||a.TYPE_TEXT;this.baseURI=new URI(Method.formatUrl(c));g&&("string"==typeof g&&(g=a.getFileData(g)),this.quoteFile=g,this.contentdata=g.contentdata);this._fileRead_=[]}__class(a,"iflash.laya.net.FileData",!0);var b=a.prototype;b.unload=function(){this.contentdata=null;delete a._files[this.baseURI.url];this._fileRead_=null};b.addFileRead=function(c){if(3==this.state)c.onload(this.contentdata);else this._fileRead_.push(c)};b.onload=function(c){if(Laya.HTMLVER&&this._type_==a.TYPE_ARRAYBUFFER){if(!c)return;var b=new ByteArray;b.endian=c.endian;b.writeArrayBuffer(c);b.position=0;c=b}this.contentdata=c;this.state=3;this._disposeLoaded_()};b.onerror=function(c){delete a._files[this.baseURI.url];this.state=a.LOAD_STATE_ERR;this.onerrorLoaded()};b.getData=function(c){if(3==this.state)return this.contentdata;if(this.quoteFile){if(3==this.quoteFile.state)return this.onload(this.quoteFile.getData());this.quoteFile.addFileRead(this);return null}if(0==this.state||this.state==a.LOAD_STATE_ERR){this.state=2;var b=Browser.createHttpRequest(),g=this;b.onload=function(c){g.onload(c)};b.onerror=function(c){g.onerror(c)};"binary"==this._type_&&Laya.HTMLVER&&(this._type_=a.TYPE_ARRAYBUFFER);"binary"==this._type_&&Laya.FLASHVER?c?b.open(this.baseURI.url,this._type_,null,!0,c.method,c.data,c.requestHeaders):b.open(this.baseURI.url,this._type_):c?b.open(this.baseURI.url,this._type_==a.TYPE_ARRAYBUFFER?a.TYPE_ARRAYBUFFER:null,null,!0,c.method,c.data,c.requestHeaders):b.open(this.baseURI.url,this._type_==a.TYPE_ARRAYBUFFER?a.TYPE_ARRAYBUFFER:null);return null}};b.onerrorLoaded=function(){this.state=3;if(this._fileRead_){for(var c=0,a=this._fileRead_.length;c<a;c++)this._fileRead_[c].loadError(this.contentdata);this._fileRead_=null}};b._disposeLoaded_=function(){this.state=3;for(var c=0,a=this._fileRead_.length;c<a;c++)this._fileRead_[c].onload(this.contentdata);this._fileRead_=null};a.setFileIsLoaded=function(c,a){Method.formatUrl(c)};a.fileIsLoaded=function(c){c=Method.formatUrl(c);return null!=a._files[c]};a.getFileData=function(c){c=Method.formatUrl(c);return a._files[c]};a._files=[];a.LOAD_STATE_ERR=-1;a.LOAD_STATE_NO=0;a.LOAD_STATE_RELEASE=1;a.LOAD_STATE_LOADING=2;a.LOAD_STATE_LOADED=3;a.TYPE_IMAGE="image";a.TYPE_TEXT="text";a.TYPE_ARRAYBUFFER="arraybuffer";return a}(),FileRead=function(){function a(c,a,b,d){this._contentType_=this._callBack_=this.data=null;this._callBack_=a;this._createFileData_(c,b);this.data.getData(d)}__class(a,"iflash.laya.net.FileRead",!0);var b=a.prototype;b._createFileData_=function(c,a){!this.data&&(this.data=new FileData(c,a,null),this.data.contentType=Method.formatUrlType(c));this.data.addFileRead(this)};b.onload=function(c){this._callBack_&&(this._callBack_.onload.call(this._callBack_.reader,this),this._callBack_=null,this.unload())};b.loadError=function(c){this._callBack_&&(this._callBack_.unOnload.call(this._callBack_.reader,this),this._callBack_=null)};b.unload=function(){this.data&&this.data.unload();this.data=null};b.load=function(){return this.data.getData()};__getset(0,b,"baseURI",function(){return this.data.baseURI});__getset(0,b,"contentType",function(){return this.data?this.data.contentType:null},function(c){this.data&&(this.data.contentType=c)});__getset(0,b,"loaded",function(){return 3==this.data.state});__getset(0,b,"url",function(){return this.data.baseURI.url});__getset(0,b,"contentdata",function(){this.data.getData();return this.data.contentdata});return a}(),Location1=function(){function a(){this._conchConfig=this._rootPath=this._host=this._protocol=this._fullPath_=this._href_=null;Laya.window.location=this;this.href=Browser.location.href}__class(a,"iflash.laya.net.Location",!0,null,"Location1");var b=a.prototype;__getset(0,b,"href",function(){return this._href_},function(c){this._href_=c;this._fullPath_=Method.getPath(this._href_)});__getset(0,b,"rootPath",function(){return this._rootPath},function(c){this._rootPath=c});__getset(0,b,"fullPath",function(){return this._fullPath_});__getset(0,b,"host",function(){return this._host});__getset(0,b,"protocol",function(){return this._protocol});__getset(0,b,"conchConfig",function(){return this._conchConfig});return a}(),DataType=function(){function a(){}__class(a,"iflash.laya.runner.DataType",!0);a.initKeyMap=function(){a.MAP=[];var b="NULL ID CHAR SHORT FLOAT STRING INT BYTE CURRENT HOST TEMPLATE_ID ARRAY MATRIX BOOL RESOURCE TEMPLET FRAME INTERPOLATION NEWID END FRAME_END POP PUSH SYMBOL_CLASS LYIMAGELEMENT SHAPE BITMAPDATA BITMAP SPRITE MOVIECLIP TEXTFIELD BUTTON REMOVE_ALL SET_INSTANCE_NAME REMOVE_INSTANCE_NAME NEW_OBJECT ADD_CHILD REMOVE_CHILD SET_TRANSFORM POS EMPTY SET_ALPHA SET_VISIBLE INIT_LYIMAGELEMENT_CMD INIT_SHAPE_CMD INIT_MOVIECLIP_CMD INIT_TEXTFIELD_CMD INIT_BUTTON_CMD INIT_STATICTEXTFIELDCMD".split(" "),c,e;for(e in b)c=b[e],a.MAP[a[c]]=c;return a.MAP};a.NULL=0;a.ID=1;a.CHAR=3;a.SHORT=4;a.FLOAT=5;a.STRING=6;a.INT=7;a.BYTE=8;a.CURRENT=9;a.HOST=10;a.TEMPLATE_ID=11;a.ARRAY=12;a.MATRIX=13;a.BOOL=14;a.RESOURCE=21;a.TEMPLET=22;a.FRAME=23;a.INTERPOLATION=24;a.NEWID=25;a.END=26;a.FRAME_END=27;a.POP=28;a.PUSH=29;a.SYMBOL_CLASS=30;a.LYIMAGELEMENT=51;a.SHAPE=52;a.BITMAPDATA=53;a.BITMAP=54;a.SPRITE=55;a.MOVIECLIP=56;a.TEXTFIELD=57;a.BUTTON=58;a.STATICTEXTFIELD=59;a.REMOVE_ALL=151;a.SET_INSTANCE_NAME=152;a.REMOVE_INSTANCE_NAME=153;a.NEW_OBJECT=154;a.ADD_CHILD=155;a.REMOVE_CHILD=156;a.SET_TRANSFORM=157;a.POS=158;a.EMPTY=159;a.SET_ALPHA=160;a.SET_VISIBLE=161;a.INIT_LYIMAGELEMENT_CMD=162;a.INIT_SHAPE_CMD=163;a.INIT_MOVIECLIP_CMD=164;a.INIT_TEXTFIELD_CMD=165;a.INIT_BUTTON_CMD=166;a.INIT_SHAPE2ADDCMD=167;a.INIT_STATICTEXTFIELDCMD=168;a.MAP=null;return a}(),AnimationCreate=function(){function a(){this.commands={}}__class(a,"iflash.laya.runner.defines.AnimationCreate",!0);a.removeAll=function(a,c){for(;a.numChildren;)a.removeChildAt(0)};a.setInstanceName=function(a,c,e){c=a._animData_.objes[c];try{c.name=e,a[e]=c}catch(g){}};a.removeInstanceName=LAYAFNVOID;a.newObject=function(a,c,e,g){a._animData_.objes[c]&&1==a._animData_.objes[c].v||(a._animData_.objes[c]?a.removeChild(a._animData_.objes[c]):g?(e=iflash.utils.getDefinitionByName(g))?(g=new e,g instanceof iflash.display.BitmapData&&(g=new Bitmap(g)),a._animData_.objes[c]=g):(g=a.loaderInfo.applicationDomain.newInstance(g),g instanceof iflash.display.BitmapData?(g=new Bitmap(g),a._animData_.objes[c]=g):g&&(a._animData_.objes[c]=g)):(g=a.loaderInfo.getResource(String(e)))&&(a._animData_.objes[c]=g.lyclone()))};a.addChild=function(a,c,e){a._animData_.objes[c]&&a._animData_.objes[c].parent||!a._animData_.objes[c]||(a.addChild(a._animData_.objes[c]),a._animData_.objes[c].zIndex=e)};a.removeChild=function(a,c){void 0===c&&(c=0);a._animData_.objes[c]&&1==a._animData_.objes[c].v||!a._animData_.objes[c]||(a.removeChild(a._animData_.objes[c]),a._animData_.objes[c].alpha=!0)};a.setTransform=function(a,c){var e=a._animData_.objes[c[0]];e&&!e.v&&e&&(e.x=c[1],e.y=c[2],e.scaleX=c[3],e.scaleY=c[4],e.skewX=c[6],e.skewY=c[7],e.rotation=c[5])};a.pos=function(a,c,e,g){(a=a._animData_.objes[c])&&(a.x=e,a.y=g)};a.empty=function(a,c){};a.setAlpha=function(a,c,e){(a=a._animData_.objes[c])&&(a.alpha=e)};a.setVisible=function(a,c,e){a._animData_.objes[c]&&(a._animData_.objes[c].visible=e)};a.getCurrentKey=function(a){return a._animData_.baseKey};a.getKey=function(a){return++a._animData_.baseKey};a.initLyImage=function(a,c,e,g){a.width=e;a.height=g;a.src=a.loaderInfo.__imageUrl__+String(c)+".png";return a.loaderInfo.temp[a.loaderInfo.temp.length]=a};a.initShap=function(a,c,e){a._init_({data:c,matrix:e});return a};a.initShape2Add=function(a,c,e,g,d){DisplayObject.initModule=!1;var f=new LyImageElement;f.src=a.loaderInfo.__imageUrl__+c+".png";a.loaderInfo.config&&(f.assetUr=a.loaderInfo.__imageUrl__+"a"+a.loaderInfo.config[c+".png"].tid+".png",f.assetConfig=a.loaderInfo.config[c+".png"]);f.width=e;f.height=g;f.orgH=g;f.orgW=e;f.scale9Data=a.loaderInfo.argData?a.loaderInfo.argData[c+1]:null;a.loaderInfo.temp[a.loaderInfo.temp.length]=f;a._init_({data:f,matrix:d});DisplayObject.initModule=!0;return a};a.initStaticText=function(a,c,e,g,d,f,h,k,l,m,n,p,q,r){a._width=f+5;a._height=h+5;a.tempBound={x:c,y:-2};a.x=c;a.y=e;a._autoSize="left";a._multiline=l;a._wordWrap=k;a._type="static";c=new TextFormat;c.size=q/20;2==n&&(c.align="center");n=p.lastIndexOf("*");-1!=n?(q=p.substring(n+1),-1<q.indexOf("Bold")&&(c.bold=!0),-1<q.indexOf("Italic")&&(c.italic=!0),c.font=q.replace(/\s*(Bold|Italic)\s*/g,""),c.color=Number("0x"+p.substring(0,n))):c.color=Number(p.replace("#","0x"));r&&(a.htmlText=r);a.defaultTextFormat=c};a.initText=function(a,c,e,g,d,f,h,k,l,m,n,p,q,r){a.width=f;a.height=h;a.tempBound={x:c,y:0};a.x=c;a.y=e;a.multiline=l;a.wordWrap=k;!m&&(a.type="input");c=new TextFormat;c.size=q/20;0==n?c.align="left":1==n?c.align="right":2==n&&(c.align="center");n=p.lastIndexOf("*");-1!=n?(q=p.substring(n+1),-1<q.indexOf("Bold")&&(c.bold=!0),-1<q.indexOf("Italic")&&(c.italic=!0),c.font=q.replace(/\s*(Bold|Italic)\s*/g,""),c.color=Number("0x"+p.substring(0,n))):c.color=Number(p.replace("#","0x"));r&&(-1==r.indexOf("\x3cp")?a.text=r:a.htmlText=r);a.defaultTextFormat=c};a.initButton=function(a,c,e,g,d,f){for(var h=new AnimationData,k=f.length,l={},m=0;m<k;m+=2)l[f[m]]=f[m+1];h.totalFrame=d;h.labs=l;a._animData_=h;a._interval_=60;a.runner=c;a.width=e;a.height=g;a._type_|=16;return a};a.initMovie=function(a,c,e,g,d,f){for(var h=new AnimationData,k=f?f.length:0,l={},m=0;m<k;m+=2)l[f[m]]=f[m+1];h.totalFrame=d;h.labs=l;a._animData_=h;a._interval_=60;a.runner=c;a.width=e;a.height=g;a.loaderInfo.argData&&a.loaderInfo.argData.hasOwnProperty(a.charId)&&(a.scale9Data=a.loaderInfo.argData[a.charId].scale9Data);a._type_|=16;return a};return a}(),OneCmdData=function(){function a(){this.args=this.oneFun=null}__class(a,"iflash.laya.runner.OneCmdData",!0);a.prototype.applyTo=function(a,c){return this.oneFun._fun_.apply(a,this.args)};a.CreateOneCmdData=function(b,c,e){var g=Register._functions_[b];if(!g)throw Error("\u6b64\u51fd\u6570\u672a\u6ce8\u518cid("+b+"),ctype("+b+")");var d;g.useID?(d=new OneCmdDataUseId,d.id=c.readUnsignedByte()):d=new a;d.oneFun=g;d.args=g.readParams(c,e);c=d.args;switch(b){case 157:d.args=[c[0],new Float32Array(c.slice(1))]}return d};return a}(),OneFunction=function(){function a(a,c,e,g){this._fun_=null;this._argsType_=[];this.useID=!1;this.argCount=0;this._fun_=a;this._argsType_=g;this.useID=e}__class(a,"iflash.laya.runner.OneFunction",!0);a.prototype.readParams=function(b,c){for(var e=[],g=this._argsType_.length,d=0;d<g;d++)e.push(a.readParam(this._argsType_[d],b,c));return e};a.readParam=function(b,c,e){var g,d=0,f=d=0;switch(b){case 8:case 3:g=c.readByte();break;case 5:g=c.readFloat();break;case 7:g=c.readInt();break;case 4:g=c.readShort();break;case 14:g=c.readBoolean();break;case 6:g=c.readUTF();break;case 9:g=Runnner.getCurrentObj();break;case 1:d=c.readShort();g=LoaderInfo.getLoaderInfo(e).getResource(d.toString());break;case 10:g="HOST";break;case 0:g=null;break;case 11:d=c.readShort();g=Runnner.template[d];break;case 12:f=c.readByte();if(!f){g=[];break}b=c.readByte();g=[];for(d=0;d<f;d++)g.push(a.readParam(b,c,e));break;case 13:f=c.readShort();g=[null,null,null,null,null,null];for(d=0;d<f;d++)g[d]=a.readParam(5,c,e);g=new Matrix(g[0],g[1],g[2],g[3],g[4],g[5])}return g};a.loaderId=0;return a}(),Register=function(){function a(){}__class(a,"iflash.laya.runner.Register",!0);a.regFunction=function(b,c,e,g,d){for(var f=[],h=4,k=arguments.length;h<k;h++)f.push(arguments[h]);if(10>b)throw"regFunction id must\x3e10,id:"+b;a._functions_[b]=new OneFunction(c,e,g,f)};a.regClass=function(b,c){if(10>b)throw"regClass id must\x3e10,id:"+b;a._class_[b]=c};a._functions_=[];a._class_=[];a._id_=0;return a}(),Runnner=function(){function a(c,a){this.parent=null;this._comm_=[];this._functions_=[];this._id_=-1;void 0===a&&(a=-1);this._id_=a}__class(a,"iflash.laya.runner.Runnner",!0);var b=a.prototype;b.deleteLoaderInfo=function(){a._info=null;a.currentObj=null};b.interpolation=function(c){c.readUnsignedShort();c.readUnsignedShort();this._comm_.push(null)};b.compile=function(c,b){for(a._info=b;c.bytesAvailable;){var g=c.readUnsignedByte(),d;switch(g){case 0:continue;case DataType.RESOURCE:g=c.readShort();d=c.readByte();this.res(g,d);d=new a(this,g);d.compile(c,b);d.run(a.getCurrentObj(),new RunOne);break;case DataType.TEMPLET:g=c.readShort();d=new a(this,g);iflash.laya.runner.Runnner.template[g]=d;d.compile(c,b);break;case DataType.END:return 0;case DataType.FRAME:d=new a(this,-1);this._comm_.push(d);d.compile(c,b);break;case DataType.INTERPOLATION:this.interpolation(c);break;case DataType.FRAME_END:return 0;case 30:g=c.readShort();d=c.readUTF();0==g&&(g=32767,b.mainClass=d);b.pushResource(b.getResource(g.toString()),d);SWFTools.connect(d);iflash.laya.runner.Runnner.symbolClass.push({tagId:g,name:d,loadInfo:"infoId"});break;default:this._comm_.push(OneCmdData.CreateOneCmdData(g,c,b.__id__))}}a.currentObj=null;return-1};b.res=function(c,b){DisplayObject.initModule=!1;var g=new Register._class_[b];DisplayObject.initModule=!0;g.__id__=a._info.__id__;g.charId=c;a._info.pushResource(g,c.toString());a.currentObj=g};b.run=function(c,a){for(var b=0,d=this._comm_.length;b<d;b++)this._comm_[b]&&this._comm_[b].applyTo(c,a);return-1};b.run2=function(c){for(var b=0,g=this._comm_.length;b<g;b++)this._comm_[b]&&(this._comm_[b].args[0]=c,this._comm_[b].applyTo(c),this._comm_[b].args[0]=null);a.currentObj=null};b.runCMDList=function(c,a,b){return-1};b.newObject=function(c,a){void 0===a&&(a=-1);var b=new Register._class_[c];0<a&&(b.runner=this._comm_[a]);return b};b.getPreRes=function(c){for(var b=0;b<this._comm_.length;b++)for(var g=this._comm_[b],d=0;d<g._comm_.length;d++){var f=g._comm_[d];f instanceof iflash.laya.runner.OneCmdData&&f.oneFun._fun_==AnimationCreate.newObject&&(f=c.getResource(f.args[2]+""),f instanceof iflash.display.MovieClip&&f.runner.getPreRes(c),f instanceof iflash.display.Shape&&0>a.preResCollection.indexOf(f)&&a.preResCollection.push(f))}};b.clone=function(){var c=new a;c._comm_=this._comm_.concat();c._functions_=this._functions_;return c};b.gotoAndStop=function(c,a){a._animData_.isStop=!0;this._goto(c,a)};b.gotoAndPlay=function(c,a){a._animData_.isStop=!1;this._goto(c,a)};b.play=function(c){c._animData_.isStop=!1};b.stop=function(c){c._animData_.isStop=!0};b._updata_=function(c){if(!c._animData_.isStop){var a=c._animData_.currentFrame+1;if(a>c._animData_.totalFrame||0>a)a=0;this.tick(a,c);1==c._animData_.totalFrame&&this.stop(c)}};b.tick=function(c,a){if(!(a._animData_.isStop||(a._animData_.currentFrame=int(c),null==a||1>a._animData_.totalFrame))){var b=this._comm_[c];b&&b.run2(a)}};b._goto=function(c,a){c>=a._animData_.totalFrame&&(c=0);if(c!=a._animData_.currentFrame){var b=a._animData_.currentFrame;a._animData_.currentFrame>c&&(b=0);0>b&&(b=0);for(b;b<=c;++b){var d=this._comm_[b];d&&d.run2(a)}a._animData_.currentFrame=c}};b.getSysbomData=function(c){for(var a=0;a<iflash.laya.runner.Runnner.symbolClass.length;a++){var b=c.getResource(iflash.laya.runner.Runnner.symbolClass[a].name);b&&(b instanceof iflash.display.MovieClip?this.regclass(iflash.laya.runner.Runnner.symbolClass[a].name,b,c.applicationDomain):b instanceof iflash.display.LyImageElement?this.regclass(iflash.laya.runner.Runnner.symbolClass[a].name,b,c.applicationDomain):(c.applicationDomain._resMapDic_[iflash.laya.runner.Runnner.symbolClass[a].name]=b,b.__id__=c.__id__))}};b.regclass=function(c,a,b){var d=function(){return a instanceof iflash.display.LyImageElement?(a._init_(),a._lyToBody_(),!a.miniBitmapData._canvas_&&a._image_&&a.miniBitmapData.setImage(a._image_),a.miniBitmapData._canvas_.size(a.width,a.height),a.miniBitmapData.width=a.width,a.miniBitmapData.height=a.height,a.miniBitmapData.clone()):a.lyclone()};(b._resMapDic_[c]=d)&&(d.__id__=a.__id__)};b.destory=function(){this._functions_=this._comm_=this.parent=null};a.getCurrentObj=function(){return a.currentObj};a.createRunerForClass=function(c){return new a};a.preResCollection=[];a.runSpace=[];a.specialRunners=[];a.symbolClass=[];a.template=[];a.currentObj=null;a._info=null;return a}(),RunOne=function(){function a(){this.ids=[]}__class(a,"iflash.laya.runner.RunOne",!0);return a}(),Config=function(){function a(){this.urlToLower=this.showInfo=this.urlToLower=!1;this.showInfo=!0}__class(a,"iflash.laya.system.Config",!0);return a}(),TimerCtrl=function(){function a(){this._nowTime_=NaN;this._frameTimer_=null;this.ids=0;this._timers_=null;this._frameTimer_=[];this.ids=1;this._timers_=[];this._nowTime_=iflash.utils.getTimer()}__class(a,"iflash.laya.system.TimerCtrl",!0);var b=a.prototype;b.addFrameTimer=function(c,a){for(var b,d=0,f=this._frameTimer_.length;d<f;d++)if(b=this._frameTimer_[d],b.deleted)return b._reset_(this._nowTime_,c,a);b=new TimerObject(this._nowTime_,c,a);this._frameTimer_.push(b);return b};b.removeFrameTimer=function(c,a){for(var b,d=0,f=this._frameTimer_.length;d<f;d++)if(b=this._frameTimer_[d],b.listener==c){this._frameTimer_.splice(d,1);b.deleted=!0;break}};b.addTimer=function(c,a,b,d){var f;"string"!=typeof a&&(f=new TimerObject(this._nowTime_,a,c,b,d));this._timers_.push(f);return f};b._update_=function(c){this._nowTime_=c;this._updateFrameTimer_(c);this._updateTimer_(c)};b._updateFrameTimer_=function(c){for(var a=0;a<this._frameTimer_.length;a++)this._frameTimer_[a].run(c)||(this._frameTimer_.splice(a,1),a--)};b._updateTimer_=function(c){for(var a=!1,b=0,b=0;b<this._timers_.length;b++)this._timers_[b].run(c)||(a=!0,this._timers_.splice(b,1),b--);if(a){for(b=c=0;b<this._timers_.length;b++)this._timers_[b].deleted||(this._timers_[c]=this._timers_[b],c++);this._timers_.length=c}};__static(a,["__DEFAULT__",function(){return this.__DEFAULT__=new a}]);return a}(),ID3Info=function(){function a(){this.year=this.track=this.songName=this.genre=this.comment=this.artist=this.album=null}__class(a,"iflash.media.ID3Info",!0);return a}(),SoundLoaderContext=function(){function a(a){this.bufferTime=NaN;this.checkPolicyFile=!1}__class(a,"iflash.media.SoundLoaderContext",!0);return a}(),SoundMixer=function(){function a(){}__class(a,"iflash.media.SoundMixer",!0);a.areSoundsInaccessible=LAYAFNFALSE;a.computeSpectrum=function(a,c,e){};a.stopAll=LAYAFNVOID;a.bufferTime=0;a.soundTransform=null;return a}(),SoundTransform=function(){function a(c,a){this._sound_=null;this._volume_=NaN;void 0===c&&(c=1);this.volume=c}__class(a,"iflash.media.SoundTransform",!0);var b=a.prototype;__getset(0,b,"leftToLeft",LAYAFN0,LAYAFNVOID);__getset(0,b,"leftToRight",LAYAFN0,LAYAFNVOID);__getset(0,b,"pan",LAYAFN0,LAYAFNVOID);__getset(0,b,"rightToLeft",LAYAFN0,LAYAFNVOID);__getset(0,b,"rightToRight",LAYAFN0,LAYAFNVOID);__getset(0,b,"volume",function(){return this._volume_},function(c){this._sound_&&(this._sound_.volume=c);this._volume_=c});return a}(),FileFilter=function(){function a(c,a,b){}__class(a,"iflash.net.FileFilter",!0);var b=a.prototype;__getset(0,b,"description",LAYAFNSTR,LAYAFNVOID);__getset(0,b,"extension",LAYAFNSTR,LAYAFNVOID);__getset(0,b,"macType",LAYAFNSTR,LAYAFNVOID);return a}(),ObjectEncoding=function(){function a(){}__class(a,"iflash.net.ObjectEncoding",!0);__getset(1,a,"dynamicPropertyWriter",LAYAFNNULL,LAYAFNVOID);a.AMF0=0;a.AMF3=3;a.DEFAULT=3;return a}(),Responder=function(){function a(a,c){this._resp=null;this._resp=new iflash.net.Responder(a,c)}__class(a,"iflash.net.Responder",!0);__getset(0,a.prototype,"resp",function(){return this._resp});return a}(),SecurityPanel=function(){function a(){}__class(a,"iflash.net.SecurityPanel",!0);a.CAMERA="camera";a.DEFAULT="default";a.DISPLAY="display";a.LOCAL_STORAGE="localStorage";a.MICROPHONE="microphone";a.PRIVACY="privacy";a.SETTINGS_MANAGER="settingsManager";return a}(),SharedObjectFlushStatus=function(){function a(){}__class(a,"iflash.net.SharedObjectFlushStatus",!0);a.FLUSHED="flushed";a.PENDING="pending";return a}(),URLLoaderDataFormat=function(){function a(){}__class(a,"iflash.net.URLLoaderDataFormat",!0);a.BINARY="binary";a.TEXT="text";a.VARIABLES="variables";return a}(),URLRequest=function(){function a(c){this._digest=this._data=this._contentType=null;this._requestHeaders=[];this._url=null;this._method="GET";this._url=c}__class(a,"iflash.net.URLRequest",!0);var b=a.prototype;__getset(0,b,"contentType",function(){return this._contentType},function(c){this._contentType=c});__getset(0,b,"data",function(){return this._data},function(c){this._data=c});__getset(0,b,"url",function(){return this._url},function(c){this._url=c});__getset(0,b,"digest",function(){return this._digest},function(c){this._digest=c});__getset(0,b,"method",function(){return this._method},function(c){this._method=c});__getset(0,b,"requestHeaders",function(){return this._requestHeaders},function(c){this._requestHeaders=c});return a}(),URLRequestHeader=function(){function a(a,c){this.name="Content-Type";this.value="application/x-www-form-urlencoded";void 0===a&&(a="");void 0===c&&(c="");this.name=a;this.value=c}__class(a,"iflash.net.URLRequestHeader",!0);return a}(),URLRequestMethod=function(){function a(){}__class(a,"iflash.net.URLRequestMethod",!0);a.DELETE="DELETE";a.GET="GET";a.HEAD="HEAD";a.OPTIONS="OPTIONS";a.POST="POST";a.PUT="PUT";return a}(),URLVariables=function(){function a(c){this.__decodeRegExp__=RegExp("[?\x26]?([^\x3d]+)\x3d([^\x26]*)","g");__uns(this,["__decodeRegExp__"]);null!=c&&this.decode(c)}__class(a,"iflash.net.URLVariables",!1);var b=a.prototype;b.decode=function(c){if(c){this.variables||(this.variables={});c=c.split("+").join(" ");for(var a,b=this.__decodeRegExp__;a=b.exec(c);)Log.unfinished("URLVariables","decode"),this.variables[a[1]]=a[2]}};b.toString=function(){var c={},a="",b=!0;if(!this.variables){for(var d in this)"variables"!=d&&"decode"!=d&&"__decodeRegExp__"!=d&&"toString"!=d&&(b?b=!1:a+="\x26",a+=d+"\x3d"+this[d]);return a}for(d in c)b?b=!1:a+="\x26",a+=d+"\x3d"+c[d];return a};__uns(b,["decode","toString"]);return a}(),AnimationData=function(){function a(){this.objes={};this._parent=null;this.currentFrame=this.baseKey=-1;this.labs={};this.isStop=!1;this.totalFrame=0}__class(a,"iflash.swf.animation.AnimationData",!0);var b=a.prototype;b.lyclone=function(){var c=new a;c.totalFrame=this.totalFrame;c.labs=this.labs;return c};b.destory=function(){this.labs=this._parent=this.objes=null};return a}(),SWFTools=function(){function a(){}__class(a,"iflash.swf.utils.SWFTools",!0);a.connect=function(a){"string"==typeof a&&(a=ApplicationDomain.currentDomain.getDefinition2(a));if(a&&!a.f){var c=a.__super;a.f=!0;a.__super=function(e){void 0===e&&(e=!0);c.apply(this,arguments);e&&iflash.swf.utils.SWFTools._initClass_(a,this)}}};a.initClass=function(a,c,e){};a._initClass_=function(a,c,e){if(!(c instanceof iflash.media.Sound)){var g=ApplicationDomain.currentDomain,d;if(c instanceof iflash.display.BitmapData)d=g.newInstance(iflash.utils.getQualifiedClassName(c)),c._canvas_=d._canvas_.clone(),c._context_=c._canvas_,c.width=d.width,c.height=d.height;else if(c instanceof iflash.display.Bitmap)d=g.newInstance(iflash.utils.getQualifiedClassName(c)),c.bitmapData=new BitmapData(d.width,d.height),c.bitmapData._canvas_=d._canvas_.clone(),c._modle_.vcanvas(c.bitmapData._canvas_),c.bitmapData.width=d.width,c.bitmapData.height=d.height,c.width=d.width,c.height=d.height;else if(null!=a?(e=iflash.utils.getQualifiedClassName(c),g=g.newDefinition(e)):g=e,g||(g=new a),c instanceof iflash.display.MovieClip)c._interval_=g._interval_=60,c._animData_=g._animData_.lyclone(),c.runner=g.runner,c._type_|=16,c.__id__=g.__id__,c._type_|=16,c instanceof iflash.display.SimpleButton?c.gotoAndStop(1):c._gotoAndPlay_(1);else if(c instanceof iflash.display.Sprite&&g){a=g._childs_.concat();for(e=0;e<a.length;e++)c.addChild(a[e]);for(d in g)"_childs_"!=d&&g[d]&&"runner"!=d&&(c[d]=g[d]);g.stop()}}};return a}(),ApplicationDomain=function(){function a(c){this._parentDomain_=this._domainMemory=null;this._resMapDic_={};this._id__=0;this._parentDomain_=c}__class(a,"iflash.system.ApplicationDomain",!0);var b=a.prototype;b.getDefinition=function(c){if(!c)throw Error(c+" Variable a is not defined.");c=c.toString().replace("::",".");"flash"==c.split(".")[0]&&(c=c.replace("flash","iflash"));var a=iflash.utils.getDefinitionByName(c);null==a&&(a=this._resMapDic_[c])&&(a.lin=c);null==a&&(a=LAYABOX.getInterfaceDefinitionByName(c));if(!a)throw Error(c+" Variable a is not defined.");a.__isclass=!0;return a};b.getDefinition2=function(c){c=c.toString().replace("::",".");var a=iflash.utils.getDefinitionByName(c);null==a&&(a=this._resMapDic_[c]);return a};b.newDefinition=function(c){c=c.replace("::",".");var a,b=this._resMapDic_[c];if(!b){var d,f;for(f in LoaderInfo._loaderInfos_)if(d=LoaderInfo._loaderInfos_[f],d.applicationDomain!=this&&(b=d.applicationDomain._resMapDic_[c]))break}b&&(a=new b,a.__id__=b.__id__);return a};b.newInstance=function(c){c=c.replace("::",".");c=this._resMapDic_[c];return null==c?null:c=new c};b.hasDefinition=function(c){if(!c)return!1;c=c.replace("::",".");var a=!1;this.getDefinition2(c)?a=!0:a=!1;if(!a)try{iflash.utils.getDefinitionByName(c)&&(a=!0)}catch(b){a=!1}return a};b.addResToMap=function(c,a){this._resMapDic_[c]=a};__getset(0,b,"__id__",function(){return this._id__},function(c){this._id__=c});__getset(0,b,"currentDomain",null,function(c){a._currentDomain=c});__getset(0,b,"domainMemory",function(){return this._domainMemory},function(c){this._domainMemory=c});__getset(0,b,"parentDomain",function(){return this._parentDomain_});__getset(1,a,"currentDomain",function(){null==a._currentDomain&&(a._currentDomain=new a);return a._currentDomain});__getset(1,a,"MIN_DOMAIN_MEMORY_LENGTH",function(){return 0});a._currentDomain=null;return a}(),Capabilities=function(){function a(){}__class(a,"iflash.system.Capabilities",!0);__getset(1,a,"isDebugger",function(){return Laya.FLASHVER?a.isDebugger:"false"});__getset(1,a,"os",function(){if(null!=a._os)return a._os;var b=navigator.userAgent;if("Mac68K"==navigator.platform||"MacPPC"==navigator.platform||"Macintosh"==navigator.platform||"MacIntel"==navigator.platform)a._os="Mac";"X11"!=navigator.platform||isWin||isMac||(a._os="Mac");-1<navigator.platform.indexOf("Linux")&&(a._os="Linux");if("Win32"==navigator.platform||"Windows"==navigator.platform)-1<b.indexOf("Windows NT 5.0")||-1<b.indexOf("Windows 2000")?a._os="Windows 2000":-1<b.indexOf("Windows NT 5.1")||-1<b.indexOf("Windows XP")?a._os="Windows XP":-1<b.indexOf("Windows NT 5.2")||-1<b.indexOf("Windows 2003")?a._os="Win2003":-1<b.indexOf("Windows NT 6.0")||-1<b.indexOf("Windows Vista")?a._os="Windows Vista":-1<b.indexOf("Windows NT 6.1")||-1<b.indexOf("Windows 7")?a._os="Windows 7":a._os="Windows";return a._os});__getset(1,a,"playerType",function(){return null});__getset(1,a,"screenDPI",function(){var a=240;Laya.CONCHVER&&window.layabox&&window.layabox.getDeviceInfo&&(di=window.layabox.getDeviceInfo(),a=di.dpi);a||(a=240);return a});__getset(1,a,"version",function(){return""});__getset(1,a,"language",function(){return Laya.FLASHVER?a.language:window.navigator.language});__getset(1,a,"serverString",function(){return""});__getset(1,a,"screenResolutionX",function(){return a._screenResolutionX});__getset(1,a,"screenResolutionY",function(){return a._screenResolutionY});a.initScreenResolutionXY=function(){a._screenResolutionX=window.screen.width;a._screenResolutionY=window.screen.height};a._os=null;a._screenResolutionX=0;a._screenResolutionY=0;return a}(),ImageDecodingPolicy=function(){function a(){}__class(a,"iflash.system.ImageDecodingPolicy",!0);a.ON_DEMAND="onDemand";a.ON_LOAD="onLoad";return a}(),LoaderContext=function(){function a(a,c,e){this.securityDomain=this.applicationDomain=null;this.allowCodeImport=this.checkPolicyFile=!1;this.imageDecodingPolicy="onLoad";this.applicationDomain=c}__class(a,"iflash.system.LoaderContext",!0);__getset(0,a.prototype,"allowLoadBytesCodeExecution",LAYAFNFALSE,LAYAFNVOID);return a}(),Security=function(){function a(){}__class(a,"iflash.system.Security",!0);__getset(1,a,"sandboxType",LAYAFNSTR);a.allowDomain=function(a){};a.allowInsecureDomain=function(a){};a.loadPolicyFile=LAYAFNVOID;a.showSettings=function(a){};a.disableAVM1Loading=!1;a.exactSettings=!1;a.APPLICATION="application";a.LOCAL_TRUSTED="localTrusted";a.LOCAL_WITH_FILE="localWithFile";a.LOCAL_WITH_NETWORK="localWithNetwork";a.REMOTE="remote";return a}(),SecurityDomain=function(){function a(){}__class(a,"iflash.system.SecurityDomain",!0);__getset(1,a,"currentDomain",function(){return new a});return a}(),System=function(){function a(){}__class(a,"iflash.system.System",!0);__getset(1,a,"freeMemory",LAYAFN0);__getset(1,a,"privateMemory",LAYAFN0);__getset(1,a,"totalMemory",function(){return 0});__getset(1,a,"totalMemoryNumber",LAYAFN0);__getset(1,a,"useCodePage",function(){return a._useCodePage},function(b){a._useCodePage=b});__getset(1,a,"vmVersion",function(){return"ilaya-hello"});a.disposeXML=function(a){};a.exit=LAYAFNVOID;a.gc=LAYAFNVOID;a.nativeConstructionOnly=LAYAFNVOID;a.pause=LAYAFNVOID;a.pauseForGCIfCollectionImminent=function(a){};a.resume=LAYAFNVOID;a.setClipboard=LAYAFNVOID;a._useCodePage=!1;return a}(),AntiAliasType=function(){function a(){}__class(a,"iflash.text.AntiAliasType",!0);a.ADVANCED="advanced";a.NORMAL="normal";return a}(),ContentElement=function(){function a(c,a,b){this.userData=null}__class(a,"iflash.text.engine.ContentElement",!0);var b=a.prototype;__getset(0,b,"elementFormat",LAYAFNNULL,LAYAFNVOID);__getset(0,b,"eventMirror",LAYAFNNULL,LAYAFNVOID);__getset(0,b,"textBlock",LAYAFNNULL);__getset(0,b,"groupElement",LAYAFNNULL);__getset(0,b,"rawText",LAYAFNSTR);__getset(0,b,"text",LAYAFNSTR);__getset(0,b,"textBlockBeginIndex",LAYAFN0);__getset(0,b,"textRotation",LAYAFNSTR,LAYAFNVOID);a.GRAPHIC_ELEMENT=65007;return a}(),ElementFormat=function(){function a(c){}__class(a,"iflash.text.engine.ElementFormat",!0);var b=a.prototype;b.clone=LAYAFNNULL;b.getFontMetrics=LAYAFNNULL;__getset(0,b,"alignmentBaseline",LAYAFNSTR,LAYAFNVOID);__getset(0,b,"alpha",LAYAFN0,LAYAFNVOID);__getset(0,b,"dominantBaseline",LAYAFNSTR,LAYAFNVOID);__getset(0,b,"baselineShift",LAYAFN0,LAYAFNVOID);__getset(0,b,"breakOpportunity",LAYAFNSTR,LAYAFNVOID);__getset(0,b,"color",LAYAFN0,LAYAFNVOID);__getset(0,b,"locked",LAYAFNFALSE,LAYAFNVOID);__getset(0,b,"digitCase",LAYAFNSTR,LAYAFNVOID);__getset(0,b,"digitWidth",LAYAFNSTR,LAYAFNVOID);__getset(0,b,"fontDescription",LAYAFNNULL,LAYAFNVOID);__getset(0,b,"fontSize",LAYAFN0,LAYAFNVOID);__getset(0,b,"kerning",LAYAFNSTR,LAYAFNVOID);__getset(0,b,"ligatureLevel",LAYAFNSTR,LAYAFNVOID);__getset(0,b,"locale",LAYAFNSTR,LAYAFNVOID);__getset(0,b,"textRotation",LAYAFNSTR,LAYAFNVOID);__getset(0,b,"trackingLeft",LAYAFN0,LAYAFNVOID);__getset(0,b,"trackingRight",LAYAFN0,LAYAFNVOID);__getset(0,b,"typographicCase",LAYAFNSTR,LAYAFNVOID);return a}(),FontDescription=function(){function a(c){}__class(a,"iflash.text.engine.FontDescription",!0);var b=a.prototype;b.clone=LAYAFNNULL;__getset(0,b,"cffHinting",LAYAFNSTR,LAYAFNVOID);__getset(0,b,"fontLookup",LAYAFNSTR,LAYAFNVOID);__getset(0,b,"fontName",LAYAFNSTR,LAYAFNVOID);__getset(0,b,"fontPosture",LAYAFNSTR,LAYAFNVOID);__getset(0,b,"fontWeight",LAYAFNSTR,LAYAFNVOID);__getset(0,b,"locked",LAYAFNFALSE,LAYAFNVOID);__getset(0,b,"renderingMode",LAYAFNSTR,LAYAFNVOID);a.isDeviceFontCompatible=LAYAFNFALSE;a.isFontCompatible=LAYAFNFALSE;return a}(),FontLookup=function(){function a(){}__class(a,"iflash.text.engine.FontLookup",!0);a.DEVICE="device";a.EMBEDDED_CFF="embeddedCFF";return a}(),FontMetrics=function(){function a(a){this.emBox=null;this.underlineOffset=this.superscriptScale=this.superscriptOffset=this.subscriptScale=this.subscriptOffset=this.strikethroughThickness=this.strikethroughOffset=this.lineGap=NaN}__class(a,"iflash.text.engine.FontMetrics",!0);return a}(),TextJustifier=function(){function a(c,a){}__class(a,"iflash.text.engine.TextJustifier",!0);var b=a.prototype;b.clone=LAYAFNNULL;__getset(0,b,"lineJustification",LAYAFNSTR,LAYAFNVOID);__getset(0,b,"locale",LAYAFNSTR);a.getJustifierForLocale=LAYAFNNULL;return a}(),TabStop=function(){function a(c){}__class(a,"iflash.text.engine.TabStop",!0);var b=a.prototype;__getset(0,b,"alignment",LAYAFNSTR,LAYAFNVOID);__getset(0,b,"position",LAYAFN0,LAYAFNVOID);__getset(0,b,"decimalAlignmentToken",LAYAFNSTR,LAYAFNVOID);return a}(),TextBaseline=function(){function a(){}__class(a,"iflash.text.engine.TextBaseline",!0);a.ASCENT="ascent";a.DESCENT="descent";a.IDEOGRAPHIC_BOTTOM="ideographicBottom";a.IDEOGRAPHIC_CENTER="ideographicCenter";a.IDEOGRAPHIC_TOP="ideographicTop";a.ROMAN="roman";a.USE_DOMINANT_BASELINE="useDominantBaseline";return a}(),TextBlock=function(){function a(c){this.userData=null}__class(a,"iflash.text.engine.TextBlock",!0);var b=a.prototype;b.createTextLine=function(c,a,b,d){return null};b.dump=LAYAFNSTR;b.findNextAtomBoundary=LAYAFN0;b.findNextWordBoundary=LAYAFN0;b.findPreviousAtomBoundary=LAYAFN0;b.findPreviousWordBoundary=LAYAFN0;b.getTextLineAtCharIndex=LAYAFNNULL;b.recreateTextLine=function(c,a,b,d,f){return null};b.releaseLineCreationData=LAYAFNVOID;b.releaseLines=LAYAFNVOID;__getset(0,b,"applyNonLinearFontScaling",LAYAFNFALSE,LAYAFNVOID);__getset(0,b,"content",LAYAFNNULL,LAYAFNVOID);__getset(0,b,"firstInvalidLine",LAYAFNNULL);__getset(0,b,"baselineFontDescription",LAYAFNNULL,LAYAFNVOID);__getset(0,b,"baselineFontSize",LAYAFN0,LAYAFNVOID);__getset(0,b,"baselineZero",LAYAFNSTR,LAYAFNVOID);__getset(0,b,"bidiLevel",LAYAFN0,LAYAFNVOID);__getset(0,b,"firstLine",LAYAFNNULL);__getset(0,b,"lastLine",LAYAFNNULL);__getset(0,b,"lineRotation",LAYAFNSTR,LAYAFNVOID);__getset(0,b,"tabStops",LAYAFNNULL,LAYAFNVOID);__getset(0,b,"textLineCreationResult",LAYAFNSTR);__getset(0,b,"textJustifier",LAYAFNNULL,LAYAFNVOID);return a}(),TextLineMirrorRegion=function(){function a(){}__class(a,"iflash.text.engine.TextLineMirrorRegion",!0);var b=a.prototype;__getset(0,b,"bounds",LAYAFNNULL);__getset(0,b,"element",LAYAFNNULL);__getset(0,b,"mirror",LAYAFNNULL);__getset(0,b,"previousRegion",LAYAFNNULL);__getset(0,b,"nextRegion",LAYAFNNULL);__getset(0,b,"textLine",LAYAFNNULL);return a}(),Font=function(){function a(){}__class(a,"iflash.text.Font",!0);var b=a.prototype;b.hasGlyphs=LAYAFNFALSE;__getset(0,b,"fontName",LAYAFNSTR);__getset(0,b,"fontStyle",LAYAFNSTR);__getset(0,b,"fontType",LAYAFNSTR);a.enumerateFonts=function(c){return[]};a.registerFont=LAYAFNVOID;return a}(),FontType=function(){function a(){}__class(a,"iflash.text.FontType",!0);a.DEVICE="device";a.EMBEDDED="embedded";a.EMBEDDED_CFF="embeddedCFF";return a}(),GridFitType=function(){function a(){}__class(a,"iflash.text.GridFitType",!0);a.NONE="none";a.PIXEL="pixel";a.SUBPIXEL="subpixel";return a}(),StageTextInitOptions=function(){function a(a){this._multiline=!1;void 0===a&&(a=!1);this.multiline=a}__class(a,"iflash.text.StageTextInitOptions",!0);__getset(0,a.prototype,"multiline",function(){return this._multiline},function(a){this._multiline=a});return a}(),TextColorType=function(){function a(){}__class(a,"iflash.text.TextColorType",!0);a.DARK_COLOR="dark";a.LIGHT_COLOR="light";return a}(),TextFieldAutoSize=function(){function a(){}__class(a,"iflash.text.TextFieldAutoSize",!0);a.NONE="none";a.LEFT="left";a.CENTER="center";a.RIGHT="right";return a}(),TextFieldType=function(){function a(){}__class(a,"iflash.text.TextFieldType",!0);a.INPUT="input";a.DYNAMIC="dynamic";return a}(),FontStyle=function(){function a(){}__class(a,"iflash.text.textformat.FontStyle",!0);return a}(),ImgText=function(){function a(){}__class(a,"iflash.text.textformat.ImgText",!0);var b=a.prototype;b.getInstance=function(){null==iflash.text.textformat.ImgText.instance&&(iflash.text.textformat.ImgText.instance=new a);return iflash.text.textformat.ImgText.instance};b.formatFont=function(c,a){var b=new Rectangle;return 0>=c.length?b:null};a.instance=null;return a}(),TextFormat=function(){function a(c,a,b,d,f,h,k,l,m,n,p,q,r){c&&(this.font=c);a&&(this.size=a);b&&(this.color=b);d&&(this.bold=d);f&&(this.italic=f);h&&(this.underline=h);m&&(this.align=m);n&&(this.leftMargin=n);p&&(this.rightMargin=p);q&&(this.indent=q);r&&(this.leading=r)}__class(a,"iflash.text.TextFormat",!0);var b=a.prototype;b.measureText=function(c){var b={width:0,height:0};if(!c||!c.length)return b;if("\n"==c)return b={width:0,height:this._size+3};c=c.replace(/\n/g,"");a.ctx.font=this.getFont();var g=a.ctx.measureText(c);b.width=g.width1||g.width;this._letterSpacing&&(b.width+=this._letterSpacing*c.length);b.height=Laya.CONCHVER?g.height:(int(this._size)||12)+a.HEI_OFF;return b};b.getFont=function(){var c="";Laya.CONCHVER?(c+=this._italic?"italic":"normal",c=c+" "+(this._bold?"700":"100"),c+=" ",c+=(this._size?this._size:12)+"px",c+=" ",c+=this._font?this._font.replace(/\x20/g,"_"):"Arial",c+=" ",c+=this._strokeColor?"1 "+this._strokeColor:"0 0",c+=" ",c+=this._underline?"1":"0",c+=this._underline?this._color||"#000000":""):(c+=this._italic?"italic":"normal",c+=" ",c+=this._bold?"bold":"normal",c+=" ",c+=(this._size?this._size:12)+"px",c+=" ",c=this._font?/\d/.test(this._font.charAt(0))?c+"Microsoft YaHei":c+this._font:c+"Times New Roman");return c};b.clone=function(){var c=new a;c._align=this._align;c._blockIndent=this._blockIndent;c._bold=this._bold;c._bullet=this._bullet;c._color=this._color;c._font=this._font;c._indent=this._indent;c._italic=this._italic;c._leading=this._leading;c._leftMargin=this._leftMargin;c._letterSpacing=this._letterSpacing;c._rightMargin=this._rightMargin;c._size=this._size;c._underline=this._underline;return c};__getset(0,b,"align",function(){return this._align},function(c){this._align=c});__getset(0,b,"bold",function(){return this._bold},function(c){this._bold=c});__getset(0,b,"blockIndent",function(){return this._blockIndent},function(c){this._blockIndent=Laya.__parseInt(c)});__getset(0,b,"display",LAYAFNNULL,LAYAFNVOID);__getset(0,b,"bullet",function(){return this._bullet},function(c){this._bullet=c});__getset(0,b,"color",function(){return this._color},function(c){this._color=c});__getset(0,b,"font",function(){return this._font},function(c){this._font=c});__getset(0,b,"indent",function(){return this._indent},function(c){this._indent=Laya.__parseInt(c)});__getset(0,b,"italic",function(){return this._italic},function(c){this._italic=c});__getset(0,b,"leading",function(){return this._leading},function(c){this._leading=Laya.__parseInt(c)});__getset(0,b,"leftMargin",function(){return this._leftMargin},function(c){this._leftMargin=c});__getset(0,b,"letterSpacing",function(){return this._letterSpacing},function(c){this._letterSpacing=Laya.__parseInt(c)});__getset(0,b,"rightMargin",function(){return this._rightMargin},function(c){this._rightMargin=Laya.__parseInt(c)});__getset(0,b,"size",function(){return this._size},function(c){this._size=Laya.__parseInt(c)});__getset(0,b,"kerning",LAYAFNVOID,LAYAFNVOID);__getset(0,b,"tabStops",LAYAFNNULL,LAYAFNVOID);__getset(0,b,"target",LAYAFNNULL,LAYAFNVOID);__getset(0,b,"url",LAYAFNSTR,LAYAFNVOID);__getset(0,b,"underline",function(){return this._underline},function(c){this._underline=c});a.BULLET_INDENT=50;a.BULLET_RADIUS=2;a.HEI_OFF=3;__static(a,["canvas",function(){return this.canvas=Canvas.create()},"ctx",function(){return this.ctx=a.canvas.context}]);return a}(),TextFormatAlign=function(){function a(){}__class(a,"iflash.text.TextFormatAlign",!0);a.CENTER="center";a.JUSTIFY="justify";a.LEFT="left";a.RIGHT="right";return a}(),TextLineMetrics=function(){function a(a,c,e,g,d,f){this.x=this.width=this.leading=this.height=this.descent=this.ascent=NaN;this.x=a;this.width=c;this.height=e;this.ascent=g;this.descent=d;this.leading=f}__class(a,"iflash.text.TextLineMetrics",!0);return a}(),TextNodeList=function(){function a(){this._source=null;this._source=[]}__class(a,"iflash.text.TextNodeList",!0);var b=a.prototype;b.clear=function(){this._source.length=0};b.getElem=function(c){return this._source[c]};b.push=function(c){this._source.push(c)};b.clone=function(){for(var c=new a,b,g=0,d=this._source.length;g<d;g++){b={};for(var f in this._source[g])b[f]=this._source[g][f];c.push(b)}return c};__getset(0,b,"length",function(){return this._source.length});__getset(0,b,"source",function(){return this._source});return a}(),TextSnapshot=function(){function a(){}__class(a,"iflash.text.TextSnapshot",!0);var b=a.prototype;b.findText=LAYAFN0;b.getSelected=LAYAFNFALSE;b.getSelectedText=function(c){return null};b.getText=function(c,a,b){return null};b.getTextRunInfo=LAYAFNNULL;b.hitTestTextNearPos=function(c,a,b){return 0};b.setSelectColor=function(c){};b.setSelected=LAYAFNVOID;__getset(0,b,"charCount",LAYAFN0);return a}(),ContextMenuBuiltInItems=function(){function a(){}__class(a,"iflash.ui.ContextMenuBuiltInItems",!0);var b=a.prototype;b.clone=function(){return new a};__getset(0,b,"forwardAndBack",LAYAFNFALSE,LAYAFNVOID);__getset(0,b,"loop",LAYAFNFALSE,LAYAFNVOID);__getset(0,b,"zoom",LAYAFNFALSE,LAYAFNVOID);__getset(0,b,"play",LAYAFNFALSE,LAYAFNVOID);__getset(0,b,"print",LAYAFNFALSE,LAYAFNVOID);__getset(0,b,"quality",LAYAFNFALSE,LAYAFNVOID);__getset(0,b,"rewind",LAYAFNFALSE,LAYAFNVOID);__getset(0,b,"save",LAYAFNFALSE,LAYAFNVOID);return a}(),ContextMenuClipboardItems=function(){function a(){}__class(a,"iflash.ui.ContextMenuClipboardItems",!0);var b=a.prototype;b.clone=function(){return new a};__getset(0,b,"clear",LAYAFNFALSE,LAYAFNVOID);__getset(0,b,"copy",LAYAFNFALSE,LAYAFNVOID);__getset(0,b,"selectAll",LAYAFNFALSE,LAYAFNVOID);__getset(0,b,"cut",LAYAFNFALSE,LAYAFNVOID);__getset(0,b,"paste",LAYAFNFALSE,LAYAFNVOID);return a}(),Keyboard=function(){function a(){}__class(a,"iflash.ui.Keyboard",!0);__getset(1,a,"capsLock",LAYAFNFALSE);__getset(1,a,"physicalKeyboardType",LAYAFNSTR);__getset(1,a,"numLock",LAYAFNFALSE);__getset(1,a,"hasVirtualKeyboard",LAYAFNFALSE);a.isAccessible=LAYAFNFALSE;a.KEYNAME_UPARROW="Up";a.KEYNAME_DOWNARROW="Down";a.KEYNAME_LEFTARROW="Left";a.KEYNAME_RIGHTARROW="Right";a.KEYNAME_F1="F1";a.KEYNAME_F2="F2";a.KEYNAME_F3="F3";a.KEYNAME_F4="F4";a.KEYNAME_F5="F5";a.KEYNAME_F6="F6";a.KEYNAME_F7="F7";a.KEYNAME_F8="F8";a.KEYNAME_F9="F9";a.KEYNAME_F10="F10";a.KEYNAME_F11="F11";a.KEYNAME_F12="F12";a.KEYNAME_F13="F13";a.KEYNAME_F14="F14";a.KEYNAME_F15="F15";a.KEYNAME_F16="F16";a.KEYNAME_F17="F17";a.KEYNAME_F18="F18";a.KEYNAME_F19="F19";a.KEYNAME_F20="F20";a.KEYNAME_F21="F21";a.KEYNAME_F22="F22";a.KEYNAME_F23="F23";a.KEYNAME_F24="F24";a.KEYNAME_F25="F25";a.KEYNAME_F26="F26";a.KEYNAME_F27="F27";a.KEYNAME_F28="F28";a.KEYNAME_F29="F29";a.KEYNAME_F30="F30";a.KEYNAME_F31="F31";a.KEYNAME_F32="F32";a.KEYNAME_F33="F33";a.KEYNAME_F34="F34";a.KEYNAME_F35="F35";a.KEYNAME_INSERT="Insert";a.KEYNAME_DELETE="Delete";a.KEYNAME_HOME="Home";a.KEYNAME_BEGIN="Begin";a.KEYNAME_END="End";a.KEYNAME_PAGEUP="PgUp";a.KEYNAME_PAGEDOWN="PgDn";a.KEYNAME_PRINTSCREEN="PrntScrn";a.KEYNAME_SCROLLLOCK="ScrlLck";a.KEYNAME_PAUSE="Pause";a.KEYNAME_SYSREQ="SysReq";a.KEYNAME_BREAK="Break";a.KEYNAME_RESET="Reset";a.KEYNAME_STOP="Stop";a.KEYNAME_MENU="Menu";a.KEYNAME_USER="User";a.KEYNAME_SYSTEM="Sys";a.KEYNAME_PRINT="Print";a.KEYNAME_CLEARLINE="ClrLn";a.KEYNAME_CLEARDISPLAY="ClrDsp";a.KEYNAME_INSERTLINE="InsLn";a.KEYNAME_DELETELINE="DelLn";a.KEYNAME_INSERTCHAR="InsChr";a.KEYNAME_DELETECHAR="DelChr";a.KEYNAME_PREV="Prev";a.KEYNAME_NEXT="Next";a.KEYNAME_SELECT="Select";a.KEYNAME_EXECUTE="Exec";a.KEYNAME_UNDO="Undo";a.KEYNAME_REDO="Redo";a.KEYNAME_FIND="Find";a.KEYNAME_HELP="Help";a.KEYNAME_MODESWITCH="ModeSw";a.NUMBER_0=48;a.NUMBER_1=49;a.NUMBER_2=50;a.NUMBER_3=51;a.NUMBER_4=52;a.NUMBER_5=53;a.NUMBER_6=54;a.NUMBER_7=55;a.NUMBER_8=56;a.NUMBER_9=57;a.A=65;a.B=66;a.C=67;a.D=68;a.E=69;a.F=70;a.G=71;a.H=72;a.I=73;a.J=74;a.K=75;a.L=76;a.M=77;a.N=78;a.O=79;a.P=80;a.Q=81;a.R=82;a.S=83;a.T=84;a.U=85;a.V=86;a.W=87;a.X=88;a.Y=89;a.Z=90;a.SEMICOLON=186;a.EQUAL=187;a.COMMA=188;a.MINUS=189;a.PERIOD=190;a.SLASH=191;a.BACKQUOTE=192;a.LEFTBRACKET=219;a.BACKSLASH=220;a.RIGHTBRACKET=221;a.QUOTE=222;a.ALTERNATE=18;a.BACKSPACE=8;a.CAPS_LOCK=20;a.COMMAND=15;a.CONTROL=17;a.DELETE=46;a.DOWN=40;a.END=35;a.ENTER=13;a.ESCAPE=27;a.F1=112;a.F2=113;a.F3=114;a.F4=115;a.F5=116;a.F6=117;a.F7=118;a.F8=119;a.F9=120;a.F10=121;a.F11=122;a.F12=123;a.F13=124;a.F14=125;a.F15=126;a.HOME=36;a.INSERT=45;a.LEFT=37;a.NUMPAD=21;a.NUMPAD_0=96;a.NUMPAD_1=97;a.NUMPAD_2=98;a.NUMPAD_3=99;a.NUMPAD_4=100;a.NUMPAD_5=101;a.NUMPAD_6=102;a.NUMPAD_7=103;a.NUMPAD_8=104;a.NUMPAD_9=105;a.NUMPAD_ADD=107;a.NUMPAD_DECIMAL=110;a.NUMPAD_DIVIDE=111;a.NUMPAD_ENTER=108;a.NUMPAD_MULTIPLY=106;a.NUMPAD_SUBTRACT=109;a.PAGE_DOWN=34;a.PAGE_UP=33;a.RIGHT=39;a.SHIFT=16;a.SPACE=32;a.TAB=9;a.UP=38;a.RED=16777216;a.GREEN=16777217;a.YELLOW=16777218;a.BLUE=16777219;a.CHANNEL_UP=16777220;a.CHANNEL_DOWN=16777221;a.RECORD=16777222;a.PLAY=16777223;a.PAUSE=16777224;a.STOP=16777225;a.FAST_FORWARD=16777226;a.REWIND=16777227;a.SKIP_FORWARD=16777228;a.SKIP_BACKWARD=16777229;a.NEXT=16777230;a.PREVIOUS=16777231;a.LIVE=16777232;a.LAST=16777233;a.MENU=16777234;a.INFO=16777235;a.GUIDE=16777236;a.EXIT=16777237;a.BACK=16777238;a.AUDIO=16777239;a.SUBTITLE=16777240;a.DVR=16777241;a.VOD=16777242;a.INPUT=16777243;a.SETUP=16777244;a.HELP=16777245;a.MASTER_SHELL=16777246;a.SEARCH=16777247;__static(a,["CharCodeStrings",function(){return this.CharCodeStrings="Up Down Left Right F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 F13 F14 F15 F16 F17 F18 F19 F20 F21 F22 F23 F24 F25 F26 F27 F28 F29 F30 F31 F32 F33 F34 F35 Insert Delete Home Begin End PgUp PgDn PrntScrn ScrlLck Pause SysReq Break Reset Stop Menu User Sys Print ClrLn ClrDsp InsLn DelLn InsChr DelChr Prev Next Select Exec Undo Redo Find Help ModeSw".split(" ")}]);return a}(),KeyboardType=function(){function a(){}__class(a,"iflash.ui.KeyboardType",!0);a.ALPHANUMERIC="alphanumeric";a.KEYPAD="keypad";a.NONE="none";return a}(),KeyLocation=function(){function a(){}__class(a,"iflash.ui.KeyLocation",!0);a.STANDARD=0;a.LEFT=1;a.RIGHT=2;a.NUM_PAD=3;a.D_PAD=4;return a}(),Mouse=function(){function a(){}__class(a,"iflash.ui.Mouse",!0);__getset(1,a,"supportsCursor",LAYAFNFALSE);__getset(1,a,"cursor",LAYAFNSTR,LAYAFNVOID);__getset(1,a,"supportsNativeCursor",LAYAFNFALSE);a.hide=LAYAFNVOID;a.show=LAYAFNVOID;a.registerCursor=LAYAFNVOID;a.unregisterCursor=LAYAFNVOID;return a}(),MouseCursor=function(){function a(){}__class(a,"iflash.ui.MouseCursor",!0);a.ARROW="arrow";a.AUTO="auto";a.BUTTON="button";a.HAND="hand";a.IBEAM="ibeam";return a}(),MouseCursorData=function(){function a(){}__class(a,"iflash.ui.MouseCursorData",!0);var b=a.prototype;__getset(0,b,"data",LAYAFNNULL,LAYAFNVOID);__getset(0,b,"hotSpot",LAYAFNNULL,LAYAFNVOID);__getset(0,b,"frameRate",LAYAFN0,LAYAFNVOID);return a}(),Multitouch=function(){function a(){}__class(a,"iflash.ui.Multitouch",!0);__getset(1,a,"inputMode",function(){return a.$inputMode},function(b){"gesture"==b&&a.implementGesture();"touchPoint"==b&&a.implementTouchPoint();a.$inputMode=b});__getset(1,a,"isSupportTouch",function(){return"ontouchend"in Browser.document?!0:!1});__getset(1,a,"maxTouchPoints",function(){a._$maxTouchPoints=3;return a._$maxTouchPoints},function(b){a._$maxTouchPoints=b});__getset(1,a,"supportedGestures",function(){a._$supportedGestures=[];a.isSupportTouch&&(a._$supportedGestures.push("gesturePan"),a._$supportedGestures.push("gestureRotate"),a._$supportedGestures.push("gestureSwipe"),a._$supportedGestures.push("gestureZoom"),a._$supportedGestures.push("gestureTwoFingerTap"));return a._$supportedGestures});__getset(1,a,"supportsTouchEvents",function(){a._$supportsTouchEvents=a.isSupportTouch;return a._$supportsTouchEvents});__getset(1,a,"mapTouchToMouse",function(){a._$mapTouchToMouse=a.isSupportTouch;return a._$mapTouchToMouse});__getset(1,a,"supportsGestureEvents",function(){a._$supportsGestureEvents=a.isSupportTouch;return a._$supportsGestureEvents});a.implementTouchPoint=function(){};a.implementGesture=function(){};a._$mapTouchToMouse=!1;a._$maxTouchPoints=0;a._$supportedGestures=null;a._$supportsGestureEvents=!1;a._$supportsTouchEvents=!1;__static(a,["$inputMode",function(){return this.$inputMode="none"}]);return a}(),MultitouchInputMode=function(){function a(){}__class(a,"iflash.ui.MultitouchInputMode",!0);a.GESTURE="gesture";a.NONE="none";a.TOUCH_POINT="touchPoint";return a}(),XMLAttribute=function(){function a(){this._value=this._name=null}__class(a,"iflash.xml.XMLAttribute",!1);var b=a.prototype;Laya.imps(b,{"iflash.xml.IXMLElement":!0});b.getAttribute=function(c){return null};b.attribute=function(c){return null};b.setChildByName=function(c,a){return null};b.getChildByAttribute=function(c,a,b){return null};b.getChildByName=function(c){return null};b.setAttribute=function(c,a){return null};b.getAttributes=function(){return null};b.attributes=function(){return null};b.getChildAt=function(c){return null};b.children=function(){return null};b.elements=function(c){return null};b.setName=function(c){this._name=c};b.lengths=function(){return 0};b.name=function(){return this._name};b.appendChild=function(c){return null};b.toString=function(){return this._value};b.toXMLString=function(){return null};b.parent=LAYAFNNULL;b.hasSimpleContent=LAYAFNFALSE;b.hasComplexContent=LAYAFNFALSE;b.hasOwnProperty=function(c){return!1};b.copy=function(){var c=new a;c._name=this._name;c._value=this._value;return c};b.copyFrom=function(c){return c instanceof iflash.xml.XMLAttribute?(this._name=c._name,this._value=c._value,this):null};__getset(0,b,"localName",function(){return null},function(c){this._name=c});__getset(0,b,"nodeType",function(){return"attribute"});__getset(0,b,"value",function(){return this._value},function(c){this._value=c});__getset(0,b,"childNodes",function(){return null});__getset(0,b,"nodeName",function(){return null});a.create=function(c,b){var g=new a;g._name=c;g._value=b;return g};return a}(),XMLElement=function(){function a(c){this._parentNode=this._nodeValue=this._nodeType=this._nodeName=null;this._attributes=[];this._childNodes=[];this._nestCount=0;if(c instanceof iflash.xml.XMLElement)return c;if(c instanceof iflash.xml.XMLElementList)return 1==c.lengths()?c[0]:c;c&&(c&&c._data_&&(c=c.toString()),c&&a.create(c,this))}__class(a,"iflash.xml.XMLElement",!1);var b=a.prototype;Laya.imps(b,{"iflash.xml.IXMLElement":!0});b.addNamespace=function(c){return this};b.setAttribute=function(c,a){var b,d;for(d in this._attributes)if(b=this._attributes[d],b.key==c)return b.val=a;this._attributes.push({key:c,val:a});return a};b.getAttributes=function(){return this.attributes()};b.attributes=function(){return this.getAttribute("*")};b.getAttribute=function(c){for(var a=this._attributes,b=[],d=0;d<a.length;d++){var f=a[d].key;"*"!=c&&f!=c||b.push({key:a[d].key,val:a[d].val})}return"*"!=c?0<b.length?b[0].val:void 0:XMLElementList.createFromAttribute(b)};b.getAllAttribute=function(c){var a=[];this._getAllAttribute_(a,this,c);return XMLElementList.createFromAttribute(a)};b._getAllAttribute_=function(c,a,b){for(var d=a._childNodes?a._childNodes.length:0,f=0;f<d;f++){for(var h=a._childNodes[f],k=0;k<h._attributes.length;k++){var l=h._attributes[k].key,m=h._attributes[k].val;"*"==b?c.push({key:l,val:m}):l==b&&c.push({key:l,val:m})}this._getAllAttribute_(c,h,b)}};b.attribute=function(c){return this.getAttribute(c)};b.getChildByName=function(c){return this.child(c)};b.getAllChildByName=function(c){var a=[];this._getAllChildByName_(a,this,c);return XMLElementList.create(a)};b._getAllChildByName_=function(c,a,b){for(var d=a._childNodes?a._childNodes.length:0,f=0;f<d;f++){var h=a._childNodes[f];"*"==b?c.push(h):h._nodeName==b&&c.push(h);this._getAllChildByName_(c,h,b)}};b.nodeKind=function(){return this._nodeType};b.getChildByAttribute=function(c,a,b){void 0===b&&(b=!0);if(""==c||null==c||""==a||null==a)return null;for(var d=[],f=this._childNodes?this._childNodes.length:0,h=0;h<f;h++)for(var k=this._childNodes[h],l=0;l<k._attributes.length;l++)k._attributes[l].key==c&&(b&&k._attributes[l].val==a?d.push(k):b||k._attributes[l].val==a||d.push(k));return XMLElementList.create(d)};b.children=function(){var c=XMLElementList.create(this._childNodes);c.length||"string"==typeof this._nodeValue&&""!=this._nodeValue&&c.push(this._nodeValue);return c};b.getChildAt=function(c){return!this._childNodes||c>this._childNodes.length?null:this._childNodes[c]};b.elements=function(c){void 0===c&&(c="*");return"*"==c?XMLElementList.create(this._childNodes):this.child(c)};b.appendChild=function(c){"string"==typeof c&&(c=iflash.xml.XMLElement.create(String(c)));if(c instanceof iflash.xml.XMLElement){var a=c._nodeName,b=this[a];b||(this[a]=b=new XMLElementList);"function"==typeof b!=1&&b.__addChild__(c);this._childNodes.push(c)}else if(c instanceof iflash.xml.XMLElementList)for(a=c.lengths(),b=0;b<a;b++)this.appendChild(c[b]);c._parentNode=this;return c};b.prependChild=function(c){c=this.appendChild(c);var a=this._childNodes;a.pop();a.splice(0,0,c);return c};b.setChildByName=function(c,a){var b=this.getChildByName(c);if(!b)return null;for(var d=this._childNodes.length,f=this._childNodes.length-1;0<=f;f--)this._childNodes[f].localName==c&&(this._childNodes.splice(f,1),d=f);if(a instanceof iflash.xml.XMLElementList)for(f=0;f<a.lengths();f++)this._childNodes.splice(d,0,a[f]),d++;else if(a instanceof iflash.xml.XMLElement)this._childNodes.splice(d,0,a);else return null;return b};b.copy=function(){return new a(this.toXMLString())};b.copyFrom=function(c){return c instanceof iflash.xml.XMLElement?(this._nodeName=c._nodeName,this._nodeValue=c._nodeValue,this._attributes=c._attributes,this._childNodes=c._childNodes,this):null};b.setName=function(c){this._nodeName=c};b.hasOwnProperty=function(c){var a=0,b=0;if(-1!=c.indexOf("@"))for(c=c.substring(1),a=this._attributes.length,b=0;b<a;b++){if(this._attributes[b].key==c)return!0}else for(a=this._childNodes.length,b=0;b<a;b++)if(this._childNodes[b]._nodeName==c)return!0;return!1};b.hasSimpleContent=function(){return 1<this._childNodes.length?!1:1==this._childNodes.length?this._childNodes[0].localName?!1:!0:!0};b.hasComplexContent=function(){return 0<this._childNodes.length};b.lengths=function(){return 1};b.name=function(){return this._nodeName};b.parent=function(){return this._parentNode};b.toString=function(){var c="";return c=this._childNodes.length?this.toXMLString():this._nodeValue};b.getString=function(){var c="";return c=this.toXMLString()};b.toXMLString=function(){a._callee||(a._callee=this);var c="";if(this._nodeName)for(var c=c+("\x3c"+this._nodeName),b=0;b<this._attributes.length;b++)c+=" "+this._attributes[b].key+'\x3d"'+this._attributes[b].val+'"';if(this.hasSimpleContent()&&!this.value)c+="/\x3e";else{c+=this._nodeName?"\x3e":"";c+=this._childNodes.length?"\n":this._nodeValue;this._nestCount=this._childNodes.length?this._nestCount+1:this._nestCount;for(b=0;b<this._childNodes.length;b++){this._childNodes[b]._nestCount=this._nestCount;for(var g=0;g<this._nestCount;g++)c+="   ";c+=this._childNodes[b].toXMLString();for(g=0;g<this._nestCount-1;g++)c+="   "}this._nodeName&&(c+="\x3c/"+this._nodeName+"\x3e")}a._callee!=this?c+="\n":a._callee=null;return c};b.child=function(c){if("number"==typeof c)return XMLElementList.create([this._childNodes[c]]);for(var a=[],b=this._childNodes?this._childNodes.length:0,d=0;d<b;d++){var f=this._childNodes[d];f.localName==c&&a.push(f)}return XMLElementList.create(a)};b.childIndex=function(){var c=this._parentNode;if(c)for(var c=c._childNodes,a=0,b=c.length;a<b;a++)if(c[a]==this)return a;return-1};b.insertChildBefore=function(c,a){if(c){c instanceof iflash.xml.XMLElementList&&(c=c[0]);var b=c.parent().childNodes;if(b){var d=b.indexOf(c);b.splice(d,0,a);b=new XMLElementList;b.push(a);a._parentNode=this;c.parent()[a.nodeName]=b;return this}}else this.prependChild(a)};b.insertChildAfter=function(c,a){if(c){c instanceof iflash.xml.XMLElementList&&(c=c[0]);var b=c.parent().childNodes;if(b){var d=b.indexOf(c);b.splice(d+1,0,a);b=new XMLElementList;b.push(a);a._parentNode=this;c.parent()[a.nodeName]=b;return this}}else this.appendChild(a)};b.normalize=function(){return null};b.comments=function(){return null};b.contains=function(c){return!0};b.defaultSettings=function(){return null};b.descendants=function(c){return null};b.inScopeNamespaces=function(){return[]};b.setLocalName=function(c){this._nodeName=c};__getset(0,b,"localName",function(){return this._nodeName},function(c){this._nodeName=c});__getset(0,b,"nodeType",function(){return this._nodeType});__getset(0,b,"childNodes",function(){return this._childNodes});__getset(0,b,"nodeName",function(){return this._nodeName});__getset(0,b,"value",function(){return this._nodeValue},function(c){this._nodeValue=c});__getset(0,b,"conchValue",function(){var c="";if(this._childNodes){for(var a=0,b=this._childNodes.length;a<b;a++)c+=this._childNodes[a].conchValue;c+=this.value}else c=this.value;return c});a.create=function(c,b){b=b?b:new a;var g;if(IFlash.isRuningOnAccelerator&&"string"!=typeof c)g=c.childNodes[0];else{g=(new DOMParser).parseFromString(c,"text/xml");var d=0,f=null;do if(f=g.childNodes[d++],"#comment"!=f.nodeName){g=f;break}while(d<g.childNodes.length)}a.cloneXmlFromData(b,g);return b};a.cloneXmlFromData=function(c,b){c._nodeName=b.nodeName;c._nodeValue=null==b.nodeValue?b.textContent:b.nodeValue;for(var g=b.attributes,d=g?g.length:0,f=c._attributes,h=0;h<d;h++){var k=g[h];f.push({key:k.nodeName,val:k.nodeValue})}g=b.childNodes;for(d=0;d<g.length;d++)f=g[d],h=f.nodeName,"#text"==h?f.parentNode&&f.parentNode.textContent!=f.textContent&&(h=f.nodeValue.replace(/(^\s*)|(\s*$)/g,""),1<h.length&&(f.nodeValue=h,h=new a,a.cloneXmlFromData(h,f),c.appendChild(h))):"#text"!=h&&"#comment"!=h&&("#cdata-section"==h||""==h?c._nodeValue=null==f.nodeValue?f.textContent:f.nodeValue:(h=new a,a.cloneXmlFromData(h,f),c.appendChild(h)))};a._callee=null;return a}(),XML=window.XML=iflash.xml.XMLElement,SoundAsset=function(){function a(){}__class(a,"mx.core.SoundAsset",!0);return a}(),IllegalOperationError=function(a){function b(c,a){void 0===c&&(c="");void 0===a&&(a=0);b.__super.call(this,c,a)}__class(b,"iflash.errors.IllegalOperationError",!0,Error);return b}(Error),IOError=function(a){function b(c,a){void 0===c&&(c="");void 0===a&&(a=0);b.__super.call(this,c,a)}__class(b,"iflash.errors.IOError",!0,Error);return b}(Error),XMLElementList=function(a){function b(c){this._value="";this._parentNode=null;b.__super.call(this);__uns(this,["_value","_parentNode"]);if(c){c=b.create(XMLElement.create("\x3cdata\x3e"+c+"\x3c/data\x3e").childNodes);for(var a=0;a<c.length;a++)this.push(c[a])}Object.defineProperty(this,"length",{value:this.length,writable:!0,enumerable:!1,configurable:!1})}__class(b,"iflash.xml.XMLElementList",!1,Array);a=b.prototype;Laya.imps(a,{"iflash.xml.IXMLElement":!0});a.childIndex=function(){if(1==this.lengths()){var c=this[0],a=c._parentNode;if(a)for(var a=a._childNodes,b=0,d=a.length;b<d;b++)if(a[b]==c)return b}return-1};a.getAttributes=function(){return this.attributes()};a.attributes=function(){return this.getAttribute("*")};a.getAttribute=function(c){for(var a=[],b=this.length,d=0;d<b;d++)for(var f=this[d]._attributes,h=0;h<f.length;h++){var k=f[h].key;"*"!=c&&k!=c||a.push({key:f[h].key,val:f[h].val})}return"*"!=c&&a&&1==a.length?0<a.length?a[0].val:void 0:iflash.xml.XMLElementList.createFromAttribute(a)};a.attribute=function(c){return this.getAttribute(c)};a.setAttribute=function(c,a){if(1==this.length){var b,d;for(d in this[0]._attributes)if(b=this[0]._attributes[d],b.key==c)return b.val=a;this[0]._attributes.push({key:c,val:a})}return null};a.getChildByName=function(c){return this.child(c)};a.child=function(c){if(!this.length)return new b;for(var a=[],g=this.lengths(),d=0;d<g;d++){var f=this[d].getChildByName(c);f&&f.length&&(a=a.concat(this[d].getChildByName(c)))}return b.create(a)};a.getChildByAttribute=function(c,a,b){void 0===b&&(b=!0);if(""==c||null==c||""==a||null==a)return null;for(var d=[],f=this.length,h=0;h<f;h++)for(var k=this[h],l=0;l<k._attributes.length;l++)k._attributes[l].key==c&&(b&&k._attributes[l].val==a?d.push(k):b||k._attributes[l].val==a||d.push(k));return iflash.xml.XMLElementList.create(d)};a.getChildAt=function(c){return!this.length||c>this.length?null:this[c]};a.children=function(){for(var c=new b,a=this.lengths(),g=0;g<a;g++){for(var d=this[g]._childNodes,f=d.length,h=0;h<f;h++)c.push(d[h]);1>f&&c.push(this[g])}return c};a.elements=function(c){void 0===c&&(c="*");return this.length?"*"==c?this.children():this.child(c):new b};a.appendChild=function(c){"string"==typeof c&&(c=XMLElement.create(String(c)));this.__doAdd__(c);return c};a.__addChild__=function(c){if(c instanceof iflash.xml.XMLElement){for(var a=c._childNodes,b=a.length,d=0;d<b;d++)this.__doAdd__(a[d]);this.push(c)}else if(c instanceof iflash.xml.XMLElementList)for(b=c.lengths(),d=0;d<b;d++)this.__addChild__(c[d])};a.__doAdd__=function(c){if(-1==this.indexOf(c)){var a=c._nodeName,g=this[a];if(g instanceof iflash.xml.XMLElementList)g.__addChild__(c);else if(g instanceof iflash.xml.XMLElement){var d=g,g=this[a]=new b;Object.defineProperty(this,[a],{value:this[a],writable:!0,enumerable:!1,configurable:!1});g.__addChild__(d);g.__addChild__(c)}else g||(g=new b,1==this.length?(this[0][a]=g,this[0]._childNodes=g):this[a]=g,g.__addChild__(c),Object.defineProperty(this,[a],{value:this[a],writable:!0,enumerable:!1,configurable:!1}))}};a.setName=function(c){1==this.length&&(this[0]._nodeName=c)};a.copyFrom=function(c){if(1<this.lengths())return null;var a=c instanceof iflash.xml.XMLElementList;if(1<c.lengths())return null;a?this[0].copyFrom(c.getChildAt(0)):this[0].copyFrom(c);return this[0]};a.hasOwnProperty=function(c){if(0==this.length)return this[0].hasOwnProperty(c);var a,b;for(b in this)if(a=this[b],a.hasOwnProperty(c))return!0;return!1};a.setChildByName=function(c,a){return null};a.hasComplexContent=function(){return 0<this.length};a.hasSimpleContent=function(){for(var c=this.length,a=0;a<c;a++)if(null!=this._nodeValue)return!0;return!1};a.name=function(){return 1==this.length?this[0].name():null};a.lengths=function(){for(var c=this.length-1;0<=c;c--)void 0==this[c]&&this.splice(c,1);return this.length};a.toString=function(){var c="";if(this.lengths())if(1==this.length)c+=this[0].toString();else for(var a=0;a<this.length;a++)1<this.length&&(c+=this[a].getString());return c};a.toXMLString=function(){for(var c="",a=0;a<this.length;a++)c+=this[a].toXMLString();return c};a.parent=function(){return this._parentNode};a.copy=function(){return new b(this.toXMLString())};a.getString=function(){var c="";return c=this.toXMLString()};a.comments=function(){return null};a.contains=function(c){return!0};__getset(0,a,"localName",function(){return null},function(c){1==this.length&&(this[0]._nodeName=c)});__getset(0,a,"nodeType",function(){return"*"});__getset(0,a,"value",function(){return 1==this.length?this[0]._nodeValue:""},function(c){1==this.length&&(this[0]._nodeValue=c)});__getset(0,a,"childNodes",function(){return null});__getset(0,a,"nodeName",function(){return null});__uns(a,"childIndex getAttributes attributes getAttribute attribute setAttribute getChildByName child getChildByAttribute getChildAt children elements appendChild __addChild__ __doAdd__ setName copyFrom hasOwnProperty setChildByName hasComplexContent hasSimpleContent name lengths toString toXMLString parent copy getString comments contains".split(" "));b.create=function(c){for(var a=new b,g=0;g<c.length;g++)a.__addChild__(c[g]);return a};b.createFromAttribute=function(c){for(var a=new b,g=0;g<c.length;g++){var d=new XMLElement,f=c[g];d._nodeName=f.key;d._nodeValue=f.val;a.push(d)}return a};return b}(Array),XMLList=window.XMLList=iflash.xml.XMLElementList,DisplayObject=function(a){function b(){this._firstDisplayUnit_=this._parent_=null;this._height_=this._width_=this._top_=this._left_=0;this._blend_=null;this._zIndex_=0;this._sort_d_=-1;this._mouseY_=this._mouseX_=NaN;this._type2_=this.__id__=0;this._readyCallParam=this._readyCallBack=this._mask_=null;this._needNotice=!1;b.__super.call(this);this._Filters_=Filters.__DEFAULT__;this._transform_=Transform.__DEFAULT__;this._concatenatedMatrix=new Matrix;this._invertedConcatenatedMatrix=new Matrix;this._bounds=new Rectangle;this.__initModule();this._type_|=1024;this._propagateFlagsDown_(5)}__class(b,"iflash.display.DisplayObject",!1,a);a=b.prototype;a.__initModule=function(){b.initModule?(this._modle_=Browser._createModle_(2,this._id_,this),this._type_|=64):this._modle_=IModel.__DEFAULT__;Laya.CONCHVER&&(this._modle_.vcanvas=function(c){c.conchVirtualBitmap=c.conchVirtualBitmap||new ConchVirtualBitmap;this.conchVirtualBitmap=c.conchVirtualBitmap;this.virtualBitmap(c.conchVirtualBitmap);c.inMap||(ConchRenderVCanvas.maps.push(c),c.inMap=!0)})};a._lyPaint_=function(c,a,b){this._firstDisplayUnit_&&(this._firstDisplayUnit_.paint(c,a+this._left_,b+this._top_,this,this._width_,this._height_)||(this._repaint_=0))};a.conchPaint=function(c,a,b,d){void 0===d&&(d=!1);this._paintTransform_(c,a,b,this._width_,this._height_,d)};a._paintTransform_=function(c,a,b,d,f,h){this._transform_==Transform.__DEFAULT__||h?this._paintclip_(c,a,b,d,f):(h=this._transform_.matrix)&&h.isTransform()?(c.save(),a-=this._left_,b-=this._top_,0!=a||0!=b?(c.translate(a,b),c.transform(h.a,h.b,h.c,h.d,h.tx,h.ty),c.translate(-a,-b)):c.transform(h.a,h.b,h.c,h.d,h.tx,h.ty),this._paintclip_(c,a,b,d,f),c.restore()):this._paintclip_(c,a,b,d,f)};a._paintclip_=function(c,a,b,d,f){if(2==(this._type_&2))if(this._private_._scrollRect_){var h=this._private_._scrollRect_;c.save();c.beginPath();c.rect(a,b,h.width,h.height);c.clip();this._paintChild_(c,a,b,d,f);c.restore()}else this._paintGraphics_(c,a,b,d,f);else this._paintGraphics_(c,a,b,d,f)};a._paintMask_=function(c,a,b,d,f){};a._paintBackground_=function(c,a,b,d,f){c.save();c.fillStyle="#ff0000";c.fillRect(a,b,d,f);c.restore()};a._paintGraphics_=function(c,a,b,d,f){this._paintChild_(c,a,b,d,f)};a._paintChild_=LAYAFNVOID;a.lySize=function(c,a){if(c!=this._width_||a!=this._height_)this._width_=0<c?c:-1,this._height_=0<a?a:-1,this._modle_.size(c,a),this._propagateFlagsDown_(5)};a._lyPos_=function(c,a){if(this._left_!=c||this._top_!=a)this._left_=c,this._top_=a,this._modle_.pos(c,a),this._type_|=131072,this._propagateFlagsDown_(5)};a.localToGlobal=function(c,a){a||(a=new Point);return this._getConcatenatedMatrix().transformPointInPlace(c,a)};a.globalToLocal=function(c,a){a||(a=new Point);return this._getInvertedConcatenatedMatrix().transformPointInPlace(c,a)};a.hitTestPoint=function(c,a,g){if(!this.visible)return!1;b.HELPER_POINT_ALT=this.root.localToGlobal(b.HELPER_POINT.setTo(c,a),b.HELPER_POINT_ALT);return this.getBounds(Stage.stage).containsPoint(b.HELPER_POINT_ALT)?!0:!1};a._hitTest_=function(c,a){if(!this.visible||!this._checkHitMask(c,a)||!this._checkHitScrollRect(c,a))return null;this._private_._scrollRect_&&(c+=this._private_._scrollRect_.x,a+=this._private_._scrollRect_.y);return this._getBounds_(this,b.HELPER_RECTANGLET).containsPoint(b.HELPER_POINT.setTo(c,a))?this:null};a._checkHitMask=function(c,a){return this._mask_?(this._mask_.getBounds(Stage.stage,b.HELPER_RECTANGLET),this._getInvertedConcatenatedMatrix().transformBounds(b.HELPER_RECTANGLET),b.HELPER_RECTANGLET.containsPoint(b.HELPER_POINT.setTo(c,a))):!0};a._checkHitScrollRect=function(c,a){if(this._private_._scrollRect_&&0!=this._private_._scrollRect_.width&&0!=this._private_._scrollRect_.height){var g=this._private_._scrollRect_.clone();g.x=0;g.y=0;return g.containsPoint(b.HELPER_POINT.setTo(c,a))}return!0};a.hitTestObject=function(c){if(this.visible&&null!=this.parent&&null!=c&&null!=c.parent){var a=this.getBounds(Stage.stage);c=c.getBounds(Stage.stage);return a.intersects(c)}return!1};a.getRect=function(c){return this.getBounds(c)};a._getBounds_=function(c,a){a||(a=b.HELPER_RECTANGLET);b.HELPER_POINT.identity();return a.setTo(0,0,this._width_,this._height_)};a.getBounds=function(c,a){if(c==Stage.stage&&0==(this._type2_&4))return a?(a.copyFrom(this._bounds),a):this._bounds;null==a&&(a=new Rectangle);this._getBounds_(c,a);c!=this&&(c==this._parent_?b.HELPER_MATRIX.copy(this.matrix):Matrix.mul(b.HELPER_MATRIX,c._getInvertedConcatenatedMatrix(),this._getConcatenatedMatrix()),b.HELPER_MATRIX.transformBounds(a));c==Stage.stage&&(this._bounds.copyFrom(a),this._type2_&=-5);return a};a.getTransformMatrix=function(c,a){a?a.identity():a=new Matrix;if(c==this)return a;if(c==this.parent||null==c&&null==this.parent)return a.copy(this.matrix),a;if(null==c||c==this._root_)return a.copyFrom(this._getConcatenatedMatrix()),a;if(c.parent==this)return c.getTransformMatrix(this,a),a.invert(),a;Matrix.mul(a,c._getInvertedConcatenatedMatrix(),this._getConcatenatedMatrix());return a};a._getConcatenatedMatrix=function(c){void 0===c&&(c=!0);if(this._type2_&1){if(this._parent_)this._parent_._getConcatenatedMatrix().preMultiplyInto(this.matrix,this._concatenatedMatrix);else return this.matrix;1==c&&(this._invertedConcatenatedMatrix=this._concatenatedMatrix.clone(),this._invertedConcatenatedMatrix.invert());this._type2_&=-2}return this._concatenatedMatrix};a._getInvertedConcatenatedMatrix=function(){this._type2_&1&&(this._invertedConcatenatedMatrix=this._getConcatenatedMatrix(!1).clone(),this._invertedConcatenatedMatrix.invert(),this._type2_&=-2);return this._invertedConcatenatedMatrix.clone()};a._propagateFlagsDown_=function(c){this._type2_|=c};a.__addFrameTimer__=function(c){return Stage.stage._tmctr_.addFrameTimer(c,this)};a.__updatamask__=function(){this._mask_.getBounds(Stage.stage,b.HELPER_RECTANGLET);this._getInvertedConcatenatedMatrix().transformBounds(b.HELPER_RECTANGLET);var c=b.HELPER_RECTANGLET;c.x==this._private_.mask.x&&c.y==this._private_.mask.y&&c.width==this._private_.mask.width&&c.height==this._private_.mask.height||this._private_.mask.setRect(c.x,c.y,c.width,c.height)};a._addCMask=function(){var c=!0;if(this._private_.mask){for(var a=0,g=b.ConMasks.length;a<g;a++)this==b.ConMasks[a]&&(c=!1);c&&b.ConMasks.push(this)}};a._lyToBody_=function(){this._addCMask();this.dispatchEvent(new Event("addedToStage"))};a._dispatchAddedEvent=function(c){var a=new Event("added");a._lytarget=c;a.bubbles=!0;this.dispatchEvent(a)};a._removeCMask=function(){if(this._private_.mask)for(var c=0,a=b.ConMasks.length;c<a;c++)if(this==b.ConMasks[c]){b.ConMasks.splice(c,1);break}};a._lyUnToBody_=function(){this._removeCMask();this.dispatchEvent(new Event("removedFromStage"))};a.removeFromBody=function(){this._parent_=null};a._dispatchRemovedEvent=function(){this.dispatchEvent(new Event("removed",!0))};a.__dispatchEnterFrame__=function(c){c._currentTarget_=this;c._lytarget=this;this.dispatchEvent(c)};a.lyclone=LAYAFNVOID;a.setReadyForDrawCall=function(c,a){this._readyCallParam=a;this._readyCallBack=c;this.isReadyForDraw?this.readyDrawCallBack():this.setupReadyNoticeWork()};a.readyDrawCallBack=function(){null!=this._readyCallBack&&(this._readyCallBack.apply(this,this._readyCallParam),this._readyCallParam=this._readyCallBack=null)};a.setupReadyNoticeWork=function(c){void 0===c&&(c=!1);this.isReadyForDraw||(this._needNotice=c)};a.readyWork=function(){null!=this._readyCallBack&&this.readyDrawCallBack();this.noticeReadyToParent()};a.noticeReadyToParent=function(){if(this._needNotice){if(this._parent_)this._parent_.oneChildReady();this._needNotice=!1}};a.layaDestory=function(){this._modle_&&this._modle_.destroy();this._modle_=this._bounds=this._invertedConcatenatedMatrix=this._concatenatedMatrix=null};__getset(0,a,"_owidth_",function(){return this._width_/this.scaleX});__getset(0,a,"name",function(){return this._private_._name_||(this._private_._name_="instance"+this._id_)},function(c){this._private_._name_=c});__getset(0,a,"parent",function(){return this._parent_});__getset(0,a,"_oheight_",function(){return this._height_/this.scaleY});__getset(0,a,"y",function(){return this._top_},function(c){this._lyPos_(this._left_,c)});__getset(0,a,"__onmask__",null,function(c){this._private_.onmask&&(this._private_.onmask.deleted=!0);this._private_.onmask=this.__addFrameTimer__(c)});__getset(0,a,"height",function(){return this.matrix.transformBounds(this._getBounds_(this)).height},function(c){if(this._height_!=c){this.scaleY=1;var a=this.height;a&&(this.scaleY=c/a);this._height_!=c&&this.lySize(this._width_,c)}});__getset(0,a,"skewX",function(){return this._transform_._skew_.x},function(c){if(this._transform_==Transform.__DEFAULT__){if(0==c)return;this._transform_=(new Transform)._setNode_(this)}this._transform_._setSkewX_(c)});__getset(0,a,"width",function(){return this.matrix.transformBounds(this._getBounds_(this)).width},function(c){if(this._width_!=c){this.scaleX=1;var a=this.width;a&&(this.scaleX=c/a);this._width_!=c&&this.lySize(c,this._height_)}});__getset(0,a,"blendMode",function(){return this._blend_},function(c){switch(c){case "add":c="lighter";break;default:this._modle_.globalCompositeOperation(1);return}this._blend_!=c&&(this._blend_=c,this._modle_.globalCompositeOperation(2),0==(this._type_&65536)&&(DrawBlend.insertUnit(this),this._type_|=65536))});__getset(0,a,"skewY",function(){return this._transform_._skew_.y},function(c){if(this._transform_==Transform.__DEFAULT__){if(0==c)return;this._transform_=(new Transform)._setNode_(this)}this._transform_._setSkewY_(c)});__getset(0,a,"rotation",function(){return this._transform_._rotate_},function(c){if(this._transform_==Transform.__DEFAULT__){if(0==c)return;this._transform_=(new Transform)._setNode_(this)}this._transform_._setRotation_(c)});__getset(0,a,"scaleY",function(){return this._transform_._scale_.y},function(c){if(this._transform_==Transform.__DEFAULT__){if(1==c)return;this._transform_=(new Transform)._setNode_(this)}this._transform_._setScaleY_(c)});__getset(0,a,"rotationX",LAYAFN0,LAYAFNVOID);__getset(0,a,"transform",function(){return this._transform_==Transform.__DEFAULT__?this._transform_=(new Transform)._setNode_(this):this._transform_},function(c){(this._transform_=c)._setNode_(this)});__getset(0,a,"rotationY",LAYAFN0,LAYAFNVOID);__getset(0,a,"rotationZ",function(){return this.rotation},function(c){this.rotation=c});__getset(0,a,"scaleX",function(){return this._transform_._scale_.x},function(c){if(this._transform_==Transform.__DEFAULT__){if(1==c)return;this._transform_=(new Transform)._setNode_(this)}this._transform_._setScaleX_(c)});__getset(0,a,"scaleZ",LAYAFN0,LAYAFNVOID);__getset(0,a,"matrix",function(){return this._transform_!=Transform.__DEFAULT__?this._transform_.matrix:(this._transform_=new Transform)._setNode_(this).matrix},function(c){if(this._transform_==Transform.__DEFAULT__){if(!c.isTransform()){this._lyPos_(c.tx,c.ty);return}this._transform_=(new Transform)._setNode_(this)}this._transform_.matrix=c});__getset(0,a,"visible",function(){return 0!=(this._type_&1024)},function(c){this._type_=c?this._type_|1024:this._type_&-1025;this._modle_.show(c)});__getset(0,a,"x",function(){return this._left_},function(c){this._lyPos_(c,this._top_)});__getset(0,a,"z",LAYAFN0,LAYAFNVOID);__getset(0,a,"alpha",function(){return this._Filters_._alpha_},function(c){this._Filters_._alpha_!=c&&(this._Filters_!=Filters.__DEFAULT__?this._Filters_.alpha(this,c):(this._Filters_=new Filters).alpha(this,c))});__getset(0,a,"mouseX",function(){b.HELPER_POINT.setTo(Laya.document.mouseX,Laya.document.mouseY);this.globalToLocal(b.HELPER_POINT,b.HELPER_POINT_ALT);return b.HELPER_POINT_ALT.x});__getset(0,a,"mouseY",function(){b.HELPER_POINT.setTo(Laya.document.mouseX,Laya.document.mouseY);this.globalToLocal(b.HELPER_POINT,b.HELPER_POINT_ALT);return b.HELPER_POINT_ALT.y});__getset(0,a,"loaderInfo",function(){return LoaderInfo.getLoaderInfo(this.__id__)});__getset(0,a,"_root_",function(){for(var c=this;c&&c.parent;)c=c.parent;return c});__getset(0,a,"root",function(){for(var c=this;c&&c.parent&&c.parent!=Stage.stage;)c=c.parent;return c});__getset(0,a,"stage",function(){return this._root_==Stage.stage?Stage.stage:null});__getset(0,a,"scrollRect",function(){return this._private_._scrollRect_},function(c){c?(this._private_._scrollRect_=this._private_._scrollRect_||new Rectangle,this._private_._scrollRect_.setTo(c.x,c.y,c.width,c.height),0==(this._type_&2)&&(DrawClip.insertUnit(this),this._type_|=2),Laya.CONCHVER&&(this._modle_.clip(!0),this._modle_.scroll(-c.x,-c.y),this._modle_.size(c.width,c.height))):(this._private_._scrollRect_=null,this._modle_.clip(!1),this._modle_.scroll(0,0))});__getset(0,a,"scale9Grid",LAYAFNNULL,LAYAFNVOID);__getset(0,a,"filters",LAYAFNNULL,LAYAFNVOID);__getset(0,a,"mask",function(){return this._mask_},function(c){if(c){for(var a=!1,g=c.parent;g;){if(this==g){a=!0;break}g=g.parent}this._mask_=c;this._mask_.visible=!1;a?0==(this._type_&32768)&&DrawMaskC.insertUnit(this):0==(this._type_&32768)&&DrawMask.insertUnit(this);0==(this._type_&32768)&&(this._type_|=32768);Laya.CONCHVER&&(c=this._private_.mask||new Browser.window._ConchMask,c.setType(1),this._modle_.mask(c),this._private_.mask||b.ConMasks.push(this),this._private_.mask=c)}else this._mask_&&(this._mask_.visible=!0,this._mask_=null,this._type_&=-32769,this._removeCMask(),this._private_.mask=null,this._modle_.mask(null))});__getset(0,a,"_to_sort_d",function(){return this._sort_d_=this.zIndex/1E5});__getset(0,a,"zIndex",function(){return this._zIndex_},function(c){this._zIndex_=c;this._modle_.zIndex(c)});__getset(0,a,"cacheAsBitmap",LAYAFNFALSE,LAYAFNVOID);__getset(0,a,"isReadyForDraw",function(){return!0});b.sendMask=function(){for(var c=0,a=b.ConMasks.length;c<a;c++)b.ConMasks[c].__updatamask__()};b.ConMasks=[];b.TYPE_IFLASH=4194304;b.TYPE2_DRAW_MASK=0;b.TYPE2_DRAW_TANSFORM=1;b.TYPE2_DRAW_FILTER=2;b.TYPE2_DRAW_BACKGROUND=32;b.TYPE2_DRAW_CLIP=256;b.TYPE2_DRAW_MASKC=512;b.TYPE2_DRAW_CHILDS=2048;b.TYPE2DEFAULT=0;b.TYPE_CLIP=2;b.TYPE_DRAWSHAP=4;b.TYPE_DRAWCHILD=8;b.TYPE_CREATE_FROM_TAG=16;b.TYPE_MOUSE_CHILDREN=32;b.TYPE_MOUSE_ENABLE=64;b.TYPE_USEHANDCURSOR=128;b.TYPE_MOUSE_DBCLICK_ENABLE=256;b.TYPE_IS_RECT_CHANGE=512;b.TYPE_IS_VISIBLE=1024;b.TYPE_IS_LOAD=2048;b.TYPE_DRAW_BIMAP_DATA=4096;b.TYPE_DRAW_IMAGEELEMENT=8192;b.TYPE_CHILDREN_SORT=16384;b.TYPE_MASK=32768;b.TYPE_BLEND=65536;b.TYPE_MATRIX_CHG=131072;b.TYPE2_CONCATENATEDMATRIX_CHG=1;b.TYPE2_BOUNDS_CHG=4;b.TYPE2_RECT_CHG=2;b.initModule=!0;__static(b,["HELPER_MATRIX",function(){return this.HELPER_MATRIX=new Matrix},"HELPER_MATRIX_ALT",function(){return this.HELPER_MATRIX_ALT=new Matrix},"HELPER_POINT",function(){return this.HELPER_POINT=new Point},"HELPER_POINT_ALT",function(){return this.HELPER_POINT_ALT=new Point},"HELPER_RECTANGLET",function(){return this.HELPER_RECTANGLET=new Rectangle},"HELPER_RECTANGLET_ALT",function(){return this.HELPER_RECTANGLET_ALT=new Rectangle}]);return b}(EventDispatcher),LoaderInfo=function(a){function b(){this._actionScriptVersion_=1;this._sameDomain_=!1;this._contentType="";this._bytes=this._applicationDomain=null;this._bytesTotal=this._bytesLoaded=0;this._childAllowsParent=!1;this.__content__=null;this._height=this._frameRate=0;this._isURLInaccessible=!1;this._loaderURL=this._loader=null;this._lyurl="";this._parameters=null;this._parentAllowsChild=!1;this._width=this._swfVersion=0;this._reDomain_=this._resourceDic_=this.objInfo=null;this.__id__=0;this.__fileurl=this.__imageUrl__="";this._nextid_=0;this._uncaughtErrorEvents=this.onerror=this.onload=null;this.temp=[];this.argData=this.config=null;this.countAsset=this.pr=0;b.__super.call(this);this._resourceDic_=[];this.objInfo=[];this._applicationDomain=new ApplicationDomain;this._applicationDomain._parentDomain_=ApplicationDomain.currentDomain}__class(b,"iflash.display.LoaderInfo",!1,a);a=b.prototype;a.deleteResourceDic=function(){this._resourceDic_=null};a.deleteLoader=function(){for(var c in b._loaderInfos_)delete b._loaderInfos_[c];b._loaderInfos_=null};a.pushSymbolClass=function(c,a){this._resourceDic_[c]=a};a.pushResource=function(c,a){this._resourceDic_[a]=c};a.getResource=function(c){return this._resourceDic_[c]};a.cloneByName=function(c){return this.getResource(c).data.clone()};a.getBitmapData=function(c,a,b,d){return new LyImageElement};a.onUrlLoaderComplete=function(c){var a=c.target.data;a.position=0;var b=new ByteArray;a.readUTF();a.readUTF();a.readBytes(b,0,0);this.setByteArray(b);c.target.removeEventListener("complete",__bind(this,this.onUrlLoaderComplete));c.target.removeEventListener("ioError",__bind(this,this.onUrlError))};a.onUrlError=function(c){Log.log(c.toString())};a.setUrl=function(c){this.lyurl=Method.formatUrl(c);-1!=this.lyurl.lastIndexOf(".swf")?this.__imageUrl__=this.lyurl.substr(0,this.lyurl.lastIndexOf(".swf"))+"/image/":this.__imageUrl__=this.lyurl+"/image/"};a.saveObjInfo=function(c,a){c&&(this.objInfo[c]=a)};a.getObjInfo=function(c){return c?this.objInfo[c]:null};a._getEvents_=function(c){this._eventListener_=c._eventListener_};a._comp_=LAYAFNVOID;a.readversion=function(c){var a;a=""+c.readByte().toString();a+=c.readByte().toString();a+=c.readByte().toString();return a+=c.readByte().toString()};a.setByteArray=function(c){if("0001"<this.readversion(c)){var a=c.readObject();this.config=a.assets;this.argData=a.tagInfo}a=new Runnner;a.compile(c,this);a.getSysbomData(this);this.complete();a.deleteLoaderInfo()};a.complete=function(){this.putResInDomain();Runnner.symbolClass.length=0;if(this.argData)for(var c in this.argData)for(var a in this.argData[c]){var b=this.argData[c][a];this.getResource(c)[a]=b}this.mainClass?(c=iflash.utils.getDefinitionByName(this.mainClass))?c=new c:(c=this.getResource("32767"),(c=c.lyclone())&&c.gotoAndStop(1)):(c=this.getResource("32767"),(c=c.lyclone())&&c.gotoAndStop(1));this.__content__=c;if(!this.__fileurl)for(c=0;c<Loader.preSwf.length;c++)if(-1!=(this._lyurl+".swf").lastIndexOf(Loader.preSwf[c])){this.temp.length&&this.checkHandler();return}-1!=Loader.preSwf.indexOf(this.__fileurl)?this.temp.length?this.checkHandler():iflash.utils.setTimeout(__bind(this,this.__finish),.001):iflash.utils.setTimeout(__bind(this,this.__finish),.001)};a.checkHandler=function(){for(var c,a=0;a<this.temp.length;a++)c=this.temp[a],c.checkImg(),c._image_.onload=iflash.method.bind(this,this.onPreComplete),c._image_.onerror=iflash.method.bind(this,this.onPreComplete),c._image_.src=c.src};a.onPreComplete=function(c){this.pr++;this.pr>=this.temp.length&&(iflash.utils.setTimeout(__bind(this,this.__finish),.001),this.temp.length=0)};a.__finish=function(){this.temp.length=0;if(this.config&&this.config.textureList&&this.config.textureList.length){this.countAsset=this.config.textureList.length;var c=Browser.document.createElement("image");c.onload=iflash.method.bind(this,this.onLoadHandler);var a=this.__imageUrl__+"a"+this.countAsset+".png";c.src=a;TextureManager.getInstance().addTexture(a,c)}else this.onload&&this.onload()};a.onLoadHandler=function(){this.countAsset--;if(this.countAsset){var c=Browser.document.createElement("image");c.onload=iflash.method.bind(this,this.onLoadHandler);var a=this.__imageUrl__+"a"+this.countAsset+".png";c.src=a;TextureManager.getInstance().addTexture(a,c)}else this.onload&&this.onload()};a.putResInDomain=function(){if(this._reDomain_)for(var c in this.applicationDomain._resMapDic_)this._reDomain_.addResToMap(c,this.applicationDomain._resMapDic_[c])};__getset(0,a,"actionScriptVersion",function(){return this._actionScriptVersion_},function(c){this._actionScriptVersion_=c});__getset(0,a,"bytesLoaded",function(){return this._bytesLoaded},function(c){this._bytesLoaded=c});__getset(0,a,"width",function(){return this._width},function(c){this._width=c});__getset(0,a,"applicationDomain",function(){return this.__id__?this._applicationDomain:ApplicationDomain.currentDomain});__getset(0,a,"bytes",function(){return this._bytes},function(c){this._bytes=c});__getset(0,a,"content",function(){return this.__content__});__getset(0,a,"bytesTotal",function(){return this._bytesTotal},function(c){this._bytesTotal=c});__getset(0,a,"childAllowsParent",function(){return this._childAllowsParent},function(c){this._childAllowsParent=c});__getset(0,a,"contentType",function(){return this._contentType});__getset(0,a,"frameRate",function(){return this._frameRate},function(c){this._frameRate=c});__getset(0,a,"height",function(){return this._height},function(c){this._height=c});__getset(0,a,"isURLInaccessible",function(){return this._isURLInaccessible},function(c){this._isURLInaccessible=c});__getset(0,a,"loader",function(){null==this._loader&&(this._loader=new Loader);return this._loader},function(c){this._loader=c});__getset(0,a,"sharedEvents",LAYAFNNULL);__getset(0,a,"loaderURL",function(){return this._loaderURL},function(c){this._loaderURL=c});__getset(0,a,"parameters",function(){return this._parameters},function(c){this._parameters=c});__getset(0,a,"parentAllowsChild",function(){return this._parentAllowsChild},function(c){this._parentAllowsChild=c});__getset(0,a,"sameDomain",function(){return this._sameDomain_});__getset(0,a,"swfVersion",function(){return this._swfVersion},function(c){this._swfVersion=c});__getset(0,a,"lyurl",function(){return this._lyurl},function(c){this._lyurl=c});__getset(0,a,"url",function(){return this.lyurl});__getset(0,a,"src",function(){return this.lyurl},function(c){this.lyurl=c=Method.formatUrl(c,Laya.document.baseURI.path);-1!=this.lyurl.lastIndexOf(".swf")&&(this.__imageUrl__=this.lyurl.substr(0,this.lyurl.lastIndexOf(".swf"))+"/image/");var a=new URLLoader;a.dataFormat="binary";a.addEventListener("complete",__bind(this,this.onUrlLoaderComplete));a.addEventListener("ioError",__bind(this,this.onUrlError));a.load(new URLRequest(c))});__getset(0,a,"uncaughtErrorEvents",function(){return this._uncaughtErrorEvents=this._uncaughtErrorEvents||new UncaughtErrorEvents});__getset(1,b,"currentLoadInfo",function(){b.__currentLoaderInfo__||(b.__currentLoaderInfo__=new b);return b.__currentLoaderInfo__},iflash.events.EventDispatcher._$SET_currentLoadInfo);b.getLoaderInfoByDefinition=function(c){return c};b.create=function(c){var a=new b;a.__id__=c;a.applicationDomain.__id__=c;return b._loaderInfos_[c]=a};b.getLoaderInfo=function(c){return 0==c?b.currentLoadInfo:b._loaderInfos_[c]};b.__currentLoaderInfo__=null;b._loaderInfos_={};b.minibitmapData=null;b.TextureSign="a";return b}(EventDispatcher),NativeMenu=function(a){function b(){b.__super.call(this)}__class(b,"iflash.display.NativeMenu",!1,a);return b}(EventDispatcher),NativeMenuItem=function(a){function b(){b.__super.call(this)}__class(b,"iflash.display.NativeMenuItem",!1,a);__getset(0,b.prototype,"enabled",LAYAFNFALSE,LAYAFNVOID);return b}(EventDispatcher),Stage3D=function(a){function b(){this.context3D=null;this._y=this._x=0;this._visible=!0;b.__super.call(this)}__class(b,"iflash.display.Stage3D",!1,a);a=b.prototype;a.requestContext3D=function(c,a){iflash.utils.setTimeout(__bind(this,this.onCreateContext),1E3)};a.onCreateContext=function(c){this.context3D=new Context3D;this.context3D.webglContext=Laya.document.canvas3D.context3D;c=new iflash.events.Event("context3DCreate");this.context3D.webglContext.enableErrorChecking=!0;this.dispatchEvent(c)};__getset(0,a,"visible",function(){return this._visible},function(c){this._visible=c});__getset(0,a,"x",function(){return this._x},function(c){this._x=c});__getset(0,a,"y",function(){return this._y},function(c){this._y=c});return b}(EventDispatcher),BDBS=function(a){function b(c,a,g,d){void 0===g&&(g=!0);void 0===d&&(d=4294967295);c=this.__data__;a=c.miniBitmapData;b.__super.call(this,c?c.width:1,c?c.height:1,g,d);c&&(a._canvas_||a.draw(LoaderInfo.minibitmapData,Matrix.__DEFAULT__,null,null,new Rectangle(0,0,c.width,c.height)),this._canvas_=a._canvas_.clone(),c._init_(),c._lyToBody_(),this.width=c.width,this.height=c.height,this._canvas_.size(c.width,c.height))}__class(b,"iflash.display.swf.classs.BDBS",!1,a);return b}(BitmapData),DrawBitmapData=function(a){function b(){b.__super.call(this)}__class(b,"iflash.display.plug.DrawBitmapData",!1,a);a=b.prototype;a.clone=function(c){return new b};a.paint=function(c,a,b,d,f,h){var k=d.bitmapData;k&&k.paint&&k.paint.call(k,c,a,b,f,h);this.next&&this.next.paint(c,a,b,d,f,h)};__getset(0,a,"place",function(){return 4096});__getset(0,a,"id",function(){return 4096});b._DEFAULT_=new b;b._cache_=[];return b}(DisplayUnit),DrawBlend=function(a){function b(){b.__super.call(this)}__class(b,"iflash.display.plug.DrawBlend",!1,a);a=b.prototype;a.clone=function(c){return new b};a.paint=function(c,a,b,d,f,h){var k=d._blend_;k?(c.save(),c.globalCompositeOperation=k,this.next&&this.next.paint(c,a,b,d,f,h),c.restore()):this.next&&this.next.paint(c,a,b,d,f,h)};__getset(0,a,"place",function(){return 1});__getset(0,a,"id",function(){return 1});b.insertUnit=function(c){return DisplayUnit._insertUnit_(c,b._DEFAULT_)};b._DEFAULT_=new b;return b}(DisplayUnit),DrawChilds=function(a){function b(c){b.__super.call(this)}__class(b,"iflash.display.plug.DrawChilds",!1,a);a=b.prototype;a.clone=function(c){return new b(c)};a.paint=function(c,a,b,d,f,h){d._type_&16&&d.sortChildsByZIndex();var k=0,l=0,m,n;if(0<(k=(n=d._childs_).length))for(l=0;l<k;l++)null!=(m=n[l])&&m._type_&1024&&m.alpha&&(d.updateScaleData(l),m._lyPaint_(c,a,b));this.next&&this.next.paint(c,a,b,d,f,h)};__getset(0,a,"place",function(){return 2048});__getset(0,a,"id",function(){return 2048});b.insertUnit=function(c){return DisplayUnit._insertUnit_(c,b._DEFAULT_)};b._DEFAULT_=new b(null);return b}(DisplayUnit),DrawClip=function(a){function b(c){b.__super.call(this)}__class(b,"iflash.display.plug.DrawClip",!1,a);a=b.prototype;a.clone=function(c){return new b(c)};a.paint=function(c,a,b,d,f,h){if(d._private_._scrollRect_){var k=d._private_._scrollRect_;c.save();c.beginPath();c.rect(a,b,k.width,k.height);c.clip();this.next&&this.next.paint(c,a-k.x,b-k.y,d,f,h);c.restore()}else this.next&&this.next.paint(c,a,b,d,f,h)};__getset(0,a,"place",function(){return 256});__getset(0,a,"id",function(){return 256});b.insertUnit=function(c){return DisplayUnit._insertUnit_(c,b._DEFAULT_)};b._DEFAULT_=new b(null);return b}(DisplayUnit),DrawGraphics=function(a){function b(){b.__super.call(this)}__class(b,"iflash.display.plug.DrawGraphics",!1,a);a=b.prototype;a.clone=function(c){return new b};a.paint=function(c,a,b,d,f,h){var k=d.graphics;k.isReady()&&k._canvas_.paint(c,a,b,d._owidth_,d._oheight_);this.next&&this.next.paint(c,a,b,d,f,h)};__getset(0,a,"place",function(){return 768});__getset(0,a,"id",function(){return 768});b.insertUnit=function(c){return DisplayUnit._insertUnit_(c,b._DEFAULT_)};b._DEFAULT_=new b;return b}(DisplayUnit),DrawGridImageElement=function(a){function b(c){b.__super.call(this)}__class(b,"iflash.display.plug.DrawGridImageElement",!1,a);a=b.prototype;a.clone=function(c){return new DrawImageElement(c)};a.paint=function(c,a,b,d,f,h){var k=d.miniBitmapData;k&&k.paint&&k.paint.call(k,c,a,b,f,h);++Laya.document.drawCount;this.next&&this.next.paint(c,a,b,d,f,h)};__getset(0,a,"place",function(){return 2048});__getset(0,a,"id",function(){return 2048});b.insertUnit=function(c){return DisplayUnit._insertUnit_(c,b._DEFAULT_)};__static(b,["_DEFAULT_",function(){return this._DEFAULT_=new DrawImageElement(null)}]);return b}(DisplayUnit),DrawImageElement=function(a){function b(c){b.__super.call(this)}__class(b,"iflash.display.plug.DrawImageElement",!1,a);a=b.prototype;a.clone=function(c){return new b(c)};a.paint=function(c,a,b,d,f,h){f=0>f?0:f;h=0>h?0:h;var k=d._image_;if(d.scale9Data&&d.arrX)for(var l=d.arrX,m=d.arrY,n=d.arrW,p=d.arrH,q=d.oArrX,r=d.oArrY,v=d.oArrW,t=d.oArrH,u=0;3>u;u++)for(var w=0;3>w;w++){var x=q[u][w],z=r[u][w],A=v[u][w],y=t[u][w],C=l[u][w],F=m[u][w],D=n[u][w],E=p[u][w];0>=A||0>=y||0>=D||0>=E||(d.isTexture()?c.drawImage(d.texture,x+d.assetConfig.x,z+d.assetConfig.y,A,y,C+a,F+b,D,E):k.isReady()&&c.drawImage(k,x,z,A,y,C+a,F+b,D,E))}else d.isTexture()?(k=d.assetConfig,c.drawImage(d.texture,k.x,k.y,k.width,k.height,a,b,f,h)):k.isReady()&&c.drawImage(k,a,b,f,h);++Laya.document.drawCount;this.next&&this.next.paint(c,a,b,d,f,h)};__getset(0,a,"place",function(){return 2048});__getset(0,a,"id",function(){return 2048});b.insertUnit=function(c){return DisplayUnit._insertUnit_(c,b._DEFAULT_)};b._DEFAULT_=new b(null);return b}(DisplayUnit),DrawMask=function(a){function b(c){b.__super.call(this)}__class(b,"iflash.display.plug.DrawMask",!1,a);a=b.prototype;a.clone=function(c){return new b(c)};a.paint=function(c,a,g,d,f,h){d.parent&&d._mask_?(d._mask_.getBounds(Stage.stage,b.HELPER_RECTANGLET),d._getInvertedConcatenatedMatrix().transformBounds(b.HELPER_RECTANGLET),c.save(),c.beginPath(),c.rect(a+b.HELPER_RECTANGLET.x,g+b.HELPER_RECTANGLET.y,b.HELPER_RECTANGLET.width,b.HELPER_RECTANGLET.height),c.clip(),this.next&&this.next.paint(c,a,g,d,f,h),c.restore()):this.next&&this.next.paint(c,a,g,d,f,h)};__getset(0,a,"place",function(){return 0});__getset(0,a,"id",function(){return 0});b.insertUnit=function(a){return DisplayUnit._insertUnit_(a,b._DEFAULT_)};b._DEFAULT_=new b(null);__static(b,["HELPER_RECTANGLET",function(){return this.HELPER_RECTANGLET=new Rectangle}]);return b}(DisplayUnit),DrawMaskC=function(a){function b(a){b.__super.call(this)}__class(b,"iflash.display.plug.DrawMaskC",!1,a);a=b.prototype;a.clone=function(a){return new b(a)};a.paint=function(a,e,g,d,f,h){d.parent&&d._mask_?(d._mask_.getBounds(Stage.stage,b.HELPER_RECTANGLET),d._getInvertedConcatenatedMatrix().transformBounds(b.HELPER_RECTANGLET),a.save(),a.beginPath(),a.rect(e+b.HELPER_RECTANGLET.x,g+b.HELPER_RECTANGLET.y,b.HELPER_RECTANGLET.width,b.HELPER_RECTANGLET.height),a.clip(),this.next&&this.next.paint(a,e,g,d,f,h),a.restore()):this.next&&this.next.paint(a,e,g,d,f,h)};__getset(0,a,"place",function(){return 512});__getset(0,a,"id",function(){return 512});b.insertUnit=function(a){return DisplayUnit._insertUnit_(a,b._DEFAULT_)};b._DEFAULT_=new b(null);__static(b,["HELPER_RECTANGLET",function(){return this.HELPER_RECTANGLET=new Rectangle}]);return b}(DisplayUnit),DrawShape=function(a){function b(a){b.__super.call(this)}__class(b,"iflash.display.plug.DrawShape",!1,a);a=b.prototype;a.clone=function(a){return new b(a)};a.paint=function(a,b,g,d,f,h){var k=d._image_;k&&k._lyPaint_(a,b,g);this.next&&this.next.paint(a,b,g,d,f,h)};__getset(0,a,"place",function(){return 2048});__getset(0,a,"id",function(){return 2048});b.insertUnit=function(a){return DisplayUnit._insertUnit_(a,b._DEFAULT_)};b._DEFAULT_=new b(null);return b}(DisplayUnit),DrawText=function(a){function b(){this.line=null;b.__super.call(this)}__class(b,"iflash.display.plug.DrawText",!1,a);a=b.prototype;a.clone=function(a){return new b};a.paint=function(a,e,g,d,f,h){a.save();b.drawBG(a,e,g,d);d.drawCaret&&b.caret.x<1+d.viewport[0]+d.viewport[2]&&this.drawCaret(a,d,e,g);a.beginPath();a.rect(e+2,g,d.viewport[2]-2-2,d.viewport[3]);a.clip();b.printText(d,a,e,g);a.closePath();a.restore()};a.drawCaret=function(a,e,g,d){b.caret.count++;25>b.caret.count?(a.strokeStyle=b.caret.color,a.lineWidth=1,a.beginPath(),a.moveTo(b.caret.x+g-e.viewport[0],b.caret.y+d-e.viewport[1]),a.lineTo(b.caret.x+g-e.viewport[0],b.caret.y+b.caret.height+d-e.viewport[1]),a.stroke()):50<b.caret.count&&(b.caret.count=0)};__getset(0,a,"place",function(){return 2048});__getset(0,a,"id",function(){return 2048});b.insertUnit=function(a){return DisplayUnit._insertUnit_(a,b._DEFAULT_)};b.drawBG=function(a,b,g,d){var f=d.viewport[2],h=d.viewport[3];d.background&&(a.fillStyle=d._backgroundColor,a.fillRect(b,g,f,h));d.border&&(a.strokeStyle=d._borderColor,a.strokeRect(b,g,f,h))};b.printText=function(a,e,g,d){if(Driver.enableTouch()||!a._inputting)for(var f=a.nodes.length,h=0;h<f;h++){var k=a.nodes.getElem(h);e.font=k.font;e.textBaseline="top";e.fillStyle=k.fillStyle;if(k.letterSpacing)for(var l=k.text.length,m=0;m<l;m++)a.strokeColor&&b.strokeText(k.text.charAt(m),a.strokeColor,a.strokeThickness,e,g+k.lettersX[m]-a.viewport[0],k.y+d-a.viewport[1]),e.fillText(k.text.charAt(m),g+k.lettersX[m]-a.viewport[0],k.y+d-a.viewport[1]);else a.strokeColor&&b.strokeText(k.text,a.strokeColor,a.strokeThickness,e,k.x+g-a.viewport[0],k.y+d-a.viewport[1]),e.fillText(k.text,k.x+g-a.viewport[0],k.y+d-a.viewport[1]);Laya.CONCHVER||0==k.underlineWidth||b.drawUnderline(e,k,g,d-a.viewport[1])}};b.strokeText=function(a,b,g,d,f,h){d.strokeStyle=b;d.lineWidth=g;d.lineCap="round";d.strokeText(a,f,h)};b.drawUnderline=function(a,b,g,d){a.lineWidth=1;a.strokeStyle=b.fillStyle;a.beginPath();a.moveTo(g+b.x,d+b.underlineY);a.lineTo(g+b.underlineWidth+b.x,d+b.underlineY);a.closePath();a.stroke()};b.drawBullet=function(a,b,g){};b._DEFAULT_=new b;b.caret={};return b}(DisplayUnit),DrawTransform=function(a){function b(a){b.__super.call(this)}__class(b,"iflash.display.plug.DrawTransform",!1,a);a=b.prototype;a.clone=function(a){return new b(a)};a.paint=function(a,b,g,d,f,h){var k=d._transform_.matrix;k&&k.isTransform()?(a.save(),b-=d._left_,g-=d._top_,0!=b||0!=g?(a.translate(b,g),a.transform(k.a,k.b,k.c,k.d,k.tx,k.ty),a.translate(-b,-g)):a.transform(k.a,k.b,k.c,k.d,k.tx,k.ty),this.next&&this.next.paint(a,b,g,d,f,h),a.restore()):this.next&&this.next.paint(a,b,g,d,f,h)};__getset(0,a,"place",function(){return 1});__getset(0,a,"id",function(){return 1});b.insertUnit=function(a){return DisplayUnit._insertUnit_(a,b._DEFAULT_)};b._DEFAULT_=new b(null);return b}(DisplayUnit),UseFilter=function(a){function b(a){b.__super.call(this)}__class(b,"iflash.display.plug.UseFilter",!1,a);a=b.prototype;a.clone=function(a){return new b(a)};a.paint=function(a,b,g,d,f,h){var k=d._Filters_,l=NaN;.01>k._alpha_&&0==k.key||!this.next||(1==k._alpha_?this.next.paint(a,b,g,d,f,h):(l=a.globalAlpha,a.globalAlpha=k._alpha_,this.next.paint(a,b,g,d,f,h),a.globalAlpha=l))};__getset(0,a,"place",function(){return 2});__getset(0,a,"id",function(){return 2});b.insertUnit=function(a){return DisplayUnit._insertUnit_(a,b._DEFAULT_)};b._DEFAULT_=new b(null);return b}(DisplayUnit),FileReference=function(a){function b(){b.__super.call(this)}__class(b,"iflash.net.FileReference",!1,a);a=b.prototype;a.browse=LAYAFNFALSE;a.cancel=LAYAFNVOID;a.download=LAYAFNVOID;a.load=function(){};a.save=LAYAFNVOID;a.upload=function(a,b,g){};__getset(0,a,"creationDate",LAYAFNNULL);__getset(0,a,"name",LAYAFNSTR);__getset(0,a,"size",LAYAFN0);__getset(0,a,"creator",LAYAFNSTR);__getset(0,a,"modificationDate",LAYAFNNULL);__getset(0,a,"data",LAYAFNNULL);__getset(0,a,"type",LAYAFNSTR);return b}(EventDispatcher),FileStream=function(a){function b(){this._endian=null;this._objectEncoding=0;this._readAhead=this._position=NaN;this.fileMode=this.file=this.fileBytes=this.urlLoader=null;b.__super.call(this)}__class(b,"iflash.filesystem.FileStream",!1,a);a=b.prototype;a.open=function(a,b){this.file=a;this.fileMode=b;if("read"==b)a._isApplicationStorageDirectory?FileStorage.instance.getFile(a.url):a._isApplicationDirectory||(this.urlLoader=new URLLoader,this.urlLoader.dataFormat="binary",this.urlLoader.addEventListener("complete",__bind(this,this.onLoadComplete)),this.urlLoader.addEventListener("ioError",__bind(this,this.onIOError)),this.urlLoader.addEventListener("progress",__bind(this,this.onLoadProgress)),this.urlLoader.load(new URLRequest(a.url)));else if("write"==b){if(!a._isApplicationStorageDirectory)throw Error("only local file can be writed!");this.fileBytes=FileStorage.instance.getBinaryFile(a.url)}};a.close=function(){var a=this.fileBytes.position;this.fileBytes.position=0;FileStorage.instance.fileWrite(this.file.url.replace("app-storage:/",""),this.fileBytes.readMultiByte(a,"utf8"));this.fileBytes.position=a};a.openAsync=function(a,b){this.file=a;this.fileMode=b;this.urlLoader=new URLLoader;this.urlLoader.dataFormat="binary";this.urlLoader.addEventListener("complete",__bind(this,this.onLoadComplete));this.urlLoader.addEventListener("ioError",__bind(this,this.onIOError));this.urlLoader.addEventListener("progress",__bind(this,this.onLoadProgress));this.urlLoader.load(new URLRequest(a.nativePath))};a.onIOError=function(a){this.dispatchEvent(a)};a.onLoadComplete=function(a){this.urlLoader.data instanceof iflash.utils.ByteArray&&(this.fileBytes=new ByteArray,this.fileBytes.writeBytes(this.urlLoader.data,0,this.urlLoader.data.bytesAvailable),this.fileBytes.position=0);this.dispatchEvent(a)};a.onLoadProgress=function(a){this.dispatchEvent(a)};a.readBytes=function(a,b,g){void 0===g&&(g=0);if(g>this.fileBytes.bytesAvailable)throw Error("no enough data to be read!");return this.fileBytes.readBytes(a,0,g)};a.readUTFBytes=function(a){if(a>this.fileBytes.bytesAvailable)throw Error("no enough data to be read!");return this.fileBytes.readUTFBytes(a)};a.writeBytes=function(a,b,g){void 0===b&&(b=0);void 0===g&&(g=0);this.fileBytes.writeBytes(a,b,g)};a.writeMultiByte=function(a,b){this.fileBytes.writeMultiByte(a,b)};a.writeUTFBytes=function(a){this.fileBytes.writeUTFBytes(a)};__getset(0,a,"bytesAvailable",function(){return this.fileBytes?this.fileBytes.bytesAvailable:0});__getset(0,a,"readAhead",function(){return this._readAhead},function(a){this._readAhead=a});__getset(0,a,"position",function(){return this.fileBytes.position},function(a){this.fileBytes.position=a});__getset(0,a,"endian",function(){return this._endian},function(a){this._endian=a});__getset(0,a,"objectEncoding",function(){return this._objectEncoding},function(a){this._objectEncoding=a});return b}(EventDispatcher),Document2=function(a){function b(){this._element_class_map_=[];this._text_id_=[];this.canvas3D=this.canvas=this._baseURI_=null;this.styleSheets=[];this.body=this.all=this.activeElement=null;this.mouseY=this.mouseX=NaN;this.onkeyup=this.onkeydown=null;this.drawObjectCount=this.drawCount=0;this.adapter=null;this._strDebugMsg_="";b.__super.call(this);var a=this;this.mouseY=this.mouseX=0;Laya.document=Laya.window.document=EventDispatcher.document=this;this.canvas=Browser._createRootCanvas_();Laya.ENABLE3D&&this.enableWebGL();this.all=[];this.baseURI=new URI(EventDispatcher.window.location.href);EventDispatcher.window.lyAddEventListener("resize",function(b){90==EventDispatcher.document.adapter.screenRotate?a.canvas&&a.canvas.size(EventDispatcher.window.innerHeight,EventDispatcher.window.innerWidth):a.canvas&&a.canvas.size(EventDispatcher.window.innerWidth,EventDispatcher.window.innerHeight)})}__class(b,"iflash.laya.dom.Document",!1,a,"Document2");a=b.prototype;a.enableWebGL=function(){if(this.canvas3D)return this.canvas3D;Canvas._bIs3D=!0;this.canvas3D=Browser._createWebGLCanvas_();Canvas._bIs3D=!1;return this.canvas3D};a.render=function(){if(this.canvas.context&&this.canvas){this._repaint_=this.drawCount=this.drawObjectCount=0;this.canvas.context.textBaseline="top";this.canvas.context.clearRect(0,0,this.canvas.width,this.canvas.height);this.canvas.context.save();0!=this.adapter.screenRotate&&(this.canvas.context.translate(EventDispatcher.window.innerHeight,0),this.canvas.context.rotate(this.adapter.screenRotate*Math.PI/180));Laya.RENDERBYCANVAS&&this.body._lyPaint_(this.canvas.context,0,0);0==EventDispatcher.window.updatecount%6&&(EventDispatcher.window.fps=Laya.__parseInt(1E3/EventDispatcher.window.delay[0]*10+"")/10);this.canvas.context.restore();if(!(1<Laya.FLASHVER||!Laya.config.showInfo||Laya.CONCHVER)){var a=this.canvas.context;a.font="normal 100 12px Arial";0==EventDispatcher.window.updatecount%1&&(this._strDebugMsg_="FPS:"+EventDispatcher.window.fps+"/"+Browser.frameRate+" draw:"+this.drawObjectCount+"/"+this.drawCount+" "+EventDispatcher.window.updatecount+" "+Browser.window.innerWidth+"/"+Browser.window.innerHeight);a.fillStyle="#000000";a.fillText(this._strDebugMsg_,this.body._left_+9,this.body._top_+17);a.fillStyle="#000000";a.fillText(this._strDebugMsg_,this.body._left_+11,this.body._top_+19);a.fillStyle="#FFFF00";a.fillText(this._strDebugMsg_,this.body._left_+10,this.body._top_+18)}this.canvas.context.restore()}};a.setOrientationEx=function(a){"number"==typeof a&&Math.floor(a)==a&&(a=0==a?"portrait":"rotator");this.adapter.autorotate!=a&&(this.adapter.autorotate=a,EventDispatcher.window.resizeTo(EventDispatcher.window.innerWidth,EventDispatcher.window.innerHeight,!0))};a.init=function(){this.adapter=new DocumentAdapter;(0==Laya.CONCHVER||Laya.RENDERBYCANVAS)&&null!=Laya.process&&Laya.process.setRootNode(Stage.stage._modle_)};a.size=function(a,b){Stage.stage.width=a;Stage.stage.height=b;EventDispatcher.window.lyDispatchEvent("resize")};a.getNodeRegClass=function(a){return this._element_class_map_[a.toLowerCase()]};a.regTextWithId=function(a,b){this._text_id_[a]=b};a.getTextById=function(a){return this._text_id_[a]};__getset(0,a,"baseURI",function(){return this._baseURI_},function(a){this._baseURI_=a});return b}(EventDispatcher),HttpRequest=function(a){function b(){this._responseType_=this._callBackFunc=this._req=this.onerror=this.onload=null;b.__super.call(this);Browser.window.XMLHttpRequest?this._req=new XMLHttpRequest:Browser.window.ActiveXObject&&(this._req=new ActiveXObject("Microsoft.XMLHTTP"))}__class(b,"iflash.laya.net.HttpRequest",!1,a);a=b.prototype;a.onRequestHandler=function(a){if(4==a.readyState){var b=this._responseType_?a.response:a.responseText;if(200==a.status||a.can200&&0==a.status&&null!=b&&""!=b){if(null!=this._callBackFunc&&this._callBackFunc(b),null!=this.onload)this.onload(b)}else if(null!=this.onerror)this.onerror(a.status)}};a.PostData=function(a,b){b&&0<b.length?this._req.setRequestHeader(b[0].name,b[0].value):this._req.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var g="";if("string"==typeof a)g=a;else{var d=a;a&&a.variables&&(d=a.variables);for(var f in d)g+=f+"\x3d"+d[f]+"\x26";g=g.substring(0,g.length-1)}this._req.send(g)};a.open=function(a,b,g,d,f,h,k){var l=this;void 0===d&&(d=!0);void 0===f&&(f="get");this._callBackFunc=g;if(null==this._req)return!1;try{if(this._req.onreadystatechange=function(a){l.onRequestHandler(this)},this._req.onerror=function(a){l.onerror(404)},"text"==f&&(f="get"),this._req.open(f,a,d),Laya.CONCHVER||(0==a.indexOf("file:")?this._req.can200=!0:0==a.indexOf("http:")&&(this._req.can200=!1)),b&&(this._responseType_=this._req.responseType=b),"get"==f.toLowerCase())this._req.send();else if("post"==f.toLowerCase())if(Laya.CONCHVER)h&&h._byteView_?this._req.send(h._byteView_.buffer.slice(0,h._length)):this.PostData(h,k);else{if(h&&h._byteView_)throw"un support binary post now";this.PostData(h,k)}}catch(m){if(null!=this.onerror)this.onerror(-1);return!1}return!0};return b}(EventDispatcher),Window3=function(a){function b(){this.onScroll=null;this.updateTime=NaN;this._height=this._width=0;this.scale=this.event=null;this.top=this.left=this.mouseY=this.mouseX=0;this.disableMouse=!1;this.location=this.document=null;this.fps=0;this.delay=null;this.preUpdateTime=this.updatecount=0;this._no3d_=!0;this.nowOrientation=null;b.__super.call(this);this.preOrientation="default";this.scale=new Point(1,1);Laya.window=EventDispatcher.window=this;this.location=new Location1;this.document=Laya.document=new Document2;this.init();this.resizeTo(Browser.window.innerWidth,Browser.window.innerHeight);this.updatecount=0;this.delay=[];this.updateTime=this.preUpdateTime=iflash.utils.getTimer()}__class(b,"iflash.laya.Window",!1,a,"Window3");a=b.prototype;a.init=function(){this.document.init();this._no3d_=!iflash.utils.getDefinitionByName("iflash.display3D.Context3D")};a.enterFrame=function(){Stage.stage.sendRender();this.updateTime=iflash.utils.getTimer();this.delay[0]=this.updateTime-this.preUpdateTime;this.preUpdateTime=this.updateTime;this.lyDispatchEvent("enterFrame");TimerCtrl.__DEFAULT__._update_(this.updateTime);EventManager.mgr.dispatchSystemEvent(this.delay[0]);TextField.renderTexts();DisplayObject.sendMask();Laya.CONCHVER&&ConchRenderVCanvas.INSTANCE.uploadConch();this.updatecount++};a.resizeTo=function(a,b,g){void 0===g&&(g=!1);if(g||!(0==this.document.adapter._screenRotate_&&this._width==a&&this._height==b||90==this.document.adapter._screenRotate_&&this._height==a&&this._width==b))this.document.adapter._screenRotate_=0,this._width=a,this._height=b,this.nowOrientation="default",Laya.HTMLVER&&this._no3d_&&(Stage.stage&&Stage.stage.autoOrients?"rotator"==this.document.adapter.autorotate&&this._width<this._height?(this.document.adapter._screenRotate_=90,this._width=b,this._height=a,this.nowOrientation="rotatedRight"):"portrait"==this.document.adapter.autorotate&&this._width>this._height?(this.document.adapter._screenRotate_=90,this._width=b,this._height=a,this.nowOrientation="rotatedRight"):(this.document.adapter._screenRotate_=0,this._width=a,this._height=b,this.nowOrientation="default"):"portrait"==this.document.adapter.autorotate?(this.document.adapter._screenRotate_=90,this._width=b,this._height=a,this.nowOrientation="rotatedRight"):(this.document.adapter._screenRotate_=0,this._width=a,this._height=b,this.nowOrientation="default")),this.lyDispatchEvent("resize"),this.nowOrientation!=this.preOrientation&&(Stage.stage.dispatchEvent(new StageOrientationEvent("orientationChange",!0,!0,this.preOrientation,this.nowOrientation)),this.preOrientation=this.nowOrientation)};__getset(0,a,"innerWidth",function(){return this._width},function(a){this.resizeTo(a,this._height)});__getset(0,a,"fullScreenHeight",function(){return window.screen.height});__getset(0,a,"fullScreenWidth",function(){return window.screen.width});__getset(0,a,"innerHeight",function(){return this._height},function(a){this.resizeTo(this._width,a)});return b}(EventDispatcher),AudioElement=function(a){function b(){this._soundNode_=null;this._paramex_=0;this._enddel_=!0;this._sound_type_=0;this._url_=null;this._volume_=1;this.onerror=this.onload=null;this._currentTime_=this.loops=0;this._onceLoad_=!1;b.__super.call(this)}__class(b,"iflash.media.AudioElement",!1,a);a=b.prototype;a.onAddDocument=function(){if(null!=this._url_){var a=this._url_;this._url_=null;this.src=a}};a.formatUrl=function(a){return Method.formatUrl(a,Laya.document.baseURI.path)};a.dispose=function(){this._removeevent_();delete b.audioCache[this._url_];Browser.removeFromBody(this._soundNode_);this._soundNode_&&(this._soundNode_=null)};a.isUserEvent=function(a){return a?"object"==typeof a&&a.hasOwnProperty("type")?(a=a.type,!!a&&(0<=a.indexOf("mouse")||0<=a.indexOf("touch"))):!1:!1};a.isUserAction=function(){var a;a=this.isUserAction;for(var b=!1,g=100;a&&!b;){var d;d=a.arguments;for(var f=0,h=0,h=d.length,f=0;f<h;f++)if(this.isUserEvent(d[f])){b=!0;break}a=a.caller;g--;if(0>g)break}return b};a.play=function(){};a.restart=function(){if(null!=this._soundNode_){try{0>this._soundNode_.currentTime&&(this._soundNode_.currentTime=0)}catch(a){this._soundNode_.src=this._url_}b.disableAutoDetect||!b.isMobile()||b.saveToPlayDic[this._url_]||this.isUserAction()?(1==this._sound_type_&&(b.ACTIVEMUSIC&&b.ACTIVEMUSIC!=this&&Laya.CONCHVER?Browser.alert("\u4e0d\u80fd\u540c\u65f6\u64ad\u653e\u4e24\u4e2aMP3"+this._url_):b.ACTIVEMUSIC=this),this._soundNode_.play()):b.addToPlayList(this)}};a.pause=function(){null!=this._soundNode_&&(this._soundNode_.pause(),1==this._sound_type_&&(b.ACTIVEMUSIC=null))};a.muted=function(a){null!=this._soundNode_&&(this._soundNode_.muted=a)};a.onEnded=function(){this.loops--;0<this.loops?this.restart():this.lyDispatchEvent("soundComplete");1==this._sound_type_&&(b.ACTIVEMUSIC=null)};a.onTimeUpdate=function(){};a._setevent_=function(){this._soundNode_.addEventListener("canplaythrough",__bind(this,this.onloadComplete));this._soundNode_.addEventListener("ended",__bind(this,this.onEnded));this._soundNode_.addEventListener("timeupdate",__bind(this,this.onTimeUpdate))};a._removeevent_=function(){this._soundNode_.removeEventListener("canplaythrough",__bind(this,this.onloadComplete));this._soundNode_.removeEventListener("ended",__bind(this,this.onEnded));this._soundNode_.removeEventListener("timeupdate",__bind(this,this.onTimeUpdate))};a.onloadComplete=function(a){!this._onceLoad_&&this.lyDispatchEvent("complete");this._onceLoad_=!0};a.load=function(){this._soundNode_.load()};__getset(0,a,"duration",function(){return this._soundNode_?this._soundNode_.duration:0});__getset(0,a,"src",function(){return this._url_},function(a){if(1!=b._muted_||0==(this._paramex_&8))this._url_=this.formatUrl(a),"mp3"==this._url_.substring(this._url_.lastIndexOf(".")+1,this._url_.length)&&(this._sound_type_=1),this._soundNode_=Browser.document.createElement("audio"),this._setevent_(),this.muted(b._muted_),this._soundNode_.src=this._url_,this.autoplay?this._soundNode_.play():this._paramex_|=16});__getset(0,a,"autoplay",function(){return 0!=(this._paramex_&1)},function(a){a?(this._paramex_|=1,null!=this._soundNode_&&0!=(this._paramex_&16)&&this._soundNode_.play()):this._paramex_&=-2});__getset(0,a,"loop",function(){return 0!=(this._paramex_&2)},function(a){this._paramex_=a?this._paramex_|2:this._paramex_&-3;this._soundNode_.loop=a});__getset(0,a,"volume",function(){return this._volume_},function(a){null==a&&(a=0);a=Math.max(Math.min(1,a),0);this._soundNode_&&(this._soundNode_.volume=a);this._volume_=a});__getset(0,a,"position",function(){return this._soundNode_&&this._soundNode_.currentTime?this._soundNode_.currentTime:0},function(a){this._currentTime_=a;this._soundNode_&&(this._soundNode_.currentTime=a)});b.isMobile=function(){-1==b._deviceType&&(Browser.navigator.userAgent.match(/(iPhone|iPod|Android|ios)/i)?b._deviceType=1:b._deviceType=0);return 1==b._deviceType};b.addToPlayList=function(a){b._toPlayList.push(a);b.removeEvents();b.addEvents()};b.playToPlayLists=function(a){b.removeEvents();if(0<b._toPlayList.length){a=0;var e=b._toPlayList.length;for(a=0;a<e;a++)b._toPlayList[a].restart();b._toPlayList=[]}};b.addEvents=function(){EventManager.stage.addEventListener("mouseDown",b.playToPlayLists);EventManager.stage.addEventListener("touchBegin",b.playToPlayLists)};b.removeEvents=function(){EventManager.stage.removeEventListener("mouseDown",b.playToPlayLists);EventManager.stage.removeEventListener("touchBegin",b.playToPlayLists)};b._muted_=!1;b._musicmuted_=!1;b._AUTOPLAY_=1;b._LOOP_=2;b._PRELOAD_=4;b._MUSIC_=8;b._ISPLAY_=16;b.ACTIVEMUSIC=null;b.audioCache={};b.disableAutoDetect=!1;b._deviceType=-1;b.saveToPlayDic={};b._toPlayList=[];return b}(EventDispatcher),Camera=function(a){function b(){this._camera=null;b.__super.call(this)}__class(b,"iflash.media.Camera",!1,a);a=b.prototype;a.setCamera=function(a){this._camera=a;return this};a.setCursor=function(a){this._camera.setCursor(a)};a.setKeyFrameInterval=function(a){this._camera.setKeyFrameInterval(a)};a.setLoopback=function(a){void 0===a&&(a=!1);this._camera.setLoopback(a)};a.setMode=function(a,b,g,d){void 0===d&&(d=!0);this._camera.setMode(a,b,g,d)};a.setMotionLevel=function(a,b){void 0===b&&(b=2E3);this._camera.setMotionLevel(a,b)};a.setQuality=function(a,b){this._camera.setQuality(a,b)};__getset(0,a,"activityLevel",function(){return this._camera.activityLevel});__getset(0,a,"bandwidth",function(){return this._camera.bandwidth});__getset(0,a,"currentFPS",function(){return this._camera.currentFPS});__getset(0,a,"fps",function(){return this._camera.fps});__getset(0,a,"keyFrameInterval",function(){return this._camera.keyFrameInterval});__getset(0,a,"quality",function(){return this._camera.quality});__getset(0,a,"motionLevel",function(){return this._camera.motionLevel});__getset(0,a,"height",function(){return this._camera.height});__getset(0,a,"index",function(){return this._camera.index});__getset(0,a,"loopback",function(){return this._camera.loopback});__getset(0,a,"motionTimeout",function(){return this._camera.motionTimeout});__getset(0,a,"muted",function(){return this._camera.muted});__getset(0,a,"name",function(){return this._camera.name});__getset(0,a,"width",function(){return this._camera.width});__getset(1,b,"isSupported",function(){return iflash.media.Camera.isSupported},iflash.events.EventDispatcher._$SET_isSupported);__getset(1,b,"names",function(){var a=[],e,g;for(g in b._cameras)e=b._cameras[g],a.push(e);return a},iflash.events.EventDispatcher._$SET_names);b._scanHardware=function(){};b.getCamera=function(a){if(b._cameras[a])return b._cameras[a];var e=new b;b._cameras[a]=e;return e.setCamera(iflash.media.Camera.getCamera(a))};__static(b,["_cameras",function(){return this._cameras={}}]);return b}(EventDispatcher),Microphone=function(a){function b(){this._mic=null;b.__super.call(this)}__class(b,"iflash.media.Microphone",!1,a);a=b.prototype;a.setMicrophone=function(a){this._mic=a;return this};a.setLoopBack=function(a){void 0===a&&(a=!0);this._mic.setLoopBack=a};a.setSilenceLevel=function(a,b){void 0===b&&(b=-1);this._mic.setSilenceLevel(a,b)};a.setUseEchoSuppression=function(a){this._mic.setUseEchoSuppression(a)};__getset(0,a,"activityLevel",function(){return this._mic.activityLevel});__getset(0,a,"enableVAD",function(){return this._mic.enableVAD},function(a){this._mic.enableVAD=a});__getset(0,a,"name",function(){return this._mic.activityLevel});__getset(0,a,"codec",function(){return this._mic.codec},function(a){this._mic.codec=a});__getset(0,a,"gain",function(){return this._mic.gain},function(a){this._mic.gain=a});__getset(0,a,"silenceLevel",function(){return this._mic.activityLevel});__getset(0,a,"encodeQuality",function(){return this._mic.encodeQuality},function(a){this._mic.encodeQuality=a});__getset(0,a,"framesPerPacket",function(){return this._mic.framesPerPacket},function(a){this._mic.framesPerPacket=a});__getset(0,a,"index",function(){return this._mic.activityLevel});__getset(0,a,"muted",function(){return this._mic.activityLevel});__getset(0,a,"noiseSuppressionLevel",function(){return this._mic.noiseSuppressionLevel},function(a){this._mic.noiseSuppressionLevel=a});__getset(0,a,"rate",function(){return this._mic.rate},function(a){this._mic.rate=a});__getset(0,a,"silenceTimeout",function(){return this._mic.activityLevel});__getset(0,a,"soundTransform",function(){return this._mic.soundTransform},function(a){this._mic.soundTransform=a});__getset(0,a,"useEchoSuppression",function(){return this._mic.activityLevel});__getset(1,b,"isSupported",function(){return iflash.media.Microphone.isSupported},iflash.events.EventDispatcher._$SET_isSupported);__getset(1,b,"names",function(){var a=[],e,g;for(g in b._mics)e=b._mics[g],a.push(e.name);return a},iflash.events.EventDispatcher._$SET_names);b.getMicrophone=function(a){void 0===a&&(a=-1);if(b._mics[a])return b._mics[a];var e=new b;b._mics[a]=e;return e.setMicrophone(iflash.media.Microphone.getMicrophone(a))};__static(b,["_mics",function(){return this._mics={}}]);return b}(EventDispatcher),Sound=function(a){function b(a,e){this.audio=this._soundChannel_=null;b.__super.call(this);this.audio=new AudioElement;this.audio.addEventListener("complete",__bind(this,this.aodioComplete));a&&this.load(a,e)}__class(b,"iflash.media.Sound",!1,a);a=b.prototype;a.close=function(){this.audio&&this.audio.pause()};a.dispose=function(){this.audio&&this.audio.dispose();this.audio=null};a.extract=function(a,b,g){return 0};a.load=function(a,b){this.audio.src=a.url};a.play=function(a,b,g){void 0===a&&(a=0);void 0===b&&(b=0);this.audio.loop=!1;2147483647==b?this.audio.loop=!0:0!=b&&(this.audio.loops=b);a>this.length&&(a=0);0>a&&(a=0);this.audio.position=a/1E3;!this._soundChannel_&&(this._soundChannel_=new SoundChannel);this._soundChannel_._sound_=this.audio;this.audio.hasEventListener("soundComplete")||this.audio.addEventListener("soundComplete",__bind(this,this._soundCompleteH));this.audio.restart();return this._soundChannel_};a._soundCompleteH=function(a){null!=this.audio&&this.audio.removeEventListener("soundComplete",__bind(this,this._soundCompleteH));this._soundChannel_.dispatchEvent(new Event("soundComplete"))};a.aodioComplete=function(a){null!=this.audio&&this.audio.removeEventListener("complete",__bind(this,this.aodioComplete));this.lyDispatchEvent("complete")};a.loadCompressedDataFromByteArray=function(a,b){};__getset(0,a,"bytesLoaded",LAYAFN0);__getset(0,a,"isURLInaccessible",LAYAFNFALSE);__getset(0,a,"bytesTotal",LAYAFN0);__getset(0,a,"isBuffering",LAYAFNFALSE);__getset(0,a,"id3",LAYAFNNULL);__getset(0,a,"length",function(){return 1E3*this.audio.duration});__getset(0,a,"url",LAYAFNSTR);return b}(EventDispatcher),SoundChannel=function(a){function b(){this._soundTransform_=this._sound_=null;b.__super.call(this)}__class(b,"iflash.media.SoundChannel",!1,a);a=b.prototype;a.stop=function(){this._sound_&&this._sound_.pause()};__getset(0,a,"leftPeak",LAYAFN0);__getset(0,a,"soundTransform",function(){return this._soundTransform_?this._soundTransform_:this._soundTransform_=new SoundTransform},function(a){this._soundTransform_=a;if(!isNaN(this._soundTransform_.volume)){if(null==this._sound_)return;this._sound_.volume=this._soundTransform_.volume}this._soundTransform_._sound_=this._sound_});__getset(0,a,"position",function(){return this._sound_&&this._sound_.position?1E3*this._sound_.position:0});__getset(0,a,"rightPeak",LAYAFN0);return b}(EventDispatcher),StageWebView=function(a){function b(a){b.__super.call(this)}__class(b,"iflash.media.StageWebView",!1,a);a=b.prototype;a.stop=LAYAFNVOID;a.reload=LAYAFNVOID;a.loadURL=LAYAFNVOID;a.loadString=function(a,b){};a.historyForward=LAYAFNVOID;a.historyBack=LAYAFNVOID;a.drawViewPortToBitmapData=LAYAFNVOID;a.dispose=LAYAFNVOID;a.assignFocus=function(a){};__getset(0,a,"title",LAYAFNSTR);__getset(0,a,"viewPort",LAYAFNNULL,LAYAFNVOID);__getset(0,a,"stage",LAYAFNNULL,LAYAFNVOID);__getset(0,a,"location",LAYAFNSTR);__getset(0,a,"isHistoryBackEnabled",LAYAFNFALSE);__getset(0,a,"isHistoryForwardEnabled",LAYAFNFALSE);__getset(1,b,"isSupported",LAYAFNFALSE,iflash.events.EventDispatcher._$SET_isSupported);return b}(EventDispatcher),LocalConnection=function(a){function b(){b.__super.call(this)}__class(b,"iflash.net.LocalConnection",!1,a);a=b.prototype;a.allowDomain=function(a){};a.allowInsecureDomain=function(a){};a.close=LAYAFNVOID;a.connect=LAYAFNVOID;a.send=function(a,b,g){};__getset(0,a,"client",function(){return null},function(a){});__getset(0,a,"domain",LAYAFNSTR);__getset(0,a,"isPerUser",LAYAFNFALSE,LAYAFNVOID);__getset(1,b,"isSupported",LAYAFNFALSE,iflash.events.EventDispatcher._$SET_isSupported);return b}(EventDispatcher),NetConnection=function(a){function b(){this._version=0;this._netConnection=null;b.__super.call(this);Log.error("NetConnection no")}__class(b,"iflash.net.NetConnection",!1,a);a=b.prototype;a.addHeader=function(a,b,g){void 0===b&&(b=!1);this._netConnection.addHeader(a,b,g)};a.call=function(a,b,g){for(var d=[],f=2,h=arguments.length;f<h;f++)d.push(arguments[f]);f=[a,b.resp];d&&0<d.length&&(f=f.concat(d));this._netConnection.call.apply(this._netConnection,f)};a.close=function(){this._netConnection.close()};a.connect=function(a,b){for(var g=[],d=1,f=arguments.length;d<f;d++)g.push(arguments[d]);null==a&&Log.error('Error: Can only connect in "HTTP streaming" mode');this._netConnection.connect(a,g)};__getset(0,a,"client",LAYAFNNULL,LAYAFNVOID);__getset(0,a,"maxPeerConnections",function(){return 8},LAYAFNVOID);__getset(0,a,"connected",LAYAFNTRUE);__getset(0,a,"objectEncoding",function(){return this._version},function(a){this._version=a});__getset(0,a,"connectedProxyType",LAYAFNSTR);__getset(0,a,"farID",LAYAFNSTR);__getset(0,a,"nearID",LAYAFNSTR);__getset(0,a,"nearNonce",LAYAFNSTR);__getset(0,a,"unconnectedPeerStreams",LAYAFNARRAY);__getset(0,a,"farNonce",LAYAFNSTR);__getset(0,a,"uri",LAYAFNSTR);__getset(0,a,"protocol",LAYAFNSTR);__getset(0,a,"proxyType",LAYAFNSTR,LAYAFNVOID);__getset(0,a,"usingTLS",LAYAFNFALSE);__getset(1,b,"defaultObjectEncoding",LAYAFN0,LAYAFNVOID);b.CONNECT_SUCCESS="connectSuccess";return b}(EventDispatcher),NetStream=function(a){function b(a,e){b.__super.call(this)}__class(b,"iflash.net.NetStream",!1,a);a=b.prototype;a.close=LAYAFNVOID;a.pause=LAYAFNVOID;a.play=function(a){};a.seek=LAYAFNVOID;__getset(0,a,"bufferLength",LAYAFN0);__getset(0,a,"client",LAYAFNNULL,LAYAFNVOID);__getset(0,a,"bytesLoaded",LAYAFN0);__getset(0,a,"bytesTotal",LAYAFN0);return b}(EventDispatcher),SharedObject=function(a){function b(){this.cookie=null;b.__super.call(this)}__class(b,"iflash.net.SharedObject",!1,a);a=b.prototype;a.clear=function(){this.cookie.clear()};a.close=LAYAFNVOID;a.flush=function(a){void 0===a&&(a=0);return this.cookie.flush(a)};a.send=function(a){};a.setDirty=LAYAFNVOID;a.setProperty=function(a,b){this.cookie.setProperty(a,b)};a.setCookie=function(a){this.cookie=a;return this};__getset(0,a,"client",LAYAFNNULL,LAYAFNVOID);__getset(0,a,"data",function(){return this.cookie.data});__getset(0,a,"objectEncoding",LAYAFN0,LAYAFNVOID);__getset(0,a,"fps",null,LAYAFNVOID);__getset(0,a,"size",function(){return null==this.data?0:JSON.stringify(this.data).length});__getset(1,b,"defaultObjectEncoding",LAYAFN0,LAYAFNVOID);b.deleteAll=LAYAFN0;b.getDiskUsage=LAYAFN0;b.getLocal=function(a,e,g){void 0===g&&(g=!1);if(b._cookies_[a])return b._cookies_[a];var d=new b;b._cookies_[a]=d;return d.setCookie(Cookie.getLocal(a,e,g))};b.getRemote=function(a,b,g,d){return null};b._cookies_=[];return b}(EventDispatcher),Socket=function(a){function b(a,e){this._stamp=NaN;this._socket=null;this._connected=!1;this._host=null;this._addInputPosition=this._port=0;this._bytes=this._output=this._input=null;this.objectEncoding=this.timeout=0;this._endian=null;void 0===e&&(e=0);b.__super.call(this);this._endian="bigEndian";this.timeout=2E4;this._addInputPosition=0;0<e&&65535>e&&this.connect(a,e)}__class(b,"iflash.net.Socket",!1,a);a=b.prototype;a.connect=function(a,b){null!=this._socket&&(this._socket.onclose=null);this.close();this._host=a;this._port=b;this._socket=new WebSocket("ws://"+a+":"+b);this._socket.binaryType="arraybuffer";this._stamp=iflash.utils.getTimer();this._output=new ByteArray;this._output.endian=this.endian;this._input=new ByteArray;this._input.endian=this.endian;this._socket.onopen=iflash.method.bind(this,this.onOpenHandler);this._socket.onmessage=iflash.method.bind(this,this.onMessageHandler);this._socket.onclose=iflash.method.bind(this,this.onCloseHandler);this._socket.onerror=iflash.method.bind(this,this.onErrorHandler);this._socket.binaryType="arraybuffer"};a.cleanSocket=function(){try{this._socket.close()}catch(a){}this._socket=null};a.close=function(){null!=this._socket&&(this._connected=!1,this.cleanSocket())};a.readBoolean=function(){return this._input.readBoolean()};a.readByte=function(){return this._input.readByte()};a.readDouble=function(){return this._input.readDouble()};a.readFloat=function(){return this._input.readFloat()};a.readInt=function(){return this._input.readInt()};a.readMultiByte=function(a,b){return this._input.readMultiByte(a,b)};a.readObject=function(){return this._input.readObject()};a.readShort=function(){return this._input.readShort()};a.readUnsignedByte=function(){return this._input.readUnsignedByte()};a.readUnsignedInt=function(){return this._input.readUnsignedInt()};a.readUnsignedShort=function(){return this._input.readUnsignedShort()};a.readUTF=function(){return this._input.readUTF()};a.readUTFBytes=function(a){return this._input.readUTFBytes(a)};a.readBytes=function(a,b,g){void 0===b&&(b=0);void 0===g&&(g=0);this._input.readBytes(a,b,g)};a.writeBoolean=function(a){this._output.writeBoolean(a)};a.writeByte=function(a){this._output.writeByte(a)};a.writeDouble=function(a){this._output.writeDouble(a)};a.writeFloat=function(a){this._output.writeFloat(a)};a.writeInt=function(a){this._output.writeInt(a)};a.writeMultiByte=function(a,b){void 0===b&&(b="UTF-8");this._output.writeMultiByte(a,b)};a.writeShort=function(a){this._output.writeShort(a)};a.writeUTF=function(a){this._output.writeUTF(a)};a.writeUTFBytes=function(a){this._output.writeUTFBytes(a)};a.writeUnsignedInt=function(a){this._output.writeUnsignedInt(a)};a.writeBytes=function(a,b,g){void 0===b&&(b=0);void 0===g&&(g=0);this._output.writeBytes(a,b,g)};a.onOpenHandler=function(a){this._connected=!0;this.dispatchEvent(new Event("connect"))};a.onMessageHandler=function(a){0<=this._input.length&&1>this._input.bytesAvailable&&(this._input.clear(),this._addInputPosition=0);var b=this._input.position;!this._addInputPosition&&(this._addInputPosition=0);this._input.position=this._addInputPosition;a&&("string"==typeof a.data?this._input.writeUTFBytes(a.data):this._input.writeArrayBuffer(a.data));this._addInputPosition=this._input.position;this._input.position=b;this.dispatchEvent(new Event("socketData"))};a.onflashMessage=function(a){this.dispatchEvent(new ProgressEvent("socketData"))};a.onCloseHandler=function(a){this._connected=!1;this.dispatchEvent(new Event("close"))};a.onErrorHandler=function(a){this.dispatchEvent(new IOErrorEvent("ioError"))};a.flush=function(){if(this._output&&0<this._output.length)try{this._socket&&this._socket.send(this._output.__getBuffer()),this._output.endian=this.endian,this._output.clear()}catch(a){}};__getset(0,a,"connected",function(){return this._connected});__getset(0,a,"endian",function(){return this._endian},function(a){this._endian=a;null!=this._input&&(this._input.endian=a);null!=this._output&&(this._output.endian=a)});__getset(0,a,"bytesAvailable",function(){return this._input.bytesAvailable});__getset(0,a,"bytesPending",function(){return this._output.length});b.LITTLE_ENDIAN="littleEndian";b.BIG_ENDIAN="bigEndian";return b}(EventDispatcher),URLLoader=function(a){function b(a){this.bytesTotal=this.bytesLoaded=0;this.fileData=this.data=null;this.crossDomain=!1;this.IsWriteXmlData=!0;this._bitmapData=this.file=null;b.__super.call(this);this.dataFormat="text";null!=a&&this.load(a)}__class(b,"iflash.net.URLLoader",!1,a);a=b.prototype;a.close=LAYAFNVOID;a.load=function(a){var b=this,g=Method.formatUrlType(a.url);if("text"==this.dataFormat)if("xml"==g)if(Laya.CONCHVER&&this.IsWriteXmlData){var d=new DOMParser;d.onload=function(a){b.data=d.getResult();b.dispatchEvent(new Event(Event.COMPLETE))};d._parser.onerror=function(){b.dispatchEvent(new IOErrorEvent(IOErrorEvent.IO_ERROR,!1,!1,"ioError"))};d.src=Method.formatUrl(a.url)}else this.file=new FileRead(a.url,{onload:__bind(this,this._Loader),unOnload:__bind(this,this._LoaderError)},null),this.file.contentType=g;else if("fnt"==g)this.file=new FileRead(a.url,{onload:__bind(this,this._Loader),unOnload:__bind(this,this._LoaderError)},null),this.file.contentType=g;else if(-1<a.url.indexOf("?")&&Laya.HTMLVER&&this.crossDomain){var f=this;Ajax.GetJSON(a.url,function(a){var c=new Event("complete");f.data=c.lyData=a;f.dispatchEvent(c)})}else{if(null!=a.data){var h=a.data.toString();h&&"post"!=a.method.toLowerCase()&&(-1==a.url.indexOf("?")?a.url=a.url+"?"+h:a.url=a.url+"\x26"+h)}this.file=new FileRead(a.url,{onload:__bind(this,this._Loader),unOnload:__bind(this,this._LoaderError)},null,a);this.file.contentType=g}else"binary"==this.dataFormat&&(-1!=["jpg","gif","png"].indexOf(g)?(null==this._bitmapData&&(this._bitmapData=new BitmapData),this.data=Browser.document.createElement("image"),this.data.onload=function(a){"tagName"in this||(this.tagName="IMG");b._bitmapData.setImage(this);b.dispatchEvent(new Event("complete"))},this.data.onerror=function(){b.dispatchEvent(new IOErrorEvent("ioError",!1,!1,"ioError"))},this.data.src=Method.formatUrl(a.url)):(this.file=new FileRead(a.url,{onload:__bind(this,this._Loader),unOnload:__bind(this,this._LoaderError)},"binary"),this.file.contentType=Method.formatUrlType(a.url)))};a._LoaderError=function(a){this.dispatchEvent(new IOErrorEvent("ioError"));this.file=null};a._Loader=function(a){if("swf"==a.contentType){var b=new ByteArray;b.writeUTF(a.contentType);b.writeUTF(a.url);a.contentdata.readBytes(b,b.position);b.position=0;this.data=b}else this.data=a.contentdata;this.dispatchEvent(new Event("complete"));this.file=null};__getset(0,a,"bitmapdata",function(){return this._bitmapData});b.isCatchfile=!1;return b}(EventDispatcher),URLStream=function(a){function b(){this.file=this.fileData=this._input=null;b.__super.call(this);null==this._input&&(this._input=new ByteArray)}__class(b,"iflash.net.URLStream",!1,a);a=b.prototype;a.close=LAYAFNVOID;a.load=function(a){a.url.lastIndexOf("?");Method.formatUrlType(a.url);this.file=new FileRead(a.url,{onload:__bind(this,this._Loader),unOnload:__bind(this,this._LoaderError)},"binary",a);this.file.contentType=Method.formatUrlType(a.url)};a._LoaderError=function(a){this.dispatchEvent(new IOErrorEvent("ioError"))};a._Loader=function(a){if("swf"==a.contentType){var b=new ByteArray;b.writeUTF(a.contentType);b.writeUTF(a.url);a.contentdata.readBytes(b,b.position);b.position=0;this._input=b}else a.contentdata.position=0,this._input=a.contentdata;this.dispatchEvent(new Event("complete"))};a.readBoolean=function(){return this._input.readBoolean()};a.readByte=function(){return this._input.readByte()};a.readBytes=function(a,b,g){return this._input.readBytes(a)};a.readDouble=function(){return this._input.readDouble()};a.readFloat=function(){return this._input.readFloat()};a.readInt=function(){return this._input.readInt()};a.readMultiByte=function(a,b){return this._input.readMultiByte(a,b)};a.readObject=function(){return this._input.readObject()};a.readShort=function(){return this._input.readShort()};a.readUnsignedByte=function(){return this._input.readUnsignedByte()};a.readUnsignedInt=function(){return this._input.readUnsignedInt()};a.readUnsignedShort=function(){return this._input.readUnsignedShort()};a.readUTF=function(){return this._input.readUTF()};a.readUTFBytes=function(a){return this._input.readUTFBytes(a)};__getset(0,a,"bytesAvailable",function(){0==this._input.bytesAvailable&&(this._input.position=0);return this._input.bytesAvailable});__getset(0,a,"connected",LAYAFNFALSE);__getset(0,a,"endian",function(){return this._input.endian},function(a){this._input.endian=a});__getset(0,a,"objectEncoding",function(){return this._input.objectEncoding},function(a){this._input.objectEncoding=a});return b}(EventDispatcher),Accelerometer=function(a){function b(){this._useCount=0;this._interval=30;this._curTimestamp=0;b.__super.call(this)}__class(b,"iflash.sensors.Accelerometer",!1,a);var c=b.prototype;c.setRequestedUpdateInterval=function(a){this._interval=a};c.addEventListener=function(c,g,d,f,h){void 0===d&&(d=!1);void 0===f&&(f=0);void 0===h&&(h=!1);a.prototype.addEventListener.call(this,c,g,d,f,h);0==this._useCount&&b.acceptSysOrientationListener();-1==b._accList.indexOf(this)&&(b._accList.push(this),this._useCount++)};c.removeEventListener=function(c,g,d){void 0===d&&(d=!1);a.prototype.removeEventListener.call(this,c,g,d);c=b._accList.indexOf(this);-1!=c&&(b._accList.splice(c,1),this._useCount--);0==this._useCount&&b.removeSysOrientationListener()};c.dispatchAccEvent=function(a){a.timestamp-this._curTimestamp>this._interval&&(this.dispatchEvent(a),this._curTimestamp=a.timestamp)};__getset(0,c,"muted",function(){return!1});__getset(1,b,"isSupported",function(){return Browser.window.DeviceMotionEvent?!0:!1},iflash.events.EventDispatcher._$SET_isSupported);b.orientationListener=function(a){a=AccelerometerEvent.copySysEvent(a);var c,d;for(d in b._accList)c=b._accList[d],c.dispatchAccEvent(a)};b.acceptSysOrientationListener=function(){Browser.window.addEventListener("devicemotion",b.orientationListener,!1)};b.removeSysOrientationListener=function(){Browser.window.removeEventListener("devicemotion",b.orientationListener,!1)};b._accList=[];return b}(EventDispatcher),Geolocation=function(a){function b(a){this.preTime=0;this._isFirstStatu=this._muted=!0;this._listenID=NaN;this._inteval=10;b.__super.call(this,a)}__class(b,"iflash.sensors.Geolocation",!1,a);var c=b.prototype;c.positionGet=function(a){this.muteds=!1;var c=DebugTools.getTTime();if(c-this.preTime>this._inteval){var b;b=GeolocationEvent.getFromH5Event(a.coords);b.timestamp=a.timestamp;this.dispatchEvent(b);this.preTime=c}};c.positionFail=function(a){this.muteds=!0};c.beginGetPosition=function(){this.stopGetPostion();this._listenID=Browser.navigator.geolocation.watchPosition(__bind(this,this.positionGet),__bind(this,this.positionFail))};c.stopGetPostion=function(){Browser.navigator.geolocation.clearWatch(this._listenID)};c.addEventListener=function(c,b,d,f,h){void 0===d&&(d=!1);void 0===f&&(f=0);void 0===h&&(h=!1);a.prototype.addEventListener.call(this,c,b,d,f,h);"update"==c&&this.beginGetPosition()};c.removeEventListener=function(c,b,d){void 0===d&&(d=!1);a.prototype.removeEventListener.call(this,c,b,d);"update"==c&&this.stopGetPostion()};c.setRequestedUpdateInterval=function(a){void 0===a&&(a=500);this._inteval=a};__getset(0,c,"muted",function(){return this._muted});__getset(0,c,"muteds",null,function(a){if(a!=this._muted||this._isFirstStatu){var c=new StatusEvent("status");this._muted=a;this.dispatchEvent(c);this._isFirstStatu=!1}});__getset(1,b,"isSupported",function(){return Browser.navigator.geolocation},iflash.events.EventDispatcher._$SET_isSupported);return b}(EventDispatcher),FileEvent=function(a){function b(a,e,g,d){void 0===e&&(e=!1);void 0===g&&(g=!1);b.__super.call(this,a,e,g,d)}__class(b,"iflash.filesystem.FileEvent",!1,a);b.FILE_STATUS="fileStatus";return b}(Event),IME=function(a){function b(a){b.__super.call(this,a)}__class(b,"iflash.system.IME",!1,a);__getset(1,b,"conversionMode",function(){return""},function(a){});__getset(1,b,"enabled",function(){return!1},function(a){});__getset(1,b,"isSupported",function(){return!1},iflash.events.EventDispatcher._$SET_isSupported);return b}(EventDispatcher),StyleSheet=function(a){function b(){b.__super.call(this)}__class(b,"iflash.text.StyleSheet",!1,a);a=b.prototype;a.clear=LAYAFNVOID;a.getStyle=LAYAFNNULL;a.parseCSS=LAYAFNVOID;a.setStyle=LAYAFNVOID;a.transform=LAYAFNNULL;__getset(0,a,"styleNames",LAYAFNNULL);return b}(EventDispatcher),BevelFilter=function(a){function b(a,e,g,d,f,h,k,l,m,n,p,q){this.highlightAlpha=this.distance=this.blurY=this.blurX=this.angle=NaN;this.highlightColor=0;this.knockout=!1;this.quality=0;this.shadowAlpha=NaN;this.shadowColor=0;this.strength=NaN;this.type=null;void 0===a&&(a=0);void 0===e&&(e=0);void 0===g&&(g=255);void 0===d&&(d=1);void 0===f&&(f=0);void 0===h&&(h=1);void 0===k&&(k=4);void 0===l&&(l=4);void 0===m&&(m=1);void 0===n&&(n=1);void 0===p&&(p="full");void 0===q&&(q=!1);b.__super.call(this,"BevelFilter");this.distance=a;this.angle=e;this.highlightColor=g;this.highlightAlpha=d;this.shadowColor=f;this.shadowAlpha=h;this.blurX=k;this.blurY=l;this.strength=m;this.quality=n;this.type=p;this.knockout=q}__class(b,"iflash.filters.BevelFilter",!1,a);return b}(BitmapFilter),BlurFilter=function(a){function b(a,e,g){this.blurY=this.blurX=NaN;this.MAX_BLUR_HEIGHT=this.MAX_BLUR_WIDTH=this.quality=0;this.__kernel=this.__bG=null;void 0===a&&(a=4);void 0===e&&(e=4);void 0===g&&(g=1);b.__super.call(this,"BlurFilter");this.blurX=a?a:4;this.blurY=e?e:4;this.MAX_BLUR_WIDTH=Laya.window.innerWidth;this.MAX_BLUR_HEIGHT=Laya.window.innerHeight;this.quality=g?g:1}__class(b,"iflash.filters.BlurFilter",!1,a);a=b.prototype;a.applyFilter=function(a,b,g,d){};a.clone=function(){return new b(this.blurX,this.blurY,this.quality)};a.__applyFilter=function(a){this.__kernel=[]};a.__buildKernel=function(a,b,g,d){for(var f=0,h=0,k=[],l=4*b,m=0;m<g;m++)for(var n=0;n<b;n++)k[0]=a[h],k[1]=a[h+1],k[2]=a[h+2],k[3]=a[h+3],0<n&&(k[0]+=d[f-4],k[1]+=d[f-3],k[2]+=d[f-2],k[3]+=d[f-1]),0<m&&(k[0]+=d[f-l],k[1]+=d[f+1-l],k[2]+=d[f+2-l],k[3]+=d[f+3-l]),0<n&&0<m&&(k[0]-=d[f-l-4],k[1]-=d[f-l-3],k[2]-=d[f-l-2],k[3]-=d[f-l-1]),d[f]=k[0],d[f+1]=k[1],d[f+2]=k[2],d[f+3]=k[3],f+=4,h+=4};a.__boxBlur=function(a,b,g,d,f,h){for(var k=1/((2*f+1)*(2*h+1)),l=0,m=[],n=0,p=0,q=0,r=0,v=1.7/((2*f+1)*(2*h+1)),t=0;t<g;t++)for(var u=0;u<b;u++)n=u+f>=b?b-1:u+f,p=t+h>=g?g-1:t+h,q=0>u-f?0:u-f,r=0>t-h?0:t-h,m[0]=d[4*(n+p*b)]+d[4*(q+r*b)]-d[4*(q+p*b)]-d[4*(n+r*b)],m[1]=d[4*(n+p*b)+1]+d[4*(q+r*b)+1]-d[4*(q+p*b)+1]-d[4*(n+r*b)+1],m[2]=d[4*(n+p*b)+2]+d[4*(q+r*b)+2]-d[4*(q+p*b)+2]-d[4*(n+r*b)+2],m[3]=d[4*(n+p*b)+3]+d[4*(q+r*b)+3]-d[4*(q+p*b)+3]-d[4*(n+r*b)+3],a[l]=Math.floor(Math.abs(255-this.__bG[0]-m[0]*k)),a[l+1]=Math.floor(Math.abs(255-this.__bG[1]-m[1]*k)),a[l+2]=Math.floor(Math.abs(255-this.__bG[2]-m[2]*k)),a[l+3]=Math.floor(m[3]*v),l+=4};return b}(BitmapFilter),ColorMatrixFilter=function(a){function b(a){this.matrix=null;b.__super.call(this,"ColorMatrixFilter");this.matrix=a}__class(b,"iflash.filters.ColorMatrixFilter",!1,a);a=b.prototype;a.clone=function(){return new b(this.matrix)};a.__applyFilter=function(a){};return b}(BitmapFilter),ConvolutionFilter=function(a){function b(a,e,g,d,f,h,k,l,m){this.bias=this.alpha=NaN;this.clamp=!1;this.color=0;this.divisor=NaN;this.matrix=null;this.matrixY=this.matrixX=NaN;this.preserveAlpha=!1;void 0===a&&(a=0);void 0===e&&(e=0);void 0===d&&(d=1);void 0===h&&(h=!0);void 0===k&&(k=!0);void 0===l&&(l=0);void 0===m&&(m=0);b.__super.call(this,"ConvolutionFilter");this.matrixX=a;this.matrixY=e;this.matrix=g;this.divisor=d;this.preserveAlpha=h;this.clamp=k;this.color=l;this.alpha=m}__class(b,"iflash.filters.ConvolutionFilter",!1,a);return b}(BitmapFilter),DisplacementMapFilter=function(a){function b(a,e,g,d,f,h,k,l,m){this.alpha=NaN;this.componentY=this.componentX=this.color=0;this.mode=this.mapPoint=this.mapBitmap=null;this.scaleY=this.scaleX=NaN;void 0===d&&(d=0);void 0===f&&(f=0);void 0===h&&(h=0);void 0===l&&(l=0);void 0===m&&(m=0);b.__super.call(this,"DisplacementMapFilter");this.mapBitmap=a;this.mapPoint=e;this.componentY=d;this.scaleX=f;this.scaleY=h;this.mode=k;this.color=l;this.alpha=m}__class(b,"iflash.filters.DisplacementMapFilter",!1,a);return b}(BitmapFilter),DropShadowFilter=function(a){function b(a,e,g,d,f,h,k,l,m,n,p){this.blurY=this.blurX=this.angle=this.alpha=NaN;this.color=0;this.distance=NaN;this.knockout=this.inner=this.hideObject=!1;this.quality=0;this.strength=NaN;void 0===a&&(a=4);void 0===e&&(e=45);void 0===g&&(g=0);void 0===d&&(d=1);void 0===f&&(f=4);void 0===k&&(k=1);void 0===l&&(l=1);void 0===m&&(m=!1);void 0===n&&(n=!1);void 0===p&&(p=!1);b.__super.call(this,"DropShadowFilter");this.distance=a;this.angle=e;this.color=g;this.alpha=d;this.blurY=this.blurX=f;this.strength=k;this.quality=l;this.inner=m;this.knockout=n;this.hideObject=p}__class(b,"iflash.filters.DropShadowFilter",!1,a);a=b.prototype;a.clone=function(){return new b(this.distance,this.angle,this.color,this.alpha,this.blurX,this.blurY,this.strength,this.quality,this.inner,this.knockout,this.hideObject)};a.__preApplyFilter=function(a){var b=this.distance*Math.cos(2*Math.PI*this.angle/360),g=Math.max(this.blurX,this.blurY,this.strength);a.shadowOffsetX=this.distance*Math.sin(2*Math.PI*this.angle/360);a.shadowOffsetY=b;a.shadowBlur=g;a.shadowColor="rgba("+(this.color>>16&255)+","+(this.color>>8&255)+","+(this.color&255)+","+this.alpha+")"};b.DEGREES_FULL_RADIUS=360;return b}(BitmapFilter),ByteArrayAsset=function(a){function b(){b.__super.call(this);console.log("ByteArrayAsset")}__class(b,"mx.core.ByteArrayAsset",!1,a);return b}(ByteArray),GradientBevelFilter=function(a){function b(a,e,g,d,f,h,k,l,m,n,p){this.alphas=null;this.blurY=this.blurX=this.angle=NaN;this.colors=null;this.distance=NaN;this.knockout=!1;this.quality=0;this.ratios=null;this.strength=NaN;this.type=null;void 0===a&&(a=4);void 0===e&&(e=45);void 0===h&&(h=4);void 0===k&&(k=4);void 0===l&&(l=1);void 0===m&&(m=1);void 0===n&&(n="inner");void 0===p&&(p=!1);b.__super.call(this,"GradientBevelFilter");this.distance=a;this.angle=e;this.colors=g;this.alphas=d;this.ratios=f;this.blurX=h;this.blurY=k;this.strength=l;this.quality=m;this.type=n;this.knockout=p}__class(b,"iflash.filters.GradientBevelFilter",!1,a);return b}(BitmapFilter),GradientGlowFilter=function(a){function b(a,e,g,d,f,h,k,l,m,n,p){this.alphas=null;this.blurY=this.blurX=this.angle=NaN;this.colors=null;this.distance=NaN;this.knockout=!1;this.quality=0;this.ratios=null;this.strength=NaN;this.type=null;void 0===a&&(a=4);void 0===h&&(h=4);void 0===k&&(k=4);void 0===l&&(l=1);void 0===m&&(m=1);void 0===n&&(n="inner");void 0===p&&(p=!1);b.__super.call(this,"GradientGlowFilter");this.distance=a;this.colors=g;this.alphas=d;this.ratios=f;this.blurX=h;this.blurY=k;this.strength=l;this.quality=m;this.type=n;this.knockout=p}__class(b,"iflash.filters.GradientGlowFilter",!1,a);return b}(BitmapFilter),OneCmdDataUseId=function(a){function b(){this.id=null;b.__super.call(this)}__class(b,"iflash.laya.runner.OneCmdDataUseId",!1,a);b.prototype.applyTo=function(a,b){return this.oneFun._fun_.apply(b.ids[this.id],this.args)};return b}(OneCmdData),GraphicElement=function(a){function b(a){b.__super.call(this)}__class(b,"iflash.text.engine.GraphicElement",!1,a);a=b.prototype;__getset(0,a,"elementHeight",LAYAFN0,LAYAFNVOID);__getset(0,a,"elementWidth",LAYAFN0,LAYAFNVOID);__getset(0,a,"graphic",LAYAFNNULL,LAYAFNVOID);return b}(ContentElement),GroupElement=function(a){function b(a){b.__super.call(this)}__class(b,"iflash.text.engine.GroupElement",!1,a);a=b.prototype;a.getElementAt=LAYAFNNULL;a.getElementAtCharIndex=LAYAFNNULL;a.getElementIndex=LAYAFN0;a.groupElements=LAYAFNNULL;a.mergeTextElements=LAYAFNNULL;a.replaceElements=LAYAFNNULL;a.setElements=LAYAFNVOID;a.splitTextElement=LAYAFNNULL;a.ungroupElements=LAYAFNVOID;__getset(0,a,"elementCount",LAYAFN0);return b}(ContentElement),TextElement=function(a){function b(a){b.__super.call(this)}__class(b,"iflash.text.engine.TextElement",!1,a);var c=b.prototype;c.replaceText=LAYAFNVOID;__getset(0,c,"text",a.prototype._$get_text,LAYAFNVOID);return b}(ContentElement),SpaceJustifier=function(a){function b(a,e,g){void 0===a&&(a="en");void 0===e&&(e="unjustified");b.__super.call(this,a,e)}__class(b,"iflash.text.engine.SpaceJustifier",!1,a);a=b.prototype;a.clone=LAYAFNNULL;__getset(0,a,"letterSpacing",LAYAFNFALSE,LAYAFNVOID);__getset(0,a,"maximumSpacing",LAYAFN0,LAYAFNVOID);__getset(0,a,"minimumSpacing",LAYAFN0,LAYAFNVOID);__getset(0,a,"optimumSpacing",LAYAFN0,LAYAFNVOID);return b}(TextJustifier),AVM1Movie=function(a){function b(){b.__super.call(this)}__class(b,"iflash.display.AVM1Movie",!1,a);a=b.prototype;a.addCallback=LAYAFNVOID;a.call=function(a,b){};return b}(DisplayObject),Bitmap=function(a){function b(a,c,d){this._bitmapData_=null;this._setDraw_=!1;this._scaleX_=this._scaleY_=1;b.__super.call(this);a&&(this.bitmapData=a)}__class(b,"iflash.display.Bitmap",!1,a);var c=b.prototype;c._paintChild_=function(a,c,b,f,h){this._bitmapData_&&this._bitmapData_.paint(a,c,b,f,h)};c.lyclone=function(){return new b(this._bitmapData_)};__getset(0,c,"bitmapData",function(){return this._bitmapData_},function(a){a?(this._bitmapData_=a,this._width_=Math.abs(this._bitmapData_.width*this._scaleX_),this._height_=Math.abs(this._bitmapData_.height*this._scaleY_),this._modle_.size(this._width_,this._height_),this._type2_|=5,Laya.RENDERBYCANVAS&&!this._setDraw_?(this._setDraw_=!0,DisplayUnit._insertUnit_(this,DrawBitmapData._DEFAULT_)):Laya.RENDERBYCANVAS||(this.bitmapData._createCMD_(),1==this.bitmapData.type?(this._modle_.virtualBitmap(null),this._modle_.conchVirtualBitmap=null,this._modle_.image(this.bitmapData._canvas_,!0)):(this._modle_.image(null),this._modle_.vcanvas(this.bitmapData._canvas_)))):this._bitmapData_&&(this._bitmapData_=a,Laya.RENDERBYCANVAS||(this._modle_.virtualBitmap(null),this._modle_.conchVirtualBitmap=null))});__getset(0,c,"isReadyForDraw",function(){return null!=this.bitmapData});__getset(0,c,"width",a.prototype._$get_width,function(a){if(this._width_!=a){var c=this._width_/this._scaleX_;c&&(this._scaleX_=a/c);this._width_=Math.abs(a);this._modle_.size(this._width_,this._height_);this._type2_|=5}});__getset(0,c,"height",a.prototype._$get_height,function(a){if(this._height_!=a){var c=this._height_/this._scaleY_;c&&(this._scaleY_=a/c);this._height_=Math.abs(a);this._modle_.size(this._width_,this._height_);this._type2_|=5}});__getset(0,c,"pixelSnapping",LAYAFNNULL,LAYAFNVOID);__getset(0,c,"scaleX",function(){return this._scaleX_},function(c){var b=NaN,b=0==this._width_*this._scaleX_&&this.bitmapData?this.bitmapData.width:this._width_/this._scaleX_;this._scaleX_=c;this._width_=Math.abs(b*c);this._modle_.size(this._width_,this._height_);a.prototype._$set_scaleX.call(this,0<this._scaleX_?1:-1)});__getset(0,c,"scaleY",function(){return this._scaleY_},function(c){var b=NaN,b=0==this._height_*this._scaleY_&&this.bitmapData?this.bitmapData.height:this._height_/this._scaleY_;this._scaleY_=c;this._height_=Math.abs(b*c);this._modle_.size(this._width_,this._height_);a.prototype._$set_scaleY.call(this,0<this._scaleY_?1:-1)});__getset(0,c,"smoothing",LAYAFNFALSE,LAYAFNVOID);return b}(DisplayObject),InteractiveObject=function(a){function b(){b.__super.call(this)}__class(b,"iflash.display.InteractiveObject",!1,a);var c=b.prototype;c.changeFocus=function(){null!=this.stage&&this.stage.focus!=this&&this.repaint()};c.repaint=function(){};c._hitTest_=function(c,b){return a.prototype._hitTest_.call(this,c,b)?this.mouseEnabled?this:this.parent:null};__getset(0,c,"mouseEnabled",function(){return 0!=(this._type_&64)},function(a){this._type_=a?this._type_|64:this._type_&-65});__getset(0,c,"tabIndex",LAYAFN0,LAYAFNVOID);__getset(0,c,"doubleClickEnabled",function(){return 0!=(this._type_&256)},function(a){this._type_=a?this._type_|256:this._type_&-257});__getset(0,c,"tabEnabled",LAYAFNFALSE,LAYAFNVOID);__getset(0,c,"contextMenu",LAYAFNNULL,LAYAFNVOID);return b}(DisplayObject),LyImageElement=function(a){function b(){this.scale9Data=this._content_=this._image_=this._texture=this.assetConfig=this.assetUr=this.src=null;this.orgH=this.orgW=NaN;this.oArrH=this.oArrW=this.oArrY=this.oArrX=this.arrH=this.arrW=this.arrY=this.arrX=null;this.miniBitmapData=new BitmapData;this._image_=Browser.document.createElement("image");b.__super.call(this)}__class(b,"iflash.display.LyImageElement",!1,a);var c=b.prototype;c.checkImg=LAYAFNVOID;c._paintChild_=function(a,c,b,f,h){var k=this.miniBitmapData;k&&k.paint&&k.paint.call(k,a,c,b,f,h)};c._init_=function(){0==(this._type_&8192)&&(Laya.RENDERBYCANVAS?DrawImageElement.insertUnit(this):(this._modle_==IModel.__DEFAULT__&&this.__initModule(),this._modle_.size(this._width_,this._height_)),this.miniBitmapData.size(this._width_,this._height_),this.scale9Data?(this.miniBitmapData.setImage(this._image_),this.miniBitmapData._canvas_.removeImage(),this._modle_.vcanvas(this.miniBitmapData._canvas_)):this.assetConfig||(this._modle_.image(this._image_),this.miniBitmapData.setImage(this._image_)),this._type_|=8192)};c.onLoad=function(a){this._type_|=2048;this.dispatchEvent(new Event("lyImageLoadedEvent"));this.readyWork()};c.isReady=function(a){return this.isTexture()?!0:this._image_?this._image_.isReady():!1};c.isTexture=function(){return null!=this.assetConfig};c._lyToBody_=function(){this._image_.isReady()?(this.assetConfig||this.miniBitmapData&&!this.miniBitmapData._canvas_&&this.miniBitmapData.setImage(this._image_),this._type_|=2048):this._image_.onload=iflash.method.bind(this,this.onLoad);null!=this.assetConfig&&this.miniBitmapData&&null==this._texture&&this.initTexture();this.assetConfig||this._image_.isReady()||(this._image_.src=this.src)};c.initTexture=function(){this._texture||(this._texture=TextureManager.getInstance().getTexture(this.assetUr),this.miniBitmapData.destroy(),this.miniBitmapData._createCMD_(),this.miniBitmapData._canvas_.drawImage(this.texture,this.assetConfig.x,this.assetConfig.y,this.assetConfig.width,this.assetConfig.height,0,0,this.assetConfig.width,this.assetConfig.height),this._modle_.vcanvas(this.miniBitmapData._canvas_),this._type_|=2048)};c.calcScaleData=function(){var a=this.scale9Data.x1-this.x,c=this.scale9Data.y1-this.y,b=this.scale9Data.x2-this.x,f=this.scale9Data.y2-this.y;null==this.arrX&&(this.arrX=[[],[],[]],this.arrY=[[],[],[]],this.arrW=[[],[],[]],this.arrH=[[],[],[]],this.oArrX=[[],[],[]],this.oArrY=[[],[],[]],this.oArrW=[[],[],[]],this.oArrH=[[],[],[]]);var h=this.orgW-b;this.oArrW[2][0]=this.oArrW[1][0]=this.oArrW[0][0]=a;this.oArrW[2][1]=this.oArrW[1][1]=this.oArrW[0][1]=b-a;this.oArrW[2][2]=this.oArrW[1][2]=this.oArrW[0][2]=h;var k=this.orgH-f;this.oArrH[0][2]=this.oArrH[0][1]=this.oArrH[0][0]=c;this.oArrH[1][2]=this.oArrH[1][1]=this.oArrH[1][0]=f-c;this.oArrH[2][2]=this.oArrH[2][1]=this.oArrH[2][0]=k;this.oArrX[2][0]=this.oArrX[1][0]=this.oArrX[0][0]=0;this.oArrX[2][1]=this.oArrX[1][1]=this.oArrX[0][1]=a;this.oArrX[2][2]=this.oArrX[1][2]=this.oArrX[0][2]=b;this.oArrY[0][2]=this.oArrY[0][1]=this.oArrY[0][0]=0;this.oArrY[1][2]=this.oArrY[1][1]=this.oArrY[1][0]=c;this.oArrY[2][2]=this.oArrY[2][1]=this.oArrY[2][0]=f;f=this.orgW-this.oArrW[2][1];b=this.orgH-this.oArrH[1][2];this.width<f?(a*=this.width/f,this.arrX[2][0]=this.arrX[1][0]=this.arrX[0][0]=0,this.arrX[2][2]=this.arrX[1][2]=this.arrX[0][2]=this.arrX[2][1]=this.arrX[1][1]=this.arrX[0][1]=a,this.arrW[2][0]=this.arrW[1][0]=this.arrW[0][0]=a,this.arrW[2][1]=this.arrW[1][1]=this.arrW[0][1]=0,this.arrW[2][2]=this.arrW[1][2]=this.arrW[0][2]=this.width-a):(this.arrX[2][0]=this.arrX[1][0]=this.arrX[0][0]=0,this.arrX[2][1]=this.arrX[1][1]=this.arrX[0][1]=a,this.arrX[2][2]=this.arrX[1][2]=this.arrX[0][2]=this.width-h,this.arrW[2][0]=this.arrW[1][0]=this.arrW[0][0]=a,this.arrW[2][1]=this.arrW[1][1]=this.arrW[0][1]=this.width-a-h,this.arrW[2][2]=this.arrW[1][2]=this.arrW[0][2]=h);this.height<b?(c*=this.height/b,this.arrY[0][2]=this.arrY[0][1]=this.arrY[0][0]=0,this.arrY[1][2]=this.arrY[1][1]=this.arrY[1][0]=this.arrY[2][2]=this.arrY[2][1]=this.arrY[2][0]=c,this.arrH[0][2]=this.arrH[0][1]=this.arrH[0][0]=c,this.arrH[1][2]=this.arrH[1][1]=this.arrH[1][0]=0,this.arrH[2][2]=this.arrH[2][1]=this.arrH[2][0]=this.height-c):(this.arrY[0][2]=this.arrY[0][1]=this.arrY[0][0]=0,this.arrY[1][2]=this.arrY[1][1]=this.arrY[1][0]=c,this.arrY[2][2]=this.arrY[2][1]=this.arrY[2][0]=this.height-k,this.arrH[0][2]=this.arrH[0][1]=this.arrH[0][0]=c,this.arrH[1][2]=this.arrH[1][1]=this.arrH[1][0]=this.height-c-k,this.arrH[2][2]=this.arrH[2][1]=this.arrH[2][0]=k);if(Laya.CONCHVER)for(c=this.miniBitmapData._canvas_,c.clear(),k=0;3>k;k++)for(a=0;3>a;a++){var h=this.oArrX[k][a],b=this.oArrY[k][a],f=this.oArrW[k][a],l=this.oArrH[k][a],m=this.arrX[k][a],n=this.arrY[k][a],p=this.arrW[k][a],q=this.arrH[k][a];1>f||1>l||1>p||1>q||(this.isTexture()?c.drawImage(this.texture,h+this.assetConfig.x,b+this.assetConfig.y,f,l,m,n,p,q):c.drawImage(this._image_,h,b,f,l,m,n,p,q))}};c.__preload__=function(){this._lyToBody_()};c.lyclone=function(){var a=new b;a._image_=this._image_;a.orgW=this.orgW;a.orgH=this.orgH;a._width_=this.orgW;a._height_=this.orgH;a.src=this.src;a.assetConfig=this.assetConfig;a.assetUr=this.assetUr;return a};c.layaDestory=function(){a.prototype.layaDestory.call(this);this._image_&&null!=this._image_.onload&&(this._image_.onload=null);this._image_=null;this.miniBitmapData&&this.miniBitmapData.clear();this._texture=this.scale9Data=this.miniBitmapData=null};__getset(0,c,"isReadyForDraw",function(){return this.isReady()});__getset(0,c,"width",function(){return this._width_},function(a){this._width_=a;this.scale9Data&&this.calcScaleData()});__getset(0,c,"texture",function(){null==this._texture&&this.initTexture();return this._texture});__getset(0,c,"height",function(){return this._height_},function(a){this._height_=a;this.scale9Data&&this.calcScaleData()});return b}(DisplayObject),Shape=function(a){function b(){this._scaleX_=this._scaleY_=this._sc9X_=this._sc9Y_=1;this._scale9Data=this._graphics=this._content_=this._image_=null;b.__super.call(this)}__class(b,"iflash.display.Shape",!1,a);var c=b.prototype;c._paintGraphics_=function(a,c,b,f,h){if(this._graphics){var k=this._graphics;k.isReady()&&k._canvas_.paint(a,c,b,f,h)}this._paintChild_(a,c,b,f,h)};c._paintChild_=function(a,c,b,f,h){(f=this._image_)&&f.conchPaint(a,c+f._left_,b+f._top_)};c._init_=function(a){a&&(this._content_=a,a.data.scale9Data?(this._image_=a.data.lyclone(),this._image_._width_=this._image_.orgW=a.data.width,this._image_._height_=this._image_.orgH=a.data.height,this.scale9Data=a.data.scale9Data.scale9Data):this._image_=a.data,DisplayObject.initModule&&(this._image_._init_(),!this.scale9Data&&this._modle_.quoteEx?this._modle_.quoteEx(this._image_._modle_,!0):this._modle_.quote(this._image_._modle_),this._image_.matrix=a.matrix),this._width_=a.data.width,this._height_=a.data.height,this._modle_.size(this._width_,this._height_),Laya.RENDERBYCANVAS&&0==(this._type_&4)&&(DrawShape.insertUnit(this),this._type_|=4))};c._getBounds_=function(a,c){c||(c=DisplayObject.HELPER_RECTANGLET);this._image_?c.setTo(this._image_.x,this._image_.y,this._image_._width_,this._image_._height_):(c.setTo(0,0,0,0),DisplayObject.HELPER_POINT.setTo(0,0),c.setTo(0,0,0,0));this._graphics&&(DisplayObject.HELPER_RECTANGLET_ALT.setTo(this._graphics.x,this._graphics.y,this._graphics.width,this._graphics.height),c._union_(DisplayObject.HELPER_RECTANGLET_ALT));return c};c._lyToBody_=function(){this.scale9Data&&this._image_&&(this._image_.scale9Data=this.scale9Data);this._image_&&this._image_._lyToBody_();a.prototype._lyToBody_.call(this)};c._lyUnToBody_=function(){this._image_&&this._image_._lyUnToBody_();a.prototype._lyUnToBody_.call(this)};c.lyclone=function(){var a=new b;a._init_(this._content_);return a};c.setupReadyNoticeWork=function(a){void 0===a&&(a=!1);this.isReadyForDraw||(this._needNotice=a,this._image_.setReadyForDrawCall(__bind(this,this.readyWork)))};c.layaDestory=function(){a.prototype.layaDestory.call(this);this._scale9Data=this._image_=this._content_=null};__getset(0,c,"isReadyForDraw",function(){return this._image_.isReadyForDraw});__getset(0,c,"scale9Data",function(){return this._scale9Data},function(a){this._scale9Data=a;this._image_&&(this._image_.scale9Data=a,this._image_._modle_.image(null),this._image_.miniBitmapData._canvas_&&this._image_._modle_.vcanvas(this._image_.miniBitmapData._canvas_))});__getset(0,c,"width",function(){return this.scale9Data?this._width_:a.prototype._$get_width.call(this)},function(c){if(this._width_!=c)if(this.scale9Data)this._scaleX_=1,this._width_=c,this._image_&&(this._image_.width=c);else{var b=this._width_/this._scaleX_;0==this._width_*this._scaleX_&&this.graphics&&(b=this.graphics.width);b&&(this._scaleX_=c/b);a.prototype._$set_scaleX.call(this,this._scaleX_);this._modle_.size(this._width_,this._height_);this._type2_|=5}});__getset(0,c,"graphics",function(){this._graphics||(this._graphics=new Graphics(this));return this._graphics});__getset(0,c,"height",function(){return this.scale9Data?this._height_:a.prototype._$get_height.call(this)},function(c){if(this._height_!=c){if(this.scale9Data)this._scaleY_=1,this._height_=c,this._image_&&(this._image_.height=c);else{var b=NaN;(b=0==this._height_*this._scaleY_&&this.graphics?this.graphics.height:this._height_/this._scaleY_)&&(this._scaleY_=c/b);a.prototype._$set_scaleY.call(this,this._scaleY_)}this._modle_.size(this._width_,this._height_);this._type2_|=5}});__getset(0,c,"scaleX",function(){return this.scale9Data?this._sc9X_:this._scaleX_},function(c){var b=NaN,b=0==this._width_*this._scaleX_&&this.graphics?this.graphics.width:this._width_/this._scaleX_;this._width_=Math.abs(b*c);this.scale9Data?(a.prototype._$set_scaleX.call(this,this._scaleX_=1),this._image_&&(this._image_.width=this._width_),this._sc9X_=c):(this._scaleX_=c,this._modle_.size(this._width_,this._height_),a.prototype._$set_scaleX.call(this,this._scaleX_),this._type2_|=5)});__getset(0,c,"scaleY",function(){return this.scale9Data?this._sc9Y_:this._scaleY_},function(c){var b=NaN,b=0==this._height_*this._scaleY_&&this.graphics?this.graphics.height:this._height_/this._scaleY_;this._height_=Math.abs(b*c);this.scale9Data?(a.prototype._$set_scaleX.call(this,this._scaleY_=1),this._image_&&(this._image_.height=this._height_),this._sc9Y_=c):(this._scaleY_=c,this._modle_.size(this._width_,this._height_),a.prototype._$set_scaleY.call(this,this._scaleY_),this._type2_|=5)});return b}(DisplayObject),Body=function(a){function b(){this._stage_=null;b.__super.call(this);this._stage_=Stage.stage;this._modle_.insert(this._stage_._modle_,0,1);if(Laya.CONCHVER){var a;conch.editborder=a=conch.createNode();this._modle_.insert(a,1,2);a.border("#28FFFA");a.bgcolor("#FFFFFF");a.show(!1)}Laya.CONCHVER&&conch.setRootNode(this._modle_)}__class(b,"iflash.laya.Body",!1,a);b.prototype._lyPaint_=function(a,b,g){var d=this.matrix;d&&d.isTransform()?(a.save(),b=-this._left_,g=-this._top_,0!=b||0!=g?(a.translate(b,g),a.transform(d.a,d.b,d.c,d.d,d.tx,d.ty),a.translate(-b,-g)):a.transform(d.a,d.b,d.c,d.d,d.tx,d.ty),a.beginPath(),b+=this._left_/this.scaleX,g+=this._top_/this.scaleY,a.rect(b,g,Stage.stage.stageWidth,Stage.stage.stageHeight),a.clip(),this._stage_._lyPaint_(a,b,g),a.restore()):(a.beginPath(),"noScale"==Stage.stage.scaleMode?a.rect(0,0,Stage.stage.stageWidth,Stage.stage.stageHeight):a.rect(this._left_,this._top_,Stage.stage.width,Stage.stage.height),a.clip(),this._stage_._lyPaint_(a,this._left_,this._top_))};return b}(DisplayObject),Video=function(a){function b(a,e){b.__super.call(this)}__class(b,"iflash.media.Video",!1,a);a=b.prototype;a.attachCamera=LAYAFNVOID;a.attachNetStream=LAYAFNVOID;a.clear=LAYAFNVOID;__getset(0,a,"deblocking",LAYAFN0,LAYAFNVOID);__getset(0,a,"smoothing",LAYAFNFALSE,LAYAFNVOID);__getset(0,a,"videoHeight",LAYAFN0);__getset(0,a,"videoWidth",LAYAFN0);return b}(DisplayObject),File=function(a){function b(a,e){this.isSymbolicLink=this.isPackage=this.isHidden=this._isDirectory=this.exists=this.downloaded=this._isApplicationStorageDirectory=this._isApplicationDirectory=!1;this.separator=this.parent=this.nativePath=this.lineEnding=null;this.spaceAvailable=NaN;this._data=this.urlLoader=this._statusHandler=this._name=this._extension=this._url=this.systemCharset=null;b.__super.call(this);null!=a&&(null!=e&&(this._statusHandler=e),this.url=a)}__class(b,"iflash.filesystem.File",!1,a);a=b.prototype;a.load=function(){this.nativePath.lastIndexOf("/")<this.nativePath.length-1&&(this.urlLoader=new URLLoader,this.urlLoader.dataFormat="binary",this.urlLoader.addEventListener("complete",__bind(this,this.onFileStatusComplete)),this.urlLoader.addEventListener("ioError",__bind(this,this.onFileStatusIOError)),this.urlLoader.load(new URLRequest(this.nativePath)))};a.onFileStatusIOError=function(a){this.exists=!1;this.urlLoader.close();this.dispatchEvent(new Event("fileStatusOk",!0))};a.onFileStatusComplete=function(a){this.exists=!0;this._data=a.target.data;this.urlLoader.close();this.dispatchEvent(new Event("fileStatusOk",!0))};a.getDirectoryListing=function(){return this._isApplicationStorageDirectory?FileStorage.instance.getList(this._url.replace("app-storage:/","")):null};a.resolvePath=function(a){return this._isApplicationStorageDirectory?new b(this._url+a):this._isApplicationDirectory?new b(this._url+a):null};a.deleteFile=LAYAFNVOID;a.deleteFileAsync=LAYAFNVOID;a.deleteDirectory=function(a){};a.copyTo=function(a,b){};a.moveTo=function(a,b){};a.deleteDirectoryAsync=function(a){};__getset(0,a,"isDirectory",function(){return this._isDirectory});__getset(0,a,"type",function(){return this._extension?"."+this._extension:null});__getset(0,a,"data",function(){return this._data});__getset(0,a,"extension",function(){return this._extension});__getset(0,a,"url",function(){return this._url},function(a){if(0==a.search("[a-zA-Z]:\\/"))throw Error("not support local file to read");if(0==a.indexOf("file:///"))throw Error("not support local file to read");if(0==a.indexOf("app:/"))this._isApplicationDirectory=!0,this._isApplicationStorageDirectory=!1,this._url=a,this.nativePath=(LAYABOX.APP_ROOT?LAYABOX.APP_ROOT:"")+a.replace("app:/",""),this._extension=-1<a.lastIndexOf(".")?a.substr(a.lastIndexOf(".")+1):null,this._name=-1<a.lastIndexOf("/")?a.substr(a.lastIndexOf("/")+1):null;else if(0==a.indexOf("app-storage:/"))this._isApplicationDirectory=!1,this._isApplicationStorageDirectory=!0,this._url=a,this.nativePath=(LAYABOX.APP_ROOT?LAYABOX.APP_ROOT:"")+a.replace("app-storage:/",""),this._extension=-1<a.lastIndexOf(".")?a.substr(a.lastIndexOf(".")+1):null,this._name=-1<a.lastIndexOf("/")?a.substr(a.lastIndexOf("/")+1):null,this.exists=FileStorage.instance.fileExist(this._url.replace("app-storage:/","")),this._data=FileStorage.instance.getFile(this._url.replace("app-storage:/",""));else throw Error("file address is invalid");});__getset(0,a,"name",function(){return this._name});__getset(1,b,"applicationDirectory",function(){return b._applicationDirectory},iflash.net.FileReference._$SET_applicationDirectory);__getset(1,b,"systemCharset",LAYAFNSTR,iflash.net.FileReference._$SET_systemCharset);__getset(1,b,"applicationStorageDirectory",function(){return b._applicationStorageDirectory},iflash.net.FileReference._$SET_applicationStorageDirectory);__getset(1,b,"separator",function(){return"\\"},iflash.net.FileReference._$SET_separator);b.getRootDirectories=LAYAFNNULL;b.createTempDirectory=function(){return new b};b.createTempFile=function(){return new b};b.lineEnding="\r\n";__static(b,["_applicationDirectory",function(){return this._applicationDirectory=new b("app:/")},"_applicationStorageDirectory",function(){return this._applicationStorageDirectory=new b("app-storage:/")}]);return b}(FileReference),ContextMenu=function(a){function b(){b.__super.call(this)}__class(b,"iflash.ui.ContextMenu",!1,a);a=b.prototype;a.clone=function(){return new NativeMenu};a.hideBuiltInItems=LAYAFNVOID;__getset(0,a,"builtInItems",LAYAFNNULL,LAYAFNVOID);__getset(0,a,"clipboardItems",LAYAFNNULL,LAYAFNVOID);__getset(0,a,"clipboardMenu",LAYAFNFALSE,LAYAFNVOID);__getset(0,a,"customItems",LAYAFNARRAY,LAYAFNVOID);__getset(0,a,"link",LAYAFNNULL,LAYAFNVOID);__getset(1,b,"isSupported",LAYAFNFALSE,iflash.display.NativeMenu._$SET_isSupported);return b}(NativeMenu),ContextMenuItem=function(a){function b(a,e,g,d){b.__super.call(this)}__class(b,"iflash.ui.ContextMenuItem",!1,a);a=b.prototype;a.clone=LAYAFNNULL;__getset(0,a,"caption",LAYAFNNULL,LAYAFNVOID);__getset(0,a,"separatorBefore",LAYAFNFALSE,LAYAFNVOID);__getset(0,a,"visible",LAYAFNFALSE,LAYAFNVOID);return b}(NativeMenuItem),GlowFilter=function(a){function b(a,e,g,d,f,h,k,l){void 0===a&&(a=0);void 0===e&&(e=1);void 0===g&&(g=6);void 0===d&&(d=6);void 0===f&&(f=1);void 0===h&&(h=1);void 0===k&&(k=!1);void 0===l&&(l=!1);b.__super.call(this,0,0,a,e,g,d,f,h,k,l,!1)}__class(b,"iflash.filters.GlowFilter",!1,a);return b}(DropShadowFilter),EmbedImage=function(a){function b(a,e,g){this._url=this._loader=null;void 0===e&&(e="auto");void 0===g&&(g=!1);b.__super.call(this,a,e,g)}__class(b,"iflash.display.EmbedImage",!1,a);a=b.prototype;a.load=function(a){this._url=a;null!=b._imgMap[this._url]?this.bitmapData=b._imgMap[this._url]:this._url&&(this._loader=new Loader,this._loader.contentLoaderInfo.addEventListener("complete",__bind(this,this.onComplete)),this._loader.contentLoaderInfo.addEventListener("ioError",__bind(this,this.onError)),this._loader.load(new URLRequest(this._url),b._loaderContent))};a.onComplete=function(a){this._loader&&(this.bitmapData=b._imgMap[this._url]=this._loader.content.bitmapData,this.clearLoader(),this.readyWork())};a.clearLoader=function(){this._loader.unloadAndStop();this._loader.contentLoaderInfo.removeEventListener("complete",__bind(this,this.onComplete));this._loader.contentLoaderInfo.removeEventListener("ioError",__bind(this,this.onError));this._loader=null};a.onError=function(a){console.log("IO Error:"+this._url)};b._imgMap={};__static(b,["_loaderContent",function(){return this._loaderContent=new LoaderContext(!1,ApplicationDomain.currentDomain)}]);return b}(Bitmap),DisplayObjectContainer=function(a){function b(){this.scale9Data=null;this._childs_=EventDispatcher.__NULLARRAY__;b.__super.call(this);this._type_|=32}__class(b,"iflash.display.DisplayObjectContainer",!1,a);var c=b.prototype;c._paintChild_=function(a,c,b,f,h){this._type_&16&&this.sortChildsByZIndex();h=f=0;var k,l;if(0<(f=(l=this._childs_).length))for(h=0;h<f;h++)null!=(k=l[h])&&k._type_&1024&&k.alpha&&k.conchPaint(a,c+k._left_,b+k._top_)};c.addChild=function(a){if(null==a)throw Error("param is null");if(null!=a._parent_)if(a._parent_==this){var c=this.childIndexOf(a);this.lyRemoveChildAt(c,!1)}else a._parent_.removeChild(a);this._childs_==EventDispatcher.__NULLARRAY__&&(this._childs_=[],Laya.RENDERBYCANVAS&&0==(this._type_&8)&&DrawChilds.insertUnit(this),this._type_|=8);Method.insert(this._childs_,this._childs_.length,a);this._modle_&&this._modle_.insert(a._modle_,this._childs_.length-1,this._childs_.length);a._parent_=this;EventDispatcher._isOpenTypeAdded&&a._dispatchAddedEvent(a);this._type_|=16384;a._propagateFlagsDown_(5);this._root_==Stage.stage&&a._lyToBody_();return a};c.swapAt=function(a,c){if(0<=a&&0<=c&&a!=c){var b=this._childs_[a],f=this._childs_[c];this._childs_[a]=f;this._childs_[c]=b;var h=f._id_;f._id_=b._id_;b._id_=h;this._modle_&&this._modle_.swap(b._modle_,f._modle_)}};c.childIndexOf=function(a){return this._childs_.indexOf(a)};c.addChildAt=function(a,c){if(!a)return null;if(1==a.deleted)return a;if(null!=a._parent_)if(a._parent_==this){var b=this.childIndexOf(a);if(c==b)return a;this.lyRemoveChildAt(b,!1)}else a._parent_.removeChild(a);this._childs_==EventDispatcher.__NULLARRAY__&&(this._childs_=[],Laya.RENDERBYCANVAS&&0==(this._type_&8)&&DrawChilds.insertUnit(this),this._type_|=8);Method.insert(this._childs_,c,a);this._firstDisplayUnit_;a._parent_=this;EventDispatcher._isOpenTypeAdded&&a._dispatchAddedEvent(a);this._type_|=16384;a._propagateFlagsDown_(5);this._root_==Stage.stage&&a._lyToBody_();a._modle_&&this._modle_&&this._modle_.insert(a._modle_,c,this._childs_.length);return a};c.getObjectsUnderPoint=LAYAFNNULL;c.removeChildAt=function(a){return this.lyRemoveChildAt(a)};c.lyRemoveChildAt=function(a,c){void 0===c&&(c=!0);if(0>a)return this;var b=this._childs_[a];this._childs_.splice(a,1);this._modle_&&this._modle_.removeAt(a,b._modle_,this._childs_.length);c&&(b._dispatchRemovedEvent(),this._root_==Stage.stage&&b._lyUnToBody_());b._parent_=null;b._type2_&=-6;Laya.document.activeElement&&Laya.document.activeElement.__owner__.root!=this.stage&&(Laya.document.activeElement.blur(),Laya.document.activeElement=null);return b};c.removeChild=function(a){this._type_|=16384;return this.lyRemoveChildAt(this.childIndexOf(a))};c.getChildAt=function(a){return this._childs_[a]};c.sortChildsByZIndex=function(){this.sortChildren(__bind(this,this._sort_))};c.getBounds=function(a,c){a||(a=this);c||(c=new Rectangle);this._getBounds_(a,c);a!=this&&(a==this._parent_?DisplayObject.HELPER_MATRIX.copy(this.matrix):Matrix.mul(DisplayObject.HELPER_MATRIX,a._getInvertedConcatenatedMatrix(),this._getConcatenatedMatrix()),DisplayObject.HELPER_MATRIX.transformBounds(c));this._type2_&=-5;return c};c._getBounds_=function(a,c){null==c&&(c=new Rectangle);var b=this._childs_.length,f;if(0==b)c.setTo(0,0,0,0);else if(1==b)f=this._childs_[0],f._getBounds_(this,c),f.matrix.transformBounds(c);else{for(var h=Number.MAX_VALUE,k=-Number.MAX_VALUE,l=Number.MAX_VALUE,m=-Number.MAX_VALUE,n=0;n<b;++n){f=this._childs_[n];var p=DisplayObject.HELPER_RECTANGLET.setTo(0,0,0,0);f._getBounds_(this,p);f.matrix.transformBounds(p);h>p.x&&(h=p.x);k<p.right&&(k=p.right);l>p.y&&(l=p.y);m<p.bottom&&(m=p.bottom)}c.setTo(h,l,k-h,m-l)}0>c.width&&(c.x-=c.width,c.width=Math.abs(c.width));0>c.height&&(c.y-=c.height,c.height=Math.abs(c.height));c||(c.width*=this.scaleX,c.height*=this.scaleY);return c};c._hitTest_=function(a,c){if(!this.visible||!this._checkHitMask(a,c)||!this._checkHitScrollRect(a,c))return null;this._private_._scrollRect_&&(a+=this._private_._scrollRect_.x,c+=this._private_._scrollRect_.y);for(var b=null,f=0,h=this._childs_.length,k=[],f=0;f<h;f++)b=this._childs_[f],b instanceof iflash.display.InteractiveObject?k.push(b):k.unshift(b);for(f=h-1;0<=f;f--)if(b=k[f],b instanceof iflash.display.InteractiveObject){if(this.getTransformMatrix(b,DisplayObject.HELPER_MATRIX),MatrixUtil.transformCoords(DisplayObject.HELPER_MATRIX,a,c,DisplayObject.HELPER_POINT),b=b._hitTest_(DisplayObject.HELPER_POINT.x,DisplayObject.HELPER_POINT.y)){if(b instanceof iflash.display.Sprite)if(h=b,!h.mouseChildren&&!h.mouseEnabled){if(1==h.numChildren&&h.graphicsHited(DisplayObject.HELPER_POINT.x,DisplayObject.HELPER_POINT.y))return this;continue}else if(!h.mouseEnabled&&this.mouseChildren){if(1==this.numChildren&&this.mouseEnabled)return this;continue}return this.mouseChildren?b:this}}else if(this.getTransformMatrix(b,DisplayObject.HELPER_MATRIX),MatrixUtil.transformCoords(DisplayObject.HELPER_MATRIX,a,c,DisplayObject.HELPER_POINT),b=b._hitTest_(DisplayObject.HELPER_POINT.x,DisplayObject.HELPER_POINT.y))return this;return null};c.setChildIndex=function(a,c){this.addChildAt(a,c)};c.getChildIndex=function(a){return this._childs_.indexOf(a)};c._sort_=function(a,c){return a._to_sort_d-c._to_sort_d};c.getChildByName=function(a){var c,b;for(b in this._childs_)if(c=this._childs_[b],c.name==a)return c;return null};c.sortChildren=function(a){if(0!=(this._type_&16384)){var c;"string"==typeof a&&(c=a,a=function(a,b){return b[c]-a[c]});this._childs_.sort(a);this._type_&=-16385}};c.swapChildrenAt=function(a,c){var b=this._childs_[a];this._modle_.swap(b._modle_,this._childs_[c]._modle_);this._childs_[a]=this._childs_[c];this._childs_[c]=b;this._type_|=16384};c.swapChildren=function(a,c){var b=this._childs_.indexOf(a),f=this._childs_.indexOf(c);this.swapChildrenAt(b,f)};c._lyToBody_=function(){this.dispatchAdd(this);iflash.display.DisplayObject.prototype._lyToBody_.call(this)};c.dispatchAdd=function(a){for(var c=a._childs_.length,b=0;b<c;)a._childs_[b]._lyToBody_(),b++};c._lyUnToBody_=function(){iflash.display.DisplayObject.prototype._lyUnToBody_.call(this);this.dispatchUnAdd(this)};c.dispatchUnAdd=function(a){for(var c=a._childs_.length,b=0;b<c;)a._childs_[b]._lyUnToBody_(),b++};c.contains=function(a){if(null==this._childs_)return!1;var c={flag:!1};this.checkContainsByChild(this,a,c);return c.flag};c.checkContainsByChild=function(a,c,b){if(a==c)b.flag=!0;else if(a instanceof iflash.display.DisplayObjectContainer)for(var f=0,h=a._childs_.length;f<h;f++)this.checkContainsByChild(a._childs_[f],c,b)};c.removeChildren=function(a,c){void 0===a&&(a=0);void 0===c&&(c=2147483647);if(0!=this.numChildren)for(0>a&&(a=0),c>this.numChildren&&(c=this.numChildren-1);c>=a;)this.lyRemoveChildAt(c),c--};c._propagateFlagsDown_=function(a){if((this._type2_&a)!=a){for(var c,b=this._childs_.length,f=0;f<b;f++)c=this._childs_[f],c._propagateFlagsDown_(a);this._type2_|=a}};c.setupReadyNoticeWork=function(a){void 0===a&&(a=!1);iflash.display.DisplayObject.prototype.setupReadyNoticeWork.call(this,a);if(!this.isReadyForDraw&&this._childs_&&!(1>this._childs_.length)){var c=a=0,c=this._childs_.length,b;for(a=0;a<c;a++)b=this._childs_[a],b.setupReadyNoticeWork(!0)}};c.oneChildReady=function(){this.isReadyForDraw&&this.readyWork()};c.updateScaleData=function(a){void 0===a&&(a=0);this.scale9Data&&(a=this._childs_[a],null==a.scale9Data&&(a.scale9Data={}),a.scale9Data.x1=this.scale9Data.x1-a.x,a.scale9Data.y1=this.scale9Data.y1-a.y,a.scale9Data.x2=this.scale9Data.x2-a.x,a.scale9Data.y2=this.scale9Data.y2-a.y,this._width_!=a._width_&&(a.width=this.width),this._height_!=a._height_&&(a.height=this.height))};c.layaDestory=function(){iflash.display.DisplayObject.prototype.layaDestory.call(this);for(var a=0,c=this._childs_.length;a<c;a++)this._childs_[a].layaDestory();this._childs_.length=0};__getset(0,c,"numChildren",function(){return this._childs_.length});__getset(0,c,"tabChildren",LAYAFNFALSE,LAYAFNVOID);__getset(0,c,"mouseChildren",function(){return 0!=(this._type_&32)},function(a){this._type_=a?this._type_|32:this._type_&-33});__getset(0,c,"scaleX",a.prototype._$get_scaleX,function(c){a.prototype._$set_scaleX.call(this,c)});__getset(0,c,"scaleY",a.prototype._$get_scaleY,function(c){a.prototype._$set_scaleY.call(this,c)});__getset(0,c,"isReadyForDraw",function(){if(!this._childs_||1>this._childs_.length)return!0;for(var a=0,c=0,c=this._childs_.length,b,a=0;a<c;a++)if((b=this._childs_[a])&&!b.isReadyForDraw)return!1;return!0});__getset(0,c,"width",function(){return this.scale9Data?0>=this._width_?a.prototype._$get_width.call(this):this._width_:a.prototype._$get_width.call(this)},function(a){if(this._width_!=a){this.scaleX=1;var c=this.getBounds(this).width;c&&(this.scaleX=a/c);this._width_!=a&&this.lySize(a,this._height_)}});__getset(0,c,"height",function(){return this.scale9Data?0>=this._height_?a.prototype._$get_height.call(this):this._height_:a.prototype._$get_height.call(this)},function(a){if(this._height_!=a){this.scaleY=1;var c=this.getBounds(this).height;c&&(this.scaleY=a/c);this._height_!=a&&this.lySize(this._width_,a)}});return b}(InteractiveObject),TextField=function(a){function b(){this.formatIndices=[];this._scroller=null;this._inputting=!1;this._nodeIndex=0;b.__super.call(this);this._lines=[];this._originFormats=[];this._formats=[];this._nodeCoordinate=new Point;this.nodes=new TextNodeList;this._textHeight=this._textWidth=4;this._autoSizeWidth=this._height=this._autoSizeWidth=this._width=100;this._modle_.size(this._width,this._height+5);this._selectable=!0;Laya.RENDERBYCANVAS&&DrawText.insertUnit(this);DrawText.insertUnit(this);this.viewport=[0,0,this._width,this._height];this._htmlText=this._text="";this._type="dynamic";this._df=b.DF;this.addEventListener("addedToStage",__bind(this,this.onTextAdded))}__class(b,"iflash.text.TextField",!1,a);var c=b.prototype;c.onTextAdded=function(a){this.addEventListener("mouseUp",__bind(this,this.onTextFocus),!1,-99);this.addEventListener("removedFromStage",__bind(this,this.onTextRemoved));this.removeEventListener("addedToStage",__bind(this,this.onTextAdded))};c.onTextRemoved=function(a){this.addEventListener("addedToStage",__bind(this,this.onTextAdded));this.removeEventListener("click",__bind(this,this.onTextFocus));this._scroller&&this._scroller.removeEventListener("timer",__bind(this,this.onTextScroll))};c.onBrowserInputKeyDown=function(a){13==a.keyCode&&(a.returnValue=!1,a.preventDefault())};c.onMaxCharsLimit=function(a){Browser.input.value.length>this._maxChars&&(Browser.input.value=Browser.input.value.substr(0,this._maxChars))};c.onTextFocus=function(a){if(this.stage){if(this._links&&this._links.length)this._caretIndex=this.getCharIndexAtPoint(this.mouseX,this.mouseY,!0),this.checkLinkEvent(this._caretIndex);else if("input"==this._type){if(this._inputting){Driver.enableTouch()&&this.checkTextFocusout(null);return}b.onMobile&&Driver.deactivateTouchEvent();this._inputting=!0;b.isInputting=!0;this._caretIndex=this.getCharIndexAtPoint(this.mouseX,this.mouseY,!0);this.stage.currentFocus!=this&&(a=this._getConcatenatedMatrix(),Browser.input.setType(this._disAsPass?"password":"text"),Laya.CONCHVER||!Driver.enableTouch()?(Browser.input.setColor(StringMethod.getColorString(this._df.color)||"#000000"),Browser.input.setSize(this._width,this._height),Browser.input.setFont(this._df.font||"Times New Roman"),Browser.input.setFontSize(this._df.size||12),Browser.input.setScale(this.scaleX*Laya.window.scale.x*a.a,this.scaleY*Laya.window.scale.y*a.d),Laya.CONCHVER&&(this._modle_.setHideText(!0),this._maxChars?Browser.input.setMaxLength(this._maxChars):Browser.input.setMaxLength(1E8),this._restrict&&""!=this._restrict?Browser.input.setRegular("["+this._restrict+"]"):Browser.input.setRegular(".*")),Browser.input.value=this._text,a=new Point(a.tx,a.ty),Browser.input.setPos(a.x*Laya.window.scale.x+Laya.document.body.x,a.y*Laya.window.scale.y+Laya.document.body.y)):(Browser.input.setPos(0,0),Browser.input.clear(),Browser.input.setSize(b.initialWindowWidth,this._multiline?b.textAreaHeight:b.inputHeight),Browser.input.setFontSize(b.inputFontSize),Browser.input.style.background="Linen",Browser.input.style.borderTop="3px solid orange",Browser.input.style.borderBottom="3px solid orange",Browser.input.value=this._text,window.document.body.scrollTop=0),Laya.CONCHVER||(b.onMobile||(Browser.addToBody(Browser.input),Browser.input.setAlign(this._df.align||"left")),Browser.input.style.whiteSpace=this._wordWrap||this._multiline?"normal":"nowrap",Browser.input.onkeydown=this._multiline?null:this.onBrowserInputKeyDown,Browser.input.oninput=0<this._maxChars?this.onMaxCharsLimit.bind(this):null),Browser.input.target=this,b.onMobile||Browser.input.focus(),Stage.stage.addEventListener("mouseDown",__bind(this,this.checkTextFocusout)));Browser.input.addEventListener("input",__bind(this,this.dispathInput));var c=this._caretIndex;0>c?c=0:c>this._text.length&&(c=this._text.length)}this.stage&&this.stage.currentFocus!=this&&this._selectable&&(this.dispatchEvent(new FocusEvent("focusIn")),this.stage.currentFocus=this);"input"==this.type&&this.setHtmlInputCaret(c)}};c.checkTextFocusout=function(a){a&&a.target==this||(this._inputting=!1,b.isInputting=!1,this._text=Browser.input.value,!Laya.CONCHVER&&this._restrict&&(this._text=this._text.replace(this._restrict,"")),this._formats[0]=this._formats[0]||{begin:0,end:0},this._formats[0].format=this._df,this._formats[0].end=this._text.length,this.engine_updateStyle(),Laya.CONCHVER&&(this._modle_.setHideText(!1),this.dispathInput()),Browser.input.removeEventListener("input",__bind(this,this.dispathInput)),Stage.stage.removeEventListener("mouseDown",__bind(this,this.checkTextFocusout)),Browser.removeFromBody(Browser.input),Browser.input.setSize(1,1),Browser.input.setPos(0,-2E3),b.onMobile&&Driver.activateTouchEvent());Stage.stage.focus=null;this.dispatchEvent(new FocusEvent("focusOut"))};c.checkLinkEvent=function(a){for(var c,b=this._links.length-1;0<=b;b--)if(c=this._links[b],a>=c.begin&&a<c.end){"string"==typeof c.event?iflash.net.navigateToURL(c.event):this.dispatchEvent(c.event);break}};c.addToRender=function(){-1==b.TextsToRender.indexOf(this)&&b.TextsToRender.push(this)};c.renderThis=function(){var a=b.TextsToRender.indexOf(this);return-1!=a?(b.TextsToRender.splice(a,1),this.engine_updateStyle(),!0):!1};c.engine_updateStyle=function(){if(""==this._text)this.engine_clear(),this.updateViewportSize();else{this._textWidth=0;this._lines.length=0;this._currLineInfo=null;this._nodeCoordinate.setTo(2,2);this._nodeIndex=0;if(this._text.length){if(this._disAsPass){this._charsToRender="";for(var a=this._text.length;0<a;a--)this._charsToRender+="*"}else this._charsToRender=this._text;for(var c=this._formats.length,b,a=0;a<c;a++)b=this._formats[a],this.createStyleFromTextFormat(b.begin,b.end-1,b.format);"input"==this._type&&"\n"==this._text.charAt(this._text.length-1)&&this.pushNewLineToLines();if(a=this._lines.length)if(this._textHeight=this._lines[a-1].y+this._lines[a-1].height,(!this._autoSize||"none"==this._autoSize)&&this._textHeight>this._height){for(--a;0<=a;a--)if(this._textHeight-this._lines[a].y>this._height){this._maxScrollV=a+2;break}this._bottomScrollV=this.getBottomScrollV(this._scrollV)}else this._bottomScrollV=this._lines.length;else this._maxScrollV=this._textHeight=0;this.engine_layout(!0);this.checkActiveScroll();this._charsToRender=null}this.updateViewportSize();this.autosize()}};c.pushNewLineToLines=function(){this._lines.push({text:"",maxLeading:0,y:this._lines[this._lines.length-1].y+this._df.size+(this._df.leading?this._df.leading:0),height:this._df.size+3,width:0,nodes:[{x:2,firstCharIndex:this._text.length,lastCharIndex:this._text.length,format:this._df,text:""}],begin:this._text.length-1,end:this._text.length-1,isFirstLineOfParagraph:!1})};c.createStyleFromTextFormat=function(a,c,b){var f=this._charsToRender.substring(a,c+1);this._currLineInfo||(this._currLineInfo={text:"",maxLeading:0,y:this._nodeCoordinate.y,height:0,width:0,nodes:[],begin:a,end:a,isFirstLineOfParagraph:this._isNextLineNewParagraph},this._lines.push(this._currLineInfo));this._isNextLineNewParagraph=!1;var h=f.indexOf("\n");if(-1==h)if(h=b.measureText(f).width,!this._wordWrap||this.stuffEnough(this._nodeCoordinate.x+h,b)||"static"==this._type)this.createNodeStyle(f,this._nodeIndex,b,h),this._nodeCoordinate.x+=h,this._nodeIndex+=f.length;else if(h=b.measureText(f.charAt(0)).width,!this.stuffEnough(this._nodeCoordinate.x+h,b)&&0<this._currLineInfo.text.length)this.resetToNewline(b),this.createStyleFromTextFormat(a,c,b);else for(var k=0,l=1,m=f.length;l<m;l++){if(k=b.measureText(f.charAt(l)).width,h+=k,!this.stuffEnough((b.indent&&this._currLineInfo.isFirstLineOfParagraph?b.indent:0)+this._nodeCoordinate.x+h,b,!1)){(m=/\b\w+$/.exec(f.substring(0,l)))&&(l=0==m.index?f.length:m.index);this.createNodeStyle(f.substring(0,l),this._nodeIndex,b,h-k);this._nodeIndex+=l;this.resetToNewline(b);a+1<=c&&this.createStyleFromTextFormat(a+l,c,b);break}}else this._isNextLineNewParagraph=!0,"\n"==f?(this._currLineInfo.text+="\n",this._currLineInfo.height||(this._currLineInfo.height=b.size?b.size:12),this._currLineInfo.nodes.push({x:2,firstCharIndex:a,lastCharIndex:a,format:b,text:"\n"}),this.resetToNewline(b)):(this.createStyleFromTextFormat(a,a+h-1,b),this._currLineInfo.text+="\n",this._currLineInfo.nodes.length&&(this._currLineInfo.nodes[this._currLineInfo.nodes.length-1].text+="\n"),this._currLineInfo.height||(this._currLineInfo.height=b.size?b.size:12),this._currLineInfo.end++,this.resetToNewline(b),a+h+1<=c&&this.createStyleFromTextFormat(a+h+1,c,b))};c.resetToNewline=function(a){this._nodeIndex=0;this._nodeCoordinate.x=2;this._nodeCoordinate.y+=this._currLineInfo.height+(a.leading?a.leading:0)+b.LINE_LEADING;this._currLineInfo=null};c.createNodeStyle=function(a,c,b,f){var h={};h.x=this._nodeCoordinate.x;this._currLineInfo.nodes.push(h);h.firstCharIndex=c;h.lastCharIndex=h.firstCharIndex+a.length-1;h.format=b;Laya.CONCHVER&&(b._strokeColor=this.strokeColor);h.text=a;this._currLineInfo.text+=a;this._currLineInfo.end+=a.length-1;this._currLineInfo.height=Math.max(b.measureText(this._currLineInfo.text).height,this._currLineInfo.height);this._currLineInfo.width+=f;this._currLineInfo.maxLeading=Math.max(this._currLineInfo.maxLeading,b.leading?Number(b.leading):0);this._textWidth=Math.max(this._textWidth,this._currLineInfo.width)};c.engine_layout=function(a){void 0===a&&(a=!1);Laya.CONCHVER&&(this.conchNodes=this.conchNodes||new ConchArrayTextStr,this.conchNodes.clear());this.nodes.clear();for(var c,b,f=0,h,k,l=0,m=0,n=this._lines.length,p=0;p<n;p++){if(this._textHeight>this._height&&(!this._autoSize||"none"==this._autoSize))if(p<this._scrollV-1)continue;else if(p>=this._bottomScrollV)break;c=this._lines[p];b=c.nodes;if(f=b.length){h=b[0];k=h.format;m=c.y;l=h.x;h=k.align;!a||this._autoSize&&"none"!=this._autoSize&&!this._wordWrap||("center"==h?l+=(this._width-c.width)/2:"right"==h&&(l+=this._width-c.width-2-2));a&&(c.isFirstLineOfParagraph&&k.indent&&(l+=k.indent),l+=k.blockIndent?k.blockIndent:0);for(var q=0;q<f;q++){h=b[q];k=h.format;var r=int(k.letterSpacing),v=k.measureText(h.text),t,u=k.getFont(),w=StringMethod.getColorString(Number(k.color)||0),x=k.underline?v.width-(k.letterSpacing?k.letterSpacing:0):0;Laya.CONCHVER&&(t=new ConchTextStr,t.font=u,t.fillStyle=w,t.x=l,t.y=m+c.height-(v.height||k.size),t.letterSpacing=r,t.text=h.text,t.underlineWidth=x,this.conchNodes.push(t));t={};this.nodes.push(t);t.font=u;t.fillStyle=w;t.x=l;t.y=m+c.height-(v.height||k.size);t.letterSpacing=r;t.text=h.text;t.underlineWidth=x;t.underlineY=c.y+c.height;a&&(h.x=l);if(r)for(r=[],v=h.text.length,t.lettersX=r,t=0;t<v;t++)u=h.text.charAt(t),r.push(l),l+=k.measureText(u).width;else l+=v.width}}}Laya.CONCHVER&&this._modle_.textStrs(this.conchNodes)};c.checkActiveScroll=function(){!this._selectable||"dynamic"!=this._type||this._autoSize&&"none"!=this._autoSize||!(this._textWidth>this._width||this._textHeight>this._height)||"static"==this._type||this._scroller||(this._scrollV=1,this._scroller=new Timer(100),this._scroller.addEventListener("timer",__bind(this,this.onTextScroll),!1,0,!0),this.addEventListener("mouseDown",__bind(this,this.onTextMouseDown),!1,0,!0))};c.onTextMouseDown=function(a){this._scroller&&(this._scroller.start(),this._mouseDownX=this.mouseX,this._mouseDownY=this.mouseY);Stage.stage.addEventListener("mouseUp",__bind(this,this.onTextMouseUp))};c.onTextMouseUp=function(a){Stage.stage.removeEventListener("mouseUp",__bind(this,this.onTextMouseUp));this._scroller&&this._scroller.stop()};c.onTextScroll=function(a){if(0!=this._lines.length){a=this.mouseX-this._mouseDownX;var c=0,c=this.mouseY==this._mouseDownY?0:this.mouseY<this._mouseDownY?1:-1;this.scrollVWithoutRender(this._scrollV+c);this.scrollHWithoutRender(this.viewport[0]+a);this.engine_layout()}};c.autosize=function(){if(!this._wordWrap)switch(this._autoSize){case "center":a.prototype._$set_x.call(this,(this._autoSizeX||0)-this._textWidth/2);break;case "right":a.prototype._$set_x.call(this,(this._autoSizeX||0)-this._textWidth-2);break;case "left":case "none":a.prototype._$set_x.call(this,this._autoSizeX||0)}};c.updateViewportSize=function(){var a=0,c=0;"none"!=this.autoSize&&this.autoSize?(a=this._wordWrap?this._width:this._textWidth+2+2,c=(this._textHeight||this._df.size)+2+2):(a=this._width,c=this._height);this.viewport[2]=a;this.viewport[3]=c;this._modle_.size(this.viewport[2]+5,this.viewport[3]+10)};c.engine_clear=function(a){void 0===a&&(a=!1);this.nodes.clear();this.conchNodes&&this.conchNodes.clear();Laya.CONCHVER&&this._modle_.textStrs(this.conchNodes);this._lines.length=0;this._numLines=1;this._textHeight=this._textWidth=0;this._text="";this._charsToRender=this._htmlText=null;this._nodeIndex=0;var c=b.TextsToRender.indexOf(this);-1<c&&b.TextsToRender.splice(c,1);"input"==this._type&&a&&(Browser.input.value="")};c.dispathInput=function(){this.dispatchEvent(new TextEvent("textInput"));Laya.CONCHVER||!Driver.enableTouch()?this._text=Browser.input.value:this.text=Browser.input.value;this.dispatchEvent(new Event("change"))};c.appendText=function(a){this._text&&(a=this._text+a);this._originFormats.length=0;this._text=a.toString();this._nodeIndex=0;this._originFormats.push({begin:0,end:this._text.length,format:this._df});this.createFormats();this.addToRender()};c.getCharBoundaries=function(a,c){void 0===c&&(c=!1);if(a>=this._text.length||0>a)return null;c||this.renderThis();var b=new Rectangle,f=this._lines[this.getLineIndexOfChar(a)];a-=f.begin;var h=this.getNodeFromLineByIndex(a,f);a-=h.firstCharIndex;var k=h.format,l=k.measureText(h.text.substring(0,a));b.x=h.x+l.width;h=h.text.charAt(a);l=k.measureText(h);b.y=f.height-l.height+f.y;b.width=l.width;b.height=l.height;return b};c.getCharIndexAtPoint=function(a,c,b){void 0===b&&(b=!1);if(!this._text||""==this._text||0==this._text.length)return 0;this.renderThis();a+=this.viewport[0];c+=this.viewport[1];var f=0;if(c<this._textHeight){var h,k=this._scrollV?this._scrollV-1:0;for(k;k<this._bottomScrollV&&!(h=this._lines[k],c<h.y+h.height);k++);}if(!h)if(b)h=this._lines[this._lines.length-1];else return-1;if(a>h.width+h.nodes[0].x)return b?"\n"==this._text.charAt(h.end)?h.end:h.end+1:-1;c=h.nodes;for(var l,m,n=0,p=0,q=c.length,k=0;k<q;k++){l=c[k];m=l.format;var n=l.x,r=l.text.length;if(!r)return h.end;for(var v=0;v<r;v++){p=l.text[v];if("\n"==p&&b)return h.end;p=m.measureText(p).width;n+=p;f++;if(n>a)return n-=m.letterSpacing?m.letterSpacing:0,b?n-(p>>1)<a?f+h.begin:f+h.begin-1:f+h.begin-1}}return-1};c.getFirstCharInParagraph=function(a){return 0};c.getImageReference=function(a){return null};c.getLineIndexAtPoint=function(a,c){this.renderThis();var b=this.getCharIndexAtPoint(a,c);return this.getLineIndexOfChar(b)};c.getLineIndexOfChar=function(a){if(0>a||a>=this._text.length)return-1;this.renderThis();for(var c=this._lines.length,b,f=0;f<c;f++)if(b=this._lines[f],a>=b.begin&&a<=b.end)return f;return this._lines.length-1};c.getLineLength=function(a){this.renderThis();return this._lines[a].text.length};c.getLineMetrics=function(a){this.renderThis();if(0>a||a>=this._lines.length)return new TextLineMetrics(0,0,this._df.size+TextFormat.HEI_OFF,0,0,0);a=this._lines[a];return new TextLineMetrics(a.nodes?a.nodes[0].x:0,a.width,a.height,0,0,a.maxLeading)};c.getLineOffset=function(a){this.renderThis();return this._lines[a].begin};c.getLineText=function(a){this.renderThis();return this._lines[a].text};c.getParagraphLength=function(a){return 0};c.getTextFormat=function(a,c){void 0===a&&(a=-1);void 0===c&&(c=-1);if(-1==a&&-1==c)return this._df.clone();var b;if(-1!=a&&-1!=c){for(var f=this._originFormats.length-1;0<=f;f--)if(b=this._originFormats[f],b.begin==a&&b.end==c)return b.format.clone();return null}if(-1!=a&&-1==c)for(f=this._originFormats.length-1;0<=f;f--)if(b=this._originFormats[f],a>=b.begin&&a<b.end)return b.format;return null};c.replaceText=function(a,c,b){var f=this._text.substring(0,a),h=this._text.substring(c);this._text=f+b+h;for(var h=0,k=this._originFormats.length;h<k;h++)f=this._originFormats[h],f.begin<=a&&f.end>=a&&(f.end+=b.length-(c-a));this.createFormats();this.addToRender()};c.setSelection=function(a,c){};c.setTextFormat=function(a,c,b){if(this._text&&this._text.length){this._formats=[];1==arguments.length?(c=0,b=this.text.length):2==arguments.length&&(b=c+1);this.addToRender();for(var f,h=this._originFormats.length-1;0<=h;h--)if(f=this._originFormats[h],f.begin==c&&f.end==b){this._originFormats[h].format=this.mixTextFormats([this._originFormats[h].format,a]);this.createFormats();return}this.insertFormt(a,c,b);this.createFormats()}};c.numberSortCallback=function(a,c){return a>c?1:-1};c.createFormats=function(){this._originFormats.length||this._originFormats.push({begin:0,end:this._text.length,format:this._df});this._formats.length=0;this.formatIndices.push(0,this._text.length);this.formatIndices.sort(__bind(this,this.numberSortCallback));for(var a=this.formatIndices[this.formatIndices.length-1],c=this.formatIndices.length-2;0<=c;c--)(this.formatIndices[c]==a||this.formatIndices[c]>this._text.length)&&this.formatIndices.splice(c,1),a=this.formatIndices[c];this.formatIndices[this.formatIndices.length-1]>this._text.length&&this.formatIndices.pop();a=this.formatIndices.length-1;for(c=0;c<a;c++){var b=this.getRelateTextForamts(this.formatIndices[c]);this._formats.push({format:this.mixTextFormats(b),begin:this.formatIndices[c],end:this.formatIndices[c+1]})}this.addToRender()};c.getBottomScrollV=function(a){if(0==this._lines.length||a>this._lines.length)return 0;if(1==this._lines.length)return 1;if(this._textHeight<this._height)return this._lines.length;var c=this._lines.length;for(--a;a<c;a++)if(this._lines[a].y+this._lines[a].height>this._height+this.viewport[1])return a;return c};c.getRelateTextForamts=function(a){for(var c=[],b=this._originFormats.length,f=0;f<b;f++){var h=this._originFormats[f];a>=h.begin&&a<h.end&&c.push(h.format)}return c};c.mixTextFormats=function(a){for(var c,b=a[a.length-1].clone(),f=a.length-2;0<=f;f--)c=a[f],b._align=b._align&&"left"!=b._align?b._align:c._align,b._bold=b._bold||c._bold,b._color=b._color||c._color,b._font=b._font||c._font,b._italic=b._italic||c._italic,b._leading=b._leading||c._leading,b._leftMargin=b._leftMargin||c._leftMargin,b._letterSpacing=b._letterSpacing||c._letterSpacing,b._size=b._size||c._size,b._underline=b._underline||c._underline;b._strokeColor=this.strokeColor;return b};c.stuffEnough=function(a,c,b){void 0===b&&(b=!0);return a+(b&&c.leftMargin?c.leftMargin:0)+(c.blockIndent?c.blockIndent:0)+(c.rightMargin?c.rightMargin:0)<=this._width-2};c.maxCharsLimit=function(a){0<this._maxChars&&a.length>this._maxChars&&(this._text.length>=this._maxChars?a.length>this._text.length?a=this._text:8==this._lastPressKey&&this._caretIndex--:a=a.substr(0,this._maxChars),Browser.input.value=a,this.setHtmlInputCaret(this._caretIndex));return a};c.replaceSelectedText=function(a){};c.lyclone=function(){var a=new b;this.getTextResult(a);return a};c.getTextResult=function(a){a._autoSize=this._autoSize;a.maxChars=this.maxChars;a.border=this.border;a._multiline=this._multiline;a._textHeight=this._textHeight;a._textWidth=this._textWidth;a._width=this._width;a._height=this._height;this._wordWrap&&(a._wordWrap=this._wordWrap);a.type=this._type;this.tempBound&&(a.tempBound=this.tempBound);a.x=this.x;a.y=this.y;this._df!=b.DF&&(a._df=this._df.clone());this._htmlText?a.htmlText=this._htmlText:a.text=this._text;a.strokeColor=this.strokeColor;a.strokeThickness=this.strokeThickness};c.parseHTMLText=function(a){if(null!=a){var c=a.nodeName;if("#text"==c||"#cdata-section"==c)this._text+=a.textContent;else if(a.length)if(c=a.length,1==c&&3==a[0].nodeType)this._text+=a[0].textContent;else for(var b=0;b<c;b++)this.parseHTMLText(a[b]);else{var b=this._text.length,f=new TextFormat;a.childNodes&&!a.childNodes.length?a.firstChild&&3==a.firstChild.nodeType&&(this._text+=a.textContent):this.parseHTMLText(a.childNodes);var h=function(c){if(Laya.CONCHVER)for(var b=a.attributes,d=b.length-1;0<=d;d--){if(b[d].nodeName==c||b[d].nodeName==c.toUpperCase())return b[d].nodeValue}else return a.getAttribute(c)||a.getAttribute(c.toUpperCase())},c=c.toLowerCase();switch(c){case "b":f.bold=!0;break;case "br":this._text+="\n";break;case "font":var k=h("color");k&&(f.color=String(k).replace("#","0x"),f.color=Laya.__parseInt(f.color,16));if(k=h("face"))f.font=k;if(k=h("size")){var l=k.charAt(0);f.size="+"==l?Number(f.size)+Laya.__parseInt(k):"-"==l?Number(f.size)-Laya.__parseInt(k):h("size")}break;case "i":f.italic=!0;break;case "p":if(h=h("align"))f.align=h;this._multiline&&(this._text+="\n");break;case "textformat":if(k=h("blockindent"))f.blockIndent=k;if(k=h("indent"))f.indent=k;if(k=h("leading"))f.leading=k;if(k=h("leftmargin"))f.leftMargin=k;if(h=h("rightmargin"))f.rightMargin=h;break;case "u":f.underline=!0;break;case "a":h=h("href"),this._links||(this._links=[]),h||(h=""),0==h.indexOf("event:")?(k=new TextEvent("link"),k.text=h.substr(6),this._links.push({event:k})):this._links.push({event:h})}"a"==c?(this._links[this._links.length-1].begin=b,this._links[this._links.length-1].end=this._text.length):this.insertFormt(f,b,this._text.length,!1)}}};c.insertFormt=function(a,c,b,f){void 0===f&&(f=!0);a={begin:c,end:b,format:a.clone()};f?this._originFormats.push(a):this._originFormats.unshift(a);this.formatIndices.push(c,b)};c._getBounds_=function(a,c){c||(c=new Rectangle);"input"==this._type?c.setTo(this.viewport[0],this.viewport[1],this._width,this._height):c.setTo(this.viewport[0],this.viewport[1],this.width,this.height);return c};c._hitTest_=function(a,c){return this.visible&&this.mouseEnabled&&this._checkHitMask(a,c)?this._getBounds_(this,DisplayObject.HELPER_RECTANGLET).containsPoint(DisplayObject.HELPER_POINT.setTo(a,c))?this:null:null};c._paintChild_=function(a,c,b,f,h){this.renderThis();DrawText.drawBG(a,c,b,this);DrawText.printText(this,a,c,b)};c.getLineIndex=function(a){for(var c=this._lines.length-1;0<=c;c--)if(this._lines[c]==a)return c;return-1};c.getNodeFromLineByIndex=function(a,c){for(var b=c.nodes,f,h=b.length,k=0;k<h;k++)if(f=b[k],a>=f.firstCharIndex&&a<=f.lastCharIndex)return f;return b[h-1]};c.setHtmlInputCaret=function(a){a=Math.max(this._text.length,a);Browser.input.setSelectionRange(a,a)};c.scrollVWithoutRender=function(a){if(!(0>a||a>this._lines.length))if(1<this._maxScrollV){var c=this._scrollV;this._scrollV=Math.max(a,1)|0;this._scrollV=Math.min(this._scrollV,this._maxScrollV)|0;this._scrollV>this._maxScrollV&&c==this._scrollV||(this.viewport[1]=this._lines[this._scrollV-1].y,this._bottomScrollV=this.getBottomScrollV(this._scrollV),this._modle_.textView(this.viewport[0],this.viewport[1]),this.dispatchEvent(new Event("scroll")))}else this._bottomScrollV=this._lines.length,this._scrollV=1,this.viewport[1]=0,this._modle_.textView(this.viewport[0],this.viewport[1])};c.scrollHWithoutRender=function(a){0>a?a=0:a>this.maxScrollH&&(a=this.maxScrollH);this.viewport[0]!=a&&(this.viewport[0]=a,this._modle_.textView(this.viewport[0],this.viewport[1]),this.dispatchEvent(new Event("scroll")))};c.layaDestory=function(){this.nodes=this._df=null;this._scroller&&(this._scroller.stop(),this._scroller.removeEventListener("timer",__bind(this,this.onTextScroll)),this._scroller=null);this._nodeCoordinate=this._currLineInfo=this._lines=this._formats=this._originFormats=null};__getset(0,c,"autoSize",function(){return this._autoSize},function(a){var c=a||"none";(this._autoSize||"none")==c||this._wordWrap||(this.addToRender(),this.renderThis(),this._autoSizeX="center"==c?this._left_+this._autoSizeWidth/2:"right"==c?this._left_+(this._autoSizeWidth-this._textWidth):this._originalX||0);this._autoSize=a;this.autosize()});__getset(0,c,"displayAsPassword",function(){return this._disAsPass},function(a){this._disAsPass=a;this.addToRender()});__getset(0,c,"background",function(){return this._background||!1},function(a){this._backgroundColor||(this._backgroundColor="#FFFFFF");this._background=a;Laya.CONCHVER&&a&&this._modle_.bgcolor(this._backgroundColor)});__getset(0,c,"backgroundColor",function(){return this._backgroundColor?Laya.__parseInt("0x"+this._backgroundColor.substring(2),16):16777215},function(a){this._backgroundColor=StringMethod.getColorString(a);Laya.CONCHVER&&this._background&&this._modle_.bgcolor(this._backgroundColor)});__getset(0,c,"caretIndex",function(){return this._caretIndex});__getset(0,c,"border",function(){return this._border||!1},function(a){this._borderColor||(this._borderColor="#000000");this._border=a;Laya.CONCHVER&&a&&this._modle_.border(this._borderColor)});__getset(0,c,"embedFonts",function(){return!1},function(a){});__getset(0,c,"text",function(){return this._text},function(a){this._htmlText="";if(void 0==a)throw Error("Parameter text must be non-null.");""==a?this.engine_clear(!0):(this._text=a+"",this._nodeIndex=0,this.addToRender(),this.viewport[0]=0,this._modle_.textView(this.viewport[0],this.viewport[1]),this._scrollV=1,this._originFormats.length=0,this._originFormats.push({begin:0,end:this._text.length,format:this._df}),this.formatIndices.length=0,this.createFormats(),this._isNextLineNewParagraph=!0)});__getset(0,c,"condenseWhite",function(){return this._condenseWhite},function(a){this._condenseWhite=a});__getset(0,c,"selectedText",function(){return this._selectable});__getset(0,c,"borderColor",function(){return Laya.__parseInt("0x"+this._borderColor.substring(2),16)},function(a){this._borderColor=StringMethod.getColorString(a);Laya.CONCHVER&&this._border&&this._modle_.border(this._borderColor)});__getset(0,c,"scrollH",function(){return this.viewport[0]},function(a){this.scrollHWithoutRender(a);this.engine_layout()});__getset(0,c,"bottomScrollV",function(){this.renderThis();return this._bottomScrollV});__getset(0,c,"defaultTextFormat",function(){return this._df.clone()},function(a){this._df==b.DF&&(this._df=new TextFormat);this._df.align=a.align||this._df.align;this._df.blockIndent=a.blockIndent||this._df.blockIndent;this._df.bold=a.bold||this._df.bold;this._df.bullet=a.bold||this._df.bullet;this._df.color=null!=a.color?a.color:this._textColor||this._df.color;this._df.display=a.display||this._df.display;this._df.font=a.font||this._df.font;this._df.indent=a.indent||this._df.indent;this._df.italic=a.italic||this._df.italic;this._df.leading=a.leading||this._df.leading;this._df.leftMargin=a.leftMargin||this._df.leftMargin;this._df.letterSpacing=a.letterSpacing||this._df.letterSpacing;this._df.rightMargin=a.rightMargin||this._df.rightMargin;this._df.size=a.size||this._df.size;this._df.tabStops=a.tabStops||this._df.tabStops;this._df.target=a.target||this._df.target;this._df.underline=a.underline||this._df.underline;this._df.url=a.url;"input"!=this._type&&this._text&&this._text.length&&(this.addToRender(),this.createFormats())});__getset(0,c,"htmlText",function(){return this._htmlText},function(a){""==a&&this._text&&this.engine_clear(!0);this._links&&(this._links.length=0);this._originFormats.length=0;this._htmlText=a;this._text="";if(this._htmlText&&this._htmlText.length)if(this.addToRender(),Laya.CONCHVER&&/^\x20+$/g.test(a))this.text=a;else{if(a=("\x3cdata\x3e"+a+"\x3c/data\x3e").replace(/(\<br\>|\n)/g,"\x3cbr/\x3e"),this._condenseWhite&&(a=a.replace(/(\s)+/g,"$1")),a=(new DOMParser).parseFromString(a,"text/xml"),Laya.CONCHVER||a.childNodes[0].textContent)a=a.childNodes[0].childNodes,this.formatIndices.length=0,this.parseHTMLText(a),Laya.CONCHVER&&(this._text=b.decodeFromEntities(this._text)),this._originFormats.unshift({begin:0,end:this._text.length,format:this._df}),this.createFormats(),this._isNextLineNewParagraph=!0}else this.nodes.clear(),this.conchNodes&&this.conchNodes.clear(),Laya.CONCHVER&&this._modle_.textStrs(this.conchNodes)});__getset(0,c,"length",function(){return this._text?this._text.length:0});__getset(0,c,"maxChars",function(){return this._maxChars},function(a){this._maxChars=a});__getset(0,c,"maxScrollH",function(){if(!this._textWidth)return 0;this.renderThis();return Math.max(0,this._textWidth-(this._width-1-2-2))});__getset(0,c,"maxScrollV",function(){this.renderThis();return this._maxScrollV?this._maxScrollV:1});__getset(0,c,"multiline",function(){return this._multiline},function(a){this._multiline=a});__getset(0,c,"numLines",function(){this.renderThis();return this._lines&&0!=this._lines.length?this._lines.length:1});__getset(0,c,"restrict",function(){return Laya.CONCHVER?this._restrict:this._restrict?this._restrict.source:""},function(a){Laya.CONCHVER?this._restrict=a:a?(/^\[.+\]$/.test(a)||(a="[^"+a+"]"),this._restrict=new RegExp(a,"g")):this._restrict=null});__getset(0,c,"scrollV",function(){return this._scrollV?this._scrollV:1},function(a){this.scrollVWithoutRender(a);this.engine_layout()});__getset(0,c,"useRichTextClipboard",function(){return!1},function(a){});__getset(0,c,"_filters",null,function(a){a=a[0];this.strokeColor=StringMethod.getColorString(a.color);this.strokeThickness=a.blurX});__getset(0,c,"selectable",function(){return this._selectable},function(a){this._selectable=a;!a&&this._scroller&&(this._scroller.running&&this._scroller.stop(),this._scroller.removeEventListener("timer",__bind(this,this.onTextScroll)),this._scroller=null)});__getset(0,c,"selectionBeginIndex",function(){return this._selectionBeginIndex});__getset(0,c,"y",function(){return a.prototype._$get_y.call(this)-(this.tempBound?this.tempBound.y:0)},function(c){a.prototype._$set_y.call(this,c+(this.tempBound?this.tempBound.y:0));if("input"==this._type&&Laya.CONCHVER&&Stage.stage.focus==this){c=this._getConcatenatedMatrix();var b=c.ty*Laya.window.scale.y+Laya.document.body.y;b!=Browser.input.top&&Browser.input.setPos(c.tx*Laya.window.scale.x+Laya.document.body.x,b)}});__getset(0,c,"selectionEndIndex",function(){return this._selectionEndIndex});__getset(0,c,"sharpness",function(){return 0},function(a){});__getset(0,c,"textColor",function(){return this._textColor},function(a){16777215<a&&(a=Number("0x"+a.toString(16).substr(2)));this._df==b.DF&&(this._df=new TextFormat);this._originFormats[0]&&(this._originFormats[0].format=this._df);this._textColor=a;this._df.color=this._textColor;this._text&&0<this._text.length&&(this.createFormats(),this.addToRender())});__getset(0,c,"textHeight",function(){this.renderThis();return this._textHeight});__getset(0,c,"thickness",function(){return 0},function(a){});__getset(0,c,"textWidth",function(){this.renderThis();return this._textWidth});__getset(0,c,"type",function(){return this._type},function(a){this._type=a;"input"==this._type&&(this._caretIndex=0,!Laya.document.canvas.onmouseup&&b.onMobile&&(Laya.document.canvas.onmouseup=function(a){iflash.text.TextField.isInputting&&(Browser.input.parentNode?Browser.input.target.checkTextFocusout(null):Browser.addToBody(Browser.input),Browser.input.focus())}))});__getset(0,c,"wordWrap",function(){return this._wordWrap||!1},function(a){this._wordWrap!=a&&this.addToRender();this._wordWrap=a});__getset(0,c,"width",function(){this.renderThis();return this._wordWrap?this._width:this._autoSize&&"none"!=this._autoSize?this._textWidth+4:this._width},function(a){0>a||(this._autoSize&&"none"!=this._autoSize?(this.renderThis(),"center"==this._autoSize?this._autoSizeX=this.x+a/2:"right"==this._autoSize&&(this._autoSizeX=this.x+a),this._autoSizeWidth=this._textWidth):this._autoSizeWidth=a,this._width=a,this.addToRender())});__getset(0,c,"height",function(){this.renderThis();return this._autoSize&&"none"!=this._autoSize?this._textHeight+2+2:this._height},function(a){a==this._height||0>=a||(this._height=a,this.addToRender())});__getset(0,c,"x",function(){this.renderThis();return a.prototype._$get_x.call(this)-(this.tempBound?this.tempBound.x:0)},function(c){this._originalX=c;this._autoSizeX="center"==this._autoSize?c+this.width/2:"right"==this._autoSize?c+this.width:c;this._autoSizeWidth=this._autoSize&&"none"!=this._autoSize?this._textWidth:this._width;a.prototype._$set_x.call(this,c+(this.tempBound?this.tempBound.x:0));if("input"==this._type&&Stage.stage.focus==this){c=this._getConcatenatedMatrix();var b=c.tx*Laya.window.scale.x+Laya.document.body.x;b!=Browser.input.left&&Browser.input.setPos(b,c.ty*Laya.window.scale.y+Laya.document.body.y)}});__getset(0,c,"filters",a.prototype._$get_filters,function(c){if(c){for(var b,d=c.length-1;0<=d;d--)if(c[d]instanceof iflash.filters.GlowFilter){b=c[d];c.splice(d,1);break}if(b){if(this.strokeColor=StringMethod.getColorString(b.color),this.strokeThickness=b.blurX/5*3+1,this._text&&this._text.length)for(d=this._formats.length-1;0<=d;d--)this._formats[d].format._strokeColor=this.strokeColor}else this.strokeThickness=this.strokeColor=null}a.prototype._$set_filters.call(this,c)});__getset(0,c,"gridFitType",function(){return""},function(a){});__getset(0,c,"textInteractionMode",function(){return null});__getset(0,c,"alwaysShowSelection",function(){return!1},function(a){});__getset(0,c,"mouseWheelEnabled",function(){return!1},function(a){});__getset(0,c,"styleSheet",function(){return null},function(a){});b.renderTexts=function(){var a=b.TextsToRender.length;if(0!=a)for(--a;0<=a;a--)b.TextsToRender.pop().engine_updateStyle()};b.isFontCompatible=function(a,c){return!0};b.decodeFromEntities=function(a){return a.replace(/\&#?\w{2,6};/g,function(a){return b.Entities[arguments[0]]})};b.LINE_WIDTH=1;b.LEFT_PADDING=2;b.RIGHT_PADDING=2;b.TOP_PADDING=2;b.BOTTOM_PADDING=2;b.borderStyle="3px solid orange";b.TextsToRender=[];b.isInputting=!1;__static(b,["LINE_LEADING",function(){return this.LINE_LEADING=Laya.CONCHVER?-2:0},"myAgent",function(){return this.myAgent=navigator.userAgent},"onIPhone",function(){return this.onIPhone=-1<b.myAgent.indexOf("iPhone")},"onIPad",function(){return this.onIPad=-1<b.myAgent.indexOf("iPad")},"onAndriod",function(){return this.onAndriod=-1<b.myAgent.indexOf("Android")},"onWP",function(){return this.onWP=-1<b.myAgent.indexOf("Windows Phone")},"onQQ",function(){return this.onQQ=-1<b.myAgent.indexOf("QQBrowser")},"onMobile",function(){return this.onMobile=b.onIPhone||b.onAndriod||b.onWP||b.onIPad},"initialWindowWidth",function(){return this.initialWindowWidth=window.innerWidth},"initialWindowHeight",function(){return this.initialWindowHeight=window.innerHeight},"deviceAvailWidth",function(){return this.deviceAvailWidth=window.screen.availWidth},"deviceAvailHeight",function(){return this.deviceAvailHeight=window.screen.availHeight},"pixelRatio",function(){return this.pixelRatio=b.deviceAvailHeight/b.initialWindowHeight},"inputHeight",function(){return this.inputHeight=2*(50/Math.min(1,b.pixelRatio)/2|0)},"textAreaHeight",function(){return this.textAreaHeight=2*(80/Math.min(1,b.pixelRatio)/2|0)},"inputFontSize",function(){return this.inputFontSize=2*((25/Math.min(1,b.pixelRatio)/2|0)+1)},"DF",function(){return this.DF=new TextFormat("Times New Roman",12,0,!1,!1,!1,null,null,"left",null,null,null,null)},"Entities",function(){return this.Entities={"\x26nbsp;":" ","\x26#160;":" ","\x26lt;":"\x3c","\x26#60;":"\x3c","\x26gt;":"\x3e","\x26#62;":"\x3e","\x26amp;":"\x26","\x26amp;":"\x26","\x26quot;":'"',"\x26#34;":'"',"\x26apos;":"'","\x26#39;":"'","\x26cent;":"\uffe0","\x26#162;":"\uffe0","\x26pound;":"\uffe1","\x26#163;":"\uffe1","\x26yen;":"\uffe5","\x26#165;":"\uffe5","\x26euro;":"\u20ac","\x26#8364;":"\u20ac","\x26sect;":"\u00a7","\x26#167;":"\u00a7","\x26copy;":"?","\x26#169;":"?","\x26reg;":"?","\x26#174;":"?","\x26trade;":"?","\x26#8482;":"?","\x26times;":"\u00d7","\x26#215;":"\u00d7","\x26divide;":"\u00f7","\x26#247;":"\u00f7"}}]);return b}(InteractiveObject),FlexBitmap=function(a){function b(a,e,g){void 0===e&&(e="auto");void 0===g&&(g=!1);b.__super.call(this,a,e,g);try{this.name=NameUtil.createUniqueName(this)}catch(d){}}__class(b,"mx.core.FlexBitmap",!1,a);b.prototype.toString=function(){return NameUtil.displayObjectToString(this)};b.VERSION="4.5.1.21328";b.__init$=function(){};return b}(Bitmap),Sprite=function(a){function b(){this._dragRect_=this._graphics=null;this._prelocationY_=this._prelocationX_=0;this._sc9X_=this._sc9Y_=1;this._hitArea=null;b.__super.call(this)}__class(b,"iflash.display.Sprite",!1,a);var c=b.prototype;c._paintGraphics_=function(a,c,b,f,h){if(this._graphics){var k=this._graphics;k.isReady()&&k._canvas_.paint(a,c,b,f,h)}this._paintChild_(a,c,b,f,h)};c.startDrag=function(a,c){void 0===a&&(a=!1);this._dragRect_=c;this.stage.addEventListener("enterFrame",__bind(this,this.__drag__));if(a)this._prelocationY_=this._prelocationX_=0;else{if(b._startedDrag_)return;this._prelocationX_=EventManager._stageX-this.x;this._prelocationY_=EventManager._stageY-this.y}b._startedDrag_=!0;this.__drag__()};c.stopDrag=function(){this.stage&&this.stage.removeEventListener("enterFrame",__bind(this,this.__drag__));this._dragRect_=null;b._startedDrag_=!1};c.__drag__=function(a){b._startedDrag_&&(this.x=EventManager._stageX-this._prelocationX_,this.y=EventManager._stageY-this._prelocationY_,this._dragRect_&&(this.x>this._dragRect_.width+this._dragRect_.x&&(this.x=this._dragRect_.width+this._dragRect_.x),this.y>this._dragRect_.height+this._dragRect_.y&&(this.y=this._dragRect_.height+this._dragRect_.y),this.x<this._dragRect_.x&&(this.x=this._dragRect_.x),this.y<this._dragRect_.y&&(this.y=this._dragRect_.y)))};c._lyToBody_=function(){this.updateScaleData();a.prototype._lyToBody_.call(this)};c._hitTest_=function(c,b){if(!this.visible)return null;var d=a.prototype._hitTest_.call(this,c,b);return d?d:this.graphicsHited(c,b)};c.graphicsHited=function(a,c){if(this._graphics){if(!this._checkHitMask(a,c)||!this._checkHitScrollRect(a,c))return null;this._private_._scrollRect_&&(a+=this._private_._scrollRect_.x,c+=this._private_._scrollRect_.y);DisplayObject.HELPER_RECTANGLET.setTo(this._graphics.x,this._graphics.y,this._graphics.width*this.scaleX,this._graphics.height*this.scaleY);if(DisplayObject.HELPER_RECTANGLET.contains(a,c))return this}return null};c.hitAreaMouseHandler=function(a){this.dispatchEvent(new MouseEvent(a.type))};c._getBounds_=function(c,b){b||(b=new Rectangle);a.prototype._getBounds_.call(this,c,b);this._graphics&&(DisplayObject.HELPER_RECTANGLET_ALT.setTo(this._graphics.x,this._graphics.y,this._graphics.width,this._graphics.height),DisplayObject.HELPER_RECTANGLET_ALT.width&&DisplayObject.HELPER_RECTANGLET_ALT.height&&(this.numChildren?b._union_(DisplayObject.HELPER_RECTANGLET_ALT):b.setTo(DisplayObject.HELPER_RECTANGLET_ALT.x,DisplayObject.HELPER_RECTANGLET_ALT.y,DisplayObject.HELPER_RECTANGLET_ALT.width,DisplayObject.HELPER_RECTANGLET_ALT.height)));return b};__getset(0,c,"graphics",function(){this._graphics||(this._graphics=new Graphics(this));return this._graphics});__getset(0,c,"buttonMode",function(){return!1},LAYAFNVOID);__getset(0,c,"width",a.prototype._$get_width,function(c){if(!(0>c))if(this.scale9Data){var b=this._childs_[0];b&&b.scale9Data&&(b.width=c);this._width_=c}else a.prototype._$set_width.call(this,c)});__getset(0,c,"useHandCursor",function(){return 0!=(this._type_&128)},function(a){this._type_=a?this._type_|128:this._type_&-129});__getset(0,c,"dropTarget",LAYAFNNULL);__getset(0,c,"height",a.prototype._$get_height,function(c){if(!(0>c))if(this.scale9Data){var b=this._childs_[0];b&&b.scale9Data&&(b.height=c);this._height_=c}else a.prototype._$set_height.call(this,c)});__getset(0,c,"hitArea",function(){return this._hitArea},function(a){this._hitArea&&(this._hitArea.removeEventListener("click",__bind(this,this.hitAreaMouseHandler)),this._hitArea.removeEventListener("doubleClick",__bind(this,this.hitAreaMouseHandler)),this._hitArea.removeEventListener("mouseDown",__bind(this,this.hitAreaMouseHandler)),this._hitArea.removeEventListener("mouseMove",__bind(this,this.hitAreaMouseHandler)),this._hitArea.removeEventListener("mouseOut",__bind(this,this.hitAreaMouseHandler)),this._hitArea.removeEventListener("mouseOver",__bind(this,this.hitAreaMouseHandler)),this._hitArea.removeEventListener("mouseUp",__bind(this,this.hitAreaMouseHandler)));this._hitArea=a;this.mouseEnabled=null!=this._hitArea?!1:!0;this._hitArea&&(this._hitArea.addEventListener("click",__bind(this,this.hitAreaMouseHandler)),this._hitArea.addEventListener("doubleClick",__bind(this,this.hitAreaMouseHandler)),this._hitArea.addEventListener("mouseDown",__bind(this,this.hitAreaMouseHandler)),this._hitArea.addEventListener("mouseMove",__bind(this,this.hitAreaMouseHandler)),this._hitArea.addEventListener("mouseOut",__bind(this,this.hitAreaMouseHandler)),this._hitArea.addEventListener("mouseOver",__bind(this,this.hitAreaMouseHandler)),this._hitArea.addEventListener("mouseUp",__bind(this,this.hitAreaMouseHandler)))});__getset(0,c,"scaleY",function(){return this.scale9Data?this._sc9Y_:a.prototype._$get_scaleY.call(this)},function(c){if(this.scale9Data){var b=this._childs_[0];b&&b.scale9Data&&(b.scaleY=c);this._sc9Y_=c;this._height_*=c}else a.prototype._$set_scaleY.call(this,c)});__getset(0,c,"scaleX",function(){return this.scale9Data?this._sc9X_:a.prototype._$get_scaleX.call(this)},function(c){if(this.scale9Data){var b=this._childs_[0];b&&b.scale9Data&&(b.scaleX=c);this._sc9X_=c;this._width_*=c}else a.prototype._$set_scaleX.call(this,c)});b._startedDrag_=!1;return b}(DisplayObjectContainer),Loader=function(a){function b(){this._bitmapData=this.__element__=this.__content__=this._contentLoaderInfo=null;this._resUrl="";this.shapeRes=null;this.preIndex=0;this.preLoader=[];this.isFlag=!1;b.__super.call(this);this._contentLoaderInfo=LoaderInfo.create(this._getID_);this._contentLoaderInfo.loader=this}__class(b,"iflash.display.Loader",!1,a);a=b.prototype;a.onSetResUrlHandler=function(a){this._resUrl=a.lyData.url};a.disposeLoader=function(){if(this._contentLoaderInfo){this.unload();this.isFlag=!1;var a=this._contentLoaderInfo._resourceDic_,b=this._contentLoaderInfo._reDomain_,g;for(g in a){var d=a[g];b&&b._resMapDic_[g]&&delete b._resMapDic_[g];if(d instanceof iflash.display.MovieClip)d.layaDestory(),Runnner.template.splice(Runnner.template.indexOf(d.runner),1);else{if(d instanceof iflash.text.StaticText||d instanceof iflash.text.TextField)return;d&&d.layaDestory()}}this._contentLoaderInfo._applicationDomain._resMapDic_=null;this._contentLoaderInfo._applicationDomain=null;this._contentLoaderInfo._resourceDic_&&this._contentLoaderInfo.deleteResourceDic();this._contentLoaderInfo._reDomain_=null;this._contentLoaderInfo&&delete LoaderInfo._loaderInfos_[this._contentLoaderInfo.__id__];this._contentLoaderInfo=null;this._eventListener_&&(this._eventListener_=null)}};a.load=function(a,b){var g=this;this._checkloaderInfo();a.url.lastIndexOf("?");this._contentLoaderInfo.lyurl=a.url;this._contentLoaderInfo.__fileurl=a.url;var d=Method.formatUrlType(a.url);a.url=Method.formatUrl(a.url);b||(b=new LoaderContext(!1,new ApplicationDomain));this._contentLoaderInfo._reDomain_=b.applicationDomain;this.contains(this.__content__)&&this.removeChild(this.__content__);switch(d){case "swf":case "swp":case "cvt":Stage.USE_SMALL?this.loadSwf_Small(a.url,d):this.loadSwf(a.url);break;default:this._bitmapData=new BitmapData;var f=Browser.document.createElement("image");f.onload=function(a){Laya.HTMLVER&&!Laya.CONCHVER&&"jng"==d?(f=Method._JpgToPng(f),g._bitmapData.setType(1),g._bitmapData.setCanvas(f)):g._bitmapData.setImage(f);g.__content__=new Bitmap(g._bitmapData);g._contentLoaderInfo.__content__=g.__content__;g._contentLoaderInfo.height=g.__content__.height;g._contentLoaderInfo.width=g.__content__.width;g.addChild(g.__content__);g.__element__=f;g.contentLoaderInfo.dispatchEvent(new Event("init",!1,!1,g.__content__));g.contentLoaderInfo.dispatchEvent(new Event("complete",!1,!1,g.__content__));g.dispatchEvent(new Event("complete"));f.onerror=f.onload=null};f.onerror=function(a){a=new IOErrorEvent("ioError");a.text="\u627e\u4e0d\u5230"+f.src;g.contentLoaderInfo.dispatchEvent(a);f.onerror=f.onload=null};f.src=a.url}};a.close=LAYAFNVOID;a.unload=function(){this.__content__&&(this.removeChild(this.__content__),this.__content__._removeEvents_(),this._bitmapData=this.__content__=null);this.parent&&(this.parent._type_|=16384,this.parent.lyRemoveChildAt(this.childIndexOf(this)))};a._checkloaderInfo=function(){if(this.isFlag){var a=this._contentLoaderInfo;this._contentLoaderInfo=LoaderInfo.create(this._getID_);this._contentLoaderInfo.loader=this;this._contentLoaderInfo._getEvents_(a)}else this.isFlag=!0};a.loadBytes=function(a,b){this._checkloaderInfo();this.contains(this.__content__)&&this.removeChild(this.__content__);if(!(a instanceof Array))if(a instanceof iflash.utils.ByteArray){a.position=0;var g=a.readUTF(),d=new ByteArray;if("swf"!=g)throw"un support img binary!";b&&(this._contentLoaderInfo._reDomain_=b.applicationDomain);var f=a.readUTF();a.readBytes(d,0,d.bytesAvailable);Stage.USE_SMALL?this.loadSwf_Small(f,g,d):this.loadSwf(f.substring(0,f.lastIndexOf("."+g)),d)}else this._bitmapData=new BitmapData,this._bitmapData.setImage(a),this.__content__=this.contentLoaderInfo.__content__=new Bitmap(this._bitmapData),this.addChild(this.__content__),this.addEventListener("enterFrame",__bind(this,this.onEnterFrame))};a.getFileType=function(a){var b=a.readUnsignedByte();a=a.readUnsignedByte();var g="unknown";66==b&&77==a?g="BMP":255==b&&216==a?g="JPG":137==b&&80==a?g="PNG":71==b&&73==a&&(g="GIF");return g};a._buildLoaderContext=function(a){null==a&&(a=new LoaderContext);null==a.applicationDomain&&(a.applicationDomain=new ApplicationDomain(ApplicationDomain.currentDomain));return a};a.onEnterFrame=function(a){this.removeEventListener("enterFrame",__bind(this,this.onEnterFrame));this.contentLoaderInfo.dispatchEvent(new iflash.events.Event("complete",!1,!1))};a.unloadAndStop=function(a){this.unload()};a.deleteKey=function(a){for(var b in a)delete a[b];a.length=0};a.loadSwf=function(a,b){this._contentLoaderInfo.onload=iflash.method.bind(this,this.onLoadeComplete);b?(this._contentLoaderInfo.setUrl(a),this._contentLoaderInfo.setByteArray(b)):this._contentLoaderInfo.src=a};a.loadSwf_Small=function(a,e,g){var d=this,f=this;if(b.imgLoader)this._contentLoaderInfo.onload=iflash.method.bind(f,this.onLoadeComplete),LoaderInfo.minibitmapData=new BitmapData,LoaderInfo.minibitmapData.setImage(b.imgLoader),g?(this._contentLoaderInfo.setUrl(a.substring(0,a.lastIndexOf("."+e))),this._contentLoaderInfo.setByteArray(g)):this._contentLoaderInfo.src=a;else{b.imgLoader=Browser.document.createElement("image");b.imgLoader.onload=function(){d._contentLoaderInfo.onload=iflash.method.bind(f,d.onLoadeComplete);LoaderInfo.minibitmapData=new BitmapData;LoaderInfo.minibitmapData.setImage(b.imgLoader);g?(d._contentLoaderInfo.setUrl(a.substring(0,a.lastIndexOf("."+e))),d._contentLoaderInfo.setByteArray(g)):d._contentLoaderInfo.src=a;b.imgLoader=null;LoaderInfo.minibitmapData=null};b.imgLoader.onerror=function(){d.contentLoaderInfo.dispatchEvent(new IOErrorEvent("ioError"));b.imgLoader=null};var h=a.lastIndexOf("."+e);b.imgLoader.src=a.substring(0,h)+"/small.png"}};a.onLoadeComplete=function(a){this.addChild(this._contentLoaderInfo.__content__);this.__content__=this.contentLoaderInfo.__content__;if(0<this.preLoader.length)this.onPreLoader();else this.contentLoaderInfo.dispatchEvent(new Event("init")),this.contentLoaderInfo.dispatchEvent(new Event("complete"))};a.onPreLoader=function(){Runnner.preResCollection=[];for(var a=0;a<this.preLoader.length;a++){var b=this.contentLoaderInfo.applicationDomain.newInstance(this.preLoader[a]);b instanceof iflash.display.MovieClip&&b.runner.getPreRes(this.contentLoaderInfo);b instanceof iflash.display.Shape&&Runnner.preResCollection.push(g);b instanceof iflash.display.LyImageElement&&Runnner.preResCollection.push(g)}for(this.preIndex=0;0<Runnner.preResCollection.length;){var g=Runnner.preResCollection.pop();g instanceof iflash.display.Shape&&(this.preIndex++,g._image_._image_.onload=iflash.method.bind(this,this.onPreComplete),g._image_._image_.src=g._image_.src);g instanceof iflash.display.LyImageElement&&(this.preIndex++,g._image_.onload=iflash.method.bind(this,this.onPreComplete),g._image_.src=g._image_.src)}};a.onPreComplete=function(a){this.preIndex--;0>=this.preIndex&&this.contentLoaderInfo.dispatchEvent(new Event("complete"))};__getset(0,a,"contentLoaderInfo",function(){return this._contentLoaderInfo});__getset(0,a,"_getID_",function(){return++b.__ID__});__getset(0,a,"content",function(){return this.__content__});__getset(0,a,"element",function(){return this.__element__});b.removeNameChar=function(a){a=a.split("/");for(var b,g=1,d=a.length;g<d;){b=a[g];if(null==b)break;""==b?a.splice(g,1):g+=1}return a=a.join("/")};b.preswfAsset=function(a){b.preSwf=b.preSwf.concat(a)};b.__isPNG=function(a){a.position=0;return 137==a.readByte()&&80==a.readByte()&&78==a.readByte()&&71==a.readByte()&&13==a.readByte()&&10==a.readByte()&&26==a.readByte()&&10==a.readByte()};b.__ID__=0;b.preSwf=[];b.imgLoader=null;return b}(DisplayObjectContainer),Stage=function(a){function b(){this.contentsScaleFactor=1;this._useActivateEventCount_=0;this._infoFlag=!0;this._algin="";this.currentFocus=null;this._isInvalidate=!1;this._tmctr_=null;this._bgc_=16777215;this._bgc2_="#ffffff";this.autoOrients=!1;this.visibilityChange="hidden";this.visibilityState="visibilityState";this.stage3Ds=[new Stage3D,new Stage3D,new Stage3D,new Stage3D];this._scaleMode_="showAll";b.__super.call(this);this._width_=EventDispatcher.window.innerWidth;this._height_=EventDispatcher.window.innerHeight;this._tmctr_=TimerCtrl.__DEFAULT__}__class(b,"iflash.display.Stage",!1,a);var c=b.prototype;c.setOrientationEx=function(a){Laya.document.setOrientationEx(a)};c.setSize=function(a,c){Laya.document.size(a,c)};c.invalidate=function(){this._isInvalidate=!0};c.size=function(a,c){Laya.document.size(a,c)};c._hitTest_=function(c,b){var d=a.prototype._hitTest_.call(this,c,b);d||(d=this);return d};c.sendRender=function(){this._isInvalidate&&(this._isInvalidate=!1,this.lyDispatchEvent("render"))};c.addEventListener=function(a,c,b,f,h){void 0===b&&(b=!1);void 0===f&&(f=0);void 0===h&&(h=!1);if("activate"==a||"deactivate"==a){if(this.hasEventListener(a))return;0==this._useActivateEventCount_&&this.addVisibilityChangeEvent();this._useActivateEventCount_++}iflash.events.EventDispatcher.prototype.addEventListener.call(this,a,c,b,f,h)};c.removeEventListener=function(a,c,b){void 0===b&&(b=!1);if("activate"==a||"deactivate"==a){if(!this.hasEventListener(a))return;this._useActivateEventCount_--;0==this._useActivateEventCount_&&this.removeVisibilityChangeEvent()}iflash.events.EventDispatcher.prototype.removeEventListener.call(this,a,c,b)};c.visibilitySysEvtHandler=function(a){a=new Event("hidden"==Browser.document[this.visibilityState]?"deactivate":"activate",a.bubbles,a.cancelable);this.dispatchEvent(a)};c.addVisibilityChangeEvent=function(){var a=Browser.document;"hidden"in a?(this.visibilityChange="visibilitychange",this.visibilityState="visibilityState"):"mozHidden"in a?(this.visibilityChange="mozvisibilitychange",this.visibilityState="mozVisibilityState"):"msHidden"in a?(this.visibilityChange="msvisibilitychange",this.visibilityState="msVisibilityState"):"webkitHidden"in a&&(this.visibilityChange="webkitvisibilitychange",this.visibilityState="webkitVisibilityState");Browser.document.addEventListener(this.visibilityChange,__bind(this,this.visibilitySysEvtHandler))};c.removeVisibilityChangeEvent=function(){Browser.document.removeEventListener(this.visibilityChange,__bind(this,this.visibilitySysEvtHandler))};c.setAspectRatio=function(a){switch(a){case "portrait":IFlash.setAutoOrients(!1);EventDispatcher.document.setOrientationEx(0);this.dispatchEvent(new StageOrientationEvent("orientationChange"));break;case "landscape":IFlash.setAutoOrients(!1);EventDispatcher.document.setOrientationEx(1);this.dispatchEvent(new StageOrientationEvent("orientationChange"));break;case "any":IFlash.setAutoOrients(!0)}};__getset(0,c,"displayState",function(){return""},function(a){});__getset(0,c,"focus",function(){return this.currentFocus},function(a){if(a instanceof iflash.text.TextField)a.onTextFocus(null);this.currentFocus=a});__getset(0,c,"showDefaultContextMenu",function(){return!1},function(a){});__getset(0,c,"stageWidth",function(){return"noScale"==this._scaleMode_?EventDispatcher.window.innerWidth:this.width});__getset(0,c,"allowsFullScreen",function(){return!1});__getset(0,c,"allowsFullScreenInteractive",function(){return!1});__getset(0,c,"showInfo",null,function(a){a!=this._infoFlag&&(Laya.config.showInfo=a,Laya.SHOW_FPS=a,Laya.conch&&Laya.conch.ShowFPS(a,Laya.conch.m_pFps))});__getset(0,c,"width",function(){return this._width_},function(a){this._width_=a;this._modle_.size(this._width_,this._height_)});__getset(0,c,"stageHeight",function(){return"noScale"==this._scaleMode_?EventDispatcher.window.innerHeight:this.height});__getset(0,c,"scaleMode",function(){return this._scaleMode_},function(a){var c=a!=this._scaleMode_;this._scaleMode_=a;c&&Laya.window&&Laya.window.lyDispatchEvent("resize")});__getset(0,c,"height",function(){return this._height_},function(a){this._height_=a;this._modle_.size(this._width_,this._height_)});__getset(0,c,"color",function(){return this._bgc_},function(a){this.bgcolor=a});__getset(0,c,"bgcolor",null,function(a){if("string"==typeof a){var c=a.replace("#","");this._bgc_=c=parseInt(c,16);isNaN(this._bgc_)&&(this._bgc_=16777215);this._bgc2_=a}else this._bgc_=a,isNaN(this._bgc_)&&(this._bgc_=16777215),this._bgc2_=StringMethod.getColorString(this._bgc_);Laya.CONCHVER?conch.setBgColor(this._bgc2_):window.document.body.style.backgroundColor=this._bgc2_});__getset(0,c,"autoScaleDifference",null,function(a){Laya.document.adapter.autoScaleDifference=a});__getset(0,c,"frameRate",function(){return Browser.frameRate},function(a){Browser.frameRate=a});__getset(0,c,"align",function(){return this._algin},function(a){var c=a!=this._algin;this._algin=a;c&&Laya.window&&Laya.window.lyDispatchEvent("resize")});__getset(0,c,"stageFocusRect",function(){return!1},LAYAFNVOID);__getset(0,c,"quality",LAYAFNSTR,LAYAFNVOID);__getset(0,c,"fullScreenWidth",function(){return EventDispatcher.window.fullScreenWidth});__getset(0,c,"fullScreenHeight",function(){return EventDispatcher.window.fullScreenHeight});__getset(1,b,"stage",function(){return b._stage?b._stage:b._stage=new b},iflash.display.DisplayObjectContainer._$SET_stage);__getset(1,b,"supportsOrientationChange",function(){return!0},iflash.display.DisplayObjectContainer._$SET_supportsOrientationChange);b.USE_SMALL=!0;b.__frameRate__=16;b._stage=null;return b}(DisplayObjectContainer),TextLine=function(a){function b(){this.userData=null;b.__super.call(this);this.getMirrorRegion=$null}__class(b,"iflash.text.engine.TextLine",!1,a);var c=b.prototype;c.dump=LAYAFNSTR;c.flushAtomData=LAYAFNVOID;c.getAtomBidiLevel=LAYAFN0;c.getAtomBounds=LAYAFNNULL;c.getAtomCenter=LAYAFN0;c.getAtomGraphic=LAYAFNNULL;c.getAtomIndexAtCharIndex=LAYAFN0;c.getAtomIndexAtPoint=LAYAFN0;c.getAtomTextBlockBeginIndex=LAYAFN0;c.getAtomTextBlockEndIndex=LAYAFN0;c.getAtomTextRotation=LAYAFNSTR;c.getAtomWordBoundaryOnLeft=LAYAFNFALSE;c.getBaselinePosition=LAYAFN0;__getset(0,c,"ascent",LAYAFN0);__getset(0,c,"atomCount",LAYAFN0);__getset(0,c,"focusRect",null,LAYAFNVOID);__getset(0,c,"contextMenu",a.prototype._$get_contextMenu,LAYAFNVOID);__getset(0,c,"textBlockBeginIndex",LAYAFN0);__getset(0,c,"hasTabs",LAYAFNFALSE);__getset(0,c,"descent",LAYAFN0);__getset(0,c,"mirrorRegions",LAYAFNNULL);__getset(0,c,"totalAscent",LAYAFN0);__getset(0,c,"hasGraphicElement",LAYAFNFALSE);__getset(0,c,"nextLine",LAYAFNNULL);__getset(0,c,"previousLine",LAYAFNNULL);__getset(0,c,"rawTextLength",LAYAFN0);__getset(0,c,"specifiedWidth",LAYAFN0);__getset(0,c,"tabChildren",a.prototype._$get_tabChildren,LAYAFNVOID);__getset(0,c,"tabEnabled",a.prototype._$get_tabEnabled,LAYAFNVOID);__getset(0,c,"tabIndex",a.prototype._$get_tabIndex,LAYAFNVOID);__getset(0,c,"textBlock",LAYAFNNULL);__getset(0,c,"textHeight",LAYAFN0);__getset(0,c,"textWidth",LAYAFN0);__getset(0,c,"totalDescent",LAYAFN0);__getset(0,c,"totalHeight",LAYAFN0);__getset(0,c,"unjustifiedTextWidth",LAYAFN0);__getset(0,c,"validity",LAYAFNSTR,LAYAFNVOID);b.MAX_LINE_WIDTH=1E6;return b}(DisplayObjectContainer),StaticText=function(a){function b(){b.__super.call(this)}__class(b,"iflash.text.StaticText",!1,a);b.prototype.lyclone=function(){var a=new b;a.type="static";this.getTextResult(a);return a};return b}(TextField),BitmapAsset=function(a){function b(a,c,d){this.layoutFeatures=this.layoutFeaturesClass=null;this._height=NaN;this._layoutDirection="ltr";void 0===c&&(c="auto");void 0===d&&(d=!1);var f=null;b.__super.call(this,a,c,d);null==b.FlexVersionClass&&(f=ApplicationDomain.currentDomain,f.hasDefinition("mx.core::FlexVersion")&&(b.FlexVersionClass=f.getDefinition("mx.core::FlexVersion")));b.FlexVersionClass&&b.FlexVersionClass.compatibilityVersion>=b.FlexVersionClass.VERSION_4_0&&this.addEventListener("added",__bind(this,this.addedHandler))}__class(b,"mx.core.BitmapAsset",!1,a);var c=b.prototype;Laya.imps(c,{"mx.core.IFlexAsset":!0,"mx.core.IFlexDisplayObject":!0,"mx.core.ILayoutDirectionElement":!0});c.invalidateLayoutDirection=function(){for(var a=!1,a=this.parent;a;){if(Laya.__typeof(a,"mx.core.ILayoutDirectionElement")){(a=null!=this._layoutDirection&&null!=a.layoutDirection&&this._layoutDirection!=a.layoutDirection)&&null==this.layoutFeatures?(this.initAdvancedLayoutFeatures(),null!=this.layoutFeatures&&(this.layoutFeatures.mirror=a,this.validateTransformMatrix())):!a&&this.layoutFeatures&&(this.layoutFeatures.mirror=a,this.validateTransformMatrix(),this.layoutFeatures=null);break}a=a.parent}};c.move=function(a,c){this.x=a;this.y=c};c.setActualSize=function(a,c){this.width=a;this.height=c};c.addedHandler=function(a){this.invalidateLayoutDirection()};c.initAdvancedLayoutFeatures=function(){var a=null,a=null;null==this.layoutFeaturesClass&&(a=ApplicationDomain.currentDomain,a.hasDefinition("mx.core::AdvancedLayoutFeatures")&&(this.layoutFeaturesClass=a.getDefinition("mx.core::AdvancedLayoutFeatures")),null==b.MatrixUtilClass&&a.hasDefinition("mx.utils::MatrixUtil")&&(b.MatrixUtilClass=a.getDefinition("mx.utils::MatrixUtil")));null!=this.layoutFeaturesClass&&(a=new this.layoutFeaturesClass,a.layoutScaleX=this.scaleX,a.layoutScaleY=this.scaleY,a.layoutScaleZ=this.scaleZ,a.layoutRotationX=this.rotationX,a.layoutRotationY=this.rotationY,a.layoutRotationZ=this.rotation,a.layoutX=this.x,a.layoutY=this.y,a.layoutZ=this.z,a.layoutWidth=this.width,this._height=this.height,this.layoutFeatures=a)};c.validateTransformMatrix=function(){null!=this.layoutFeatures&&(this.layoutFeatures.is3D?this.transform.matrix3D=this.layoutFeatures.computedMatrix3D:this.transform.matrix=this.layoutFeatures.computedMatrix)};__getset(0,c,"x",function(){return null==this.layoutFeatures?a.prototype._$get_x.call(this):this.layoutFeatures.layoutX},function(c){this.x!=c&&(null==this.layoutFeatures?a.prototype._$set_x.call(this,c):(this.layoutFeatures.layoutX=c,this.validateTransformMatrix()))});__getset(0,c,"y",function(){return null==this.layoutFeatures?a.prototype._$get_y.call(this):this.layoutFeatures.layoutY},function(c){this.y!=c&&(null==this.layoutFeatures?a.prototype._$set_y.call(this,c):(this.layoutFeatures.layoutY=c,this.validateTransformMatrix()))});__getset(0,c,"rotationZ",function(){return null==this.layoutFeatures?a.prototype._$get_rotationZ.call(this):this.layoutFeatures.layoutRotationZ},function(c){this.rotationZ!=c&&(null==this.layoutFeatures?a.prototype._$set_rotationZ.call(this,c):(this.layoutFeatures.layoutRotationZ=c,this.validateTransformMatrix()))});__getset(0,c,"z",function(){return null==this.layoutFeatures?a.prototype._$get_z.call(this):this.layoutFeatures.layoutZ},function(c){this.z!=c&&(null==this.layoutFeatures?a.prototype._$set_z.call(this,c):(this.layoutFeatures.layoutZ=c,this.validateTransformMatrix()))});__getset(0,c,"width",function(){var c=null;if(null==this.layoutFeatures)return a.prototype._$get_width.call(this);null!=b.MatrixUtilClass&&(c=b.MatrixUtilClass.transformSize(this.layoutFeatures.layoutWidth,this._height,this.transform.matrix));return c?c.x:a.prototype._$get_width.call(this)},function(c){this.width!=c&&(null==this.layoutFeatures?a.prototype._$set_width.call(this,c):(this.layoutFeatures.layoutWidth=c,this.layoutFeatures.layoutScaleX=0!=this.measuredWidth?c/this.measuredWidth:0,this.validateTransformMatrix()))});__getset(0,c,"height",function(){var c=null;if(null==this.layoutFeatures)return a.prototype._$get_height.call(this);null!=b.MatrixUtilClass&&(c=b.MatrixUtilClass.transformSize(this.layoutFeatures.layoutWidth,this._height,this.transform.matrix));return c?c.y:a.prototype._$get_height.call(this)},function(c){this.height!=c&&(null==this.layoutFeatures?a.prototype._$set_height.call(this,c):(this._height=c,this.layoutFeatures.layoutScaleY=0!=this.measuredHeight?c/this.measuredHeight:0,this.validateTransformMatrix()))});__getset(0,c,"rotation",function(){return null==this.layoutFeatures?a.prototype._$get_rotation.call(this):this.layoutFeatures.layoutRotationZ},function(c){this.rotation!=c&&(null==this.layoutFeatures?a.prototype._$set_rotation.call(this,c):(this.layoutFeatures.layoutRotationZ=c,this.validateTransformMatrix()))});__getset(0,c,"scaleY",function(){return null==this.layoutFeatures?a.prototype._$get_scaleY.call(this):this.layoutFeatures.layoutScaleY},function(c){this.scaleY!=c&&(null==this.layoutFeatures?a.prototype._$set_scaleY.call(this,c):(this.layoutFeatures.layoutScaleY=c,this._height=Math.abs(c)*this.measuredHeight,this.validateTransformMatrix()))});__getset(0,c,"rotationX",function(){return null==this.layoutFeatures?a.prototype._$get_rotationX.call(this):this.layoutFeatures.layoutRotationX},function(c){this.rotationX!=c&&(null==this.layoutFeatures?a.prototype._$set_rotationX.call(this,c):(this.layoutFeatures.layoutRotationX=c,this.validateTransformMatrix()))});__getset(0,c,"rotationY",function(){return null==this.layoutFeatures?a.prototype._$get_rotationY.call(this):this.layoutFeatures.layoutRotationY},function(c){this.rotationY!=c&&(null==this.layoutFeatures?a.prototype._$set_rotationY.call(this,c):(this.layoutFeatures.layoutRotationY=c,this.validateTransformMatrix()))});__getset(0,c,"scaleX",function(){return null==this.layoutFeatures?a.prototype._$get_scaleX.call(this):this.layoutFeatures.layoutScaleX},function(c){this.scaleX!=c&&(null==this.layoutFeatures?a.prototype._$set_scaleX.call(this,c):(this.layoutFeatures.layoutScaleX=c,this.layoutFeatures.layoutWidth=Math.abs(c)*this.measuredWidth,this.validateTransformMatrix()))});__getset(0,c,"scaleZ",function(){return null==this.layoutFeatures?a.prototype._$get_scaleZ.call(this):this.layoutFeatures.layoutScaleZ},function(c){this.scaleZ!=c&&(null==this.layoutFeatures?a.prototype._$set_scaleZ.call(this,c):(this.layoutFeatures.layoutScaleZ=c,this.validateTransformMatrix()))});__getset(0,c,"layoutDirection",function(){return this._layoutDirection},function(a){a!=this._layoutDirection&&(this._layoutDirection=a,this.invalidateLayoutDirection())});__getset(0,c,"measuredHeight",function(){return this.bitmapData?this.bitmapData.height:0});__getset(0,c,"measuredWidth",function(){return this.bitmapData?this.bitmapData.width:0});b.VERSION="4.5.1.21328";b.FlexVersionClass=null;b.MatrixUtilClass=null;b.__init$=function(){};return b}(FlexBitmap),EmbedSymbol=function(a){function b(){this._symbol=this._swfUrl=this._loader=null;b.__super.call(this)}__class(b,"iflash.display.EmbedSymbol",!1,a);a=b.prototype;a.load=function(a,e){this._swfUrl=a;(this._symbol=e)&&this.hasClass(e)?this.createAsset():(this._loader=new Loader,this._loader.contentLoaderInfo.addEventListener("complete",__bind(this,this.onComplete)),this._loader.contentLoaderInfo.addEventListener("ioError",__bind(this,this.onError)),this._loader.load(new URLRequest(a),b._loaderContent))};a.onComplete=function(a){this._symbol?(this.hasClass(this._symbol)&&this.createAsset(),this._loader&&this.clearLoader()):this.addChild(this._loader)};a.clearLoader=function(){this._loader.unloadAndStop();this._loader.contentLoaderInfo.removeEventListener("complete",__bind(this,this.onComplete));this._loader.contentLoaderInfo.removeEventListener("ioError",__bind(this,this.onError));this._loader=null};a.onError=function(a){console.log("IO Error:"+this._swfUrl)};a.createAsset=function(){var a=this.getAsset(this._symbol),a=a instanceof iflash.display.BitmapData?new Bitmap(a):a;this.addChild(a)};a.hasClass=function(a){return b._domain.hasDefinition(a)};a.getClass=function(a){return this.hasClass(a)?b._domain.getDefinition2(a):null};a.getAsset=function(a){a=this.getClass(a);return null!=a?new a:null};__static(b,["_domain",function(){return this._domain=ApplicationDomain.currentDomain},"_loaderContent",function(){return this._loaderContent=new LoaderContext(!1,ApplicationDomain.currentDomain)}]);return b}(Sprite),MovieClip=function(a){function b(){this._interval_=60;this._preTime_=this._preFrame_=0;this.runner=null;this._scriptList_=[];this._animData_=new AnimationData;b.__super.call(this)}__class(b,"iflash.display.MovieClip",!1,a);var c=b.prototype;c._lyMCDispose=function(a){for(var c=a.numChildren,b;c;)b=a.getChildAt(c-1),b instanceof iflash.display.MovieClip&&(b.stop(),b._private_.onupdate&&(b._private_.onupdate.deleted=!0),b.runner=null,this._lyMCDispose(b)),c--;a.runner=null;a._private_.onupdate&&(a._private_.onupdate.deleted=!0);a._private_.onupdate=null};c._onupdate_=function(a,c,b){this.isPlaying&&a-this._preTime_>=this.interval&&(this._scriptList_[this.currentFrame]&&this._scriptList_[this.currentFrame].call(this),this._preTime_=a,this.runner._updata_(this));return!0};c.addFrameScript=function(a){for(var c=arguments,b=0,f=c.length;b<f;b+=2)this._addFrameScript_(c[b],c[b+1])};c._addFrameScript_=function(a,c){this._scriptList_[a+1]=c;a+1==this.currentFrame&&this._scriptList_[this.currentFrame]&&this._scriptList_[this.currentFrame].call(this)};c.gotoAndPlay=function(a,c){this._gotoAndPlay_(a,c);this._animData_.isStop=!1};c._gotoAndPlay_=function(a,c){"string"==typeof a?(a=int(this._animData_.labs[a]),this.runner.gotoAndPlay(a,this)):this.runner.gotoAndPlay(a-1,this);this._scriptList_[this.currentFrame]&&this._scriptList_[this.currentFrame].call(this)};c.gotoAndStop=function(a,c){null!=this.runner&&("string"==typeof a?(a=int(this._animData_.labs[a]),this.runner.gotoAndStop(a,this)):(a>this.totalFrames&&(a=this.totalFrames),this.runner.gotoAndStop(a-1,this)),this._scriptList_[this.currentFrame]&&this._scriptList_[this.currentFrame].call(this))};c.nextFrame=function(){this.runner.gotoAndStop(this._animData_.currentFrame+1,this)};c.prevFrame=function(){this.runner.gotoAndStop(this._animData_.currentFrame-1,this)};c.play=function(){this.gotoAndPlay(this.currentFrame+1)};c.stop=function(){this.runner&&this.runner.stop(this)};c.prevScene=LAYAFNVOID;c.nextScene=LAYAFNVOID;c.addFrameTimer=function(a){return Stage.stage._tmctr_.addFrameTimer(a,this)};c.addChild=function(a){if(this._type_&16&&this.numChildren){this.sortChildsByZIndex();var c=this.getChildAt(this.numChildren-1);a.zIndex=c.zIndex+1}return iflash.display.DisplayObjectContainer.prototype.addChild.call(this,a)};c.addChildAt=function(a,c){if(this._type_&16&&this.numChildren){this.sortChildsByZIndex();var b=this.getChildAt(c);a.zIndex=b.zIndex-1;if(0<c&&a.zIndex<this.getChildAt(c-1).zIndex)for(b=0;b<c-1;)this.getChildAt(b).zIndex--,b++}return iflash.display.DisplayObjectContainer.prototype.addChildAt.call(this,a,c)};c._lyToBody_=function(){a.prototype._lyToBody_.call(this);this._preTime_=0;this.runner&&(this.onupdate=this._onupdate_,this._private_.onupdate.deleted=!1)};c._lyUnToBody_=function(){iflash.display.DisplayObjectContainer.prototype._lyUnToBody_.call(this);this._private_.onupdate&&(this._private_.onupdate.deleted=!0)};c.stopAll=function(a){for(var c=a.numChildren;c;){var b=a.getChildAt(c-1);b&&(b.stop(),this.stopAll(b));c--}};c.lyclone=function(){var a=new b;this.scale9Data&&(a.scale9Data={x1:this.scale9Data.x1,y1:this.scale9Data.y1,x2:this.scale9Data.x2,y2:this.scale9Data.y2});a._animData_=this._animData_.lyclone();a.runner=this.runner;a._interval_=this._interval_;a.__id__=this.__id__;a.charId=this.charId;a.characterId=this.characterId;a._type_|=this._type_&16;a.gotoAndPlay(1);a.width=a.width;a.height=a.height;a.sortChildsByZIndex();return a};__getset(0,c,"onupdate",null,function(a){this._private_.onupdate&&(this._private_.onupdate.deleted=!0);this._private_.onupdate=this.addFrameTimer(a)});__getset(0,c,"interval",function(){return Stage.__frameRate__},function(a){this._interval_=a});__getset(0,c,"currentFrame",function(){var a=this._animData_.currentFrame+1;a>this.totalFrames&&(a=this.totalFrames);return 1>a?1:a});__getset(0,c,"enabled",LAYAFNTRUE,LAYAFNVOID);__getset(0,c,"totalFrames",function(){return this._animData_.totalFrame});__getset(0,c,"currentLabel",function(){var a=this.currentFrame-1,c,b=0,f={},h;for(h in this._animData_.labs){c=h;b=int(this._animData_.labs[h]);if(a==b)return c;f[b]=c}for(c=null;null==c&&(c=f[a],a--,-1!=a););return c});__getset(0,c,"isPlaying",function(){return!this._animData_.isStop});__getset(0,c,"framesLoaded",LAYAFN0);__getset(0,c,"currentFrameLabel",function(){var a=this.currentFrame-1,c,b=0,f;for(f in this._animData_.labs)if(c=f,b=int(this._animData_.labs[f]),a==b)return c;return null});__getset(0,c,"currentScene",LAYAFNNULL);__getset(0,c,"currentLabels",function(){var a=this._animData_.labs,c=[],b;for(b in a){var f=new FrameLabel;f.name=b;f.frame=int(a[b])+1;c.push(f)}return c});__getset(0,c,"scenes",LAYAFNNULL);__getset(0,c,"trackAsMenu",LAYAFNFALSE,LAYAFNVOID);b.USE_LINK_CLASS=!0;return b}(Sprite),ShaderJob=function(a){function b(a){b.__super.call(this)}__class(b,"iflash.display.ShaderJob",!1,a);b.prototype.start=function(a){};return b}(Sprite),SimpleButton=function(a){function b(a,e,g,d){this._enabled=!0;b.__super.call(this);this.addEventListener("mouseOut",__bind(this,this._onmouseOut_));this.addEventListener("mouseOver",__bind(this,this._onmouseOver_));this.addEventListener("mouseDown",__bind(this,this._onmouseDown_));this.addEventListener("mouseUp",__bind(this,this._onmouseUp_));this.mouseChildren=!1}__class(b,"iflash.display.SimpleButton",!1,a);a=b.prototype;a._onmouseOut_=function(a){this.gotoAndStop(1)};a.switchState=function(a){this.gotoAndStop(a)};a._onmouseUp_=function(a){this.gotoAndStop(1)};a._onmouseDown_=function(a){this.gotoAndStop(3)};a._onmouseOver_=function(a){this.gotoAndStop(2)};a.lyclone=function(){var a=new b;a._animData_=this._animData_.lyclone();a.runner=this.runner;a.__id__=this.__id__;a._interval_=this._interval_;a.width=this.width;a.height=this.height;a._type_|=16;a.gotoAndStop(1);return a};__getset(0,a,"trackAsMenu",LAYAFNFALSE,LAYAFNVOID);__getset(0,a,"useHandCursor",LAYAFNFALSE,LAYAFNVOID);__getset(0,a,"downState",LAYAFNNULL,LAYAFNVOID);__getset(0,a,"enabled",function(){return this._enabled},function(a){this._enabled=a});__getset(0,a,"upState",LAYAFNNULL,LAYAFNVOID);__getset(0,a,"overState",LAYAFNNULL,LAYAFNVOID);__getset(0,a,"hitTestState",LAYAFNNULL,LAYAFNVOID);return b}(MovieClip),MC2=function(a){function b(){b.__super.call(this);var a=this.__data__;this._animData_=a._animData_.lyclone();this.runner=a.runner;this._interval_=a._interval_;this._type_|=16;this.__id__=a.__id__;this.gotoAndPlay(1)}__class(b,"iflash.display.swf.classs.MC",!1,a,"MC2");return b}(MovieClip),SB=function(a){function b(a,e,g,d){b.__super.call(this);a=this.__data__;this._animData_=a._animData_.lyclone();this.runner=this.runner=a.runner;this._interval_=a._interval_;this._type_|=16;this.__id__=a.__id__;this.gotoAndStop(1)}__class(b,"iflash.display.swf.classs.SB",!1,a);return b}(SimpleButton),JSONParse=function(){function a(){LAYABOX.__JSON__||(LAYABOX.__JSON__=window.JSON,window.JSON=a)}__class(a,"JSONParse",!0);a.parse=function(a){try{return LAYABOX.__JSON__.parse(a)}catch(c){try{return eval("ret\x3d"+a),null}catch(e){throw Error("Could not parse JSON: "+e.message);}}};a.stringify=function(a){return LAYABOX.__JSON__.stringify(a)};return a}(),QName=function(){function a(a,b){this._localName=this._uri=null;this._uri=a;this._localName=b}__class(a,"QName",!1);var b=a.prototype;b.toString=function(){return(null==this.uri?"*":this.uri)+"::"+this.localName};__getset(0,b,"uri",function(){return null==this._uri?null:""==this._uri?"":"string"==typeof this._uri?this._uri:this._uri+""});__getset(0,b,"localName",function(){return null==this._localName?null:""==this._localName?"":"string"==typeof this._localName?this._localName:this._localName+""});return a}(),uint=function(){function a(c,b){void 0===c&&(c=0);void 0===b&&(b=0);if(!c)return 0;if(Laya.__typeof(c,iflash.utils.BigInteger)){if(0<=c.compareTo(a._CIRCLE)&&0>c.compareTo(a.ZERO))return c.add(a.CIRCLE);if(0>c.compareTo(a._CIRCLE))return a(c.mod(a.CIRCLE));0<c.compareTo(4294967295)&&(c=c.mod(a.CIRCLE))}else{c=Laya.__parseInt(c);if(-4294967296<=c&&0>c)return c+4294967295+1+b;if(-4294967296>c)return a(c%4294967296)+b;4294967295<c&&(c=c%4294967296+b)}return c}__class(a,"uint",!1);var b=a.prototype;b.toString=function(a){void 0===a&&(a=10);return Number(this).toString(a)};b.valueOf=function(){return this};b.toExponential=function(a){void 0===a&&(a=0);return Number(this).toExponential(a)};b.toPrecision=function(a){void 0===a&&(a=0);return Number(this).toPrecision(a)};b.toFixed=function(a){void 0===a&&(a=0);return Number(this).toFixed(a)};a.MAX_VALUE=4294967295;a.MAX_UINT=4294967295;a.length=1;__static(a,["_MAX_UINT",function(){return this._MAX_UINT=new iflash.utils.BigInteger("-4294967295")},"ZERO",function(){return this.ZERO=new iflash.utils.BigInteger("0")},"CIRCLE",function(){return this.CIRCLE=new iflash.utils.BigInteger("4294967296")},"_CIRCLE",function(){return this._CIRCLE=new iflash.utils.BigInteger("-4294967296")}]);return a}(),StringUtil=function(){function a(){}__class(a,"mx.utils.StringUtil",!0);a.trim=function(b){if(null==b)return"";for(var c=0;a.isWhitespace(b.charAt(c));)++c;for(var e=b.length-1;a.isWhitespace(b.charAt(e));)--e;return e>=c?b.slice(c,e+1):""};a.trimArrayElements=function(a,c){if(""!=a&&null!=a){for(var e=a.split(c),g=e.length,d=0;d<g;d++)e[d]=mx.utils.StringUtil.trim(e[d]);0<g&&(a=e.join(c))}return a};a.isWhitespace=function(a){switch(a){case " ":case "\t":case "\r":case "\n":case "\f":return!0;default:return!1}};a.substitute=function(a,c){for(var e=[],g=1,d=arguments.length;g<d;g++)e.push(arguments[g]);if(null==a)return"";d=e.length;1==d&&e[0]instanceof Array&&(e=e[0],d=e.length);for(g=0;g<d;g++)a=a.replace(new RegExp("\\{"+g+"\\}","g"),e[g]);return a};return a}(),Data=function(){function a(){this.bestScore=this.bamboo=0;this.scoreRecordList=null;this.consumption=this.amulet=this.milk=this.shoots=0;this.prevUserName="Player Name";this.achievement=0;this.share=SharedObject.getLocal("panda");this.scoreRecordList=[{name:"",score:""},{name:"",score:""},{name:"",score:""},{name:"",score:""},{name:"",score:""}];null==this.share.data.rank&&(this.share.clear(),this.share.setProperty("rank",this.scoreRecordList));null==this.share.data.prevUserName&&this.share.setProperty("prevUserName",this.prevUserName)}__class(a,"Data",!0);var b=a.prototype;b.save=function(){this.share.setProperty("s1",this.bamboo);this.share.setProperty("s2",this.bestScore);this.share.setProperty("s3",this.shoots);this.share.setProperty("s4",this.milk);this.share.setProperty("s5",this.amulet);this.share.setProperty("s6",this.consumption);this.share.setProperty("s7",this.achievement);this.share.setProperty("rank",this.scoreRecordList);this.share.setProperty("prevUserName",this.prevUserName)};b.load=function(){this.bamboo=int(this.share.data.s1);this.bestScore=int(this.share.data.s2);this.shoots=int(this.share.data.s3);this.milk=int(this.share.data.s4);this.amulet=int(this.share.data.s5);this.consumption=int(this.share.data.s6);this.achievement=int(this.share.data.s7);this.scoreRecordList=this.share.data.rank?this.share.data.rank:[];null!=this.share.data.prevUserName&&(this.prevUserName=this.share.data.prevUserName)};return a}(),Achieve=function(){function a(c){this.data=this.panda=null;this.richComplete=this.closeStep=!1;this.deposit=2E4;this.totalIncome=5E4;this.shooterComplete=!1;this.numHits=30;this.marathonComplete=!1;this.distance=42195;this.allEasyComplete=!1;this.easyJourney=2E3;this.lastAmulet=this.lastMilk=this.lastShoots=this.lastItemLocation=0;this.gongfuComplete=!1;this.gongfuJourney=300;this.gongfuMilk=this.startLocation=0;this.mmmCompelte=!1;this.bambooTarget=500;this.shootsTarget=80;this.nearMissComplete=!1;this.nearMissY=640;this.icon=null;this.count=0;this.cross=this.infro=this.IntroClass=this.startFunc=this.bgBmp=null;this.startArea=new Sprite;this.icon=new Bitmap;this.bgBmp=new Bitmap;this.IntroClass=[a.EpicEscapeIntro,a.ExpertShooterIntro,a.MarathonIntro,a.PieceOfCakeIntro,a.KungfuPandaIntro,a.MillionaireIntro];this.infro=new Bitmap;this.cross=new a.CloseButton;this.startArea.addChild(new Bitmap(GameUI.btnAreaSrc2));this.startFunc=c;this.hidePanel()}__class(a,"game.Achieve",!0);var b=a.prototype;Laya.imps(b,{"interf.ISteper":!0});b.reset=function(){this.startLocation=this.lastItemLocation=0};b.close=function(){this.closeStep=!0};b.open=function(){this.closeStep=!1;this.setComplete()};b.setComplete=function(){this.richComplete=1==(this.data.achievement&1);this.shooterComplete=2==(this.data.achievement&2);this.marathonComplete=4==(this.data.achievement&4);this.allEasyComplete=8==(this.data.achievement&8);this.gongfuComplete=16==(this.data.achievement&16);this.nearMissComplete=32==(this.data.achievement&32)};b.step=function(){this.closeStep||(this.richComplete||this.rich(),this.shooterComplete||this.shooter(),this.marathonComplete||this.marathon(),this.allEasyComplete||this.easy(),this.gongfuComplete||this.gongfu(),this.nearMissComplete||this.nearMiss())};b.rich=function(){if(this.panda.numBamboo>this.deposit||this.panda.numBamboo+this.panda.consumption>this.totalIncome)this.richComplete=!0,this.showCompletePanel("\u5927\u5bcc\u7fc1")};b.shooter=function(){this.panda.numHits>this.numHits&&(this.shooterComplete=!0,this.showCompletePanel("\u795e\u67aa\u624b"))};b.marathon=function(){this.panda.runningDistance>this.distance&&(this.marathonComplete=!0,this.showCompletePanel("\u9a6c\u62c9\u677e"))};b.easy=function(){if(this.lastMilk>this.panda.numMilk||this.lastAmulet>this.panda.numAmulet||this.lastShoots>this.panda.numShoots)this.lastItemLocation=this.panda.runningDistance;this.lastMilk=this.panda.numMilk;this.lastAmulet=this.panda.numAmulet;this.lastShoots=this.panda.numShoots;this.panda.runningDistance-this.lastItemLocation>this.easyJourney&&(this.allEasyComplete=!0,this.showCompletePanel("\u5c0f\u83dc\u4e00\u789f"))};b.gongfu=function(){if(!this.panda.isGongfu||this.gongfuMilk>this.panda.numMilk)this.startLocation=this.panda.runningDistance;this.panda.runningDistance-this.startLocation>this.gongfuJourney&&(this.gongfuComplete=!0,this.showCompletePanel("\u529f\u592b\u718a\u732b"))};b.makingMachine=function(){this.panda.eatBamboo>this.bambooTarget&&this.panda.eatShoots>this.shootsTarget&&(this.mmmCompelte=!0,this.showCompletePanel("\u8d5a\u94b1\u673a\u5668"))};b.nearMiss=function(){this.panda.rect.y>this.nearMissY&&(this.panda.nearMiss=!0);this.panda.nearMiss&&this.panda.isRunning()&&(this.nearMissComplete=!0,this.showCompletePanel("\u4e5d\u6b7b\u4e00\u751f"))};b.showCompletePanel=function(c){switch(c){case "\u4e5d\u6b7b\u4e00\u751f":this.icon.bitmapData=(new a.EpicEscape).bitmapData;break;case "\u795e\u67aa\u624b":this.icon.bitmapData=(new a.ExpertShooter).bitmapData;break;case "\u9a6c\u62c9\u677e":this.icon.bitmapData=(new a.Marathon).bitmapData;break;case "\u5c0f\u83dc\u4e00\u789f":this.icon.bitmapData=(new a.PieceOfCake).bitmapData;break;case "\u529f\u592b\u718a\u732b":this.icon.bitmapData=(new a.KungfuPanda).bitmapData;break;case "\u5927\u5bcc\u7fc1":this.icon.bitmapData=(new a.Millionaire).bitmapData}this.icon.x=800-this.icon.width>>1;this.icon.y=480-this.icon.height;this.icon.parent.addChild(this.icon);this.count++;this.icon.visible=!0;this.data.achievement=int(this.richComplete)+(int(this.shooterComplete)<<1)+(int(this.marathonComplete)<<2)+(int(this.allEasyComplete)<<3)+(int(this.gongfuComplete)<<4)+(int(this.nearMissComplete)<<5);this.data.save();iflash.utils.setTimeout(__bind(this,this.hideCompletePanel),5E3)};b.hideCompletePanel=function(){0==--this.count&&(this.icon.visible=!1)};b.showAs=function(a){a.addChild(this.bgBmp);a.addChild(this.infro);a.addChild(this.cross);a.addChild(this.icon);a.addChild(this.startArea);this.bgBmp.visible=!1;this.infro.visible=!1;this.cross.visible=!1;this.icon.visible=!1;this.startArea.y=394;this.startArea.x=31;this.startArea.alpha=0;this.startArea.addEventListener("mouseDown",__bind(this,this.mouseDown));this.startArea.addEventListener("mouseUp",__bind(this,this.start))};b.mouseDown=function(a){a.target.alpha=.3};b.start=function(a){this.hidePanel();this.startArea.alpha=0;this.startArea.visible=!1;this.startFunc()};b.showPanel=function(){this.setComplete();this.startArea.alpha=0;this.startArea.visible=!0;this.bgBmp.bitmapData=(new GameUI.Panel).bitmapData;var c=new Rectangle(0,0,800,480),b=new Point;this.bgBmp.bitmapData.copyPixels((new a.BgBmp).bitmapData,c,b,null,null,!0);c.width=170;c.height=170;this.richComplete&&(b.x=483,b.y=273,this.bgBmp.bitmapData.copyPixels((new a.Millionaire).bitmapData,c,b,null,null,!0));this.shooterComplete&&(b.x=314,b.y=122,this.bgBmp.bitmapData.copyPixels((new a.ExpertShooter).bitmapData,c,b,null,null,!0));this.marathonComplete&&(b.x=482,b.y=126,this.bgBmp.bitmapData.copyPixels((new a.Marathon).bitmapData,c,b,null,null,!0));this.allEasyComplete&&(b.x=147,b.y=272,this.bgBmp.bitmapData.copyPixels((new a.PieceOfCake).bitmapData,c,b,null,null,!0));this.gongfuComplete&&(b.x=314,b.y=271,this.bgBmp.bitmapData.copyPixels((new a.KungfuPanda).bitmapData,c,b,null,null,!0));this.nearMissComplete&&(b.x=148,b.y=130,this.bgBmp.bitmapData.copyPixels((new a.EpicEscape).bitmapData,c,b,null,null,!0));this.bgBmp.visible=!0;null!=this.bgBmp.stage&&this.bgBmp.stage.addEventListener("mouseDown",__bind(this,this.press))};b.hidePanel=function(){null!=this.bgBmp.stage&&this.bgBmp.stage.removeEventListener("mouseDown",__bind(this,this.press));null!=this.bgBmp.bitmapData&&this.bgBmp.bitmapData.dispose();this.bgBmp.visible=!1;this.infro.visible=!1;this.cross.visible=!1;this.icon.visible=!1};b.press=function(a){var b=a.stageX,g=a.stageY;if(154<b&&314>b&&148<g&&298>g)this.showIntro(0);else if(340<b&&460>b&&140<g&&275>g)this.showIntro(1);else if(490<b&&625>b&&143<g&&278>g)this.showIntro(2);else if(172<b&&292>b&&313<g&&423>g)this.showIntro(3);else if(330<b&&460>b&&303<g&&433>g)this.showIntro(4);else if(503<b&&628>b&&305<g&&425>g)this.showIntro(5);else return;a.target.removeEventListener("mouseDown",__bind(this,this.press))};b.showIntro=function(a){this.infro.bitmapData=(new this.IntroClass[a]).bitmapData;this.infro.x=800-this.infro.width>>1;this.infro.y=(480-this.infro.height>>1)+50;this.infro.visible=!0;this.cross.x=this.infro.x+this.infro.width-this.cross.width/2;this.cross.y=this.infro.y-this.cross.width/2;this.cross.visible=!0;null!=this.infro.stage&&this.infro.stage.addEventListener("mouseDown",__bind(this,this.hideIntro))};b.hideIntro=function(a){a.target.removeEventListener("mouseDown",__bind(this,this.hideIntro));a.target.addEventListener("mouseDown",__bind(this,this.press));this.infro.visible=!1;this.cross.visible=!1};__static(a,["EpicEscape",function(){return this.EpicEscape=Achieve_EpicEscape},"ExpertShooter",function(){return this.ExpertShooter=Achieve_ExpertShooter},"Marathon",function(){return this.Marathon=Achieve_Marathon},"PieceOfCake",function(){return this.PieceOfCake=Achieve_PieceOfCake},"KungfuPanda",function(){return this.KungfuPanda=Achieve_KungfuPanda},"Millionaire",function(){return this.Millionaire=Achieve_Millionaire},"BgBmp",function(){return this.BgBmp=Achieve_BgBmp},"EpicEscapeIntro",function(){return this.EpicEscapeIntro=Achieve_EpicEscapeIntro},"ExpertShooterIntro",function(){return this.ExpertShooterIntro=Achieve_ExpertShooterIntro},"KungfuPandaIntro",function(){return this.KungfuPandaIntro=Achieve_KungfuPandaIntro},"MarathonIntro",function(){return this.MarathonIntro=Achieve_MarathonIntro},"MillionaireIntro",function(){return this.MillionaireIntro=Achieve_MillionaireIntro},"PieceOfCakeIntro",function(){return this.PieceOfCakeIntro=Achieve_PieceOfCakeIntro},"CloseButton",function(){return this.CloseButton=Achieve_CloseButton}]);return a}(),Board=function(){function a(c,b){this._next=null;this._space=this._max=0;this.shakeY=this.shakePre=NaN;this.shaking=!1;this.enemy=null;this.rect=new Rectangle;this.dpo=new Bitmap;void 0===c&&(c=1);void 0===b&&(b=!0);var g=null;this._max=c;if(b){for(g=this;0<--c;)g._next=new a(c,!1),g=g._next;g._next=this}}__class(a,"game.Board",!0);var b=a.prototype;Laya.imps(b,{"interf.ISteper":!0});b.showAs=function(a){a.addChild(this.dpo)};b.step=function(){for(var a=this,b=0;b<this._max;)a.shakeEffect(),a=a.next,b++};b.shakeEffect=function(){this.shaking&&(this.shakePre<Math.PI?(this.shakePre=Math.min(Math.PI,this.shakePre+.35),this.dpo.y=this.rect.y=this.shakeY+15*Math.sin(this.shakePre),null!=this.enemy&&0==this.enemy.type&&(this.enemy.dpo.y=this.rect.y-this.enemy.rect.height)):this.shaking=!1)};b.shake=function(){this.shaking=!0;this.shakePre=0;this.shakeY=this.rect.y};b.reset=function(a,b){0<b&&(this.buildData(a,b),this.buildBitmap(b),this.updateView())};b.resetForHelp=function(a,b){this.rect.x=a;this.rect.y=b;this.rect.width=1830;this._space=0;this.buildBitmap(12);this.updateView()};b.updateView=function(){this.dpo.x=this.rect.x;this.dpo.y=this.rect.y};b.buildData=function(a,b){this.rect.y=280+40*int(4*Math.random());this.rect.x=a;this.rect.width=30+150*b;this._space=50*(int(11*Math.random())+3)};b.buildBitmap=function(c){this.dpo.bitmapData=a._bitmapData[c];var b=this.dpo.bitmapData,g=new Rectangle,d=new Point;b.lock();g.height=75;g.width=15;g.x=0;d.x=0;b.copyPixels(a.src,g,d);g.x=465;d.x=15+150*c;b.copyPixels(a.src,g,d);g.width=150;for(var f=0;f<c;)d.x=150*f+15,g.x=150*int(3*Math.random())+15,b.copyPixels(a.src,g,d),f++;b.unlock()};__getset(0,b,"next",function(){return this._next});__getset(0,b,"max",function(){return this._max});__getset(0,b,"right",function(){return this._space+this.rect.right});a.init=function(){for(var c=0;13>c;)a._bitmapData.push(new BitmapData(30+150*c,75)),c++};a.y_base=280;a.y_unit=40;a.y_limit=4;a.img_height=75;a.marginal=15;a.unit=150;a.limit=13;a.space_unit=50;a.space_min=3;a.space_max=14;a.max=1980;a._bitmapData=[];__static(a,["BoardBmp",function(){return this.BoardBmp=Board_BoardBmp},"src",function(){return this.src=(new a.BoardBmp).bitmapData}]);return a}(),Enemy=function(){function a(c){this._type=0;this._next=null;this._max=1;this.isBruised=!1;this.probability=null;this.effStart=0;this.effBmp=null;this.clearTime=0;this.effecting=!1;this.clearBmp=null;this.rect=new Rectangle(0,0,76,78);this.dpo=new Bitmap;void 0===c&&(c=-1);var b=null;this.probability=[.8,.9,.97,.985,1];this.effBmp=new Bitmap;this.clearBmp=new Bitmap;this._max=c;if(0<c){for(b=this;0<--c;)b._next=new a,b=b._next;b._next=this}this.reset(0,0)}__class(a,"game.Enemy",!0);var b=a.prototype;Laya.imps(b,{"interf.ISteper":!0});b.step=function(){for(var a=this,b=0;b<this._max;)a.updateBitmapData(),a.effStep(),a=a.next,b++};b.bruise=function(){this.isBruised=!0;this.disappearEff()};b.showAs=function(a){a.addChild(this.dpo);a.addChild(this.effBmp);a.addChild(this.clearBmp)};b.reset=function(a,b){this.rect.x=a;this.rect.y=b-this.rect.height;this.buildData();this.buildBitmap()};b.resetForHelp=function(a,b){this.rect.x=a+800;this.rect.y=b-this.rect.height;this._type=int(3*Math.random());this.isBruised=!1;this.buildBitmap()};b.buildData=function(){this.isBruised=!1};b.buildBitmap=function(){this.dpo.bitmapData=a._bitmapData[this.type][0];this.dpo.x=this.rect.x;this.dpo.y=this.rect.y;this.dpo.visible=!0;this.effBmp.x=this.rect.x-20;this.effBmp.y=this.rect.y-10;this.effBmp.visible=!1;this.clearBmp.x=this.rect.x-25;this.clearBmp.y=this.rect.y-24;this.clearBmp.visible=!1};b.disappearEff=function(){2==this._type&&(this.dpo.visible=!1);this.effBmp.visible=!0;this.effStart=vo.gameTime};b.updateBitmapData=function(){var c=0;this.dpo.bitmapData=a._bitmapData[this.type][int(vo.gameTime/83.3)%3];this.effBmp.visible&&(2==this._type?(c=int((vo.gameTime-this.effStart)/50),3<c?(this.effBmp.visible=!1,this.dpo.visible=!1):this.effBmp.bitmapData=a.bombEffBmpds[c]):this.effBmp.visible=!1)};b.clear=function(){this.isBruised=!0;this.dpo.visible=!1;this.effecting=this.clearBmp.visible=!0;this.clearTime=vo.gameTime};b.effStep=function(){if(this.effecting){var a=int((vo.gameTime-this.clearTime)/17.8);0>a||(3>a?this.clearBmp.bitmapData=Food.getEffBmpds(a):this.clearBmp.alpha=1-.2*(a-3),8<a&&(this.clearBmp.visible=this.effecting=!1))}};__getset(0,b,"type",function(){return this._type});__getset(0,b,"next",function(){return this._next});__getset(0,b,"max",function(){return this._max});a.init=function(){for(var c=0,b=0,g=null,d=new Rectangle(0,0,76,78),f=new Point,c=0;3>c;){d.y=d.height*c;for(b=0;3>b;)d.x=d.width*b,g=new BitmapData(d.width,d.height),g.copyPixels(a.src,d,f),a._bitmapData[c].push(g),b++;c++}d.width=108;d.height=95;for(c=d.x=d.y=0;4>c;)g=new BitmapData(d.width,d.height),d.x=d.width*c,g.copyPixels(a.effSrc,d,f),a.bombEffBmpds.push(g),c++};a.Snake=0;a.Raven=1;a.Bomb=2;a.numTypes=3;a.snakeBmpds=[];a.ravenBmpds=[];a.bombBmpds=[];a.bombEffBmpds=[];a.numFrames=3;__static(a,["MonsterBmp",function(){return this.MonsterBmp=Enemy_MonsterBmp},"src",function(){return this.src=(new a.MonsterBmp).bitmapData},"_bitmapData",function(){return this._bitmapData=[a.snakeBmpds,a.ravenBmpds,a.bombBmpds]},"EffBmp",function(){return this.EffBmp=Enemy_EffBmp},"effSrc",function(){return this.effSrc=(new a.EffBmp).bitmapData}]);return a}(),Food=function(){function a(c){this._next=null;this.isEated=!1;this._type=0;this._max=1;this.effecting=!1;this.startTime=0;this.rect=new Rectangle(0,0,52,52);this.dpo=new Bitmap;this.effBmp=new Bitmap;void 0===c&&(c=-1);var b=null;this._max=c;if(0<c){for(b=this;0<--c;)b._next=new a,b=b._next;b._next=this;this.reset(1E3,480)}}__class(a,"game.Food",!0);var b=a.prototype;Laya.imps(b,{"interf.ISteper":!0});b.step=function(){for(var a=this,b=0;b<this._max;)a.effecting&&a.effStep(),a=a.next,b++};b.eat=function(){this.dpo.visible=!1;this.effecting=this.isEated=!0;this.startTime=vo.gameTime;a.effSound.play()};b.showAs=function(a){a.addChild(this.dpo);a.addChild(this.effBmp)};b.reset=function(a,b){this.rect.x=a;this.rect.y=b;this.buildData();this.buildBitmap()};b.buildData=function(){this.isEated=!1;this._type=a.randomData()};b.buildBitmap=function(){this.dpo.bitmapData=a._bitmapData[this._type];this.dpo.x=this.rect.x;this.dpo.y=this.rect.y;this.dpo.visible=!0;this.effBmp.bitmapData=null;this.effBmp.x=this.rect.x-37;this.effBmp.y=this.rect.y-37;this.effBmp.alpha=1;this.effBmp.visible=!0};b.effStep=function(){var c=int((vo.gameTime-this.startTime)/17.8);0>c||(3>c?this.effBmp.bitmapData=a._effBmpds[c]:this.effBmp.alpha=1-.2*(c-3),8<c&&(this.effBmp.visible=this.effecting=!1))};__getset(0,b,"next",function(){return this._next});__getset(0,b,"type",function(){return this._type});__getset(0,b,"max",function(){return this._max});__getset(1,a,"shootsBmpd",function(){return a._bitmapData[1]});a.oldRandomData=function(){for(var c=Math.random(),b=0;5>b;){if(c<a.probability[b])return b;b++}return 0};a.randomData=function(){var c=0,b=0,g=0;a.random_Postion>=a._listLen&&(a.random_Postion=0);if(0==a.random_Postion)for(g=0;g<a._listLen;)b=int(Math.random()*a._listLen),c=a._list[b],a._list[b]=a._list[g],a._list[g]=c,g++;return a._list[a.random_Postion++]||0};a.buildRandomData=function(){a._list[0]=a._list[3]=2;a._list[1]=a._list[4]=3;a._list[2]=a._list[5]=4;for(var c=2;20>++c;)a._list[c]=1};a.getEffBmpds=function(c){return a._effBmpds[c]};a.init=function(){for(var c=null,b=new Rectangle(0,0,52,52),g=new Point,d=0;5>d;)c=new BitmapData(b.width,b.height),b.x=b.width*d,c.copyPixels(a.src,b,g),a._bitmapData.push(c),d++;b.width=b.height=126;for(d=0;3>d;)c=new BitmapData(b.width,b.height),b.x=b.width*d,c.copyPixels(a.effsrc,b,g),a._effBmpds.push(c),d++;a.buildRandomData()};a.Bamboo=0;a.Shoots=1;a.Mushroom=2;a.StrongFast=3;a.StrongJump=4;a.Milk=5;a.Amulet=6;a.numTypes=5;a.random_Postion=0;a._listLen=100;a._bitmapData=[];a._effBmpds=[];__static(a,["probability",function(){return this.probability=[.8,.9,.97,.985,1]},"_list",function(){return this._list=__newvec(a._listLen)},"FoodBmp",function(){return this.FoodBmp=Food_FoodBmp},"src",function(){return this.src=(new a.FoodBmp).bitmapData},"EffectBmp",function(){return this.EffectBmp=Food_EffectBmp},"effsrc",function(){return this.effsrc=(new a.EffectBmp).bitmapData},"effSound",function(){return this.effSound=new EatSound}]);return a}(),Ground=function(){function a(){this.fg2_blur=this.fg1_blur=this.bg5_blur=this.bg4_blur=this.bg3_blur=this.bg2_blur=this.bg1_blur=this.fg2_normal=this.fg1_normal=this.bg5_normal=this.bg4_normal=this.bg3_normal=this.bg2_normal=this.bg1_normal=this.ylist=this.fg2=this.fg1=this.bg5=this.bg4=this.bg3=this.bg2=this.bg1=null;this.blur=!1;this.scene=null;this.type=1;this.delay=NaN;this.prevTime=0;this.auto=!0;this.sound2playing=this.sound1playing=!1;this._max=1;var c=this._e=null,b=null,g=null;this.ylist=[210,250,370,220,460,525,500];this._e=new Shape;this.type="IOS"==Capabilities.version.substr(0,3)?2:1;var d=new Point,c=(new a.BG1Bmp).bitmapData,b=(new a.BG1Bmp2).bitmapData;this.bg1_normal=new BitmapData(c.width+800,c.height);this.bg1_blur=new BitmapData(c.width+800,c.height);g=c.rect;d.x=0;this.bg1_normal.copyPixels(c,g,d);this.bg1_blur.copyPixels(b,g,d);d.x=c.width;this.bg1_normal.copyPixels(c,g,d);this.bg1_blur.copyPixels(b,g,d);this.bg1=new Bitmap(this.bg1_normal);c.dispose();b.dispose();c=(new a.BG2Bmp).bitmapData;b=(new a.BG2Bmp2).bitmapData;this.bg2_normal=new BitmapData(c.width+800,c.height);this.bg2_blur=new BitmapData(c.width+800,c.height);g=c.rect;d.x=0;this.bg2_normal.copyPixels(c,g,d);this.bg2_blur.copyPixels(b,g,d);d.x=c.width;this.bg2_normal.copyPixels(c,g,d);this.bg2_blur.copyPixels(b,g,d);this.bg2=new Bitmap(this.bg2_normal);c.dispose();b.dispose();c=(new a.BG3Bmp).bitmapData;b=(new a.BG3Bmp2).bitmapData;this.bg3_normal=new BitmapData(c.width+800,c.height);this.bg3_blur=new BitmapData(c.width+800,c.height);g=c.rect;d.x=0;this.bg3_normal.copyPixels(c,g,d);this.bg3_blur.copyPixels(b,g,d);d.x=c.width;this.bg3_normal.copyPixels(c,g,d);this.bg3_blur.copyPixels(b,g,d);this.bg3=new Bitmap(this.bg3_normal);c.dispose();b.dispose();this.bg4_normal=(new a.Tree1Bmp).bitmapData;this.bg4_blur=(new a.Tree1Bmp2).bitmapData;this.bg4=new Bitmap(this.bg4_normal);c=(new a.Tree2Bmp).bitmapData;b=(new a.Tree2Bmp2).bitmapData;this.bg5_normal=new BitmapData(1400,c.height,!0,0);this.bg5_blur=new BitmapData(1400,c.height,!0,0);for(var g=c.rect,f=0;4>f;)d.x=350*f,this.bg5_normal.copyPixels(c,g,d,null,null,!0),this.bg5_blur.copyPixels(b,g,d,null,null,!0),f++;this.bg5=new Bitmap(this.bg5_normal);c.dispose();b.dispose();c=(new a.GrassBmp).bitmapData;b=(new a.GrassBmp2).bitmapData;this.fg1_normal=new BitmapData(3*c.width,c.height);this.fg1_blur=new BitmapData(3*c.width,c.height);g=c.rect;for(f=0;3>f;)d.x=c.width*f,this.fg1_normal.copyPixels(c,g,d),this.fg1_blur.copyPixels(b,g,d),f++;this.fg1=new Bitmap(this.fg1_normal);c.dispose();b.dispose();c=(new a.FlowerBmp).bitmapData;b=(new a.FlowerBmp2).bitmapData;this.fg2_normal=new BitmapData(3*c.width,c.height);this.fg2_blur=new BitmapData(3*c.width,c.height);g=c.rect;for(f=0;3>f;)d.x=c.width*f,this.fg2_normal.copyPixels(c,g,d),this.fg2_blur.copyPixels(b,g,d),f++;this.fg2=new Bitmap(this.fg2_normal);c.dispose();b.dispose();this.initY()}__class(a,"game.Ground",!0);var b=a.prototype;Laya.imps(b,{"interf.ISteper":!0});b.initY=function(){this.bg1.y=this.ylist[0];this.bg2.y=this.ylist[1];this.bg3.y=this.ylist[2];this.bg4.y=this.ylist[3];this.bg5.y=this.ylist[4];this.fg1.y=this.ylist[5];this.fg2.y=this.ylist[6]};b.bulr=function(){this.blur=!0;this.bg1.bitmapData=this.bg1_blur;this.bg2.bitmapData=this.bg2_blur;this.bg3.bitmapData=this.bg3_blur;this.bg4.bitmapData=this.bg4_blur;this.bg5.bitmapData=this.bg5_blur;this.fg1.bitmapData=this.fg1_blur;this.fg2.bitmapData=this.fg2_blur};b.normal=function(){this.blur&&(this.blur=!1,this.bg1.bitmapData=this.bg1_normal,this.bg2.bitmapData=this.bg2_normal,this.bg3.bitmapData=this.bg3_normal,this.bg4.bitmapData=this.bg4_normal,this.bg5.bitmapData=this.bg5_normal,this.fg1.bitmapData=this.fg1_normal,this.fg2.bitmapData=this.fg2_normal)};b.step=function(){this.updateX();this.updateY()};b.updateY=function(){0<=this.scene.dpoc.y?(this.bg1.y=this.ylist[0]+this.scene.dpoc.y/4,this.bg2.y=this.ylist[1]+this.scene.dpoc.y/4,this.bg3.y=this.ylist[2]+this.scene.dpoc.y/4,this.bg4.y=this.ylist[3]+this.scene.dpoc.y/2,this.bg5.y=this.ylist[4]+this.scene.dpoc.y/2,this.fg1.y=this.ylist[5]+this.scene.dpoc.y,this.fg2.y=this.ylist[6]+this.scene.dpoc.y):1==this.type&&(this.bg1.y=this.ylist[0]+this.scene.dpoc.y,this.bg2.y=this.ylist[1]+this.scene.dpoc.y,this.bg3.y=this.ylist[2]+this.scene.dpoc.y,this.bg4.y=this.ylist[3]+this.scene.dpoc.y,this.bg5.y=this.ylist[4]+this.scene.dpoc.y,this.fg1.y=this.ylist[5]+this.scene.dpoc.y,this.fg2.y=this.ylist[6]+this.scene.dpoc.y)};b.updateX=function(){var a=iflash.utils.getTimer();this.delay=(a-this.prevTime)/1E3;this.prevTime=a;this.auto||(this.delay=vo.frameDelay);this.bg1.x-=30*this.delay;this.bg1.x<800-this.bg1.width&&(this.bg1.x=0);this.bg2.x-=60*this.delay;this.bg2.x<800-this.bg2.width&&(this.bg2.x=0);this.bg3.x-=120*this.delay;this.bg3.x<800-this.bg3.width&&(this.bg3.x=0);this.bg4.x-=150*this.delay;-500>this.bg4.x&&(this.bg4.x=800);this.bg5.x-=180*this.delay;-400>this.bg5.x&&(this.bg5.x=-50);this.fg1.x-=400*this.delay;-522>this.fg1.x&&(this.fg1.x=0);this.fg2.x-=500*this.delay;-464>this.fg2.x&&(this.fg2.x=0)};b.sound=function(){5E3<vo.gameTime-this.prevTime&&(this.sound1playing||(this.sound1playing=!0),this.prevTime=vo.gameTime)};b.showAs=function(a){1==this.type?(a.addChild(this.bg1),a.addChild(this.bg2),a.addChild(this.bg3),a.addChild(this.bg4),a.addChild(this.bg5),a.addChild(this.fg1),a.addChild(this.fg2)):a.addChild(this.bg2)};b.startAlone=function(){this._e.addEventListener("enterFrame",__bind(this,this.stepAlone));this.prevTime=iflash.utils.getTimer();this.initY();this.normal()};b.stepAlone=function(a){this.updateX()};b.stopAlone=function(){this._e.removeEventListener("enterFrame",__bind(this,this.stepAlone))};__getset(0,b,"max",function(){return this._max});a.android=1;a.ios=2;__static(a,["BG1Bmp2",function(){return this.BG1Bmp2=Ground_BG1Bmp2},"BG2Bmp2",function(){return this.BG2Bmp2=Ground_BG2Bmp2},"BG3Bmp2",function(){return this.BG3Bmp2=Ground_BG3Bmp2},"Tree1Bmp2",function(){return this.Tree1Bmp2=Ground_Tree1Bmp2},"Tree2Bmp2",function(){return this.Tree2Bmp2=Ground_Tree2Bmp2},"GrassBmp2",function(){return this.GrassBmp2=Ground_GrassBmp2},"FlowerBmp2",function(){return this.FlowerBmp2=Ground_FlowerBmp2},"BG1Bmp",function(){return this.BG1Bmp=Ground_BG1Bmp},"BG2Bmp",function(){return this.BG2Bmp=Ground_BG2Bmp},"BG3Bmp",function(){return this.BG3Bmp=Ground_BG3Bmp},"Tree1Bmp",function(){return this.Tree1Bmp=Ground_Tree1Bmp},"Tree2Bmp",function(){return this.Tree2Bmp=Ground_Tree2Bmp},"GrassBmp",function(){return this.GrassBmp=Ground_GrassBmp},"FlowerBmp",function(){return this.FlowerBmp=Ground_FlowerBmp}]);return a}(),Help=function(){function a(a){this.retryStep=this.retryFunc=this.passFunc=this.nextStep=this.stepFunc=this.bitmap=this.startFunc=this.btnBack=this.engine=this.scene=this.panda=null;this.nextLock=!1;this.board=null;this.sceneLevel=0;this.bitmap=new Bitmap;this.startFunc=a}__class(a,"game.Help",!0);var b=a.prototype;Laya.imps(b,{"interf.ISteper":!0});b.showAs=function(c){this.bitmap.visible=!1;c.addChild(this.bitmap);var b=new Bitmap(new BitmapData(41,48,!0,0));b.bitmapData=a.src3;b.x=20;b.y=10;this.btnBack=new Sprite;this.btnBack.addChild(b);c.addChild(this.btnBack);this.btnBack.addEventListener("click",__bind(this,this.backHandler));this.btnBack.visible=!1};b.backHandler=function(a){this.btnBack.visible=!1;this.bitmap.visible=!1;this.panda.disctrl=!1;this.stepFunc=null;this.engine.stop();this.startFunc()};b.step=function(){null!=this.stepFunc&&this.stepFunc()};b.start=function(){a.init();this.step1();this.btnBack.visible=!0;this.bitmap.visible=!0;this.panda.disctrl=!0;this.bitmap.y=480-this.bitmap.height;this.bitmap.x=800-this.bitmap.width>>1};b.close=function(){this.bitmap.visible=!1};b.next=function(a){this.helping&&!this.nextLock&&this.nextStep()};b.step1=function(){this.nextLock=!1;this.bitmap.bitmapData=a.bmpds[3];this.stepFunc=this.auto_step1;this.nextStep=this.step2;this.board=this.panda.board;this.scene.updateForHelp(2)};b.auto_step1=function(){500>this.panda.board.rect.right-this.panda.rect.right&&this.panda.isRunning()&&this.engine.pause()};b.step2=function(){this.retryFunc=this.step2;this.bitmap.bitmapData=a.bmpds[4];this.retryStep=this.stepFunc=this.auto_step2;this.passFunc=this.pass_step2;this.nextStep=this.nextForYou;this.scene.updateForHelp(this.sceneLevel=2);this.board=null;this.nextLock=!0;this.engine.play()};b.auto_step2=function(){this.checkUnlock1();150>this.panda.board.rect.right-this.panda.rect.right&&this.panda.isRunning()&&this.panda.jump()};b.pass_step2=function(){null==this.board&&(this.board=this.panda.board);this.board!=this.panda.board&&this.goodJob(__bind(this,this.step3))};b.step3=function(){this.retryFunc=this.step3;this.bitmap.bitmapData=a.bmpds[5];this.retryStep=this.stepFunc=this.auto_step3;this.passFunc=this.pass_step3;this.nextStep=this.nextForYou;this.scene.updateForHelp(this.sceneLevel=3);this.board=null;this.nextLock=!0;this.engine.play()};b.auto_step3=function(){this.checkUnlock1();this.panda.willFly||(this.panda.isRunning()?100>this.panda.board.rect.right-this.panda.rect.right&&this.panda.jump():-150>this.panda.board.rect.right-this.panda.rect.right&&this.panda.somersault())};b.pass_step3=function(){null==this.board&&(this.board=this.panda.board);this.board!=this.panda.board&&this.goodJob(__bind(this,this.step4))};b.step4=function(){this.bitmap.bitmapData=a.bmpds[6];this.nextStep=this.step4_1};b.step4_1=function(){this.bitmap.bitmapData=a.bmpds[7];this.nextStep=this.step4_2};b.step4_2=function(){this.retryFunc=this.step4_2;this.bitmap.bitmapData=a.bmpds[8];this.retryStep=this.stepFunc=this.auto_step4;this.passFunc=this.pass_step4;this.nextStep=this.nextForYou;this.scene.updateForHelp(this.sceneLevel=4);this.board=null;this.nextLock=!0;this.panda.sp=1E3;this.engine.play()};b.auto_step4=function(){this.checkUnlock1();this.panda.isRunning()?100>this.panda.board.rect.right-this.panda.rect.right&&this.panda.jump():1E3<this.panda.rect.x-this.panda.board.rect.right?this.panda.unfly():500<this.panda.rect.x-this.panda.board.rect.right?this.panda.willFly&&this.panda.fly():150<this.panda.rect.x-this.panda.board.rect.right&&(this.panda.willFly||this.panda.somersault())};b.pass_step4=function(){null==this.board&&(this.board=this.panda.board);this.board!=this.panda.board&&this.goodJob(__bind(this,this.step5))};b.step5=function(){this.bitmap.bitmapData=a.bmpds[9];this.nextStep=this.step5_1};b.step5_1=function(){this.retryFunc=this.step5_1;this.bitmap.bitmapData=a.bmpds[10];this.nextStep=this.nextForYou;this.retryStep=this.stepFunc=this.auto_step5;this.passFunc=this.pass_step5;this.scene.updateForHelp(this.sceneLevel=5);this.board=null;this.nextLock=!0;this.panda.numShoots=3;this.engine.play()};b.auto_step5=function(){this.checkUnlock1();180>this.panda.board.rect.right-this.panda.rect.right&&this.panda.isRunning()&&(this.board=this.panda.board,this.panda.jump());null!=this.panda.board.enemy&&500>this.panda.board.enemy.rect.x-this.panda.rect.right&&(this.panda.shooting||this.panda.shoot())};b.pass_step5=function(){this.panda.board.enemy.rect.x>this.panda.rect.x&&this.panda.board.enemy.isBruised&&this.congratulation()};b.congratulation=function(){this.bitmap.bitmapData=a.bmpds[11];this.nextStep=this.quit;this.stepFunc=this.autoStep;this.panda.disctrl=!0};b.autoStep=function(){180>this.panda.board.rect.right-this.panda.rect.right&&this.panda.isRunning()&&(this.board=this.panda.board,this.panda.jump());null!=this.panda.board.enemy&&!this.panda.board.enemy.isBruised&&500>this.panda.board.enemy.rect.x-this.panda.rect.right&&(this.panda.shooting||this.panda.shoot())};b.quit=function(){null!=this.bitmap.stage&&this.bitmap.stage.removeEventListener("mouseUp",__bind(this,this.next));this.bitmap.visible=!1;this.panda.disctrl=!1;this.stepFunc=null;this.engine.stop();this.startFunc()};b.nextForYou=function(){this.bitmap.bitmapData=a.bmpds[0];this.stepFunc=null;this.nextStep=this.ctrlForYou};b.ctrlForYou=function(){this.bitmap.bitmapData=null;this.panda.disctrl=!1;this.stepFunc=this.passFunc;this.board=null;this.engine.play()};b.goodJob=function(c){this.bitmap.bitmapData=a.bmpds[1];this.nextStep=c;this.stepFunc=this.goodJobStep;this.nextLock=this.panda.disctrl=!0};b.goodJobStep=function(){this.checkUnlock1()};b.checkUnlock1=function(){null==this.board&&(this.board=this.panda.board);1E3<this.panda.rect.x-this.panda.board.rect.x&&this.board!=this.panda.board&&(this.engine.pause(),this.nextLock=!1,this.board=null)};b.retry=function(){this.bitmap.bitmapData=a.bmpds[2];this.nextStep=this.stepAgain;this.nextLock=!1};b.stepAgain=function(){this.bitmap.bitmapData=null;this.retryFunc();this.engine.start();this.panda.start();this.nextLock=this.panda.disctrl=!0};__getset(0,b,"helping",function(){return this.bitmap.visible});a.init=function(){for(var c=null,b=(new a.HelpBmp1).bitmapData,g=(new a.HelpBmp2).bitmapData,d=new Rectangle(0,0,b.width,b.height/6),f=new Point,h=0;6>h;)c=new BitmapData(d.width,d.height),d.y=d.height*h,c.copyPixels(b,d,f),a.bmpds[h]=c,c=new BitmapData(d.width,d.height),c.copyPixels(g,d,f),a.bmpds[h+6]=c,h++;b.dispose();g.dispose()};__static(a,["HelpBmp1",function(){return this.HelpBmp1=Help_HelpBmp1},"HelpBmp2",function(){return this.HelpBmp2=Help_HelpBmp2},"BtnBackBmp",function(){return this.BtnBackBmp=Help_BtnBackBmp},"src3",function(){return this.src3=(new a.BtnBackBmp).bitmapData},"bmpds",function(){return this.bmpds=__newvec(12,null)}]);return a}(),Panda=function(){function a(){this.numBamboo=0;this.numShoots=3;this.strongFast=-1E4;this.strongJump=-5E3;this.mallShoots=0;this.numMilk=3;this.numAmulet=0;this.sp=1E3;this.consumption=0;this.physicsHiter=this.scene=this.ground=this.data=this.sound1=this.shoots=this.food=this.enemy=this.board=null;this._max=1;this.nearMiss=!1;this.startX=0;this.prev=null;this.acc=2E3;this.shakePre=NaN;this.shaking=!1;this.shakeY=NaN;this.xacc=200;this.xsc=500;this.xasc=800;this.fasting=!1;this.eatShoots=this.eatBamboo=this._lastTx=0;this.bruising=!1;this.cacheUpdateFrame=null;this.lockCtrlTime=0;this.bombing=!1;this.smoke=null;this.somersaulting=!1;this.numHits=0;this._disctrl=!1;this.leftEnemy=null;this.a_down=!1;this.updateBitmapData=this.frameBmpds=null;this.startTime=0;this.flyEffBmp=this.fastEff=null;this.rect=new Rectangle(0,0,79,92);this.speed=new Point(500,0);this.dpo=new Bitmap;this.physicsHiter=this.runHiter;this.prev=new Point;this.updateBitmapData=this.runFrame;this.fastEff=new Bitmap;this.flyEffBmp=new Bitmap}__class(a,"game.Panda",!0);var b=a.prototype;Laya.imps(b,{"interf.IGameElm":!0});b.allStep=function(){this.step()};b.init=function(c,b,g,d,f,h){this.board=c;this.food=b;this.enemy=g;this.shoots=d;this.ground=f;this.scene=h;this.dpo.bitmapData=a.runBmpds[0];this.dpo.visible=!1};b.start=function(){this.dpo.visible=!0;this.dpo.y=this.rect.y=this.board.rect.y-this.rect.height;this.dpo.x=this.startX=this.rect.x=this.board.rect.x;this.somersaulting=!1;this.physicsHiter=this.runHiter;this.updateBitmapData=this.runFrame;this.sp=1E3;this.strongFast=-1E4;this.strongJump=-5E3;this.lockCtrlTime=-500;this.eatShoots=this.eatBamboo=this.numHits=0;this.bruising=this.bombing=this.a_down=this.shaking=this.nearMiss=!1;this.speed.y=0;this.speed.x=this.xsc};b.showAs=function(a){a.addChild(this.dpo);a.addChild(this.flyEffBmp);a.addChild(this.fastEff)};b.step=function(){this.running();this.physicsHiter();this.foodHiter();this.enemyHiter();this.updateView();this.effView()};b.shake=function(){this.shaking=!0;this.shakePre=0;this.shakeY=this.rect.y};b.running=function(){if(!this.bombing){(this.fasting=1E4>vo.gameTime-this.strongFast)||this.ground.normal();var a=this.fasting?this.xasc:this.xsc,a=a+20*int(vo.gameTime/2E4);a<this.speed.x?(this.speed.x-=this.xacc*vo.frameDelay,a>this.speed.x&&(this.speed.x=a)):this.speed.x=a;this.prev.x=this.rect.x;this.rect.x=this.prev.x+vo.frameDelay*this.speed.x;a!=this._lastTx&&(this._lastTx=a,this.scene.speedUp(this.rect.x+500))}};b.runHiter=function(){1E3>this.sp&&(this.sp+=50*vo.frameDelay,1E3<this.sp&&(this.sp=1E3));this.rect.x>this.board.rect.right?this.physicsHiter=this.fallHiter:this.shaking&&(this.shakePre<Math.PI?(this.shakePre=Math.min(Math.PI,this.shakePre+.35),this.rect.y=this.shakeY+15*Math.sin(this.shakePre)):this.shaking=!1)};b.fallHiter=function(){this.falling();this.flyDetector();this.boardHiter();this.autoItems()};b.flyHiter=function(){if(0<this.sp)if(this.sp+=-200*vo.frameDelay,0>this.sp)this.sp=0,this.sound1.stopFlySound(),this.physicsHiter=this.fallHiter;else{var a=0;5E3>vo.gameTime-this.strongJump&&(a=-50);this.speed.y==a-250?(this.rect.y=this.prev.y+this.speed.y*vo.frameDelay,this.prev.y=this.rect.y):(this.speed.y-=100,this.speed.y<a-250?(this.speed.y=a-250,this.flyHiter()):(this.falling(),this.boardHiter()))}else this.sound1.stopFlySound(),this.physicsHiter=this.fallHiter};b.falling=function(){this.prev.y=this.rect.y;this.speed.y+=this.acc*vo.frameDelay;this.rect.y=this.prev.y+this.speed.y*vo.frameDelay};b.boardHiter=function(){for(var a=0;5>a;){if(this.rect.bottom>this.board.rect.top&&this.prev.y+this.rect.height<=this.board.rect.top&&this.rect.right>this.board.rect.left&&this.rect.left<this.board.rect.right)return this.stand();this.board=this.board.next;a++}};b.foodHiter=function(){for(var a=0;10>a;){if(!this.food.isEated&&this.rect.intersects(this.food.rect))return this.eating();this.food=this.food.next;a++}};b.enemyHiter=function(){for(var a=0;3>a;){if(!this.enemy.isBruised&&this.rect.intersects(this.enemy.rect))return this.bruise();this.enemy=this.enemy.next;a++}};b.eating=function(){this.food.eat();switch(this.food.type){case 0:this.numBamboo++;this.eatBamboo++;break;case 1:this.numShoots++;this.eatShoots++;break;case 2:this.sp=Math.min(this.sp+200,1E3);break;case 3:this.strongFast=vo.gameTime;this.blur();break;case 4:this.strongJump=vo.gameTime}};b.blur=function(){this.ground.bulr()};b.bruise=function(){this.enemy.bruise();switch(this.enemy.type){case 0:case 1:this.bruise2();break;case 2:this.bomb()}};b.bruise2=function(){100<this.sp&&(this.sp=100);this.bruising=!0;this.lockCtrlTime=this.startTime=vo.gameTime;this.cacheUpdateFrame=this.updateBitmapData;this.updateBitmapData=this.bruiseFrame};b.bomb=function(){this.bombing=1>this.numAmulet;1>this.numAmulet?(this.startTime=vo.gameTime,this.speed.y=-500,this.physicsHiter=this.falling,this.updateBitmapData=this.bombFrame):(this.data.amulet=--this.numAmulet,this.data.save())};b.isRunning=function(){return this.physicsHiter==this.runHiter};b.isFalling=function(){return this.physicsHiter==this.fallHiter};b.stand=function(){this.physicsHiter=this.runHiter;this.somersaulting=!1;this.updateBitmapData==this.bruiseFrame?this.cacheUpdateFrame=this.runFrame:1E3<this.speed.y?(this.startTime=vo.gameTime,this.updateBitmapData=this.rollFrame):this.updateBitmapData=this.runFrame;this.speed.y=0;this.rect.y=this.board.rect.y-this.rect.height;this.shake();this.board.shake();a.standSound.play()};b.jump=function(){a.jumpSound.play();var c=0;5E3>vo.gameTime-this.strongJump&&(c=-200);this.physicsHiter=this.fallHiter;this.speed.y=c-880;this.startTime=vo.gameTime;this.updateBitmapData=this.jumpFrame;this.smoke.show(this.rect.x,this.rect.bottom)};b.somersault=function(){a.jumpSound.play();var c=0;5E3>vo.gameTime-this.strongJump&&(c=-200);this.speed.y=c-800;this.startTime=vo.gameTime;this.somersaulting=!0;this.updateBitmapData=this.somersaultFrame};b.flyDetector=function(){this.a_down&&this.somersaulting&&600<vo.gameTime-this.startTime&&this.fly()};b.fly=function(){0<this.sp?(this.sound1.playFlySound(),this.physicsHiter=this.flyHiter,this.updateBitmapData=this.flyFrame):this.sound1.stopFlySound()};b.unfly=function(){this.sound1.stopFlySound();this.physicsHiter=this.fallHiter};b.autoItems=function(){50>this.sp&&0<this.numMilk&&(this.sp+=500,this.data.milk=--this.numMilk,this.data.save())};b.shoot=function(){for(var a=0;3>a;){if(this.enemy.rect.x>this.rect.x){this.shoots.start(this,this.enemy);this.shoots=this.shoots.next;this.numHits++;return}this.enemy=this.enemy.next;a++}this.shoots.start(this);this.shoots=this.shoots.next};b.a=function(){this.disctrl||(this.a_down=!0,this.physicsHiter==this.runHiter?this.jump():this.somersaulting?this.fly():this.somersault())};b.b=function(){!this.disctrl&&0<this.numShoots&&(this.numShoots--,this.shoot())};b.ca=function(){this.a_down=!1;this.physicsHiter==this.flyHiter&&this.unfly()};b.cb=function(){};b.updateView=function(){this.updateBitmapData();this.dpo.x=this.rect.x;this.dpo.y=this.rect.y};b.runFrame=function(){this.dpo.bitmapData=(this.fasting?a.fastBmpds:a.runBmpds)[int(vo.gameTime/50)%8]};b.jumpFrame=function(){var c=(vo.gameTime-this.startTime)/83.3,c=Math.max(0,Math.min(int(c),7));this.dpo.bitmapData=a.jumpBmpds[c]};b.somersaultFrame=function(){this.dpo.bitmapData=a.somersaultBmpds[Math.min(int((vo.gameTime-this.startTime)/83.3),7)]};b.flyFrame=function(){this.dpo.bitmapData=a.flyBmpds[int(vo.gameTime/25)%8]};b.rollFrame=function(){var c=(vo.gameTime-this.startTime)/83.3;this.dpo.bitmapData=a.rollBmpds[Math.min(int(c),7)];7<c&&(this.updateBitmapData=this.runFrame)};b.bombFrame=function(){this.dpo.bitmapData=a.bombBmpds[Math.min(int((vo.gameTime-this.startTime)/83.3),7)]};b.bruiseFrame=function(){var c=(vo.gameTime-this.startTime)/50;this.dpo.bitmapData=a.bruiseBmpds[Math.min(int(c),7)];7<c&&(this.updateBitmapData=this.cacheUpdateFrame)};b.effView=function(){var c=int(vo.gameTime/83.3)%4;this.fastEff.bitmapData=a.speedEffBmpds[int(c)];this.fastEff.x=this.rect.x-30;this.fastEff.y=this.rect.y;this.fastEff.visible=this.fasting;this.flyEffBmp.bitmapData=a.flyEffBmpds[int(vo.gameTime/83.3)%4];this.flyEffBmp.x=this.rect.x-10;this.flyEffBmp.y=this.rect.y+4;this.flyEffBmp.visible=this.updateBitmapData==this.flyFrame};b.over=function(){};__getset(0,b,"isGongfu",function(){return this.updateBitmapData==this.flyFrame});__getset(0,b,"max",function(){return this._max});__getset(0,b,"runningDistance",function(){return(this.rect.x-this.startX)/50});__getset(0,b,"willFly",function(){return this.somersaulting});__getset(0,b,"flying",function(){return this.physicsHiter==this.flyHiter});__getset(0,b,"shooting",function(){for(var a=this.shoots,b=0;10>b;){if(a.running)return!0;a=a.next;b++}return!1});__getset(0,b,"disctrl",function(){return this._disctrl||this.bombing||vo.gameTime<this.lockCtrlTime+350},function(a){this._disctrl=a});a.init=function(){var c=null,b=0,g=(new a.PandaBmp).bitmapData;a.runBmpds=[];a.jumpBmpds=[];a.somersaultBmpds=[];a.flyBmpds=[];a.bombBmpds=[];a.rollBmpds=[];a.speedEffBmpds=[];a.flyEffBmpds=[];a.bruiseBmpds=[];a.fastBmpds=[];var d=new Rectangle(0,0,79,93),f=new Point;d.width=99;d.height=84;for(b=0;4>b;)d.x=d.width*b,c=new BitmapData(99,84),c.copyPixels(a.flyEffSrc,d,f),a.flyEffBmpds.push(c),b++;d.width=79;d.height=93;for(b=0;4>b;)d.x=d.width*b,c=new BitmapData(d.width,d.height),c.copyPixels(a.speedEffSrc,d,f),a.speedEffBmpds.push(c),b++;for(b=0;8>b;)c=new BitmapData(d.width,d.height),d.x=d.width*b,c.copyPixels(g,d,f),a.runBmpds.push(c),b++;d.y=d.height;for(b=0;8>b;)c=new BitmapData(d.width,d.height),d.x=d.width*b,c.copyPixels(g,d,f),a.jumpBmpds.push(c),b++;d.y=2*d.height;for(b=0;8>b;)c=new BitmapData(d.width,d.height),d.x=d.width*b,c.copyPixels(g,d,f),a.somersaultBmpds.push(c),b++;d.y=3*d.height;for(b=0;8>b;)c=new BitmapData(d.width,d.height),d.x=d.width*b,c.copyPixels(g,d,f),a.flyBmpds.push(c),b++;d.y=4*d.height;for(b=0;8>b;)c=new BitmapData(d.width,d.height),d.x=d.width*b,c.copyPixels(g,d,f),a.bombBmpds.push(c),b++;d.y=5*d.height;for(b=0;8>b;)c=new BitmapData(d.width,d.height),d.x=d.width*b,c.copyPixels(g,d,f),a.rollBmpds.push(c),b++;d.y=6*d.height;for(b=0;8>b;)c=new BitmapData(d.width,d.height),d.x=d.width*b,c.copyPixels(g,d,f),a.bruiseBmpds.push(c),b++;d.y=7*d.height;for(b=0;8>b;)c=new BitmapData(d.width,d.height),d.x=d.width*b,c.copyPixels(g,d,f),a.fastBmpds.push(c),b++;g.dispose()};a.sp=1E3;a.runBmpds=null;a.jumpBmpds=null;a.somersaultBmpds=null;a.flyBmpds=null;a.bombBmpds=null;a.rollBmpds=null;a.speedEffBmpds=null;a.flyEffBmpds=null;a.bruiseBmpds=null;a.fastBmpds=null;__static(a,["PandaBmp",function(){return this.PandaBmp=Panda_PandaBmp},"SpeedEffBmp",function(){return this.SpeedEffBmp=Panda_SpeedEffBmp},"speedEffSrc",function(){return this.speedEffSrc=(new a.SpeedEffBmp).bitmapData},"FlyEffBmp",function(){return this.FlyEffBmp=Panda_FlyEffBmp},"flyEffSrc",function(){return this.flyEffSrc=(new a.FlyEffBmp).bitmapData},"standSound",function(){return this.standSound=new DownSound},"jumpSound",function(){return this.jumpSound=new JumpSound},"flySound",function(){return this.flySound=new FlySound}]);return a}(),Scene1=function(){function a(){this.food=this.board=this.enemy=this.panda=null;this.width=800;this.height=480;this.updateBroad=null;this._max=1;this.bmpc=null;this.dpoc=new Sprite}__class(a,"game.Scene",!0,null,"Scene1");var b=a.prototype;Laya.imps(b,{"interf.ISteper":!0});b.step=function(){80>this.panda.rect.y?this.dpoc.y=80-this.panda.rect.y:325<this.panda.rect.y?(this.dpoc.y=325-this.panda.rect.y,-185>this.dpoc.y&&(this.dpoc.y=-185)):this.dpoc.y=0;180<this.panda.rect.x&&(this.dpoc.x=180-this.panda.rect.x);this.updateBroad()};b.nextBoard=function(){this.board.next.reset(this.board.right,10);return this.board=this.board.next};b.nextBoardForHelp=function(){this.board.next.resetForHelp(this.board.right,this.board.rect.x);return this.board=this.board.next};b.updateBroadForRandom=function(){var a=0,b=a=a=0;this.board.rect.right<this.right&&(a=int(12*Math.random())+1,this.board.next.reset(this.board.right,a),this.board=this.board.next,Math.random()<.1+vo.gameTime/3E5?(a=this.board.rect.x+int(Math.random()*(this.board.rect.width-this.enemy.rect.width)),this.enemy.next.reset(a,this.board.rect.y),this.enemy=this.enemy.next,this.panda.leftEnemy=this.enemy.next,this.board.enemy=this.enemy):this.board.enemy=null);this.food.rect.right<this.right&&(a=this.food.rect.x+100+50*int(8*Math.random()),b=50*int(3*Math.random()),this.food.next.reset(a,this.board.rect.y-100-b),this.food=this.food.next)};b.updateBroadForEasy=function(){};b.normalUpdate=function(){this.updateBroad=this.updateBroadForRandom};b.updateForHelp=function(a){1>a||10<a||(this.updateBroad=this["updateBroadForHelp_"+a])};b.updateBroadForHelp_1=function(){this.board.rect.right<this.right&&(this.board.next.resetForHelp(this.board.rect.right,this.board.rect.y),this.board=this.board.next,this.board.enemy=null)};b.updateBroadForHelp_2=function(){this.board.rect.right<this.right&&(this.board.next.resetForHelp(this.board.rect.right+150,this.board.rect.y),this.board=this.board.next,this.board.enemy=null)};b.updateBroadForHelp_3=function(){this.board.rect.right<this.right&&(this.board.next.resetForHelp(this.board.rect.right+500,this.board.rect.y),this.board=this.board.next,this.board.enemy=null)};b.updateBroadForHelp_4=function(){this.board.rect.right<this.right&&(this.board.next.resetForHelp(this.board.rect.right+1E3,this.board.rect.y),this.board=this.board.next,this.board.enemy=null)};b.updateBroadForHelp_5=function(){this.board.rect.right<this.right&&(this.board.next.resetForHelp(this.board.rect.right+150,this.board.rect.y),this.board=this.board.next,this.enemy.next.resetForHelp(this.board.rect.x,this.board.rect.y),this.enemy=this.enemy.next,this.panda.leftEnemy=this.enemy.next,this.board.enemy=this.enemy)};b.buildSpdUpBmp=function(){this.bmpc=new BitmapClip(a.spdUpBmpd,4,7,32)};b.speedUp=function(a){this.bmpc.y=155;this.bmpc.x=a;this.bmpc.playOnce();this.dpoc.addChild(this.bmpc)};__getset(0,b,"max",function(){return this._max});__getset(0,b,"right",function(){return 800-this.dpoc.x});__static(a,["SpdUpBmp",function(){return this.SpdUpBmp=Scene_SpdUpBmp},"spdUpBmpd",function(){return this.spdUpBmpd=(new a.SpdUpBmp).bitmapData}]);return a}(),Shoots=function(){function a(c){this._max=1;this.target=this.panda=this._next=null;this.acc=2E3;this.running=!1;this.enemy=null;this.dpo=new Bitmap(Food.shootsBmpd);this.rect=new Rectangle(0,0,52,52);this.speed_conf=new Point(350,-600);this.speed=new Point;void 0===c&&(c=1);var b=null;this._max=c;if(0<c){for(b=this;0<--c;)b._next=new a,b=b._next;b._next=this}this.dpo.visible=!1}__class(a,"game.Shoots",!0);var b=a.prototype;Laya.imps(b,{"interf.ISteper":!0});b.start=function(a,b){var g=NaN;this.panda=a;this.target=b;this.running=this.dpo.visible=!0;this.dpo.rotation=0;this.speed.x=this.panda.speed.x+this.speed_conf.x;this.rect.x=this.dpo.x=a.rect.x;this.rect.y=this.dpo.y=a.rect.y;null!=b?(g=(b.rect.x-a.rect.x)/this.speed.x,this.speed.y=(b.rect.y-a.rect.y-.5*this.acc*g*g)/g):this.speed.y=this.panda.speed.y+this.speed_conf.y};b.step=function(){for(var a=this,b=0;b<this._max;)a.running&&a.physics(),a=a.next,b++};b.physics=function(){this.speed.y+=vo.frameDelay*this.acc;this.dpo.y=this.rect.y+=this.speed.y*vo.frameDelay;this.dpo.x=this.rect.x+=this.speed.x*vo.frameDelay;this.dpo.rotation+=180*vo.frameDelay;for(var a=0;3>a;){if(600<this.rect.y){this.running=!1;break}if(this.rect.intersects(this.enemy.rect)&&!this.enemy.isBruised){this.running=this.dpo.visible=!1;this.enemy.clear();break}this.enemy=this.enemy.next;a++}};b.showAs=function(a){a.addChild(this.dpo)};__getset(0,b,"max",function(){return this._max});__getset(0,b,"next",function(){return this._next});return a}(),Smoke=function(){function a(c,b){this._next=null;this._max=0;this.dpo=null;this.startTime=0;this.running=!1;this.a=0;void 0===c&&(c=1);void 0===b&&(b=!0);var g=null;this.dpo=new Bitmap(a.src);this._max=c;if(b){for(g=this;0<--c;)g._next=new a(c,!1),g=g._next;g._next=this}}__class(a,"game.Smoke",!0);var b=a.prototype;Laya.imps(b,{"interf.ISteper":!0});b.showAs=function(a){this.dpo.visible=!1;a.addChild(this.dpo)};b.show=function(c,b){this.startTime=vo.gameTime;this.dpo.bitmapData=a.frame[0];this.dpo.x=c-50;this.dpo.y=b-this.dpo.height;this.dpo.visible=!0};b.step=function(){for(var c=0,b=this,g=0;g<this._max;)b.dpo.visible&&(c=int((vo.gameTime-b.startTime)/50),3<c?b.dpo.visible=!1:b.dpo.bitmapData=a.frame[c]),b=b._next,g++};__getset(0,b,"next",function(){return this._next});__getset(0,b,"max",function(){return this._max});a.init=function(){for(var c=null,b=new Rectangle(0,0,93,24),g=new Point,d=0;5>d;)c=new BitmapData(b.width,b.height),b.x=b.width*d,c.copyPixels(a.src,b,g),a.frame.push(c),d++};a.frame=[];__static(a,["BoardBmp",function(){return this.BoardBmp=Smoke_BoardBmp},"src",function(){return this.src=(new a.BoardBmp).bitmapData}]);return a}(),FpsGame=function(){function a(a,b){this._pauseTime=this._pauseTotal=this._startTime=0;this._isPause=this._playing=!1;this._delay=this._current=this._overTime=0;this.ctrl=this.steper=null;this._e=new Shape;this.steper=a;this.ctrl=b}__class(a,"interf.FpsGame",!0);var b=a.prototype;b.step=function(a){a=iflash.utils.getTimer()-this._startTime-this._pauseTotal;this._delay=a-this._current;this._current=a;this.steper.step()};b.start=function(){this._e.addEventListener("enterFrame",__bind(this,this.step));this._current=this._pauseTime=this._pauseTotal=0;this._startTime=iflash.utils.getTimer();this._isPause=!1;this._playing=!0;this.ctrl.ctrlStart()};b.pause=function(){this._playing&&!this._isPause&&(this._isPause=!0,this._e.removeEventListener("enterFrame",__bind(this,this.step)),this._pauseTime=iflash.utils.getTimer(),this.ctrl.ctrlPause())};b.play=function(){this._playing&&this._isPause&&(this._isPause=!1,this._e.addEventListener("enterFrame",__bind(this,this.step)),this._pauseTotal+=iflash.utils.getTimer()-this._pauseTime,this.ctrl.ctrlStart())};b.stop=function(){this._e.removeEventListener("enterFrame",__bind(this,this.step));this._overTime=iflash.utils.getTimer();this.ctrl.ctrlPause();this._playing=!1};__getset(0,b,"currTime",function(){return this._current});__getset(0,b,"delay",function(){return this._delay});__getset(0,b,"pausing",function(){return this._isPause});return a}(),NameUtil=function(){function a(){}__class(a,"mx.utils.NameUtil",!0);a.createUniqueName=function(b){if(!b)return null;b=iflash.utils.getQualifiedClassName(b);var c=b.indexOf("::");-1!=c&&(b=b.substr(c+2));c=b.charCodeAt(b.length-1);48<=c&&57>=c&&(b+="_");return b+a.counter++};a.displayObjectToString=function(a){var c=null,e=null,g=null,d=null;try{for(e=a;!(null==e||e.parent&&e.stage&&e.parent==e.stage);)g="id"in e&&e.id?e.id:e.name,Laya.__typeof(e,"mx.core.IRepeaterClient")&&(d=e.instanceIndices)&&(g+="["+d.join("][")+"]"),c=null==c?g:g+"."+c,e=e.parent}catch(f){}return c};a.getUnqualifiedClassName=function(a){var c=null,c="string"==typeof a?a:iflash.utils.getQualifiedClassName(a);a=c.indexOf("::");-1!=a&&(c=c.substr(a+2));return c};a.VERSION="4.5.1.21328";a.counter=0;a.__init$=function(){};return a}(),AdBox=function(){function a(a,b,g,d){this.tf=this.sprite=this.projId=null;this.bottom=!1;this.width=0;this.height=50;this._sysInfo=null;this._startAppTime=NaN;this.currMsg=this.list=this.depot=null;this.urlLoader=new URLLoader;this.urlRequest=new URLRequest;this.local=SharedObject.getLocal("AdBox_v1.0");this._serverDate=new Date;void 0===g&&(g=!1);void 0===d&&(d="http://www.9ria.com/m");this.sprite=new Sprite;this.tf=new TextField;this.depot=new Dictionary;this.list=[];this.projId=a;this.bottom=g;this.viewInit(b);this.connInit(d);this.listenerInit()}__class(a,"tdh.adsys.AdBox",!0);var b=a.prototype;b.viewInit=function(a){this.tf.autoSize="center";this.tf.selectable=this.sprite.visible=!1;this.tf.defaultTextFormat=new TextFormat(null,32,16777215);this.sprite.addEventListener("click",__bind(this,this.toUrl));null!=a&&this.showAs(a)};b.showAs=function(a){a.addChild(this.sprite);null!=a.stage&&(this.sprite.graphics.clear(),this.width=a.stage.stageWidth,this.sprite.graphics.beginFill(0,.5),this.sprite.graphics.drawRect(0,0,this.width,this.height),this.sprite.addChild(this.tf),this.bottom&&(this.sprite.y=a.stage.stageHeight-this.height))};b.connInit=function(a){};b.connComplete=function(a){var b=null,g=null,g=g=NaN,g=g=g=0,g=g=null;a=new XML(this.urlLoader.data);this._startAppTime=1E3*Number(a.getAttribute("date"))-iflash.utils.getTimer();var b=a.getAttribute("macId"),d=a.txt.length();MacInfo._get(this.projId).id=b;for(var f=0;f<d;)g=String(a.txt[f].getAttribute("id")),b=this.depot[g]=this.depot[g]||new AdMsg,b.id=g,""!=b.id&&(g=1E3*Number(a.txt[f].getAttribute("date")),0!=g?b.start=new Date(g):null==b.start&&(b.start=new Date(this._startAppTime)),g=1E3*Number(a.txt[f].getAttribute("past")),0!=g&&(b.past=new Date(g)),g=1E3*int(a.txt[f].getAttribute("delay")),0<g&&(b.delay=g),g=int(a.txt[f].getAttribute("loop")),0!=g&&(b.loop=g),g=1E3*int(a.txt[f].getAttribute("time")),0!=g&&(b.time=g),g=a.txt[f],""!=g&&(b.text=g),g=String(a.txt[f].getAttribute("url")),""!=g&&(b.url=g)),f++};b.toUrl=function(a){null!=this.currMsg&&-1!=this.currMsg.url.indexOf("http://")&&(this.urlRequest.data=null,this.urlRequest.url=this.currMsg.url,this.urlRequest)};b.listenerInit=function(){this.sprite.addEventListener("enterFrame",__bind(this,this.listener))};b.listener=function(a){a=null;this._serverDate.time=this._startAppTime+iflash.utils.getTimer();for(var b in this.depot)a=this.depot[b],a.start<this._serverDate&&(delete this.depot[a.id],!0,this.list.unshift(a),this.currMsg=a,this.text=this.currMsg.text,this.sprite.visible=!0);null==this.currMsg?0<this.list.length&&this.list[0].start<this._serverDate&&(this.currMsg=this.list[0],this.text=this.currMsg.text,this.sprite.visible=!0):this.currMsg.start.time+this.currMsg.time<this._serverDate.time&&(this.sprite.visible=!1,0<--this.currMsg.loop&&this.list.push(this.currMsg),this.list.shift(),0<this.list.length&&(this.list[0].start.time=this._serverDate.time+this.list[0].delay),this.currMsg=null)};__getset(0,b,"serverDate",function(){return this._serverDate});__getset(0,b,"text",null,function(a){this.tf.htmlText=a;this.tf.x=this.width-this.tf.width>>1;this.tf.y=this.height-this.tf.height>>1});return a}(),AdMsg=function(){function a(){this.past=this.start=this.id=null;this.time=1E4;this.loop=0;this.delay=2E4;this.url=this.text="";this.loop=uint(-1)}__class(a,"tdh.adsys.AdMsg",!0);return a}(),MacInfo=function(){function a(){this.so=null}__class(a,"tdh.adsys.MacInfo",!0);__getset(0,a.prototype,"id",function(){return this.so.data.macId},function(a){this.so.setProperty("macId",a)});a._get=function(b){var c=a.mem[b]=a.mem[b]||new a;null==c.so&&(c.so=SharedObject.getLocal(b));return c};__static(a,["mem",function(){return this.mem=new Dictionary}]);return a}(),BitmapInt=function(){function a(a){this.cache=this.src=null;this._height=this._width=0;this.reference=!0;this.autoWH=!1;this._value=0;this._useSPrite=!1;this.sprite=new Sprite;this.bitmap=new Bitmap;this.cache=[];this.bitmapData=a}__class(a,"tdh.utils.BitmapInt",!0);var b=a.prototype;b.clearSrc=function(){this.src.dispose();for(var a=0;9>a;)this.cache[a].dispose(),a++};b.showAs=function(a,b){void 0===b&&(b=!1);(this._useSPrite=b)?(this.sprite.addChild(this.bitmap),a.addChild(this.sprite)):a.addChild(this.bitmap)};__getset(0,b,"bitmapData",null,function(a){var b=0;if(null!=a)for(this.src=this.reference?a:a.clone(),this._width=this.src.width/10,this._height=this.src.height,b=1;10>b;)this.cache.push(new BitmapData(this._width*b,this._height)),b++});__getset(0,b,"value",function(){return this._value},function(a){var b=null,g=null,d=0,f=0,h=f=0;if(this._value!=a){if(null!=this.src){b=new Rectangle(0,0,this._width,this._height);g=new Point;if(0==a){this.bitmap.bitmapData=this.cache[0];this.bitmap.bitmapData.copyPixels(this.src,b,g);this._value=a;return}for(d=10;0<d;){f=Math.pow(10,d-1);if(a>=f){h=d;this.bitmap.bitmapData=this.cache[d-1];break}d--}for(;-1<--d;)f=Math.pow(10,d),f=int(a/f%10),g.x=(h-d-1)*this._width,b.x=f*this._width,this.bitmap.bitmapData.copyPixels(this.src,b,g)}this._value=a}});__getset(0,b,"x",function(){return this._useSPrite?this.sprite.x:this.bitmap.x},function(a){this._useSPrite?this.sprite.x=a:this.bitmap.x=a});__getset(0,b,"y",function(){return this._useSPrite?this.sprite.y:this.bitmap.y},function(a){this._useSPrite?this.sprite.y=a:this.bitmap.y=a});__getset(0,b,"width",function(){return this.bitmap.width});__getset(0,b,"visible",function(){return this._useSPrite?this.sprite.visible:this.bitmap.visible},function(a){this.bitmap.visible=this.sprite.visible=a});return a}(),About=function(){function a(a){this.startFunc=null;this.dpo=new Bitmap;this.startArea=new Sprite;this.startArea.addChild(new Bitmap(GameUI.btnAreaSrc2));this.startFunc=a;this.visible=!1}__class(a,"ui.About",!0);var b=a.prototype;b.showAs=function(a){a.addChild(this.dpo);a.addChild(this.startArea);this.startArea.y=394;this.startArea.x=31;this.startArea.alpha=0;this.startArea.addEventListener("mouseDown",__bind(this,this.mosueDown));this.startArea.addEventListener("mouseUp",__bind(this,this.start))};b.mosueDown=function(a){a.target.alpha=.3};b.start=function(a){this.dpo.visible=!1;this.startArea.alpha=0;this.startArea.visible=!1;this.startFunc()};__getset(0,b,"visible",null,function(c){(this.startArea.visible=this.dpo.visible=c)?(this.dpo.bitmapData=(new GameUI.Panel).bitmapData,this.dpo.bitmapData.copyPixels((new a.AboutBmp).bitmapData,new Rectangle(0,0,800,480),new Point,null,null,!0)):null!=this.dpo.bitmapData&&this.dpo.bitmapData.dispose()});__static(a,["AboutBmp",function(){return this.AboutBmp=About_AboutBmp}]);return a}(),GameSound=function(){function a(){this.flySound=this.flySoundChannel=this.bgSound=this.bgSoundChannel=null;this.bgSound=new BgSound;this.flySound=new FlySound}__class(a,"ui.GameSound",!0);var b=a.prototype;b.playBGSound=function(){null==this.bgSoundChannel&&(this.bgSoundChannel=this.bgSound.play(0,2147483647))};b.stopBGSound=function(){null!=this.bgSoundChannel&&(this.bgSoundChannel.stop(),this.bgSoundChannel=null)};b.playFlySound=function(){null==this.flySoundChannel&&(this.flySoundChannel=this.flySound.play(0,2147483647))};b.stopFlySound=function(){null!=this.flySoundChannel&&(this.flySoundChannel.stop(),this.flySoundChannel=null)};return a}(),GameUI=function(){function a(c){this.play=this.sound1=this.panda=this.goStartFunc=null;this.spnum=1E3;this.sp_w=233;this.numAmulet=this.numMilk=this.numShoots=this.numBamboo=0;this.welcome=this.engine=this.amulet=this.amuletHL=this.milk=this.milkHL=this.shoots=this.shootsHL=this.bamboo=this.score=null;this.header=new a.HeaderBmp;this.sp=new a.SPBmp;this.jumpBtn=new a.JumpBtn;this.attackBtn=new a.AttackBtn;this.flyBtn=new a.FlyBtn;this.pauseBmp=new a.PauseBmp;this.playArea=new Sprite;this.replayArea=new Sprite;this.quitArea=new Sprite;this.score=new BitmapInt(a.numSrc1);this.bamboo=new BitmapInt(a.numSrc1);this.shootsHL=new BitmapClip(a.shineSrc,-7);this.shoots=new BitmapInt(a.numSrc3);this.milkHL=new BitmapClip(a.shineSrc,-7);this.milk=new BitmapInt(a.numSrc3);this.amuletHL=new BitmapClip(a.shineSrc,-7);this.amulet=new BitmapInt(a.numSrc3);this.playArea.addChild(new Bitmap(a.btnAreaSrc1));this.replayArea.addChild(new Bitmap(a.btnAreaSrc1));this.quitArea.addChild(new Bitmap(a.btnAreaSrc2));this.goStartFunc=c}__class(a,"ui.GameUI",!0);var b=a.prototype;Laya.imps(b,{"interf.ISteper":!0});b.showAs=function(a){this.header.x=21;this.header.y=9;a.addChild(this.header);this.sp.x=87;this.sp.y=25;a.addChild(this.sp);this.score.y=85;this.score.showAs(a);this.bamboo.y=30;this.bamboo.showAs(a);this.shoots.y=92;this.shoots.showAs(a);this.shootsHL.x=435;this.shootsHL.y=20;this.shootsHL.hideAndStop();a.addChild(this.shootsHL);this.milk.y=92;this.milk.showAs(a);this.milkHL.x=513;this.milkHL.y=20;this.milkHL.hideAndStop();a.addChild(this.milkHL);this.amulet.y=92;this.amulet.showAs(a);this.amuletHL.x=356;this.amuletHL.y=20;this.amuletHL.hideAndStop();a.addChild(this.amuletHL);this.jumpBtn.x=this.flyBtn.x=50;this.jumpBtn.y=this.flyBtn.y=350;a.addChild(this.jumpBtn);a.addChild(this.flyBtn);this.attackBtn.x=662;this.attackBtn.y=350;a.addChild(this.attackBtn);this.pauseBmp.visible=!1;a.addChild(this.pauseBmp);this.playArea.x=222;this.playArea.y=164;this.playArea.alpha=0;a.addChild(this.playArea);this.replayArea.x=439;this.replayArea.y=164;this.replayArea.alpha=0;a.addChild(this.replayArea);this.quitArea.x=24;this.quitArea.y=393;this.quitArea.alpha=0;a.addChild(this.quitArea);this.visible=!1;this.pauseBmp.visible=this.playArea.visible=!1;this.replayArea.visible=this.quitArea.visible=!1;this.playArea.addEventListener("mouseDown",__bind(this,this.hl));this.replayArea.addEventListener("mouseDown",__bind(this,this.hl));this.quitArea.addEventListener("mouseDown",__bind(this,this.hl));this.playArea.addEventListener("mouseUp",__bind(this,this.goplay));this.replayArea.addEventListener("mouseUp",__bind(this,this.replay));this.quitArea.addEventListener("mouseUp",__bind(this,this.quit))};b.step=function(){this.panda.sp!=this.spnum&&(this.spnum=this.panda.sp,this.sp.width=this.sp_w*this.spnum/1E3);this.panda.willFly?(this.jumpBtn.visible=!1,this.flyBtn.visible=!0):(this.jumpBtn.visible=!0,this.flyBtn.visible=!1);this.panda.numBamboo!=this.numBamboo&&this.setBamboo(this.numBamboo=this.panda.numBamboo);this.panda.numShoots!=this.numShoots&&this.setShoots(this.numShoots=this.panda.numShoots);this.panda.numMilk!=this.numMilk&&this.setMilk(this.numMilk=this.panda.numMilk);this.panda.numAmulet!=this.numAmulet&&this.setAmulet(this.numAmulet=this.panda.numAmulet);this.setScore(this.panda.runningDistance)};b.startInit=function(a,b,g){this.numAmulet=a;this.amulet.value=a;this.amulet.x=379;this.numShoots=b;this.shoots.value=b;this.shoots.x=460;this.numMilk=g;this.milk.value=g;this.milk.x=540};b.setScore=function(a){this.score.value=a;this.score.x=760-this.score.width};b.setBamboo=function(a){this.bamboo.value=a;this.bamboo.x=760-this.bamboo.width};b.setShoots=function(a){this.shoots.value=a;this.shoots.x=460;this.shootsHL.visible=!0;this.shootsHL.playOnce(!0)};b.setMilk=function(a){this.milk.value=a;this.milk.x=540;this.milkHL.visible=!0;this.milkHL.playOnce(!0)};b.setAmulet=function(a){this.amulet.value=a;this.amulet.x=379;this.amuletHL.visible=!0;this.amuletHL.playOnce(!0)};b.pauseDown=function(a){};b.pauseUp=function(a){};b.pause=function(){this.playArea.alpha=this.replayArea.alpha=this.quitArea.alpha=0;this.pauseBmp.visible=this.playArea.visible=!0;this.replayArea.visible=this.quitArea.visible=!0};b.goplay=function(a){this.pauseBmp.visible=this.playArea.visible=!1;this.replayArea.visible=this.quitArea.visible=!1;this.panda.flying&&this.sound1.playFlySound();this.sound1.playBGSound();this.engine.play()};b.replay=function(a){this.pauseBmp.visible=this.playArea.visible=!1;this.replayArea.visible=this.quitArea.visible=!1;this.engine.stop();this.panda.start();this.sound1.playBGSound();this.engine.start()};b.quit=function(a){this.pauseBmp.visible=this.playArea.visible=!1;this.replayArea.visible=this.quitArea.visible=!1;this.engine.stop();this.goStartFunc()};b.hl=function(a){a.target.alpha=1};b.a=function(){this.jumpBtn.y=351;this.flyBtn.y=351};b.b=function(){this.attackBtn.y=351};b.ca=function(){this.jumpBtn.y=350;this.flyBtn.y=350};b.cb=function(){this.attackBtn.y=350};__getset(0,b,"visible",function(){return this.header.visible},function(a){this.header.visible=this.sp.visible=this.score.visible=a;this.bamboo.visible=this.amulet.visible=this.shoots.visible=a;this.milk.visible=this.flyBtn.visible=a;this.jumpBtn.visible=this.attackBtn.visible=a;this.shootsHL.visible=this.milkHL.visible=this.amuletHL.visible=a});__static(a,["HeaderBmp",function(){return this.HeaderBmp=GameUI_HeaderBmp},"SPBmp",function(){return this.SPBmp=GameUI_SPBmp},"Num1Bmp",function(){return this.Num1Bmp=GameUI_Num1Bmp},"numSrc1",function(){return this.numSrc1=(new a.Num1Bmp).bitmapData},"Num2Bmp",function(){return this.Num2Bmp=GameUI_Num2Bmp},"numSrc2",function(){return this.numSrc2=(new a.Num2Bmp).bitmapData},"Num3Bmp",function(){return this.Num3Bmp=GameUI_Num3Bmp},"numSrc3",function(){return this.numSrc3=(new a.Num3Bmp).bitmapData},"JumpBtn",function(){return this.JumpBtn=GameUI_JumpBtn},"AttackBtn",function(){return this.AttackBtn=GameUI_AttackBtn},"FlyBtn",function(){return this.FlyBtn=GameUI_FlyBtn},"BtnArea1",function(){return this.BtnArea1=GameUI_BtnArea1},"btnAreaSrc1",function(){return this.btnAreaSrc1=(new a.BtnArea1).bitmapData},"BtnArea2",function(){return this.BtnArea2=GameUI_BtnArea2},"btnAreaSrc2",function(){return this.btnAreaSrc2=(new a.BtnArea2).bitmapData},"PauseBmp",function(){return this.PauseBmp=GameUI_PauseBmp},"pauseSrc",function(){return this.pauseSrc=(new a.PauseBmp).bitmapData},"ItemShineBmp",function(){return this.ItemShineBmp=GameUI_ItemShineBmp},"shineSrc",function(){return this.shineSrc=(new a.ItemShineBmp).bitmapData},"Panel",function(){return this.Panel=GameUI_Panel}]);return a}(),Store=function(){function a(c,b){this.welcomeFunc=this.startFunc=this.dpo=this.data=this.panda=null;this.back=new Sprite;this.amuletBuy=new Sprite;this.shootBuy=new Sprite;this.milkBuy=new Sprite;this.amuletPrice=new BitmapInt(GameUI.numSrc3);this.shootPrice=new BitmapInt(GameUI.numSrc3);this.milkPrice=new BitmapInt(GameUI.numSrc3);this.priceList=[];this.bambooNum=new BitmapInt(GameUI.numSrc1);this.amuletNum=new BitmapInt(GameUI.numSrc3);this.shootNum=new BitmapInt(GameUI.numSrc3);this.milkNum=new BitmapInt(GameUI.numSrc3);this.dpo=new a.StoreBmp;this.back.addChild(new Bitmap(GameUI.btnAreaSrc2));this.amuletBuy.graphics.beginFill(16777215);this.amuletBuy.graphics.drawRoundRect(0,0,218,67,20,20);this.shootBuy.graphics.beginFill(16777215);this.shootBuy.graphics.drawRoundRect(0,0,218,67,20,20);this.milkBuy.graphics.beginFill(16777215);this.milkBuy.graphics.drawRoundRect(0,0,218,67,20,20);this.startFunc=c;this.welcomeFunc=b;this.priceList.push(198,26,99)}__class(a,"ui.Store",!0);var b=a.prototype;b.showAs=function(a){this.dpo.visible=!1;this.dpo.x=(800-this.dpo.width)/2;this.dpo.y=(480-this.dpo.height)/2;a.addChild(this.dpo);this.amuletPrice.showAs(a);this.amuletPrice.value=this.priceList[0];this.amuletPrice.x=410-this.amuletPrice.width;this.amuletPrice.y=170;this.shootPrice.showAs(a);this.shootPrice.value=this.priceList[1];this.shootPrice.x=410-this.shootPrice.width;this.shootPrice.y=247;this.milkPrice.showAs(a);this.milkPrice.value=this.priceList[2];this.milkPrice.x=410-this.milkPrice.width;this.milkPrice.y=327;this.bambooNum.y=20;this.bambooNum.showAs(a);this.amuletNum.x=this.shootNum.x=this.milkNum.x=675;this.amuletNum.y=170;this.shootNum.y=247;this.milkNum.y=327;this.amuletNum.showAs(a);this.shootNum.showAs(a);this.milkNum.showAs(a);this.amuletPrice.visible=this.shootPrice.visible=this.milkPrice.visible=this.amuletNum.visible=this.shootNum.visible=this.milkNum.visible=this.bambooNum.visible=!1;this.bambooNum.value=0;this.amuletNum.value=0;this.shootNum.value=0;this.milkNum.value=0;this.back.alpha=0;this.back.x=16;this.back.y=403;a.addChild(this.back);this.amuletBuy.x=90;this.amuletBuy.y=150;this.amuletBuy.alpha=0;a.addChild(this.amuletBuy);this.shootBuy.x=90;this.shootBuy.y=227;this.shootBuy.alpha=0;a.addChild(this.shootBuy);this.milkBuy.x=90;this.milkBuy.y=305;this.milkBuy.alpha=0;a.addChild(this.milkBuy);this.back.visible=this.amuletBuy.visible=this.shootBuy.visible=this.milkBuy.visible=!1;this.back.addEventListener("mouseDown",__bind(this,this.mosueDown));this.back.addEventListener("mouseUp",__bind(this,this.returnWelcome))};b.mosueDown=function(a){a.target.alpha=.3;a.currentTarget.addEventListener("mouseUp",__bind(this,this.mouseUp))};b.mouseUp=function(a){a.currentTarget.alpha=0;a.currentTarget.removeEventListener("mouseUp",__bind(this,this.mouseUp))};b.returnWelcome=function(a){this.dpo.visible=this.back.visible=!1;this.amuletPrice.visible=this.shootPrice.visible=this.milkPrice.visible=this.amuletNum.visible=this.shootNum.visible=this.milkNum.visible=this.bambooNum.visible=this.amuletBuy.visible=this.shootBuy.visible=this.milkBuy.visible=!1;this.dpo.bitmapData.dispose();this.dpo.bitmapData=null;this.welcomeFunc()};b.buyProps=function(a){var b=0;switch(a.currentTarget){case this.amuletBuy:b=this.panda.numBamboo;0<=b-this.priceList[0]&&(this.panda.numAmulet++,this.panda.numBamboo-=this.priceList[0],this.panda.consumption+=this.priceList[0],this.amuletNum.value=this.data.amulet=this.panda.numAmulet);break;case this.shootBuy:b=this.panda.numBamboo;0<=b-this.priceList[1]&&(this.panda.numShoots++,this.panda.numBamboo-=this.priceList[1],this.panda.consumption+=this.priceList[1],this.shootNum.value=this.data.shoots=this.panda.numShoots);break;case this.milkBuy:b=this.panda.numBamboo,0<=b-this.priceList[2]&&(this.panda.numMilk++,this.panda.numBamboo-=this.priceList[2],this.panda.consumption+=this.priceList[2],this.milkNum.value=this.data.milk=this.panda.numMilk)}this.bambooNum.value=this.data.bamboo=this.panda.numBamboo;this.bambooNum.x=750-this.bambooNum.width;this.data.save()};b.show=function(){this.dpo.bitmapData=(new a.StoreBmp).bitmapData;this.back.alpha=0;this.dpo.visible=!0;this.back.visible=this.amuletBuy.visible=this.shootBuy.visible=this.milkBuy.visible=!0;this.bambooNum.value=this.panda.numBamboo;this.bambooNum.x=750-this.bambooNum.width;this.amuletNum.value=this.panda.numAmulet;this.shootNum.value=this.panda.numShoots;this.milkNum.value=this.panda.numMilk;this.amuletPrice.visible=this.shootPrice.visible=this.milkPrice.visible=this.amuletNum.visible=this.shootNum.visible=this.milkNum.visible=this.bambooNum.visible=!0;this.data.bamboo=this.panda.numBamboo;this.data.amulet=this.panda.numAmulet;this.data.shoots=this.panda.numShoots;this.data.milk=this.panda.numMilk;this.data.save()};__static(a,["StoreBmp",function(){return this.StoreBmp=Store_StoreBmp}]);return a}(),Welcome=function(){function a(a,b,g,d,f,h){this.acvFunc=this.aboutFunc=this.helpFunc=this.storeFunc=this.rankFunc=this.startFunc=null;this.dpo=new Bitmap;this.startArea=new Sprite;this.storeArea=new Sprite;this.helpArea=new Sprite;this.rankArea=new Sprite;this.aboutArea=new Sprite;this.acvArea=new Sprite;this.startArea.addChild(new Bitmap(GameUI.btnAreaSrc1));this.storeArea.addChild(new Bitmap(GameUI.btnAreaSrc2));this.helpArea.addChild(new Bitmap(GameUI.btnAreaSrc2));this.rankArea.addChild(new Bitmap(GameUI.btnAreaSrc2));this.aboutArea.addChild(new Bitmap(GameUI.btnAreaSrc2));this.acvArea.addChild(new Bitmap(GameUI.btnAreaSrc2));this.startFunc=a;this.rankFunc=b;this.storeFunc=g;this.helpFunc=d;this.aboutFunc=f;this.acvFunc=h}__class(a,"ui.Welcome",!0);var b=a.prototype;b.showAs=function(a){a.addChild(this.dpo);this.startArea.x=362;this.startArea.y=228;this.startArea.alpha=0;a.addChild(this.startArea);this.rankArea.x=525;this.rankArea.y=394;this.rankArea.alpha=0;a.addChild(this.rankArea);this.storeArea.x=609;this.storeArea.y=394;this.storeArea.alpha=0;a.addChild(this.storeArea);this.helpArea.x=698;this.helpArea.y=394;this.helpArea.alpha=0;a.addChild(this.helpArea);this.acvArea.x=119;this.acvArea.y=394;this.acvArea.alpha=0;a.addChild(this.acvArea);this.aboutArea.x=31;this.aboutArea.y=394;this.aboutArea.alpha=0;a.addChild(this.aboutArea);this.rankArea.addEventListener("mouseDown",__bind(this,this.mouseDown));this.rankArea.addEventListener("mouseUp",__bind(this,this.rank));this.startArea.addEventListener("mouseDown",__bind(this,this.mouseDown));this.startArea.addEventListener("mouseUp",__bind(this,this.start));this.storeArea.addEventListener("mouseDown",__bind(this,this.mouseDown));this.storeArea.addEventListener("mouseUp",__bind(this,this.store));this.helpArea.addEventListener("mouseDown",__bind(this,this.mouseDown));this.helpArea.addEventListener("mouseUp",__bind(this,this.help));this.aboutArea.addEventListener("mouseDown",__bind(this,this.mouseDown));this.aboutArea.addEventListener("mouseUp",__bind(this,this.about));this.acvArea.addEventListener("mouseDown",__bind(this,this.mouseDown));this.acvArea.addEventListener("mouseUp",__bind(this,this.acv))};b.mouseDown=function(a){a.target.alpha=.3};b.rank=function(a){this.dpo.visible=!1;this.rankArea.alpha=0;this.rankArea.visible=!1;this.rankFunc()};b.start=function(a){this.dpo.visible=!1;this.startArea.alpha=0;this.startArea.visible=!1;this.startFunc()};b.store=function(a){this.storeArea.alpha=0;this.storeArea.visible=!1;this.storeFunc()};b.help=function(a){this.helpArea.alpha=0;this.helpArea.visible=!1;this.helpFunc()};b.about=function(a){this.aboutArea.alpha=0;this.aboutArea.visible=!1;this.aboutFunc()};b.acv=function(a){this.acvArea.alpha=0;this.acvArea.visible=!1;this.acvFunc()};__getset(0,b,"visible",null,function(c){this.dpo.visible=this.startArea.visible=this.aboutArea.visible=c;this.rankArea.visible=this.storeArea.visible=c;(this.acvArea.visible=this.helpArea.visible=c)?this.dpo.bitmapData=(new a.StartBmp).bitmapData:null!=this.dpo.bitmapData&&this.dpo.bitmapData.dispose()});__static(a,["StartBmp",function(){return this.StartBmp=Welcome_StartBmp}]);return a}(),Mem=function(){function a(){}__class(a,"vo.Mem",!0);a.numBoards=5;a.numFoods=10;a.numSmoke=1;a.numEnemys=3;a.numShoots=10;return a}(),ArgumentError=function(a){function b(a){b.__super.call(this)}__class(b,"ArgumentError",!0,Error);return b}(Error),RangeError=function(a){function b(a){b.__super.call(this)}__class(b,"RangeError",!0,Error);return b}(Error),PropertyChangeEvent=function(a){function b(a,e,g,d,f,h,k,l){this.source=this.property=this.oldValue=this.newValue=this.kind=null;void 0===e&&(e=!1);void 0===g&&(g=!1);b.__super.call(this,a,e,g);this.kind=d;this.property=f;this.oldValue=h;this.newValue=k;this.source=l}__class(b,"mx.events.PropertyChangeEvent",!1,a);b.prototype.clone=function(){return new b(this.type,this.bubbles,this.cancelable,this.kind,this.property,this.oldValue,this.newValue,this.source)};b.createUpdateEvent=function(a,e,g,d){var f=new b("propertyChange");f.kind="update";f.oldValue=g;f.newValue=d;f.source=a;f.property=e;return f};b.event=function(a,e,g,d){a.dispatchEvent(b.createUpdateEvent(a,e,g,d))};b.PROPERTY_CHANGE="propertyChange";return b}(Event),IFlash=function(a){function b(a){this.stage=null;b._sprite_=a;b.__super.call(this,a)}__class(b,"IFlash",!1,a);a=b.prototype;a._onInit_=function(){EventManager.stage=this.stage=Stage.stage;Capabilities.initScreenResolutionXY();var a=b.__beforInit__;null!=a&&a();0<b.__width__&&0<b.__height__&&Laya.document.size(b.__width__,b.__height__);EventManager.stage=this.stage=Stage.stage;Laya.window.addEventListener("resize",__bind(this,this._resize_));this.stage.bgcolor=b.__bgColor;this.stage.setOrientationEx(b.__setOrientationEx);this.stage.showInfo=b.__showInfo;this.stage.frameRate=b.__frameRate;b._sprite_=b._sprite_||new IFlashMain;b._sprite_&&!b._sprite_.parent&&null==b.__loadResource__&&this.stage.addChild(b._sprite_);b.__loadResource__&&b.__StartLoadResource__()};a._resize_=function(a){a._lysetTarget(this.stage);this.stage.dispatchEvent(a)};__getset(1,b,"isRuningOnAccelerator",function(){return Laya.CONCHVER},iflash.laya.ILaya._$SET_isRuningOnAccelerator);b.preSwfAssets=function(a){Loader.preswfAsset(a)};b.setAutoDetect=function(a){AudioElement.disableAutoDetect=a};b.SetTouch=function(a){Laya.CONCHVER&&(conch.disableMultiTouch=a)};b.setSize=function(a,e){b.__width__=a;b.__height__=e;Stage.stage.width=b.__width__;Stage.stage.height=b.__height__;Laya.document.body&&(Laya.document.body.width=b.__width__,Laya.document.body.height=b.__height__)};b.lockScreen=function(a){void 0===a&&(a=!1);conch.setScreenWakeLock(a)};b.regBeforInit=function(a){b.__beforInit__=a};b.setBgcolor=function(a){b.__bgColor=a;Stage.stage.bgcolor=a};b.setOrientationEx=function(a){b.__setOrientationEx=a;Stage.stage.setOrientationEx(a)};b.setAutoOrients=function(a){void 0===a&&(a=!0);Stage.stage.autoOrients=a};b.showInfo=function(a){b.__showInfo=a;Stage.stage.showInfo=a};b.frameRate=function(a){Laya.CONCHVER&&60>a&&conch.setMaxFPS&&conch.setMaxFPS(a);a!=b.__frameRate&&(b.__frameRate=a,Stage.stage.frameRate=a)};b.Start=function(){LAYABOX.getInterfaceDefinitionByName=function(a){a=a.split(".");for(var c=Laya,b=0;b<a.length;b++)if(c=c[a[b]],!c)return null;return c};new JSONParse;Laya.document.body=new Body;var a=Register,b=AnimationCreate;a.regClass(51,LyImageElement);a.regClass(52,Shape);a.regClass(52,Shape);a.regClass(53,BitmapData);a.regClass(54,Bitmap);a.regClass(55,Sprite);a.regClass(56,MovieClip);a.regClass(58,SimpleButton);a.regClass(57,TextField);a.regClass(59,StaticText);a.regFunction(151,b.removeAll,2,!1,0,0);a.regFunction(152,b.setInstanceName,3,!1,0,4,6);a.regFunction(153,b.removeInstanceName,3,!1,0,4,6);a.regFunction(154,b.newObject,4,!1,0,4,4,6);a.regFunction(155,b.addChild,3,!1,0,4,4);a.regFunction(156,b.removeChild,2,!1,0,4);a.regFunction(157,b.setTransform,9,!1,0,4,5,5,5,5,5,5,5);a.regFunction(158,b.pos,4,!1,0,4,5,5);a.regFunction(159,b.empty,2,!1,0,0);a.regFunction(160,b.setAlpha,3,!1,9,4,5);a.regFunction(161,b.setVisible,3,!1,9,4,14);a.regFunction(162,b.initLyImage,4,!1,9,4,5,5);a.regFunction(163,b.initShap,3,!1,9,1,13);a.regFunction(167,b.initShape2Add,5,!1,9,4,5,5,13);a.regFunction(164,b.initMovie,6,!1,9,11,8,8,4,12);a.regFunction(166,b.initButton,6,!1,9,11,8,8,4,12);a.regFunction(165,b.initText,14,!1,9,5,5,5,5,5,5,14,14,14,8,6,5,6);a.regFunction(168,b.initStaticText,14,!1,9,5,5,5,5,5,5,14,14,14,8,6,5,6);Laya.window.resizeTo(Browser.window.innerWidth,Browser.window.innerHeight);Laya.CONCHVER&&conchConfig.textBaseline(1)};b.__StartLoadResource__=function(){for(var a=b.__loadResource__.length,e=0;e<a;e++){var g=new Loader;g.contentLoaderInfo.addEventListener("complete",b.__onLoad__);g.load(new URLRequest(b.__loadResource__[e]),new LoaderContext(!1,ApplicationDomain.currentDomain))}};b.__onLoad__=function(a){b.__resourceCount__++;b.__loadResource__.length==b.__resourceCount__&&(b.__resourceCount__=0,b.__loadResource__=null,Stage.stage.addChild(b._sprite_))};b.LoadResource=function(a){b.__loadResource__=a};b.Run=function(a,e,g){0>=b.__width__&&(b.__width__=e);0>=b.__height__&&(b.__height__=g);new b(a);Laya.ilaya._onInit_()};b._sprite_=null;b.__loadResource__=null;b.__width__=-1;b.__height__=-1;b.__beforInit__=null;b.IS_3D=!1;b.__bgColor=16777215;b.__setOrientationEx=1;b.__showInfo=!0;b.__frameRate=60;b.__resourceCount__=0;b.LYData={};return b}(ILaya),BgSound=function(a){function b(){b.__super.call(this,new URLRequest("assets/sound/FlySound.mp3"))}__class(b,"sound.BgSound",!1,a);return b}(Sound),DeadSound=function(a){function b(){b.__super.call(this,new URLRequest("assets/sound/DeadSound.mp3"))}__class(b,"sound.DeadSound",!1,a);return b}(Sound),DownSound=function(a){function b(){b.__super.call(this,new URLRequest("assets/sound/DownSound.mp3"))}__class(b,"sound.DownSound",!1,a);return b}(Sound),EatSound=function(a){function b(){b.__super.call(this,new URLRequest("assets/sound/FlySound.mp3"))}__class(b,"sound.EatSound",!1,a);return b}(Sound),FlySound=function(a){function b(){b.__super.call(this,new URLRequest("assets/sound/FlySound.mp3"))}__class(b,"sound.FlySound",!1,a);return b}(Sound),JumpSound=function(a){function b(){b.__super.call(this,new URLRequest("assets/sound/JumpSound.mp3"))}__class(b,"sound.JumpSound",!1,a);return b}(Sound),BitmapClip=function(a){function b(a,c,e,h){this._currFrames=this._totalFrames=this.fps=0;this.dict=this.list=this.cutRect=null;this._playOnce=!1;this._playOnceStartTime=0;this._hideAfterOver=!1;this.setFrameIndex=0;this._currentLabel=null;void 0===c&&(c=-1);void 0===e&&(e=-1);void 0===h&&(h=24);var k=0,l=0,m=null,n=null;this.list=[];this.dict=new Dictionary;b.__super.call(this);this.cutRect=new Rectangle(0,0,c,e);this.fps=h;if(a instanceof iflash.display.BitmapData)this.bitmapData=a,this.gotoAndPlay(1);else if(a instanceof Array){l=a.length;for(k=0;k<l;)this.bitmapData=a[k],k++;this.gotoAndPlay(1)}else if(a instanceof iflash.display.MovieClip)for(n=new Rectangle(0,0,c,e),l=a.totalFrames,k=0;k<l;)a.gotoAndStop(k),m=new BitmapData(c,e),m.draw(a,null,null,null,n),this.pushFrameBmp(m),k++}var c;__class(b,"tdh.utils.BitmapClip",!1,a);var e=b.prototype;e.pushFrameBmp=function(a){this.setFrameIndex<this.list.length?this.list[this.setFrameIndex++]=a:this.setFrameIndex=this._totalFrames=this.list.push(a)};e.onFrame=function(a){0==this.visible||null==this.stage?this.stop():this._playOnce?this.playOnceOnFrame():this.playOnFrame()};e.playOnFrame=function(){var c=iflash.utils.getTimer()/(1E3/this.fps),b=this.dict[this._currentLabel],c=null==b?c%this._totalFrames:c%(b.to-b.from)+b.from;a.prototype._$set_bitmapData.call(this,this.list[this._currFrames=c])};e.register=function(a,b,e){void 0===e&&(e=4294967295);var h=null,h=this.dict[a]=this.dict[a]||new c;h.from=b;h.to=Math.min(this._totalFrames,e)};e.play=function(a){this._currentLabel=a;this.hasEventListener("enterFrame")||this.addEventListener("enterFrame",__bind(this,this.onFrame))};e.stop=function(){this.removeEventListener("enterFrame",__bind(this,this.onFrame))};e.hideAndStop=function(){this.stop();this.visible=!1};e.showAndPlay=function(){this.play();this.visible=!0};e.gotoAndPlay=function(c){0<c&&c<this._totalFrames&&a.prototype._$set_bitmapData.call(this,this.list[this._currFrames=c-1]);this.play()};e.gotoAndStop=function(c){0<c&&c<this._totalFrames&&a.prototype._$set_bitmapData.call(this,this.list[this._currFrames=c-1]);this.stop()};e.nextFrame=function(){this._currFrames+1<this._totalFrames&&a.prototype._$set_bitmapData.call(this,this.list[++this._currFrames])};e.prevFrame=function(){0<this._currFrames-1&&a.prototype._$set_bitmapData.call(this,this.list[--this._currFrames])};e.playOnce=function(a,c){void 0===a&&(a=!1);this._currentLabel=c;this._playOnce=!0;this._playOnceStartTime=iflash.utils.getTimer();this._hideAfterOver=a;this.hasEventListener("enterFrame")||this.addEventListener("enterFrame",__bind(this,this.onFrame))};e.playOnceOnFrame=function(){var c=iflash.utils.getTimer()-this._playOnceStartTime,c=int(c/(1E3/this.fps)),b=this.dict[this._currentLabel],e=this._totalFrames;null!=b&&(e=b.to,c+=b.from);c<e?(a.prototype._$set_bitmapData.call(this,this.list[c]),this._currFrames=c):(this._playOnce=!1,this._hideAfterOver?this.hideAndStop():this.stop(),this.dispatchEvent(new Event("complete")))};e.dispose=function(){var a=null,c;for(c in this.list)a=this.list[c],a.dispose();this.list.splice(0,this._totalFrames);this._totalFrames=this._currFrames=0};__getset(0,e,"bitmapData",a.prototype._$get_bitmapData,function(a){for(var c=null,b=0,e=new Point(0,0),k=a.width/this.cutRect.width,l=a.height/this.cutRect.height,m=0;m<k;){this.cutRect.y=this.cutRect.height*m;for(b=0;b<l;)this.cutRect.x=this.cutRect.width*b,c=new BitmapData(this.cutRect.width,this.cutRect.height),c.copyPixels(a,this.cutRect,e),this.pushFrameBmp(c),b++;m++}});b.__init$=function(){c=function(){function a(){this.to=this.from=0}__class(a,"",!0);return a}()};return b}(Bitmap),IFlashMain=function(a){function b(){b.__super.call(this);this.stage?this.init():this.addEventListener("addedToStage",__bind(this,this.init))}__class(b,"IFlashMain",!1,a);b.prototype.init=function(a){this.removeEventListener("addedToStage",__bind(this,this.init))};return b}(Sprite),Game=function(a){function b(){this.engine=this.sound1=this.data=this.about=this.rank=this.store=this.over=this.welcome=this.gui=this.achieve=this.help=this.smoke=this.ground=this.scene=this.shoots=this.panda=this.food=this.board=this.enemy=this.core=null;this._max=0;this.half=800;this.prevMouseX=0;this.fullScreenCtrlA=!1;b.__super.call(this);IFlash.setSize(800,480);IFlash.setOrientationEx(0);IFlash.setBgcolor("#ffffff");IFlash.showInfo(!1);var a=new Loader;a.contentLoaderInfo.addEventListener("complete",__bind(this,this.initGame));a.load(new URLRequest("assets/pandaRun.swf"),new LoaderContext(!1,ApplicationDomain.currentDomain))}__class(b,"Game",!1,a);a=b.prototype;Laya.imps(a,{"interf.ISteper":!0,"interf.ICtrl":!0});a.initGame=function(a){a.target.removeEventListener("complete",__bind(this,this.initGame));a=0;this.stage.scaleMode="exactFit";Board.init();Panda.init();Food.init();Enemy.init();Smoke.init();Help.init();this.panda=new Panda;this.scene=new Scene1;this.board=new Board(5);this.food=new Food(10);this.enemy=new Enemy(3);this.shoots=new Shoots(10);this.ground=new Ground;this.smoke=new Smoke(1);this.gui=new GameUI(__bind(this,this.goStart));this.help=new Help(__bind(this,this.goStart));this.achieve=new Achieve(__bind(this,this.goStart));this.welcome=new Welcome(__bind(this,this.goPlay),__bind(this,this.goRank),__bind(this,this.goStore),__bind(this,this.goHelp),__bind(this,this.goAbout),__bind(this,this.goAcv));this.over=new GameOver(__bind(this,this.goPlay),__bind(this,this.goStore),__bind(this,this.goStart));this.store=new Store(__bind(this,this.goPlay),__bind(this,this.goStart));this.about=new About(__bind(this,this.goStart));this.rank=new GameRank(__bind(this,this.goStart));this.core=[this.panda,this.scene,this.enemy,this.board,this.food,this.shoots,this.ground,this.gui,this.smoke,this.help,this.achieve];this.data=new Data;this.data.load();this.sound1=new GameSound;this.panda.numBamboo=this.data.bamboo;this.panda.mallShoots=this.data.shoots;this.panda.numMilk=Math.max(1,this.data.milk);this.panda.numAmulet=Math.max(1,this.data.amulet);this.panda.consumption=this.data.consumption;this.panda.sound1=this.sound1;this.panda.data=this.data;this.scene.buildSpdUpBmp();this.scene.panda=this.panda;this.scene.board=this.board;this.scene.food=this.food;this.scene.enemy=this.enemy;this.gui.panda=this.panda;this.gui.sound1=this.sound1;this.store.panda=this.panda;this.store.data=this.data;this.over.panda=this.panda;this.over.data=this.data;this.rank.data=this.data;this.board.reset(0,10);this.panda.init(this.board,this.food,this.enemy,this.shoots,this.ground,this.scene);this.ground.scene=this.scene;this.ground.startAlone();this.ground.showAs(this);this.help.scene=this.scene;this.help.panda=this.panda;this.achieve.panda=this.panda;this.achieve.data=this.data;for(a=0;5>a;)this.board.showAs(this.scene.dpoc),this.board=this.board.next,a++;for(a=0;10>a;)this.food.showAs(this.scene.dpoc),this.food=this.food.next,a++;for(a=0;3>a;)this.enemy.showAs(this.scene.dpoc),this.enemy=this.enemy.next,a++;for(a=0;10>a;)this.shoots.enemy=this.enemy,this.shoots.showAs(this.scene.dpoc),this.shoots=this.shoots.next,a++;for(a=0;1>a;)this.panda.smoke=this.smoke,this.smoke.showAs(this.scene.dpoc),this.smoke=this.smoke.next,a++;this.panda.showAs(this.scene.dpoc);this.scene.dpoc.visible=!1;this.addChild(this.scene.dpoc);this.achieve.showAs(this);this.gui.showAs(this);this.gui.welcome=this.welcome;this.store.showAs(this);this.help.showAs(this);this.rank.showAs(this);this.about.showAs(this);this.welcome.showAs(this);this.over.showAs(this);this.goStart();this.engine=new FpsGame(this,this);this.gui.engine=this.engine;this.help.engine=this.engine};a.goPlay=function(){this.achieve.open();this.gameStart();this.scene.normalUpdate()};a.goStart=function(){this.gui.visible=!1;this.scene.dpoc.visible=!1;this.about.visible=!1;this.welcome.visible=!0;this.ground.auto=!0;this.ground.startAlone();this.sound1.stopBGSound()};a.goRank=function(){this.scene.dpoc.visible=!1;this.welcome.visible=!1;this.about.visible=!1;this.rank.visible=!0;this.rank.show()};a.goStore=function(){this.scene.dpoc.visible=!1;this.welcome.visible=!1;this.about.visible=!1;this.store.show()};a.goHelp=function(){this.achieve.close();this.help.start();this.gameStart();iflash.utils.setTimeout(iflash.method.bind(this.stage,this.stage.addEventListener),100,"mouseUp",iflash.method.bind(this.help,this.help.next))};a.goAbout=function(){this.scene.dpoc.visible=!1;this.welcome.visible=!1;this.about.visible=!0};a.goAcv=function(){this.scene.dpoc.visible=!1;this.welcome.visible=!1;this.achieve.showPanel()};a.step=function(){var a=null;vo.frameDelay=this.engine.delay/1E3;vo.gameTime=this.engine.currTime;for(var b in this.core)a=this.core[b],a.step();680<this.panda.rect.y&&this.gameOver()};a.gameStart=function(){this.about.visible=!1;this.welcome.visible=!1;this.gui.visible=!0;this.scene.dpoc.visible=!0;this.ground.auto=!1;this.ground.stopAlone();this.ground.normal();this.achieve.reset();this.panda.start();this.engine.start();this.gui.startInit(this.panda.numAmulet,this.panda.numShoots,this.panda.numMilk);this.sound1.playBGSound()};a.gameOver=function(){this.help.helping?this.help.retry():(this.gui.visible=!1,this.over.show(),this.sound1.stopBGSound());this.engine.stop();this.ground.auto=!0;this.panda.over();this.panda.board=this.scene.nextBoard();b.overSound.play();this.sound1.stopFlySound()};a.ctrl=function(a){if(75>a.stageX&&65>a.stageY)this.pause();else if(this.fullScreenCtrlA)switch(a.type){case "mouseDown":this.ctrlA();break;case "mouseUp":this.cancelA()}else switch(a.type){case "mouseDown":this.half>a.stageX?this.ctrlA():this.ctrlB();this.prevMouseX=a.stageX;break;case "mouseUp":this.half>a.stageX?this.cancelA():this.cancelB();break;case "mouseMove":this.half>a.stageX&&this.half<this.prevMouseX?(this.ctrlA(),this.cancelB()):this.half<a.stageX&&this.half>this.prevMouseX&&(this.ctrlB(),this.cancelA()),this.prevMouseX=a.stageX}};a.ctrlA=function(){this.panda.a();this.gui.a()};a.ctrlB=function(){this.panda.b();this.gui.b()};a.cancelA=function(){this.panda.ca();this.gui.ca()};a.cancelB=function(){this.panda.cb();this.gui.cb()};a.keyCtrl=function(a){36==a.keyCode?this.pause():16777238==a.keyCode?this.pause():this.panda.b()};a.ctrlStart=function(){this.stage.addEventListener("mouseDown",__bind(this,this.ctrl));this.stage.addEventListener("mouseUp",__bind(this,this.ctrl));this.stage.addEventListener("keyDown",__bind(this,this.keyCtrl));this.stage.addEventListener("deactivate",__bind(this,this.onDeactivate))};a.ctrlPause=function(){this.stage.removeEventListener("mouseDown",__bind(this,this.ctrl));this.stage.removeEventListener("mouseUp",__bind(this,this.ctrl));this.stage.removeEventListener("keyDown",__bind(this,this.keyCtrl));this.stage.removeEventListener("deactivate",__bind(this,this.onDeactivate))};a.onDeactivate=function(a){this.pause()};a.pause=function(){this.help.helping||(this.engine.pause(),this.gui.pause(),this.sound1.stopBGSound(),this.sound1.stopFlySound())};__getset(0,a,"max",function(){return this._max});b.HelpModel=0;b.RandomModel=1;__static(b,["overSound",function(){return this.overSound=new DeadSound}]);return b}(Sprite),GameOver=function(a){function b(a,e,g){this.welcomFunc=this.storeFunc=this.startFunc=this.data=this.panda=this.dpo=null;this.btnBack=new Sprite;this.btnUpload=new Sprite;this.btnReplay=new Sprite;this.btnEnterStore=new Sprite;this.txtUserName=new TextField;this.txtFormat=new TextFormat(null,15,0,!0);this.scoreBmp=new BitmapInt(GameUI.numSrc2);this.bambooBmp=new BitmapInt(GameUI.numSrc3);this.bestScoreBmp=new BitmapInt(GameUI.numSrc3);b.__super.call(this);this.dpo=new Bitmap;this.btnBack.addChild(new b.BtnBambooBmp);this.btnBack.alpha=0;this.btnUpload.addChild(new b.BtnBambooBmp);this.btnUpload.alpha=0;this.btnReplay.addChild(new b.BtnBambooBmp);this.btnReplay.alpha=0;this.btnEnterStore.addChild(new b.BtnBambooBmp);this.btnEnterStore.alpha=0;this.txtUserName.width=200;this.txtUserName.setTextFormat(this.txtFormat);this.startFunc=a;this.storeFunc=e;this.welcomFunc=g}__class(b,"ui.GameOver",!1,a);a=b.prototype;a.showAs=function(a){this.txtUserName.text=this.data.prevUserName;this.dpo.visible=!1;a.addChild(this.dpo);this.scoreBmp.y=160;this.scoreBmp.showAs(a);this.bestScoreBmp.y=260;this.bestScoreBmp.value=this.data.bestScore;this.bestScoreBmp.visible=!1;this.bestScoreBmp.showAs(a);this.bambooBmp.y=310;this.bambooBmp.showAs(a);a.addChild(this.txtUserName);this.txtUserName.type="input";this.txtUserName.x=235;this.txtUserName.y=405;this.txtUserName.visible=!1;this.btnBack.visible=!1;this.btnBack.x=23;this.btnBack.y=392;a.addChild(this.btnBack);this.btnUpload.visible=!1;this.btnUpload.x=174;this.btnUpload.y=367;a.addChild(this.btnUpload);this.btnReplay.visible=!1;this.btnReplay.x=502;this.btnReplay.y=367;a.addChild(this.btnReplay);this.btnEnterStore.visible=!1;this.btnEnterStore.x=593;this.btnEnterStore.y=367;a.addChild(this.btnEnterStore);this.btnBack.addEventListener("mouseDown",__bind(this,this.mosueDown));this.btnBack.addEventListener("mouseUp",__bind(this,this.goWelcome));this.btnUpload.addEventListener("mouseDown",__bind(this,this.mosueDown));this.btnUpload.addEventListener("mouseUp",__bind(this,this.btnUploadHide));this.btnUpload.addEventListener("click",__bind(this,this.uploadUserScore));this.btnReplay.addEventListener("mouseDown",__bind(this,this.mosueDown));this.btnReplay.addEventListener("mouseUp",__bind(this,this.replayGame));this.btnEnterStore.addEventListener("mouseDown",__bind(this,this.mosueDown));this.btnEnterStore.addEventListener("mouseUp",__bind(this,this.goStore))};a.btnUploadHide=function(a){this.btnUpload.alpha=0};a.mosueDown=function(a){a.currentTarget.alpha=1};a.goWelcome=function(a){this.btnBack.alpha=0;this.hide();this.welcomFunc();this.data.prevUserName=this.txtUserName.text;this.data.save()};a.replayGame=function(a){this.btnReplay.alpha=0;this.hide();this.startFunc();this.data.prevUserName=this.txtUserName.text;this.data.save()};a.goStore=function(a){this.btnEnterStore.alpha=0;this.hide();this.storeFunc();this.data.prevUserName=this.txtUserName.text;this.data.save()};a.hide=function(){this.dpo.visible=this.btnReplay.visible=!1;this.btnEnterStore.visible=this.btnBack.visible=!1;this.scoreBmp.visible=this.bestScoreBmp.visible=!1;this.bambooBmp.visible=this.txtUserName.visible=!1;this.dpo.bitmapData.dispose();this.dpo.bitmapData=null};a.show=function(){this.dpo.bitmapData=(new b.OverBmp).bitmapData;this.txtUserName.setTextFormat(this.txtFormat);this.btnUpload.alpha=this.btnReplay.alpha=this.btnEnterStore.alpha=0;this.btnUpload.visible=this.btnReplay.visible=this.btnEnterStore.visible=this.btnBack.visible=this.dpo.visible=!0;this.scoreBmp.visible=this.bestScoreBmp.visible=this.bambooBmp.visible=this.txtUserName.visible=!0;this.scoreBmp.value=this.panda.runningDistance;this.scoreBmp.x=600-this.scoreBmp.width;this.bestScoreBmp.value=this.scoreBmp.value>this.data.bestScore?this.data.bestScore=this.scoreBmp.value:this.data.bestScore;this.bestScoreBmp.x=600-this.bestScoreBmp.width;this.bambooBmp.value=this.panda.numBamboo;this.bambooBmp.x=600-this.bambooBmp.width;this.data.bamboo=this.panda.numBamboo;this.data.save()};a.uploadUserScore=function(a){a=null;this.btnUpload.alpha=0;this.btnUpload.visible=!1;for(var b=0;b<this.data.scoreRecordList.length;){if(this.scoreBmp.value>=Number(this.data.scoreRecordList[b].score)&&this.scoreBmp.value>=Number(this.data.scoreRecordList[b].score)){a={name:"",score:String(this.scoreBmp.value)};a.name="Player Name"==this.txtUserName.text||""==this.txtUserName.text?"Player":this.txtUserName.text;this.data.scoreRecordList.splice(b,0,a);this.data.scoreRecordList.pop();break}b++}this.data.prevUserName=this.txtUserName.text;this.data.save()};__static(b,["OverBmp",function(){return this.OverBmp=GameOver_OverBmp},"BtnBambooBmp",function(){return this.BtnBambooBmp=GameUI_BtnArea2}]);return b}(Sprite),GameRank=function(a){function b(a){this.dpo=this.data=null;this.RANK_NUM=5;this.welcomeFunc=this.btnBack=this.rankScore=this.rankName=null;b.__super.call(this);this.dpo=new Bitmap;this.btnBack=new Sprite;this.btnBack.addChild(new Bitmap(GameUI.btnAreaSrc2));this.welcomeFunc=a;this.initRankList()}__class(b,"ui.GameRank",!1,a);a=b.prototype;a.show=function(){this.dpo.bitmapData=(new b.RankBmp).bitmapData;this.dpo.visible=this.btnBack.visible=this.rankName.visible=this.rankScore.visible=!0;this.btnBack.alpha=0;this.updateRank()};a.initRankList=function(){this.rankName=new TextField;this.rankScore=new TextField};a.showAs=function(a){this.dpo.visible=this.btnBack.visible=this.rankName.visible=this.rankScore.visible=!1;a.addChild(this.dpo);a.addChild(this.rankName);a.addChild(this.btnBack);this.btnBack.alpha=.3;this.btnBack.x=30;this.btnBack.y=393;this.btnBack.addEventListener("mouseDown",__bind(this,this.mosueDown));this.btnBack.addEventListener("mouseUp",__bind(this,this.returnWelcome));a.addChild(this.rankScore);this.rankName.y=this.rankScore.y=200;this.rankName.x=180;this.rankScore.x=417};a.updateRank=function(){this.rankName.text="";this.rankScore.text="";for(var a=new TextFormat(null,30,16777215,!0),b=0;b<this.RANK_NUM;)this.data.scoreRecordList&&(this.rankName.appendText(this.data.scoreRecordList[b]?this.data.scoreRecordList[b].name+"\n":""),this.rankScore.appendText(this.data.scoreRecordList[b]?this.data.scoreRecordList[b].score+"\n":"0")),b++;this.rankName.selectable=!1;this.rankScore.selectable=!1;this.rankName.autoSize="left";this.rankScore.autoSize="left";this.rankName.setTextFormat(a);this.rankScore.setTextFormat(a)};a.mosueDown=function(a){a.target.alpha=.3;a.currentTarget.addEventListener("mouseUp",__bind(this,this.mouseUp))};a.mouseUp=function(a){a.currentTarget.alpha=0;a.currentTarget.removeEventListener("mouseUp",__bind(this,this.mouseUp))};a.returnWelcome=function(a){this.dpo.visible=this.btnBack.visible=this.rankName.visible=this.rankScore.visible=!1;this.dpo.bitmapData.dispose();this.dpo.bitmapData=null;this.welcomeFunc()};__static(b,["RankBmp",function(){return this.RankBmp=GameRank_RankBmp}]);return b}(Sprite),Achieve_BgBmp=function(a){function b(){b.__super.call(this)}__class(b,"game.Achieve_BgBmp",!1,a);return b}(BitmapAsset),Achieve_CloseButton=function(a){function b(){b.__super.call(this)}__class(b,"game.Achieve_CloseButton",!1,a);return b}(BitmapAsset),Achieve_EpicEscape=function(a){function b(){b.__super.call(this)}__class(b,"game.Achieve_EpicEscape",!1,a);return b}(BitmapAsset),Achieve_EpicEscapeIntro=function(a){function b(){b.__super.call(this)}__class(b,"game.Achieve_EpicEscapeIntro",!1,a);return b}(BitmapAsset),Achieve_ExpertShooter=function(a){function b(){b.__super.call(this)}__class(b,"game.Achieve_ExpertShooter",!1,a);return b}(BitmapAsset),Achieve_ExpertShooterIntro=function(a){function b(){b.__super.call(this)}__class(b,"game.Achieve_ExpertShooterIntro",!1,a);return b}(BitmapAsset),Achieve_KungfuPanda=function(a){function b(){b.__super.call(this)}__class(b,"game.Achieve_KungfuPanda",!1,a);return b}(BitmapAsset),Achieve_KungfuPandaIntro=function(a){function b(){b.__super.call(this)}__class(b,"game.Achieve_KungfuPandaIntro",!1,a);return b}(BitmapAsset),Achieve_Marathon=function(a){function b(){b.__super.call(this)}__class(b,"game.Achieve_Marathon",!1,a);return b}(BitmapAsset),Achieve_MarathonIntro=function(a){function b(){b.__super.call(this)}__class(b,"game.Achieve_MarathonIntro",!1,a);return b}(BitmapAsset),Achieve_Millionaire=function(a){function b(){b.__super.call(this)}__class(b,"game.Achieve_Millionaire",!1,a);return b}(BitmapAsset),Achieve_MillionaireIntro=function(a){function b(){b.__super.call(this)}__class(b,"game.Achieve_MillionaireIntro",!1,a);return b}(BitmapAsset),Achieve_PieceOfCake=function(a){function b(){b.__super.call(this)}__class(b,"game.Achieve_PieceOfCake",!1,a);return b}(BitmapAsset),Achieve_PieceOfCakeIntro=function(a){function b(){b.__super.call(this)}__class(b,"game.Achieve_PieceOfCakeIntro",!1,a);return b}(BitmapAsset),Board_BoardBmp=function(a){function b(){b.__super.call(this)}__class(b,"game.Board_BoardBmp",!1,a);return b}(BitmapAsset),Enemy_EffBmp=function(a){function b(){b.__super.call(this)}__class(b,"game.Enemy_EffBmp",!1,a);return b}(BitmapAsset),Enemy_MonsterBmp=function(a){function b(){b.__super.call(this)}__class(b,"game.Enemy_MonsterBmp",!1,a);return b}(BitmapAsset),Food_EffectBmp=function(a){function b(){b.__super.call(this)}__class(b,"game.Food_EffectBmp",!1,a);return b}(BitmapAsset),Food_FoodBmp=function(a){function b(){b.__super.call(this)}__class(b,"game.Food_FoodBmp",!1,a);return b}(BitmapAsset),Ground_BG1Bmp=function(a){function b(){b.__super.call(this)}__class(b,"game.Ground_BG1Bmp",!1,a);return b}(BitmapAsset),Ground_BG1Bmp2=function(a){function b(){b.__super.call(this)}__class(b,"game.Ground_BG1Bmp2",!1,a);return b}(BitmapAsset),Ground_BG2Bmp=function(a){function b(){b.__super.call(this)}__class(b,"game.Ground_BG2Bmp",!1,a);return b}(BitmapAsset),Ground_BG2Bmp2=function(a){function b(){b.__super.call(this)}__class(b,"game.Ground_BG2Bmp2",!1,a);return b}(BitmapAsset),Ground_BG3Bmp=function(a){function b(){b.__super.call(this)}__class(b,"game.Ground_BG3Bmp",!1,a);return b}(BitmapAsset),Ground_BG3Bmp2=function(a){function b(){b.__super.call(this)}__class(b,"game.Ground_BG3Bmp2",!1,a);return b}(BitmapAsset),Ground_FlowerBmp=function(a){function b(){b.__super.call(this)}__class(b,"game.Ground_FlowerBmp",!1,a);return b}(BitmapAsset),Ground_FlowerBmp2=function(a){function b(){b.__super.call(this)}__class(b,"game.Ground_FlowerBmp2",!1,a);return b}(BitmapAsset),Ground_GrassBmp=function(a){function b(){b.__super.call(this)}__class(b,"game.Ground_GrassBmp",!1,a);return b}(BitmapAsset),Ground_GrassBmp2=function(a){function b(){b.__super.call(this)}__class(b,"game.Ground_GrassBmp2",!1,a);return b}(BitmapAsset),Ground_Tree1Bmp=function(a){function b(){b.__super.call(this)}__class(b,"game.Ground_Tree1Bmp",!1,a);return b}(BitmapAsset),Ground_Tree1Bmp2=function(a){function b(){b.__super.call(this)}__class(b,"game.Ground_Tree1Bmp2",!1,a);return b}(BitmapAsset),Ground_Tree2Bmp=function(a){function b(){b.__super.call(this)}__class(b,"game.Ground_Tree2Bmp",!1,a);return b}(BitmapAsset),Ground_Tree2Bmp2=function(a){function b(){b.__super.call(this)}__class(b,"game.Ground_Tree2Bmp2",!1,a);return b}(BitmapAsset),Help_BtnBackBmp=function(a){function b(){b.__super.call(this)}__class(b,"game.Help_BtnBackBmp",!1,a);return b}(BitmapAsset),Help_HelpBmp1=function(a){function b(){b.__super.call(this)}__class(b,"game.Help_HelpBmp1",!1,a);return b}(BitmapAsset),Help_HelpBmp2=function(a){function b(){b.__super.call(this)}__class(b,"game.Help_HelpBmp2",!1,a);return b}(BitmapAsset),Panda_FlyEffBmp=function(a){function b(){b.__super.call(this)}__class(b,"game.Panda_FlyEffBmp",!1,a);return b}(BitmapAsset),Panda_PandaBmp=function(a){function b(){b.__super.call(this)}__class(b,"game.Panda_PandaBmp",!1,a);return b}(BitmapAsset),Panda_SpeedEffBmp=function(a){function b(){b.__super.call(this)}__class(b,"game.Panda_SpeedEffBmp",!1,a);return b}(BitmapAsset),Scene_SpdUpBmp=function(a){function b(){b.__super.call(this)}__class(b,"game.Scene_SpdUpBmp",!1,a);return b}(BitmapAsset),Smoke_BoardBmp=function(a){function b(){b.__super.call(this)}__class(b,"game.Smoke_BoardBmp",!1,a);return b}(BitmapAsset),About_AboutBmp=function(a){function b(){b.__super.call(this)}__class(b,"ui.About_AboutBmp",!1,a);return b}(BitmapAsset),GameOver_BtnBambooBmp=function(a){function b(){b.__super.call(this)}__class(b,"ui.GameOver_BtnBambooBmp",!1,a);return b}(BitmapAsset),GameOver_OverBmp=function(a){function b(){b.__super.call(this)}__class(b,"ui.GameOver_OverBmp",!1,a);return b}(BitmapAsset),GameRank_RankBmp=function(a){function b(){b.__super.call(this)}__class(b,"ui.GameRank_RankBmp",!1,a);return b}(BitmapAsset),GameUI_AttackBtn=function(a){function b(){b.__super.call(this)}__class(b,"ui.GameUI_AttackBtn",!1,a);return b}(BitmapAsset),GameUI_BtnArea1=function(a){function b(){b.__super.call(this)}__class(b,"ui.GameUI_BtnArea1",!1,a);return b}(BitmapAsset),GameUI_BtnArea2=function(a){function b(){b.__super.call(this)}__class(b,"ui.GameUI_BtnArea2",!1,a);return b}(BitmapAsset),GameUI_FlyBtn=function(a){function b(){b.__super.call(this)}__class(b,"ui.GameUI_FlyBtn",!1,a);return b}(BitmapAsset),GameUI_HeaderBmp=function(a){function b(){b.__super.call(this)}__class(b,"ui.GameUI_HeaderBmp",!1,a);return b}(BitmapAsset),GameUI_ItemShineBmp=function(a){function b(){b.__super.call(this)}__class(b,"ui.GameUI_ItemShineBmp",!1,a);return b}(BitmapAsset),GameUI_JumpBtn=function(a){function b(){b.__super.call(this)}__class(b,"ui.GameUI_JumpBtn",!1,a);return b}(BitmapAsset),GameUI_Num1Bmp=function(a){function b(){b.__super.call(this)}__class(b,"ui.GameUI_Num1Bmp",!1,a);return b}(BitmapAsset),GameUI_Num2Bmp=function(a){function b(){b.__super.call(this)}__class(b,"ui.GameUI_Num2Bmp",!1,a);return b}(BitmapAsset),GameUI_Num3Bmp=function(a){function b(){b.__super.call(this)}__class(b,"ui.GameUI_Num3Bmp",!1,a);return b}(BitmapAsset),GameUI_Panel=function(a){function b(){b.__super.call(this)}__class(b,"ui.GameUI_Panel",!1,a);return b}(BitmapAsset),GameUI_PauseBmp=function(a){function b(){b.__super.call(this)}__class(b,"ui.GameUI_PauseBmp",!1,a);return b}(BitmapAsset),GameUI_SPBmp=function(a){function b(){b.__super.call(this)}__class(b,"ui.GameUI_SPBmp",!1,a);return b}(BitmapAsset),Store_StoreBmp=function(a){function b(){b.__super.call(this)}__class(b,"ui.Store_StoreBmp",!1,a);return b}(BitmapAsset),Welcome_StartBmp=function(a){function b(){b.__super.call(this)}__class(b,"ui.Welcome_StartBmp",!1,a);return b}(BitmapAsset);vo.gameTime;window.Fns={};iflash.utils.flash_proxy=null;vo.frameDelay;iflash.net.classDic={};Laya.__init([Browser,FlexBitmap,BitmapAsset,NameUtil,BitmapClip]);Laya.Main(function(){IFlash.Start();IFlash.Run(new Game,-1,-1)});