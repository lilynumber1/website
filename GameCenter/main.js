window.Laya=function(a,c){var b={__internals:[],__packages:{},__classmap:{Object:Object,Function:Function,Array:Array,String:String},__sysClass:{object:"Object",array:"Array",string:"String",dictionary:"Dictionary"},__propun:{writable:!0,enumerable:!1,configurable:!0},__presubstr:String.prototype.substr,__substr:function(d,a){return 1==arguments.length?b.__presubstr.call(this,d):b.__presubstr.call(this,d,0<a?a:this.length+a)},__init:function(b){b.forEach(function(b){b.__init$&&b.__init$()})},__parseInt:function(b){return b?parseInt(b):0},__isClass:function(b){return b&&(b.__isclass||b==Object||b==String||b==Array)},__newvec:function(b,d){var a=[];a.length=b;for(var c=0;c<b;c++)a[c]=d;return a},__extend:function(d,a){function c(){b.un(this,"constructor",d)}for(var g in a)if(a.hasOwnProperty(g)){var l=a.__lookupGetter__(g),m=a.__lookupSetter__(g);l||m?(l&&d.__defineGetter__(g,l),m&&d.__defineSetter__(g,m)):d[g]=a[g]}c.prototype=a.prototype;d.prototype=new c;b.un(d.prototype,"__imps",b.__copy({},a.prototype.__imps))},__copy:function(b,d){if(!d)return null;b=b||{};for(var a in d)b[a]=d[a];return b},__package:function(d,c){if(!b.__packages[d]){b.__packages[d]=!0;var g=a,k=d.split(".");if(1<k.length)for(var l=0,m=k.length-1;l<m;l++)var n=g[k[l]],g=n?n:g[k[l]]={};g[k[k.length-1]]||(g[k[k.length-1]]=c||{})}},__hasOwnProperty:function(b,d){function a(b,d){if(Object.hasOwnProperty.call(d.prototype,b))return!0;var c=d.prototype.__super;return null==c?null:a(b,c)}d=d||this;return Object.hasOwnProperty.call(d,b)||a(b,d.__class)},__typeof:function(b,d){if(!b||!d)return!1;if(d==String)return"string"==typeof b;if(d==Number)return"number"==typeof b;if(d.__interface__)d=d.__interface__;else if("string"!=typeof d)return b instanceof d;return b.__imps&&b.__imps[d]||b.__class==d},__as:function(b,d){return this.__typeof(b,d)?b:null},"interface":function(d,c){b.__package(d,{});var g=b.__internals,k=g[d]=g[d]||{};k.self=d;c&&(k.extend=g[c]=g[c]||{});for(var g=a,k=d.split("."),l=0;l<k.length-1;l++)g=g[k[l]];g[k[k.length-1]]={__interface__:d}},"class":function(d,c,h,k,l){h&&b.un(d.prototype,"toString",g.toStringForDic);k&&b.__extend(d,k);if(c)if(b.__package(c,d),b.__classmap[c]=d,0<c.indexOf(".")){if(0==c.indexOf("laya.")){h=c.split(".");l=l||h[h.length-1];if(b[l])debugger;b[l]=d}}else if("Main"==c)a.Main=d;else{if(b[c]){console.log("Err!,Same class:"+c,b[c]);debugger}b[c]=d}l=b.un;h=d.prototype;l(h,"hasOwnProperty",b.__hasOwnProperty);l(h,"__class",d);l(h,"__super",k);l(h,"__className",c);l(d,"__super",k);l(d,"__className",c);l(d,"__isclass",!0);l(d,"super",function(b){this.__super.call(b)})},imps:function(d,a){if(!a)return null;var c=d.__imps||b.un(d,"__imps",{}),g;for(g in a){c[g]=a[g];for(var l=g;(l=this.__internals[l])&&(l=l.extend);)l=l.self,c[l]=!0}},getset:function(d,a,c,g,l){d?(g&&(a["_$GET_"+c]=g),l&&(a["_$SET_"+c]=l)):(g&&b.un(a,"_$get_"+c,g),l&&b.un(a,"_$set_"+c,l));g&&l?Object.defineProperty(a,c,{get:g,set:l,enumerable:!1}):(g&&Object.defineProperty(a,c,{get:g,enumerable:!1}),l&&Object.defineProperty(a,c,{set:l,enumerable:!1}))},"static":function(b,d){for(var a=0,c=d.length;a<c;a+=2)"length"==d[a]?b.length=d[a+1].call(b):function(){var c=d[a],g=d[a+1];Object.defineProperty(b,c,{get:function(){delete this[c];return this[c]=g.call(this)},set:function(b){delete this[c];this[c]=b},enumerable:!0,configurable:!0})}()},un:function(d,a,c){3>arguments.length&&(c=d[a]);b.__propun.value=c;Object.defineProperty(d,a,b.__propun);return c},uns:function(d,a){a.forEach(function(a){b.un(d,a)})}};a.console=a.console||{log:function(){}};a.trace=a.console.log;Error.prototype.throwError=function(){throw arguments;};String.prototype.substr=b.__substr;Object.defineProperty(Array.prototype,"fixed",{enumerable:!1});var d=a.iflash={utils:{}},g=a.LAYABOX=a.LAYABOX||{classmap:b.__classmap,systemClass:b.__sysClass};Function.prototype.BIND$=function(b){this.__$BiD___||(this.__$BiD___=g.__bindid++);b.BIND$__||(b.BIND$__={});var d=b.BIND$__[this.__$BiD___];return d?d:b.BIND$__[this.__$BiD___]=this.bind(b)};Array.CASEINSENSITIVE=1;Array.DESCENDING=2;Array.NUMERIC=16;Array.RETURNINDEXEDARRAY=8;Array.UNIQUESORT=4;Object.defineProperty(Array.prototype,"fixed",{enumerable:!1});(function(b){var d=Date.prototype;Object.defineProperty(d,"millisecondsUTC",{get:d.getUTCMilliseconds,enumerable:!1});Object.defineProperty(d,"minutesUTC",{get:d.getUTCMinutes,enumerable:!1});Object.defineProperty(d,"mouthUTC",{get:d.getUTCMonth,enumerable:!1});for(var a=0;a<b.length;a++)Object.defineProperty(d,b[a],{get:d["get"+b[a].charAt(0).toUpperCase()+b[a].substr(1)]})})("date day fullYear hours millseconds minutes month seconds time timezoneOffset dateUTC dayUTC fullYearUTC hoursUTC".split(" "));g.__bindid=1;g.sortonNameArray2=function(b,d,a){void 0===a&&(a=0);var c=d[0],g=d[1],m=1;18==a&&(m=-1);return b.sort(function(b,d){return d[c]==b[c]?m*(b[g]-d[g]):m*(b[c]-d[c])})};g.sortonNameArray=function(b,d,a){void 0===a&&(a=0);var c=d[0],g=1;18==a&&(g=-1);return b.sort(function(b,a){if(a[c]==b[c]){for(var e=1,h=d.length;e<h;e++){var r=d[e];if(a[r]!=b[r])return g*(b[r]-a[r])}return 0}return g*(b[c]-a[c])})};g.arraypresort=Array.prototype.sort;b.un(Array.prototype,"sortOn",function(b,d){if(b instanceof Function)return this.sort(b);if(b instanceof Array){if(0==b.length)return this;if(2==b.length)return g.sortonNameArray2(this,b,d);if(2<b.length)return g.sortonNameArray(this,b,d);b=b[0]}return 16==d?this.sort(function(d,a){return d[b]-a[b]}):2==d?this.sort(function(d,a){return a[b]-d[b]}):18==d?this.sort(function(d,a){return a[b]-d[b]}):1==d?this.sort():this.sort(function(d,a){return d[b]-a[b]})});b.un(Array.prototype,"sort",function(b){return 16==b?g.arraypresort.call(this,function(b,d){return b-d}):18==b?g.arraypresort.call(this,function(b,d){return d-b}):1==b?g.arraypresort.call(this):g.arraypresort.call(this,b)});g.bind=function(b,d){return null==b||null==d?null:d.BIND$(b)};d=a.Dictionary=d.utils.Dictionary=function(){};a.Dictionary.prototype=Object.prototype;b.__classmap.Dictionary=d;g.DICKEY=0;g.DICKEYS=[];g.toStringForDic=function(){!this.__DICKEY__&&(b.un(this,"__DICKEY__",--g.DICKEY),g.DICKEYS["\x26layadic_"+this.__DICKEY__]=this);return"\x26layadic_"+this.__DICKEY__};return b}(window,document);var __un=Laya.un,__uns=Laya.uns,__static=Laya["static"],__class=Laya["class"],__getset=Laya.getset,__newvec=Laya.__newvec,__bind=LAYABOX.bind,LAYAFNVOID=function(){},LAYAFNSTR=function(){return""},LAYAFNNULL=function(){return null},LAYAFNTRUE=function(){return!0},LAYAFNFALSE=function(){return!1},LAYAFN0=function(){return 0},LAYAFNARRAY=function(){return[]},GETEACH=function(a){return a?a:[]};Laya["interface"]("com.lilynumber1.algo.IMapModel");Laya["interface"]("com.lilynumber1.ds.ITree");Laya["interface"]("iflash.display.IBitmapDrawable");Laya["interface"]("iflash.net.IDynamicPropertyWriter");Laya["interface"]("iflash.display.IGraphicsPath");Laya["interface"]("iflash.utils.IExternalizable");Laya["interface"]("iflash.laya.system.IObject");Laya["interface"]("com.lilynumber1.ds.ICollection");Laya["interface"]("iflash.display.IGraphicsFill");Laya["interface"]("iflash.utils.IDataOutput");Laya["interface"]("iflash.xml.IXMLElement");Laya["interface"]("iflash.net.IDynamicPropertyOutput");Laya["interface"]("iflash.display.IGraphicsStroke");Laya["interface"]("iflash.utils.IDataInput");Laya["interface"]("iflash.display.IGraphicsData");Laya["interface"]("iflash.events.IEventDispatcher");Laya["interface"]("com.lilynumber1.module.IDisplayModule","IModule");Laya["interface"]("manager.loading.ILoading","iflash.events.IEventDispatcher");Laya["interface"]("iflash.utils.IDataInput");Laya["interface"]("iflash.utils.IDataOutput");Laya["interface"]("com.lilynumber1.module.IModule","iflash.events.IEventDispatcher");var Browser=function(){function a(){}__class(a,"Browser",!0);__getset(1,a,"frameRate",function(){return a._driver_.frameRate},function(c){a._driver_.frameRate=c});a.__init__=function(c){a._driver_=new iflash.laya.driver.Driver(c)};a.__start__=function(){a._driver_.start();a._driver_.regEvent()};a.eval=function(c,b){b=b||a.window;return b.eval(c)};a.err=function(a){console.log("err:"+a)};a._createRootCanvas_=function(){var c=a._driver_.getRootCanvas();c.id="canvas";c.size(a.window.innerWidth,a.window.innerHeight);Laya.HTMLVER&&(a.document.body.appendChild(c),Laya.CONCHVER||(c.style.position="absolute",c.style.left=c.style.top=0));return c};a.addToBody=function(c){a.document.body.appendChild(c)};a.removeFromBody=function(a){a&&a.parentNode&&a.parentNode.removeChild(a)};a._createWebGLCanvas_=function(){if(Laya.CONCHVER)return a._createRootCanvas_();var c=a.document.createElement("canvas");c.size(a.window.innerWidth,a.window.innerHeight);Laya.HTMLVER&&(a.document.body.appendChild(c),Laya.CONCHVER||(c.style.position="absolute",c.style.left=c.style.top=0,c.style.zIndex=-1E3));return c};a._debugger_=function(){debugger};a.alert=function(a){alert(a)};a._createModle_=function(c,b,d){return a._driver_.createModle(c,b,d)};a.createHttpRequest=function(){return a._driver_.createHttpRequest()};a.setCursor=function(c){a._driver_.cursor(c);a._cursors_.push(c)};a.restoreCursor=function(){0!=a._cursors_.length&&(a._cursors_.pop(),a._driver_.cursor(0<a._cursors_.length?a._cursors_[a._cursors_.length-1]:"default"))};a.hideSystemLoading=function(){Laya.CONCHVER&&(a.window.conchMarket&&a.window.conchMarket.sendMessageToPlatform('{"type":"ge_load_game_end"}',function(){}),conch.showLoadingView(!1))};a.refresh=function(){a.location.reload()};a.window=null;a.document=null;a.location=null;a.navigator=null;a.input=null;a._driver_=null;a._cursors_=[];a.__init$=function(){window.Browser=a};return a}();Laya.__package("iflash.system");iflash.system.fscommand=function(a,c){};Laya.__package("iflash.utils");iflash.utils.getQualifiedClassName=function(a){if(!a)return null;if("string"==typeof a)return"String";if(a instanceof Array)return"Array";if("function"==typeof a){if(a.__className){var c=a.__className.lastIndexOf(".");return-1!=c?a.__className.substr(0,c)+"::"+a.__className.substr(c+1,a.__className.length):a.__className}return a.name||a.lin}if(a.__interface__)return c=a.__interface__.lastIndexOf("."),-1!=c?a.__interface__.substr(0,c)+"::"+a.__interface__.substr(c+1,a.__interface__.length):a.__interface__;a=a.__className?a.__className:LAYABOX.systemClass[typeof a];c=a.lastIndexOf(".");return-1!=c?a.substr(0,c)+"::"+a.substr(c+1,a.length):a};Laya.__package("iflash.laya.utils");iflash.laya.utils.regXmlAttr=function(a,c,b,d){void 0===d&&(d=!0);DynamicProperties.reg(a,c,b,d);return 1};Laya.__package("iflash.net");iflash.net.sendToURL=function(a){};Laya.__package("iflash.net");iflash.net.getClassByAlias=function(a){return iflash.net.classDic[a]};Laya.__package("iflash.utils");iflash.utils.getAliasName=function(a){return""};Laya.__package("iflash.method");iflash.method.xmlLength=function(a){return a?a.lengths():0};Laya.__package("iflash.method");iflash.method.getNetworkType=function(){var a=-1;Laya.CONCHVER&&(a=window.conchConfig.getNetworkType());return a};Laya.__package("iflash.method");iflash.method.DICCLEAR=function(a,c){null!=LAYABOX.DICKEYS[c]&&delete LAYABOX.DICKEYS[c]};Laya.__package("iflash.method");iflash.method.byteAt=function(a,c){return a._byteAt_(c)};Laya.__package("iflash.method");iflash.method.typeAs=function(a,c){return Laya.__typeof(a,c)?a:null};Laya.__package("iflash.method");iflash.method.bind=function(a,c,b){return null==c?null:c.BIND$(a)};Laya.__package("iflash.net");iflash.net.registerClassAlias=function(a,c){iflash.net.classDic[a]=c};Laya.__package("iflash.method");iflash.method.DIC=function(a){if(!a||a.__DICKEY__||"string"==typeof a||"number"==typeof a)return a;a.toString=LAYABOX.toStringForDic;a.toString();return a};Laya.__package("iflash.net");iflash.net.navigateToURL=function(a,c){window.open(a.url||a,c?c:"_blank")};Laya.__package("iflash.method");iflash.method.importJS=function(a,c,b){void 0===b&&(b=!0);LAYABOX.importsJS=LAYABOX.importsJS||[];if(a instanceof Array){var d=a.length;for(b=0;b<a.length;b++)a[b]=Method.formatUrl(a[b]),iflash.method.importJS(a[b],function(){d--;0==d&&c()},!1)}else if(a=Method.formatUrl(a),console.log("import JavaScript:"+a),LAYABOX.importsJS[a])c();else{var g=new XMLHttpRequest;g.onload=function(b){window.eval(g.responseText);LAYABOX.importsJS[a]=!0;c()};g.onerror=function(b){throw"\u4e0b\u8f7djs"+a+"\u5931\u8d25";};g.open("GET",a,!0);g.send()}};Laya.__package("iflash.method");iflash.method.byteSet=function(a,c,b){a._byteSet_(c,b)};Laya.__package("iflash.utils");iflash.utils.setTimeout=function(a,c,b){for(var d=[],g=2,e=arguments.length;g<e;g++)d.push(arguments[g]);return(new SetIntervalTimer(a,c,!1,d)).id};Laya.__package("iflash.utils");iflash.utils.clearTimeout=function(a){SetIntervalTimer.clearInterval(a)};Laya.__package("iflash.method");iflash.method.DICKEY=function(a){return"string"!=typeof a||0!=a.indexOf("\x26layadic_")?a:LAYABOX.DICKEYS[a.toString()]};Laya.__package("iflash.utils");iflash.utils.setInterval=function(a,c,b){for(var d=[],g=2,e=arguments.length;g<e;g++)d.push(arguments[g]);return(new SetIntervalTimer(a,c,!0,d)).id};Laya.__package("iflash.utils");iflash.utils.getQualifiedSuperclassName=function(a){return iflash.utils.getQualifiedClassName(a.__super)};Laya.__package("iflash.utils");iflash.utils.formatString=function(a,c){for(var b=[],d=1,g=arguments.length;d<g;d++)b.push(arguments[d]);for(d=0;d<b.length;++d)a=a.replace(new RegExp("\\{"+d+"\\}","g"),b[d]);return a};Laya.__package("iflash.utils");iflash.utils.escapeMultiByte=function(a){return encodeURIComponent(a).replace("_","%5F").replace(".","%2E")};Laya.__package("iflash.utils");iflash.utils.getDefinitionByName=function(a){a=a.replace("::",".");return LAYABOX.classmap[a]};Laya.__package("iflash.utils");iflash.utils.clearInterval=function(a){SetIntervalTimer.clearInterval(a)};Laya.__package("iflash.utils");iflash.utils.regClass=function(a,c){LAYABOX.classmap[a]=c};Laya.__package("iflash.utils");iflash.utils.describeType=function(a){for(a=iflash.utils.getQualifiedClassName(a);-1!=a.indexOf(".");)a=a.replace(".","");a="dst"+a.replace("::","_");return new XML(iflash.utils.getDefinitionByName("DescribeTypeClass")[a]())};Laya.__package("iflash.utils");iflash.utils.getTimer=function(){return(Date.now()-Timer.__STARTTIME__)*Timer.__SPEED__};LAYABOX.getInterfaceDefinitionByName=function(a){a=a.split(".");for(var c=Laya,b=0;b<a.length;b++)if(c=c[a[b]],!c)return null;return c};
var ByteArray=function(){function a(){this._position_=this._objectEncoding_=this._length=0;this._allocated_=8;this._data_=null;this._littleEndian_=!1;this._traitsTable=this._objTable=this._strTable=this._byteView_=null;this.___resizeBuffer(this._allocated_)}__class(a,"iflash.utils.ByteArray",!1);var c=a.prototype;c.clear=function(){this._strTable=[];this._objTable=[];this._traitsTable=[];this.length=this._position_=0};c.ensureWrite=function(b){this._length<b&&(this.length=b)};c.readBoolean=function(){return 0!=this.readByte()};c.readByte=function(){return this._data_.getInt8(this._position_++)};c.readBytes=function(b,d,a){void 0===d&&(d=0);void 0===a&&(a=0);if(0>d||0>a)throw"Read error - Out of bounds";0==a&&(a=this._length-this._position_);b.ensureWrite(d+a);b._byteView_.set(this._byteView_.subarray(this._position_,this._position_+a),d);b.position=d;this._position_+=a;b.position+a>b.length&&(b.length=b.position+a)};c.readDouble=function(){var b=this._data_.getFloat64(this._position_,this._littleEndian_);this._position_+=8;return b};c.readFloat=function(){var b=this._data_.getFloat32(this._position_,this._littleEndian_);this._position_+=4;return b};c.readFullBytes=function(b,d,a){this.ensureWrite(a);for(var c=d;c<d+a;c++)this._data_.setInt8(this._position_++,b.get(c))};c.readInt=function(){var b=this._data_.getInt32(this._position_,this._littleEndian_);this._position_+=4;return b};c.readShort=function(){var b=this._data_.getInt16(this._position_,this._littleEndian_);this._position_+=2;return b};c.readUnsignedByte=function(){return this._data_.getUint8(this._position_++)};c.readUnsignedInt=function(){var b=this._data_.getUint32(this._position_,this._littleEndian_);this._position_+=4;return int(b)};c.readUnsignedShort=function(){var b=this._data_.getUint16(this._position_,this._littleEndian_);this._position_+=2;return b};c.readUTF=function(){return this.readUTFBytes(this.readUnsignedShort())};c.readUnicode=function(b){var d="";b=this._position_+b;for(var a=0,c=0;this._position_<b;)c=this._byteView_[this._position_++],a=this._byteView_[this._position_++],d+=String.fromCharCode(a<<8|c);return d};c.readMultiByte=function(b,d){return"UNICODE"==d||"unicode"==d?this.readUnicode(b):this.readUTFBytes(b)};c.readUTFBytes=function(b){var d="";b=this._position_+b;for(var a=0,c=0,f=0;this._position_<b;)a=this._data_.getUint8(this._position_++),128>a?0!=a&&(d+=String.fromCharCode(a)):224>a?d+=String.fromCharCode((a&63)<<6|this._data_.getUint8(this._position_++)&127):240>a?(c=this._data_.getUint8(this._position_++),d+=String.fromCharCode((a&31)<<12|(c&127)<<6|this._data_.getUint8(this._position_++)&127)):(c=this._data_.getUint8(this._position_++),f=this._data_.getUint8(this._position_++),d+=String.fromCharCode((a&15)<<18|(c&127)<<12|f<<6&127|this._data_.getUint8(this._position_++)&127));return d};c.toString=function(){var b=this._position_;this._position_=0;var d=this.readUTFBytes(this.length);this._position_=b;return d};c.writeBoolean=function(b){this.writeByte(b?1:0)};c.writeByte=function(b){this.ensureWrite(this._position_+1);this._data_.setInt8(this._position_,b);this._position_+=1};c.writeBytes=function(b,d,a){void 0===d&&(d=0);void 0===a&&(a=0);if(0>d||0>a)throw"writeBytes error - Out of bounds";0==a&&(a=b.length-d);this.ensureWrite(this._position_+a);this._byteView_.set(b._byteView_.subarray(d,d+a),this._position_);this._position_+=a};c.writeArrayBuffer=function(b,d,a){void 0===d&&(d=0);void 0===a&&(a=0);if(0>d||0>a)throw"writeArrayBuffer error - Out of bounds";0==a&&(a=b.byteLength-d);this.ensureWrite(this._position_+a);b=new Uint8Array(b);this._byteView_.set(b.subarray(d,d+a),this._position_);this._position_+=a};c.writeDouble=function(b){this.ensureWrite(this._position_+8);this._data_.setFloat64(this._position_,b,this._littleEndian_);this._position_+=8};c.writeFloat=function(b){this.ensureWrite(this._position_+4);this._data_.setFloat32(this._position_,b,this._littleEndian_);this._position_+=4};c.writeInt=function(b){this.ensureWrite(this._position_+4);this._data_.setInt32(this._position_,b,this._littleEndian_);this._position_+=4};c.writeShort=function(b){this.ensureWrite(this._position_+2);this._data_.setInt16(this._position_,b,this._littleEndian_);this._position_+=2};c.writeUnsignedInt=function(b){this.ensureWrite(this._position_+4);this._data_.setUint32(this._position_,b,this._littleEndian_);this._position_+=4};c.writeUnsignedShort=function(b){this.ensureWrite(this._position_+2);this._data_.setUint16(this._position_,b,this._littleEndian_);this._position_+=2};c.writeUTF=function(b){b+="";this.writeUnsignedShort(this._getUTFBytesCount(b));this.writeUTFBytes(b)};c.writeUnicode=function(b){b+="";this.ensureWrite(this._position_+2*b.length);for(var d=0,a=0,c=b.length;a<c;a++)d=b.charCodeAt(a),this._byteView_[this._position_++]=d&255,this._byteView_[this._position_++]=d>>8};c.writeMultiByte=function(b,d){b+="";if("UNICODE"==d||"unicode"==d)return this.writeUnicode(b);this.writeUTFBytes(b)};c.writeUTFBytes=function(b){b+="";this.ensureWrite(this._position_+4*b.length);for(var d=0,a=b.length;d<a;d++){var c=b.charCodeAt(d);127>=c?this.writeByte(c):(2047>=c?this.writeByte(192|c>>6):(65535>=c?this.writeByte(224|c>>12):(this.writeByte(240|c>>18),this.writeByte(128|c>>12&63)),this.writeByte(128|c>>6&63)),this.writeByte(128|c&63))}this.length=this._position_};c.__fromBytes=function(b){this._byteView_=new Uint8Array(b.getData());this._allocated_=this.length=this._byteView_.length};c.__get=function(b){return this._data_.getUint8(b)};c._getUTFBytesCount=function(b){var d=0;b+="";for(var a=0,c=b.length;a<c;a++)var f=b.charCodeAt(a),d=127>=f?d+1:2047>=f?d+2:65535>=f?d+3:d+4;return d};c._byteAt_=function(b){return this._byteView_[b]};c._byteSet_=function(b,d){this.ensureWrite(b+1);this._byteView_[b]=d};c.uncompress=function(b){this._byteView_=(new Zlib.Inflate(this._byteView_)).decompress();this._data_=new DataView(this._byteView_.buffer);this._allocated_=this._length=this._byteView_.byteLength;this._position_=0};c.compress=function(b){this._byteView_=(new Zlib.Deflate(this._byteView_)).compress();this._data_=new DataView(this._byteView_.buffer);this._position_=this._allocated_=this._length=this._byteView_.byteLength};c.___resizeBuffer=function(b){try{var d=new Uint8Array(b);null!=this._byteView_&&(this._byteView_.length<=b?d.set(this._byteView_):d.set(this._byteView_.subarray(0,b)));this._byteView_=d;this._data_=new DataView(d.buffer)}catch(a){throw"___resizeBuffer err:"+b;}};c.__getBuffer=function(){this._data_.buffer.byteLength=this.length;return this._data_.buffer};c.__set=function(b,d){this._data_.setUint8(b,d)};c.setUint8Array=function(b){this._byteView_=b;this._data_=new DataView(b.buffer);this._length=b.byteLength;this._position_=0};c.readObject=function(){this._strTable=[];this._objTable=[];this._traitsTable=[];return this.readObject2()};c.readObject2=function(){var b=this.readByte();return this.readObjectValue(b)};c.readObjectValue=function(b){var d;switch(b){case 1:break;case 6:d=this.__readString();break;case 4:d=this.readInterger();break;case 2:d=!1;break;case 3:d=!0;break;case 10:d=this.readScriptObject();break;case 9:d=this.readArray();break;case 5:d=this.readDouble();break;case 12:d=this.readByteArray();break;default:console.log("Unknown object type tag!!!"+b)}return d};c.readByteArray=function(){var b=this.readUInt29();if(0==(b&1))return this.getObjRef(b>>1);var b=b>>1,d=new a;this._objTable.push(d);this.readBytes(d,0,b);return d};c.readInterger=function(){var b=this.readUInt29();return int(b<<3>>3)};c.getStrRef=function(b){return this._strTable[b]};c.getObjRef=function(b){return this._objTable[b]};c.__readString=function(){var b=this.readUInt29();if(0==(b&1))return this.getStrRef(b>>1);b>>=1;if(0==b)return"";b=this.readUTFBytes(b);this._strTable.push(b);return b};c.readTraits=function(b){if(1==(b&3))return b=this.getTraitReference(b>>2),b.propoties?b:{obj:{}};var d=4==(b&4),a=8==(b&8),c=b>>4,f=this.__readString();b={};b.className=f;b.propoties=[];b.dynamic=a;b.externalizable=d;if(0<c)for(d=0;d<c;d++)a=this.__readString(),b.propoties.push(a);this._traitsTable.push(b);return b};c.readScriptObject=function(){var b=this.readUInt29();if(0==(b&1))return this.getObjRef(b>>1);var b=this.readTraits(b),d=b.className,a=b.propoties;d=d&&""!=d?(d=iflash.net.getClassByAlias(d))?new d:{}:{};this._objTable.push(d);if(a)for(var c=0;c<a.length;c++)d[a[c]]=this.readObject2();if(b.dynamic)for(;;){b=this.__readString();if(null==b||0==b.length)break;d[b]=this.readObject2()}return d};c.readArray=function(){var b=this.readUInt29();if(0==(b&1))return this.getObjRef(b>>1);for(var d=null,b=b>>1,a;;){a=this.__readString();if(null==a||0==a.length)break;null==d&&(d={},this._objTable.push(d));d[a]=this.readObject2()}if(null==d)for(d=[],this._objTable.push(d),a=a=0;a<b;a++)d.push(this.readObject2());else for(a=0;a<b;a++)d[a.toString()]=this.readObject2();return d};c.readUInt29=function(){var b=0,d=this.readByte()&255;if(128>d)return d;b=(d&127)<<7;d=this.readByte()&255;if(128>d)return b|d;b=(b|d&127)<<7;d=this.readByte()&255;if(128>d)return b|d;b=(b|d&127)<<8;d=this.readByte()&255;return b|d};c.writeObject=function(b){this._strTable=[];this._objTable=[];this._traitsTable=[];this.writeObject2(b)};c.writeObject2=function(b){if(null==b)this.writeAMFNull();else{var d=typeof b;"string"==d?this.writeAMFString(b):"boolean"==d?this.writeAMFBoolean(b):"number"==d?-1!=String(b).indexOf(".")?this.writeAMFDouble(b):this.writeAMFInt(b):"object"==d&&(b instanceof Array?this.writeArray(b):b instanceof iflash.utils.ByteArray?this.writeAMFByteArray(b):this.writeCustomObject(b))}};c.writeAMFNull=function(){this.writeByte(1)};c.writeAMFString=function(b){this.writeByte(6);this.writeStringWithoutType(b)};c.writeStringWithoutType=function(b){if(0==b.length)this.writeUInt29(1);else{var d=this._strTable.indexOf(b);0<=d?this.writeUInt29(d<<1):(d=this._getUTFBytesCount(b),this.writeUInt29(d<<1|1),this.writeUTFBytes(b),this._strTable.push(b))}};c.writeAMFInt=function(b){b>=a.INT28_MIN_VALUE&&268435455>=b?(b&=536870911,this.writeByte(4),this.writeUInt29(b)):this.writeAMFDouble(b)};c.writeAMFDouble=function(b){this.writeByte(5);this.writeDouble(b)};c.writeAMFBoolean=function(b){b?this.writeByte(3):this.writeByte(2)};c.writeCustomObject=function(b){this.writeByte(10);var d=this._objTable.indexOf(b);if(-1!=d)this.writeUInt29(d<<1);else{this._objTable.push(b);d={};d.className=this.getAliasByObj(b);d.dynamic=!1;d.externalizable=!1;d.properties=[];for(var c in b)"function"!=typeof b[c]&&(d.properties.push(c),d.properties.sort());c=a.getTraitsInfoRef(this._traitsTable,d);var e=d.properties.length,f=0;if(0<=c)this.writeUInt29(c<<2|1);else for(this._traitsTable.push(d),this.writeUInt29(3|(d.externalizable?4:0)|(d.dynamic?8:0)|e<<4),this.writeStringWithoutType(d.className),f=0;f<e;f++)this.writeStringWithoutType(d.properties[f]);for(f=0;f<e;f++)this.writeObject2(b[d.properties[f]])}};c.getAliasByObj=function(b){b=iflash.utils.getQualifiedClassName(b);if(null==b||""==b)return"";b=iflash.utils.getDefinitionByName(b);if(null==b)return"";for(var d in iflash.net.classDic)if(iflash.net.classDic[d]==b)return d;return""};c.writeArray=function(b){this.writeByte(9);var d=b.length;if(-1<this._objTable.indexOf(b))this.writeUInt29(d<<1);else{this.writeUInt29(d<<1|1);this.writeStringWithoutType("");for(var a=0;a<d;a++)this.writeObject2(b[a]);this._objTable.push(b)}};c.writeAMFByteArray=function(b){this.writeByte(12);var d=this._objTable.indexOf(b);0<=d?this.writeUInt29(d<<1):(d=b.length,this.writeUInt29(d<<1|1),this.writeBytes(b,0,d))};c.writeMapAsECMAArray=function(b){this.writeByte(9);this.writeUInt29(1);var d=0,a;for(a in b)d++,this.writeStringWithoutType(a),this.writeObject2(b[a]);this.writeStringWithoutType("")};c.writeUInt29=function(b){128>b?this.writeByte(b):16384>b?(this.writeByte(b>>7&127|128),this.writeByte(b&127)):2097152>b?(this.writeByte(b>>14&127|128),this.writeByte(b>>7&127|128),this.writeByte(b&127)):1073741824>b?(this.writeByte(b>>22&127|128),this.writeByte(b>>15&127|128),this.writeByte(b>>8&127|128),this.writeByte(b&255)):console.log("Integer out of range: "+b)};c.getTraitReference=function(b){return this._traitsTable[b]};__getset(0,c,"bytesAvailable",function(){return this.length-this._position_});__getset(0,c,"length",function(){return this._length},function(b){this._allocated_<b?this.___resizeBuffer(this._allocated_=Math.floor(Math.max(b,2*this._allocated_))):this._allocated_>b&&this.___resizeBuffer(this._allocated_=b);this._length=b});__getset(0,c,"endian",function(){return this._littleEndian_?"littleEndian":"bigEndian"},function(b){this._littleEndian_="littleEndian"==b});__getset(0,c,"position",function(){return this._position_},function(b){b<this._length?this._position_=0>b?0:b:this.length=this._position_=b});a.__ofBuffer=function(b){var d=new a;d.length=d.allocated=b.byteLength;d.data=new DataView(b);d.byteView=new Uint8Array(b);return d};a.getTraitsInfoRef=function(b,d){for(var c=0,e=b.length,c=0;c<e;c++)if(a.equalsTraitsInfo(d,b[c]))return c;return-1};a.equalsTraitsInfo=function(b,d){if(b==d)return!0;if(!b.className===d.className||b.properties.length!=d.properties.length)return!1;var a=b.properties.length;b.properties.sort();d.properties.sort();for(var c=0;c<a;c++)if(b.properties[c]!=d.properties[c])return!1;return!0};a.BIG_ENDIAN="bigEndian";a.LITTLE_ENDIAN="littleEndian";a.UNDEFINED_TYPE=0;a.NULL_TYPE=1;a.FALSE_TYPE=2;a.TRUE_TYPE=3;a.INTEGER_TYPE=4;a.DOUBLE_TYPE=5;a.STRING_TYPE=6;a.XML_TYPE=7;a.DATE_TYPE=8;a.ARRAY_TYPE=9;a.OBJECT_TYPE=10;a.AVMPLUSXML_TYPE=11;a.BYTEARRAY_TYPE=12;a.EMPTY_STRING="";a.UINT29_MASK=536870911;a.INT28_MAX_VALUE=268435455;a.INT28_MIN_VALUE=-268435456;return a}(),int=function(){function a(b){this.pattern=/^.?[0-9]*(\.|E)?[0-9]*$/;void 0===b&&(b=0);return 1==b?1:this.pattern.test(b)?b?a.safe_int(Laya.__parseInt(b)):0:0}__class(a,"int",!1);var c=a.prototype;c.toString=function(b){void 0===b&&(b=10);return Number(this).toString(b)};c.valueOf=function(){return this};c.toExponential=function(b){void 0===b&&(b=0);return Number(this).toExponential(b)};c.toPrecision=function(b){void 0===b&&(b=0);return Number(this).toPrecision(b)};c.toFixed=function(b){void 0===b&&(b=0);return Number(this).toFixed(b)};a.safe_int=function(b){var d=b&65535;return(b>>16)+(d>>16)<<16|d&65535};a.MIN_VALUE=-2147483648;a.MAX_VALUE=2147483647;a.length=1;return a}(),EventDispatcher=function(){function a(b){this._eventListener_=null;this._type_=0;this.hidden=2;this._repaint_=0;this._modle_=null;this._private_={};this._id_=++a.__LASTID__;this._deepIndex=0}__class(a,"iflash.events.EventDispatcher",!0);var c=a.prototype;Laya.imps(c,{"iflash.events.IEventDispatcher":!0,"iflash.laya.system.IObject":!0});c.checkType=function(b){return 0!=(this._type_&b)};c.addType=function(b){this._type_|=b};c.removeType=function(b){this._type_&=~b};c.lyAddEventListener=function(b,d,c,e,f){void 0===c&&(c=!1);void 0===e&&(e=0);void 0===f&&(f=!1);if(null==d)return null;"added"==b&&a._useCountADDED++;if(this!=Laya.window&&"enterFrame"==b){var h=Laya.window.lyAddEventListener(b,d,c,e,f);h._target_=this;return h}d=Method.jsToEventFun(d);null==this._eventListener_&&(this._eventListener_=[]);h=this._eventListener_[b];if(!h)h=this._eventListener_[b]=[];else if(0<h.length){b=0;for(var k=h.length;b<k;b++)if(h[b]&&h[b].listener==d)return h[b]}d=EventListener.__create__(d,c,e,f,this);h.push(d);return d};c.addEventListener=function(b,d,a,c,f){void 0===a&&(a=!1);void 0===c&&(c=0);void 0===f&&(f=!1);this.lyAddEventListener(b,d,a,c,f)};c.dispatchEvent=function(b){if(b.bubbles){b._lytarget=this;for(var d=this,a=!1;d;)d.lyDispatchEvent(b)&&(a=!0),d=d.parent;return a}return this.lyDispatchEvent2(b)};c.addOneEventListener=function(b,d){null==this._eventListener_&&(this._eventListener_=[]);var a=this._eventListener_[b];a||(a=this._eventListener_[b]=[]);a.push(d)};c.lyDispatchEvent=function(b){if(null==this._eventListener_)return!1;var d;if("string"==typeof b){d=this._eventListener_[b];if(!d)return!1;b=new Event(b)}else if(d=this._eventListener_[b.type],!d)return!1;null==d[-1]&&(d[-1]=0);d[-1]++;var a=d.length+0,c=!1;b._lytarget=b._lytarget?b._lytarget:this;b._currentTarget_=this;for(var f=d.concat(),h=0;h<a;h++)f[h]&&0!=f[h].run(this,b)||(c=!0);if(c&&1==d[-1]){h=c=0;for(a=d.length;h<a;h++)f=d[h],null==f||f._deleted_||(d[c]=d[h],c++);d.length=c;0==d.length&&(this._eventListener_[b.type]=null)}d[-1]--;return!0};c.lyDispatchEvent2=function(b){if(null==this._eventListener_)return!1;var d;if("string"==typeof b){d=this._eventListener_[b];if(!d)return!1;b=new Event(b)}else if(d=this._eventListener_[b.type],!d)return!1;null==d[-1]&&(d[-1]=0);d[-1]++;var a=d.length+0,c=!1;b._lytarget=this;b._currentTarget_=this;for(var f=d.concat(),h=0;h<a;h++)if(8==b._type_){b._type_=0;break}else f[h]&&0!=f[h].run(this,b)||(c=!0);if(c&&1==d[-1]){h=c=0;for(a=d.length;h<a;h++)f=d[h],null==f||f._deleted_||(d[c]=d[h],c++);d.length=c;0==d.length&&(this._eventListener_[b.type]=null)}d[-1]--;return!0};c.hasEventListener=function(b){var d=this._eventListener_&&null!=this._eventListener_[b]&&0<this._eventListener_[b].length;if(d){b=this._eventListener_[b];for(var a=b.length,c=0;c<a&&!(d=null!=b[c]);c++);d||(b.length=0)}return d};c.removeEventListener=function(b,d,c){void 0===c&&(c=!1);if("enterFrame"==b&&this!=Laya.window)Laya.window.removeEventListener(b,d,c);else if(this._eventListener_)if(c=this._eventListener_[b])for(b=c.length-1;-1<b;b--){var e=c[b];e&&e.listener==d&&(e.destroy(),c.splice(b,1))}else"added"==b&&a._useCountADDED--};c.willTrigger=function(b){return!1};c.evalEvent=function(b){var d=this._eventListener_?this._eventListener_[b.type]:null,a=null==d?0:d.length;if(a){for(var d=d.concat(),c=0;c<a;++c){var f=d[c];if(f&&(b._currentTarget_=this,f.run(this,b),b.stopsImmediatePropagation))return!0}return b.stopsPropagation}return!1};c._removeEvents_=function(){this._eventListener_=null};__getset(0,c,"deleted",function(){return 0!=(this._type_&1)},function(b){0==(this._type_&1)&&(this._type_|=1,this._eventListener_=null)});__getset(1,a,"_isOpenTypeAdded",function(){return 0!=a._useCountADDED});a._useCountADDED=0;a.TYPE_DELETED=1;a.document=null;a.window=null;a.__NULLARRAY__=[];a.__LASTID__=0;return a}(),Event=function(){function a(b,d,a,c){this._currentTarget_=this._lytarget=this.type=null;this._type_=0;this._lyData=null;void 0===d&&(d=!1);void 0===a&&(a=!1);this._type_=0;this.bubbles=d;this.type=b;this.cancelable=a;!this._lyData&&(this._lyData=c)}__class(a,"iflash.events.Event",!1);var c=a.prototype;c._lysetTarget=function(b){this._lytarget=b};c.clone=function(){return new a(this.type,this.bubbles,this.cancelable,this._lyData)};c.stopPropagation=function(){this.stopsPropagation=this.returnValue=!0};c.stopImmediatePropagation=function(){this.stopsImmediatePropagation=!0};c.formatToString=function(b,d){for(var a=[],c=1,f=arguments.length;c<f;c++)a.push(arguments[c]);return null};c.isDefaultPrevented=function(){return!1};c.preventDefault=function(){};c.toString=function(){return"event:"+this._type_};c.destory=function(){this._currentTarget_=this._lytarget=null};c.toMouseEvent=function(){null==a.__helpMouseEvt__&&(a.__helpMouseEvt__=new MouseEvent(""));return a.__helpMouseEvt__};c.dispatch=function(b){if(b&&b.length){this.resetStops();var d=this.bubbles?b.length:1,a=b.length-1;this._lysetTarget(b[a]);this.dispatchTargetsEvt(this.toMouseEvent(),b,d,a);if(this instanceof iflash.events.TouchEvent)if("gesture"!=Multitouch.inputMode)this.dispatchTargetsEvt(this,b,d,a);else{var c=TouchInfo.dealGestrueHandler(this);c&&this.dispatchTargetsEvt(c,b,d,a)}}};c.dispatchTargetsEvt=function(b,d,a,c){for(var f=0;f<a&&!b.stopsImmediatePropagation&&(d[c-f].evalEvent(b),!b.stopsPropagation);f++);};c.resetStops=function(){this.stopsPropagation=this.stopsImmediatePropagation=!1};c.checkType=function(b){return 0!=(this._type_&b)};c.addType=function(b){this._type_|=b};c.removeType=function(b){this._type_&=~b};__getset(0,c,"eventPhase",function(){return 0});__getset(0,c,"stopsPropagation",function(){return 0!=(this._type_&16)},function(b){this._type_=b?this._type_|16:this._type_&-17});__getset(0,c,"returnValue",function(){return this.checkType(4)},function(b){b?this.addType(4):this.removeType(4)});__getset(0,c,"stopsImmediatePropagation",function(){return 0!=(this._type_&8)},function(b){this._type_=b?this._type_|8:this._type_&-9});__getset(0,c,"currentTarget",function(){return this._currentTarget_});__getset(0,c,"target",function(){return this._lytarget});__getset(0,c,"bubbles",function(){return this.checkType(1)},function(b){b?this.addType(1):this.removeType(1)});__getset(0,c,"cancelable",function(){return this.checkType(2)},function(b){b?this.addType(2):this.removeType(2)});__getset(0,c,"lyData",function(){return this._lyData},function(b){this._lyData=b});a.copyFromByObj=function(b,d,a){if(a)for(var c in a)b[c]=d[a[c]]};a.ACTIVATE="activate";a.ADDED="added";a.ADDED_TO_STAGE="addedToStage";a.CANCEL="cancel";a.CHANGE="change";a.DESTROY="destroy";a.CLEAR="clear";a.CLOSE="close";a.COMPLETE="complete";a.CONNECT="connect";a.CONTEXT3D_CREATE="context3DCreate";a.COPY="copy";a.CUT="cut";a.DEACTIVATE="deactivate";a.ENTER_FRAME="enterFrame";a.EXIT_FRAME="exitFrame";a.FRAME_CONSTRUCTED="frameConstructed";a.FULLSCREEN="fullScreen";a.ID3="id3";a.INIT="init";a.MOUSE_LEAVE="mouseLeave";a.OPEN="open";a.LOADED="loaded";a.PASTE="paste";a.ONRESHOW="onreshow";a.REMOVED="removed";a.REMOVED_FROM_STAGE="removedFromStage";a.RENDER="render";a.RESIZE="resize";a.REPOS="repos";a.SCROLL="scroll";a.SCROLLSIZE="scrollsize";a.SELECT="select";a.SELECT_ALL="selectAll";a.SOUND_COMPLETE="soundComplete";a.TAB_CHILDREN_CHANGE="tabChildrenChange";a.TAB_ENABLED_CHANGE="tabEnabledChange";a.TAB_INDEX_CHANGE="tabIndexChange";a.TEXT_INTERACTION_MODE_CHANGE="textInteractionModeChange";a.UNLOAD="unload";a.ONPARENT="onparent";a.TODOCUMENT="todocument";a.ERROR="error";a.MESSAGE="message";a.TYPE_BUBBLES=1;a.TYPE_CANCELABLE=2;a.TYPE_RETURNVALUE=4;a.TYPE_STOPSIMMEDIATEPROPAGATION=8;a.TYPE_STOPSPROPAGATION=16;a.__helpMouseEvt__=null;__static(a,["INPUT_EVENT_TYPE_MAP",function(){return this.INPUT_EVENT_TYPE_MAP={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"}}]);return a}(),EventListener=function(){function a(b,d,a,c,f){this.listener=null;this.useCapture=!1;this.priority=0;this.useWeakReference=!1;this._ower_=null;this._deleted_=!1;this._target_=this.data=null;this.reset(b,d,a,c,f)}__class(a,"iflash.events.EventListener",!0);var c=a.prototype;c.setOwer=function(b){this._ower_=b};c.run=function(b,d){if(this._ower_&&this._ower_.deleted||null==this.listener)return this.destroy(),!1;var a=!0;this._target_?(d._lytarget=this._target_,d._currentTarget_=this._target_,a=this.callListener(d),d._lytarget=b):a=this.callListener(d);a&&this.destroy();return!a};c.callListener=function(b){var d=!0;return d=0==this.listener.call(this._ower_,b)};c.reset=function(b,d,a,c,f){this.listener=b;this.useCapture=d;this.priority=a;this.useWeakReference=c;this._ower_=f;this._deleted_=!1;this.data=null};c.destroy=function(){this._deleted_||(this._target_=this.listener=this._ower_=null,this._deleted_=!0,this.data=null)};a.__create__=function(b,d,c,e,f){return new a(b,d,c,e,f)};return a}(),EventManager=function(){function a(){this._curid_=0;this._mouseOverNodes_=[];this._currentSysEvent=null;this._keyEvents_=[];this._delayTime_=100;this.DT_RD=50;this._chainTop=null;this._clientY=this._clientX=0;this._curChainTop=this._mouseDownTarget=null;this._isMoveUpdated=this.enableTouch=!1;this.dealAccepInput=this.dealAcceptSysMouseInput;this._bubbleChain=[]}__class(a,"iflash.events.EventManager",!0);var c=a.prototype;c.acceptSystemKeyEvent=function(b){this._keyEvents_.push(b)};c._dispatchKeyEvent_=function(b){switch(b.type){case "keyDown":Laya.document.onkeydown&&Laya.document.onkeydown(b);break;case "keyUp":Laya.document.onkeyup&&Laya.document.onkeyup(b)}b.currentTarget&&b.currentTarget.lyDispatchEvent(b);b._currentTarget_=Laya.document.activeElement;Laya.document.lyDispatchEvent(b)};c.dispatchSystemEvent=function(b){b=0;this._currentSysEvent&&this.dealAccepInput();if(this._keyEvents_.length){var d=this._keyEvents_,c=d.length;this._keyEvents_=[];for(b=0;b<c;b++){var e=new iflash.events.KeyboardEvent(d[b].type);e.changeEvent(d[b]);a.stage.lyDispatchEvent(e)}}};c.dealAcceptSysMouseInput=function(){a.clientToStage(this._currentSysEvent.clientX,this._currentSysEvent.clientY);if("mousemove"==this._currentSysEvent.type&&(a._mouseEvent=MouseEvent.copyFromSysEvent(this._currentSysEvent),0==a._mouseEvent.button)){this._curChainTop=a.stage._hitTest_(a._stageX,a._stageY);var b=[];if(this._chainTop!=this._curChainTop){for(var b=this.getTargetBubbleChain(this._curChainTop),d=-1,c=b.length,e=0;e<c&&!(this._bubbleChain.length<=e||b[e]!=this._bubbleChain[e]);e++)d=e;e=a._mouseEvent;e.type="mouseOut";e.bubbles=!0;e.relatedObject=this._curChainTop;e.dispatch(this._bubbleChain);c=[];for(e=this._bubbleChain.length-1;e>d;e--){var f=a._mouseEvent;f.type="rollOut";f.bubbles=!1;f.relatedObject=this._curChainTop;c.length=0;c.push(this._bubbleChain[e]);f.dispatch(c)}for(e=b.length-1;e>d;e--)f=a._mouseEvent,f.type="rollOver",f.bubbles=!1,f.relatedObject=this._chainTop,c.length=0,c.push(b[e]),f.dispatch(c);d=a._mouseEvent;d.type="mouseOver";d.bubbles=!0;d.relatedObject=this._chainTop;d.dispatch(b);this._chainTop=this._curChainTop;this._bubbleChain=b}if(a._stageX!=this._clientX||a._stageY!=this._clientY)this._clientX=a._stageX,this._clientY=a._stageY,b=a._mouseEvent,b.bubbles=!0,b.relatedObject=this._chainTop,b.type="mouseMove",this._bubbleChain&&b.dispatch(this._bubbleChain);a._mouseEvent&&a._mouseEvent.destory();this._currentSysEvent=null}};c.dealAcceptTouchInput=function(){0!=this._currentSysEvent.touches.length?"touchmove"==this._currentSysEvent.type&&this._isMoveUpdated&&(this._isMoveUpdated=!1,TouchEvent.touchSysEvent(this._currentSysEvent,__bind(this,this.touchMoveInterval))):this._currentSysEvent=null};c.touchMoveInterval=function(b){var d=TouchInfo.getTouchInfo(b);d.curChainTop=a.stage._hitTest_(b.stageX,b.stageY);if(d.chainTop!=d.curChainTop){for(var c=this.getTargetBubbleChain(d.curChainTop),e=-1,f=c.length,h=0;h<f&&!(d.bubbleChain.length<=h||c[h]!=d.bubbleChain[h]);h++)e=h;b.type="touchOut";b.bubbles=!0;b.relatedObject=d.curChainTop;b.dispatch(d.bubbleChain);f=[];for(h=d.bubbleChain.length-1;h>e;h--)b.type="touchRollOut",b.bubbles=!1,b.relatedObject=d.curChainTop,f.length=0,f.push(d.bubbleChain[h]),b.dispatch(f);for(h=c.length-1;h>e;h--)b.type="touchRollOver",b.bubbles=!1,b.relatedObject=d.chainTop,f.length=0,f.push(c[h]),b.dispatch(f);b.type="touchOver";b.bubbles=!0;b.relatedObject=d.chainTop;b.dispatch(c);d.chainTop=d.curChainTop;d.bubbleChain=c}if(b.stageX!=d.stageX||b.stageY!=d.stageY)b.bubbles=!0,b.type="touchMove",b.relatedObject=d.chainTop,d.bubbleChain&&b.dispatch(d.bubbleChain),d.touchMove(b);b&&b.destory()};c.getTargetBubbleChain=function(b){for(var d=[];b;)d.unshift(b),b=b.parent;return d};c.dispatchTargetEvent=function(b,d){d.dispatch(this.getTargetBubbleChain(b))};c.acceptSystemMouseEvent=function(b){this._currentSysEvent=b;TouchEvent.isTypeMove(this._currentSysEvent.type)?this._isMoveUpdated=!0:this.enableTouch?TouchEvent.touchSysEvent(b,__bind(this,this.touchMomentHandler)):(a._mouseEvent=MouseEvent.copyFromSysEvent(this._currentSysEvent),0==a._mouseEvent.button&&(this._curChainTop=a.stage._hitTest_(a._stageX,a._stageY),this.dispatchTargetEvent(this._curChainTop,a._mouseEvent),"mousedown"==this._currentSysEvent.type?this._mouseDownTarget=this._curChainTop:"mouseup"==this._currentSysEvent.type&&(this._curChainTop==this._mouseDownTarget&&(a._mouseEvent.bubbles=!0,a._mouseEvent.type="click",this.dispatchTargetEvent(this._curChainTop,a._mouseEvent)),this._mouseDownTarget=null),a._mouseEvent&&a._mouseEvent.destory()))};c.touchMomentHandler=function(b){var d=TouchInfo.getTouchInfo(b);d.curChainTop=a.stage._hitTest_(a._stageX,a._stageY);d.stageX=a._stageX;d.stageY=a._stageY;"touchBegin"==b.type?(d.touchBegin(b),this.dispatchTargetEvent(d.curChainTop,b)):"touchEnd"==b.type&&(d.touchEnd(b),this.dispatchTargetEvent(d.curChainTop,b),d.curChainTop==d.touchDownTarget&&(b.type="touchTap",this.dispatchTargetEvent(d.curChainTop,b)),d.destory());b&&b.destory()};a.clientToStage=function(b,d){if(Laya.window.mouseX!=b||Laya.window.mouseY!=d){var c=b;0!=Laya.document.adapter.screenRotate&&(b=d,d=Laya.window.innerHeight-c);a._stageX=(b-Laya.document.body._left_)/Laya.window.scale.x;a._stageY=(d-Laya.document.body._top_)/Laya.window.scale.y;Laya.document.mouseX=a._stageX;Laya.document.mouseY=a._stageY;Laya.window.mouseX=b;Laya.window.mouseY=d}};a.mgr=new a;a.stage=null;a._stageX=0;a._stageY=0;a._mouseEvent=null;__static(a,["HELPER_POINT",function(){return this.HELPER_POINT=new Point}]);return a}(),EventPhase=function(){function a(){}__class(a,"iflash.events.EventPhase",!0);a.AT_TARGET=2;a.BUBBLING_PHASE=3;a.CAPTURING_PHASE=1;return a}(),GesturePhase=function(){function a(){}__class(a,"iflash.events.GesturePhase",!0);a.ALL="all";a.BEGIN="begin";a.END="end";a.UPDATE="update";__static(a,["GESTURE_PHASE_MAP_TOUCH",function(){return this.GESTURE_PHASE_MAP_TOUCH={touchBegin:"begin",touchEnd:"end",touchMove:"update",touchOut:"all",touchOver:"all",touchRollOut:"all",touchRollOver:"all",touchTap:"end"}}]);return a}(),ThrottleType=function(){function a(){}__class(a,"iflash.events.ThrottleType",!0);a.PAUSE="pause";a.RESUME="resume";a.THROTTLE="throttle";return a}(),Touch=function(){function a(b){this._id_=0;this._previousGlobalY_=this._previousGlobalX_=this._globalY_=this._globalX_=NaN;this._tapCount_=0;this._target_=this._phase_=null;this._height_=this._width_=this._pressure_=this._timestamp_=NaN;this.nativeEvent=this.touchType=this._bubbleChain_=null;this._id_=b;this._tapCount_=0;this._phase_="hover";this._pressure_=this._width_=this._height_=1;this._bubbleChain_=[]}__class(a,"iflash.events.Touch",!0);var c=a.prototype;c.getLocation=function(b,d){a.SHELPER_POINT.setTo(this._globalX_,this._globalY_);b.globalToLocal(a.SHELPER_POINT,d);return d};c.getPreviousLocation=function(b,d){a.SHELPER_POINT.setTo(this._previousGlobalX_,this._previousGlobalY_);return b.globalToLocal(a.SHELPER_POINT,d)};c.getMovement=function(b,d){null==d&&(d=new Point);this.getLocation(b,d);var a=d.x,c=d.y;this.getPreviousLocation(b,d);d.setTo(a-d.x,c-d.y);return d};c.isTouching=function(b){return-1!=this._bubbleChain_.indexOf(b)};c.clone=function(){var b=new a(this._id_);b._globalX_=this._globalX_;b._globalY_=this._globalY_;b._previousGlobalX_=this._previousGlobalX_;b._previousGlobalY_=this._previousGlobalY_;b._phase_=this._phase_;b._tapCount_=this._tapCount_;b._timestamp_=this._timestamp_;b._pressure_=this._pressure_;b._width_=this._width_;b._height_=this._height_;b.target=this._target_;b.touchType=this.touchType;b.nativeEvent=this.nativeEvent;return b};c.updateBubbleChain=function(){if(this._target_){var b=1,d=this._target_;this._bubbleChain_.length=1;for(this._bubbleChain_[0]=d;null!=(d=d.parent);)this._bubbleChain_[int(b++)]=d}else this._bubbleChain_.length=0};c.dispatchEvent=function(b){this._target_&&b.dispatch(this._bubbleChain_)};__getset(0,c,"id",function(){return this._id_});__getset(0,c,"previousGlobalX",function(){return this._previousGlobalX_});__getset(0,c,"previousGlobalY",function(){return this._previousGlobalY_});__getset(0,c,"globalX",function(){return this._globalX_},function(b){this._previousGlobalX_=this._globalX_!=this._globalX_?b:this._globalX_;this._globalX_=b});__getset(0,c,"globalY",function(){return this._globalY_},function(b){this._previousGlobalY_=this._globalY_!=this._globalY_?b:this._globalY_;this._globalY_=b});__getset(0,c,"target",function(){return this._target_},function(b){this._target_!=b&&(this._target_=b,this.updateBubbleChain())});__getset(0,c,"bubbleChain",function(){return this._bubbleChain_.concat()});__static(a,["SHELPER_MATRIX",function(){return this.SHELPER_MATRIX=new Matrix},"SHELPER_POINT",function(){return this.SHELPER_POINT=new Point}]);return a}(),TouchEventIntent=function(){function a(){}__class(a,"iflash.events.TouchEventIntent",!0);a.ERASER="eraser";a.PEN="pen";a.UNKNOWN="unknown";return a}(),TouchInfo=function(){function a(b){this.endTimestamp=this.startTimestamp=this.touchPointID=0;this.chainTop=null;this.endY=this.endX=this.startY=this.startX=this.stageY=this.stageX=0;this.touchEvent=this.touchDownTarget=this.curChainTop=null;this.bubbleChain=[];this.touchEvent=b;this.touchPointID=b.touchPointID}__class(a,"iflash.events.TouchInfo",!0);var c=a.prototype;c.touchBegin=function(b){this.startTimestamp=b.timestamp;this.startX=b.stageX;this.startY=b.stageY;this.stageX=this.startX;this.stageY=this.startY;this.endX=this.startX;this.endY=this.startY;this.touchDownTarget=this.curChainTop};c.touchEnd=function(b){this.endTimestamp=b.timestamp;this.endX=b.stageX;this.endY=b.stageY;this.stageX=this.endX;this.stageY=this.endY};c.touchMove=function(b){this.stageX=b.stageX;this.stageY=b.stageY};c.destory=function(){for(var b=0;b<a.touchs.length;b++)if(this.touchPointID==a.touchs[b].touchPointID){a.touchs.splice(b,1);break}delete a.touchInfos[this.touchPointID];this.touchEvent=this.touchDownTarget=this.curChainTop=this.chainTop=this.bubbleChain=null};__getset(0,c,"localX",function(){return this.curChainTop.mouseX});__getset(0,c,"localY",function(){return this.curChainTop.mouseY});a.getTouchInfo=function(b){var d=iflash.events.TouchInfo.touchInfos[b.touchPointID];null==d&&(d=iflash.events.TouchInfo.touchInfos[b.touchPointID]=new a(b),a.touchs.push(d));return d};a.dealGestrueHandler=function(b){var d=a.touchs.length;2==d&&"touchBegin"==b.type?(a.twoFingerGapTime=Math.abs(a.touchs[1].startTimestamp-a.touchs[0].startTimestamp),a.twoFignerDownTime=a.touchs[0].startTimestamp,a.isTwoFingerDown=!0,a.twoFignerDownCount=1):2!=d&&"touchEnd"==b.type&&(a.isTwoFingerDown=!1,a.twoFignerDownCount=0);if("touchTap"==b.type&&2==d&&100>a.twoFingerGapTime&&50>b.timestamp-a.twoFignerDownTime-100)return d=GestureEvent.getGestureEvent(),d._lytarget=b.target,d;var c=b.timestamp-a.twoFignerDownTime;if(2==d&&120<c&&("touchMove"==b.type||"touchEnd"==b.type)){var e=a.touchInfos[b.touchPointID],d=a.touchInfos[0],c=a.touchInfos[1],f=new TransformGestureEvent("",!0,!1,GesturePhase.GESTURE_PHASE_MAP_TOUCH[b.type]);f.localX=b.localX;f.localY=b.localY;f._lytarget=b._lytarget;f.shiftKey=b.shiftKey;f.ctrlKey=b.ctrlKey;f.altKey=b.altKey;f.offsetX=b.stageX-e.stageX;f.offsetY=b.stageY-e.stageY;if("touchEnd"==a.twoFignerTouchType)return a.twoFignerTouchType="",null;a.twoFignerTouchType=b.type;if(10<(d.stageX-d.startX)*(c.stageX-c.startX)&&10<(d.stageY-d.startY)*(c.stageY-c.startY))f.type="gesturePan";else{0<a.twoFignerDownCount&&(f.phase="begin",a.twoFignerDownCount=0);var h=c.startX-d.startX,k=c.startY-d.startY;b=c.stageX-d.stageX;var e=c.stageY-d.stageY,l=Math.sqrt(b*b+e*e),h=Math.acos((h*b+k*e)/(Math.sqrt(h*h+k*k)*l)),k=c.endX-d.endX,m=c.endY-d.endY;b=1>Math.abs(b)?1:b;var e=1>Math.abs(e)?1:e,k=1>Math.abs(k)?1:k,m=1>Math.abs(m)?1:m,n=b/k,p=e/m,n=1.1<n?1.1:n,p=1.1<p?1.1:p;f.scaleX=.9>n?.9:n;f.scaleY=.9>p?.9:p;f.type="gestureZoom";h>20*a.RAD_UNIT&&(f.rotation=(0<=k*e-m*b?1:-1)*Math.acos((k*b+m*e)/(Math.sqrt(k*k+m*m)*l))/a.RAD_UNIT,f.type="gestureRotate");c.endX=c.stageX;d.endX=d.stageX;c.endY=c.stageY;d.endY=d.stageY}return f}1==d&&"touchBegin"==b.type?(a.isSingleFingerDown=!0,a.singleFignerDownTime=b.timestamp):1==d&&"touchEnd"==b.type&&(a.isSingleFingerDown=!1,a.singleFignerDownTime=0);return 2==d&&"touchEnd"==b.type&&100<=a.twoFingerGapTime?(d=PressAndTapGestureEvent.getInstance(),d._lytarget=b.target,d.tapLocalX=b.localX,d.tapLocalY=b.localY,d.tapStageX=b.stageX,d.tapStageY=b.stageY,d):1==d&&a.isSingleFingerDown&&"touchMove"==b.type&&0!=a.singleFignerDownTime&&80<b.timestamp-a.singleFignerDownTime?(a.singleFignerDownTime=0,d=a.touchs[0],c=new TransformGestureEvent("gestureSwipe",!0,!1,GesturePhase.GESTURE_PHASE_MAP_TOUCH[b.type]),c.localX=b.localX,c.localY=b.localY,c._lytarget=b._lytarget,c.shiftKey=b.shiftKey,c.ctrlKey=b.ctrlKey,c.altKey=b.altKey,c.offsetX=0<b.stageX-d.startX?1:-1,c.offsetY=0<b.stageY-d.startY?1:-1,c):null};a.touchInfos={};a.touchs=[];a.TWO_FINGER_GAP_MIN_TIME=100;a.GESTURE_SWIPE_MIN_TIME=80;a.TRANSFORM_MIN_SIZE=10;a.MIN_ROTATION_NUM=20;a.twoFingerGapTime=0;a.twoFignerDownTime=0;a.singleFignerDownTime=0;a.isSingleFingerDown=!1;a.isTwoFingerDown=!1;a.twoFignerDownCount=0;a.twoFignerTouchType="";__static(a,["RAD_UNIT",function(){return this.RAD_UNIT=Math.PI/180}]);return a}(),TouchPhase=function(){function a(){}__class(a,"iflash.events.TouchPhase",!0);a.HOVER="hover";a.BEGAN="began";a.MOVED="moved";a.STATIONARY="stationary";a.ENDED="ended";return a}(),DocumentAdapter=function(){function a(){this._screenRotate_=this.autoScaleDifference=0;this._autorotate_="rotator";this._onWindows=-1<navigator.userAgent.indexOf("Windows");Laya.window.lyAddEventListener("resize",__bind(this,this.onResize))}__class(a,"iflash.laya.utils.DocumentAdapter",!0);var c=a.prototype;c.onResize=function(b){if(this._onWindows||!(Stage.stage.focus instanceof iflash.text.TextField))if(b=Laya.document.body){var d=Laya.window,a=d.innerWidth/Stage.stage.width,c=d.innerHeight/Stage.stage.height;b.width=Stage.stage.width;b.height=Stage.stage.height;.02>Math.abs(a-1)&&(a=1);.02>Math.abs(c-1)&&(c=1);"noScale"==Stage.stage.scaleMode?c=a=1:"noBorder"==Stage.stage.scaleMode?a<c?a=c:c=a:"showAll"==Stage.stage.scaleMode&&(a>c?a=c:c=a);d.scale.x=a;d.scale.y=c;b.scaleX=a;b.scaleY=c;var f=Math.floor((d.innerWidth-Stage.stage.width*a)/2),h=Math.floor((d.innerHeight-Stage.stage.height*c)/2);""!=Stage.stage.align&&(StageAlign.isTop(Stage.stage.align)&&(h=0),StageAlign.isBottom(Stage.stage.align)&&(h=Math.floor(d.innerHeight-Stage.stage.height*c)),StageAlign.isLeft(Stage.stage.align)&&(f=0),StageAlign.isRight(Stage.stage.align)&&(f=Math.floor(d.innerWidth-Stage.stage.width*a)));b.x=f;b.y=h}};__getset(0,c,"autorotate",function(){return this._autorotate_},function(b){this._autorotate_=b.toLowerCase();Laya.window.lyDispatchEvent("resize")});__getset(0,c,"screenRotate",function(){return this._screenRotate_});return a}(),DynamicProperties=function(){function a(b,d,c,e){this.valueTo=this.nameWith=null;this.htmlNeed=!1;void 0===e&&(e=!0);this.htmlNeed=e;null!=b&&(d=a._regProperties.exec(d),e=d[2],this.valueTo=d[4]?a.__CALCULATORTYPE__[d[4]]:StringMethod.strToStr,this.nameWith=null==c?e:c,b.prototype["??"+e]=this)}__class(a,"iflash.laya.utils.DynamicProperties",!0);var c=a.prototype;c.setValue=function(b,d){b[this.nameWith]=this.valueTo(d)};c.getValue=function(b){return b instanceof iflash.media.AudioElement||"autoplay"!=this.nameWith?b[this.nameWith]:null};c.toHTML=function(){return this.htmlNeed};a.reg=function(b,d,c,e){void 0===e&&(e=!0);return 0>d.indexOf("(")?new a(b,d,c,e):new DynamicMethods(b,d,c,e)};a._regProperties=/(\s*)([\w-]+)\s*(=\s*(\w))?/;__static(a,["__CALCULATORTYPE__",function(){return this.__CALCULATORTYPE__={s:StringMethod.strToStr,i:StringMethod.toInt,I:StringMethod.strToBigInt,d:StringMethod.toFloat,b:StringMethod.toBool,t:StringMethod.strToTime}}]);return a}(),MatrixUtil=function(){function a(){throw Error("can not new MatrixUtil");}__class(a,"iflash.laya.utils.MatrixUtil",!0);a.transformPoint=function(c,b,d){return a.transformCoords(c,b.x,b.y,d)};a.transformCoords=function(a,b,d,g){null==g&&(g=new Point);g.x=a.a*b+a.c*d+a.tx;g.y=a.d*d+a.b*b+a.ty;return g};a.skew=function(a,b,d){var g=Math.sin(b);b=Math.cos(b);var e=Math.sin(d);d=Math.cos(d);a.setTransform(a.a*d-a.b*g,a.a*e+a.b*b,a.c*d-a.d*g,a.c*e+a.d*b,a.tx*d-a.ty*g,a.tx*e+a.ty*b)};a.prependMatrix=function(a,b){a.setTransform(a.a*b.a+a.c*b.b,a.b*b.a+a.d*b.b,a.a*b.c+a.c*b.d,a.b*b.c+a.d*b.d,a.tx+a.a*b.tx+a.c*b.ty,a.ty+a.b*b.tx+a.d*b.ty)};a.prependTranslation=function(a,b,d){a.tx+=a.a*b+a.c*d;a.ty+=a.b*b+a.d*d};a.prependScale=function(a,b,d){a.setTransform(a.a*b,a.b*b,a.c*d,a.d*d,a.tx,a.ty)};a.prependRotation=function(a,b){var d=Math.sin(b),g=Math.cos(b);a.setTransform(a.a*g+a.c*d,a.b*g+a.d*d,a.c*g-a.a*d,a.d*g-a.b*d,a.tx,a.ty)};a.prependSkew=function(a,b,d){var g=Math.sin(b);b=Math.cos(b);var e=Math.sin(d);d=Math.cos(d);a.setTransform(a.a*d+a.c*e,a.b*d+a.d*e,a.c*b-a.a*g,a.d*b-a.b*g,a.tx,a.ty)};__static(a,["sRawData",function(){return this.sRawData=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},"sRawData2",function(){return this.sRawData2=__newvec(16,0)}]);return a}(),Method=function(){function a(){}__class(a,"iflash.laya.utils.Method",!0);a.getPath=function(a){if(null==a||""==a)return"";var b=a.indexOf("?");0>b&&a.indexOf("#");b=a.lastIndexOf("/");a=0<=b?a.substring(0,b+1):"/";"/"==a.charAt(0)&&(a="file://"+a);return a};a.formatUrl=function(c,b){Laya.config.urlToLower&&(c=c.toLowerCase());var d=a.__urlCache__[c];if(null!=d)return d;if(null==c)return"";":"==c.charAt(1)&&"/"==c.charAt(2)&&(c="file://"+c);if("/"==c.charAt(0))return Laya.window.location.fullPath+c.substring(1,c.length);null==b&&(b=Laya.window.location.fullPath);d=a.__urlCache__[b+"/"+c];if(null!=d)return d;0>c.indexOf("://")&&(c=b+"/"+c);d=c.split("/");d[1]="";for(var g,e=2,f=d.length;e<f;){g=d[e];if(null==g)break;""==g||"."==g?d.splice(e,1):".."==g?(d.splice(e-1,2),--e):e+=1}return c=d.join("/")};a.isNullOrEmpty=function(a){return null==a||""==a};a.removeFromeArray=function(a,b){var d=a.indexOf(b);0<=d&&a.splice(d)};a.InitAttributesToHTML=function(a,b){var d=0,g=0,e,f,h=[];f=a.split(";");d=0;for(g=f.length;d<g;d++)e=f[d].split(":"),1>e[0].length||(e={name:e[0],defaultv:e[1],namenew:e[2]},null==e.namenew&&(e.namenew=e.name),h.push(e),null!=b&&e.namenew!=e.name&&iflash.laya.utils.regXmlAttr(b,e.namenew,e.name));return h};a.jsonParse=function(a,b){try{return JSON.parse(a,b)}catch(d){}return null};a.JsFunctionErr=LAYAFNVOID;a.jsToEventFun=function(a){return"string"==typeof a?Browser.eval("(function(event){"+a+";})"):a};a.insert=function(a,b,d){if(0>b)throw"insert less than 0";if(b>=a.length)a.push(d);else if(0==b)a.unshift(d);else{for(var g=a.length;g>b;g--)a[g]=a[g-1];a[b]=d}};a.forseInsert=function(a,b,d){if(0>b)throw"insert less than 0";b>=a.length&&(a.length=b+1);a[b]=d};a.execScript=function(a,b){if(Laya.CONCHVER)Browser.eval(a,null);else try{Log.log("execScript:"+b);var d=Browser.document.createElement("script");d.type="text/javascript";d.text=a;Browser.document.getElementsByTagName("head")[0].appendChild(d)}catch(g){debugger}};a._JpgToPng=function(c){var b=Canvas.create(),d=c.width,g=int((c.height-1)/2);b.size(d,g);b.context.drawImage(c,0,0,d,g,0,0,d,g);var e=b.context.getImageData(0,0,d,g),f=e.data;null==f&&Browser.alert("JpgToPng err:"+c.src);null==a.__tmpCanvas__&&(a.__tmpCanvas__=Canvas.create());a.__tmpCanvas__.active();var h=a.__tmpCanvas__;h.size(d,g);h.context.drawImage(c,0,g+2,d,g,0,0,d,g);c=h.context.getImageData(0,0,d,g).data;for(var k=h=0,l=0;l<g;l++)for(h=l*d<<2,k=0;k<d;)h+=4,k++,f[h+3]=c[h];b.context.putImageData(e,0,0);return b};a.formatUrlType=function(a){1>=a.split("?").length||(a=a.slice(0,a.indexOf("?")));var b="";a=a.split("/");a=a[a.length-1];a=a.split(".");return b=1<a.length?a[a.length-1].toLowerCase():"."};a.__tmpCanvas__=null;a._TEMP_FUN_=null;a.__urlCache__=[];return a}(),StringMethod=function(){function a(){}__class(a,"iflash.laya.utils.StringMethod",!0);a.nChar=function(a,b){if(1>b)return"";for(var d="",g=0;g<b;g++)d+=a;return d};a.strToStr=function(a){return a};a.toInt=function(a){return"string"==typeof a?Laya.__parseInt(a):a};a.toFloat=function(a){return a};a.toBool=function(a){return 1==a||"true"==a};a.strToBigInt=function(a){return"infinite"==a?2147483647:Laya.__parseInt(a)};a.strToTime=function(a){if(null==a)return 0;var b=1,d=a.length;"s"==a.charAt(d-1)&&("ms"==a.substring(0,d-2)?d-=2:(d--,b=1E3));return Math.floor(parseFloat(a.substring(0,d))*b)};a.strTrim=function(c){return c.replace(a._string_Trim_,"")};a.replaceBlankChar=function(c,b){return c.replace(a._string_Trim_,"").replace(a._removeBlankChar_,b?b:" ")};a.subString=function(a,b,d,g,e){if(null==a)return g;var f=a.indexOf(b),h=0;if(0>f)return g;f+=b.length;if(null==d)return a.substring(f,a.length);0>(h=a.indexOf(d,f))&&(h=a.length);null!=e&&(e.x=f,e.y=h);return a.substring(f,h)};a.getColorString=function(a){if(!a&&0!=a)return null;a=a.toString(16).toUpperCase();a=a.replace(/0x|0X/,"");var b=6-a.length,d="";if(6>a.length)for(var g=0;g<b;g++)d+=0;return"#"+d+a};a._string_Trim_=RegExp("(^\\s*)|(\\s*$)","g");a._string_LTrim_=RegExp("(^\\s*)","g");a._string_RTrim_=RegExp("(\\s*$)","g");a._removeBlankChar_=RegExp("\\s+","g");a._WORDSIZEMAP_=[];return a}(),TimerObject=function(){function a(b,d,c,e,f){this.owner=this._listener_=null;this.isdel=!1;this.runCount=this.repeatCount=this.delay=this.nextTime=this.startTime=NaN;this.data=null;this.name="";void 0===e&&(e=0);void 0===f&&(f=0);this.isdel=!1;this.delay=e;this.repeatCount=f;this._reset_(b,d,c);this.name=""+a.NameConut++}__class(a,"iflash.laya.utils.TimerObject",!0);var c=a.prototype;Laya.imps(c,{"iflash.laya.system.IObject":!0});c._reset_=function(b,d,a){this.deleted=!1;this.data=null;this._listener_=d;this.owner=a;this.startTime=b;this.isdel=!1;this.runCount=0;this.nextTime=this.startTime+this.delay;return this};c.run=function(b){if(this.isdel)return!1;if(0==this.delay)return this.owner&&this.owner.deleted||this._listener_&&this._listener_.call(this.owner,b,b-this.startTime,this);if(this.nextTime==b)return!0;for(;this.nextTime<=b;){if(this.owner&&this.owner.deleted||null!=this._listener_&&0==this._listener_.call(this.owner,b,b-this.startTime,this))return!(this.deleted=!0);this.nextTime+=this.delay;this.runCount++;if(0<this.repeatCount&&this.runCount>=this.repeatCount)return!(this.deleted=!0)}return!0};__getset(0,c,"listener",function(){return this._listener_});__getset(0,c,"deleted",function(){return this.isdel},function(b){if(this.isdel=b)this.data=this.owner=this._listener_=null});a.NameConut=0;return a}(),URI=function(){function a(a){this.path=this.url=null;this.url=a;this.path=Method.getPath(a)}__class(a,"iflash.laya.utils.URI",!1);a.prototype.toString=function(){return this.url};return a}(),byteArrayContextCMD=function(){function a(){this.result=null;this.result=new ByteArray}__class(a,"iflash.utils.byteArrayContextCMD",!0);var c=a.prototype;c.clear=function(){this.result.clear()};c.getBuffer=function(){return this.result};c.save=function(){this.result.writeShort(0)};c.restore=function(){this.result.writeShort(1)};c.beginPath=function(){this.result.writeShort(2)};c.drawImage=function(b){for(var d=[],a=0,c=arguments.length;a<c;a++)d.push(arguments[a]);3==d.length?(this.result.writeShort(3),this.result.writeFloat(d[1]),this.result.writeFloat(d[2])):5==d.length?(this.result.writeShort(4),this.result.writeDouble(d[0].id),this.result.writeFloat(d[1]),this.result.writeFloat(d[2]),this.result.writeFloat(d[3]),this.result.writeFloat(d[4])):(this.result.writeShort(5),this.result.writeDouble(d[0].id),this.result.writeFloat(d[1]),this.result.writeFloat(d[2]),this.result.writeFloat(d[3]),this.result.writeFloat(d[4]),this.result.writeFloat(d[5]),this.result.writeFloat(d[6]),this.result.writeFloat(d[7]),this.result.writeFloat(d[8]))};c.rect=function(b,d,a,c){this.result.writeShort(6);this.result.writeInt(b);this.result.writeInt(d);this.result.writeInt(a);this.result.writeInt(c)};c.clip=function(){this.result.writeShort(7);return!0};c.scale=function(b,d){this.result.writeShort(8);this.result.writeFloat(b);this.result.writeFloat(d)};c.translate=function(b,d){this.result.writeShort(9);this.result.writeFloat(b);this.result.writeFloat(d)};c.transform=function(b,d,a,c,f,h){this.result.writeShort(10);this.result.writeFloat(b);this.result.writeFloat(d);this.result.writeFloat(a);this.result.writeFloat(c);this.result.writeFloat(f);this.result.writeFloat(h)};c.clearRect=function(b,d,a,c){this.result.writeShort(12);this.result.writeInt(b);this.result.writeInt(d);this.result.writeInt(a);this.result.writeInt(c)};c.closePath=function(){this.result.writeShort(13)};c.fillRect=function(b,d,a,c){this.result.writeShort(15);this.result.writeInt(b);this.result.writeInt(d);this.result.writeInt(a);this.result.writeInt(c)};c.stroke=function(){this.result.writeShort(17)};c.strokeRect=function(b,d,a,c){this.result.writeShort(18);this.result.writeInt(b);this.result.writeInt(d);this.result.writeInt(a);this.result.writeInt(c)};c.fillText=function(b,d,a){this.result.writeShort(19);this.result.writeUTF(b);this.result.writeFloat(d);this.result.writeFloat(a)};c.fill=function(){this.result.writeShort(20)};c.moveTo=function(b,d){this.result.writeShort(24);this.result.writeFloat(b);this.result.writeFloat(d)};c.lineTo=function(b,d){this.result.writeShort(25);this.result.writeFloat(b);this.result.writeFloat(d)};c.arc=function(b,d,a,c,f,h){this.result.writeShort(26);this.result.writeInt(b);this.result.writeInt(d)};c.arcTo=LAYAFNVOID;c.bezierCurveTo=LAYAFNVOID;c.quadraticCurveTo=LAYAFNVOID;__getset(0,c,"globalAlpha",null,function(b){this.result.writeShort(11);this.result.writeFloat(b)});__getset(0,c,"fillStyle",null,function(b){this.result.writeShort(14);this.result.writeUTF(b)});__getset(0,c,"lineJoin",null,function(b){this.result.writeShort(23);this.result.writeUTF(b)});__getset(0,c,"strokeStyle",null,function(b){this.result.writeShort(16);this.result.writeUTF(b)});__getset(0,c,"lineCap",null,function(b){this.result.writeShort(21);this.result.writeUTF(b)});__getset(0,c,"lineWidth",null,function(b){this.result.writeShort(22);this.result.writeInt(b)});__static(a,["INSTANCE",function(){return this.INSTANCE=new a}]);return a}(),ConchRenderVCanvas=function(){function a(){}__class(a,"iflash.utils.ConchRenderVCanvas",!0);a.prototype.uploadConch=function(){a.cmdArray.length=0;for(var c,b=0,d=a.maps.length;b<d;b++){var g=a.maps[b];c=VirtualCanvas.getConchSring(g._cmds_);a.cmdArray.push(g.conchVirtualBitmap.id+"\u0006"+c||"");c=g.conchVirtualBitmap;a.maps.splice(b,1);g.inMap=!1;b--;d--}b=a.cmdArray.join("\u0003");c&&c.setAllBuffer(b)};a.CMD_SAVE=0;a.CMD_RESTORE=1;a.CMD_BEGINPATH=2;a.CMD_DRAWIMAGE3=3;a.CMD_DRAWIMAGE5=4;a.CMD_DRAWIMAGE9=5;a.CMD_RECT=6;a.CMD_CLIP=7;a.CMD_SCALE=8;a.CMD_TRANSLATE=9;a.CMD_TRANSFORM=10;a.CMD_GLOBALALPHA=11;a.CMD_CLEARRECT=12;a.CMD_CLOSEPATH=13;a.CMD_FILLSTYLE=14;a.CMD_FILLRECT=15;a.CMD_STROKESTYLE=16;a.CMD_STROKE=17;a.CMD_STROKERECT=18;a.CMD_FILLTEXT=19;a.CMD_FILL=20;a.CMD_LINECAP=21;a.CMD_LINEWIDTH=22;a.CMD_LINEJOIN=23;a.CMD_MOVETO=24;a.CMD_LINETO=25;a.CMD_ARC=26;a.CMD_ARCTO=27;a.CMD_BEZIERCURVETO=28;a.CMD_QUADRATICCURVETO=29;a.CMD_DRAWCANVAS3=30;a.CMD_DRAWCANCAS5=31;a.CMD_DRAWCANCAS9=32;a.CMD_FONT=33;a.CMD_DRAWREPEAT=34;a.CMD_GLOBALCOMPOSITEOPERATION=35;a.CMD_TEXTBASELINE=36;a.maps=[];a.INSTANCE=new a;a.cmdArray=[];__static(a,["CMDMAP",function(){return this.CMDMAP={_drawVCanvas_:-1,_save_:0,_restore_:1,_beginPath_:2,_drawImage3_:3,_drawImage5_:4,_drawImage9_:5,_rect_:6,_clip_:7,_scale_:8,_translate_:9,_transform_:10,_globalAlpha_:11,_clearRect_:12,_closePath_:13,_fillStyle_:14,_fillRect_:15,_strokeStyle_:16,_stroke_:17,_strokeRect_:18,_fillText_:19,_fill_:20,_lineCap_:21,_lineWidth_:22,_lineJoin_:23,_moveTo_:24,_lineTo_:25,_arc_:26,_arcTo_:27,_bezierCurveTo_:28,_quadraticCurveTo_:29,_drawCanvas3_:30,_drawCanvas5_:31,_drawCanvas9_:32,_font_:33,_drawRepeat_:34,_globalCompositeOperation_:35,_textBaseline_:36}}]);return a}(),Datas=function(){function a(){}__class(a,"iflash.utils.Datas",!0);a.DICKEY=0;a.DICKEYS=[];return a}(),DebugTools=function(){function a(){}__class(a,"iflash.utils.DebugTools",!0);a.getTTime=function(){return(new Date).time};a.startTime=function(c){a.timeSignPreTimeDic[c]=a.getTTime()};a.endTime=function(c){var b=0,b=a.getTTime()-a.timeSignPreTimeDic[c];a.timeSignDic[c]=int(a.timeSignDic[c])+b};a.resetTime=function(c){a.timeSignDic[c]=0};a.getTime=function(c){return a.timeSignDic[c]};a.timeSignDic={};a.timeSignPreTimeDic={};return a}(),DisTools=function(){function a(){}__class(a,"iflash.utils.DisTools",!0);return a}(),Endian=function(){function a(){}__class(a,"iflash.utils.Endian",!0);a.BIG_ENDIAN="bigEndian";a.LITTLE_ENDIAN="littleEndian";return a}(),FileParse=function(){function a(){}__class(a,"iflash.utils.FileParse",!0);a.getFile=function(c){return a.fileContentObj[c]};a.parse=function(c){for(var b=0,d=0;;d++)if(0==c[d]){b=d;break}var d=c.readUTFBytes(b).split("\n"),g,e=0;c.position=b+1;for(var f=0;f<d.length;f+=2)g=d[f],e=Laya.__parseInt(d[f+1]),b=new ByteArray,c.readBytes(b,0,e),a.fileContentObj[g]=b};a.fileContentObj={};return a}(),LayaDictionary=function(){function a(){this._elements=[];this._keys=[]}__class(a,"iflash.utils.LayaDictionary",!0);var c=a.prototype;c.set=function(b,d){var a=this.indexOf(b);0<=a?this._elements[a]=d:(this._keys.push(b),this._elements.push(d))};c.contains=function(b){return-1<this._keys.indexOf(b)};c.indexOf=function(b){var d=this._keys.indexOf(b);if(0<=d)return d;b="string"==typeof b?Number(b):"number"==typeof b?b.toString():b;return this._keys.indexOf(b)};c.get=function(b){b=this.indexOf(b);return 0>b?null:this._elements[b]};c.remove=function(b){b=this.indexOf(b);return 0<=b?(this._keys.splice(b,1),this._elements.splice(b,1),!0):!1};c.clear=function(){this._elements.length=0;this._keys.length=0};__getset(0,c,"elements",function(){return this._elements});__getset(0,c,"keys",function(){return this._keys});return a}(),Log=function(){function a(){}__class(a,"iflash.utils.Log",!0);a.log=function(c){a.isLog&&console.log("[layaLog]:"+c)};a.error=function(c){a.isError||console.log("[error]:"+c)};a.warming=function(c){a.isWarMing||console.log("[warming]:"+c)};a.unfinished=function(c,b){a.isOpen&&console.log("[unfinished]:"+c+"--"+b)};a.isOpen=!1;a.isLog=!1;a.isWarMing=!1;a.isError=!1;return a}(),Proxy=function(){function a(){}__class(a,"iflash.utils.Proxy",!0);var c=a.prototype;c.getProperty=function(b){Error.throwError(IllegalOperationError,2088);return null};c.setProperty=function(b,d){Error.throwError(IllegalOperationError,2089)};c.callProperty=function(b,d){for(var a=[],c=1,f=arguments.length;c<f;c++)a.push(arguments[c]);Error.throwError(IllegalOperationError,2090);return null};c.hasProperty=function(b){Error.throwError(IllegalOperationError,2091);return!1};c.deleteProperty=function(b){Error.throwError(IllegalOperationError,2092);return!1};c.getDescendants=function(b){Error.throwError(IllegalOperationError,2093);return!1};c.nextNameIndex=function(b){Error.throwError(IllegalOperationError,2105);return 0};c.nextName=function(b){Error.throwError(IllegalOperationError,2106);return null};c.nextValue=function(b){Error.throwError(IllegalOperationError,2107);return null};c.isAttribute=LAYAFNFALSE;return a}(),stringContextCMD=function(){function a(){this._cmds_=this.result=null;this.result="";this._cmds_=[]}__class(a,"iflash.utils.stringContextCMD",!0);var c=a.prototype;c.clear=function(){this.result="";this._cmds_=[]};c.getBuffer=function(){return this.result=this._cmds_.join("\u0005")};c.save=function(){this._cmds_.push(0)};c.restore=function(){this._cmds_.push(1)};c.beginPath=function(){this._cmds_.push(2)};c.drawImage=function(b){for(var d=[],a=0,c=arguments.length;a<c;a++)d.push(arguments[a]);3==d.length?this._cmds_.push("3\u0004"+d[0].imgId+"\u0004"+d[1]+"\u0004"+d[2]):5==d.length?this._cmds_.push("4\u0004"+d[0].imgId+"\u0004"+d[1]+"\u0004"+d[2]+"\u0004"+d[3]+"\u0004"+d[4]):this._cmds_.push("5\u0004"+d[0].imgId+"\u0004"+d[1]+"\u0004"+d[2]+"\u0004"+d[3]+"\u0004"+d[4]+"\u0004"+d[5]+"\u0004"+d[6]+"\u0004"+d[7]+"\u0004"+d[8])};c.rect=function(b,d,a,c){this._cmds_.push("6\u0004"+b+"\u0004"+d+"\u0004"+a+"\u0004"+c)};c.clip=function(){this._cmds_.push(7);return!0};c.scale=function(b,d){this._cmds_.push("8\u0004"+b+"\u0004"+d)};c.translate=function(b,d){this._cmds_.push("9\u0004"+b+"\u0004"+d)};c.transform=function(b,d,a,c,f,h){this._cmds_.push("10\u0004"+b+"\u0004"+d+"\u0004"+a+"\u0004"+c+"\u0004"+f+"\u0004"+h)};c.clearRect=function(b,d,a,c){this._cmds_.push("12\u0004"+b+"\u0004"+d+"\u0004"+a+"\u0004"+c)};c.closePath=function(){this._cmds_.push(13)};c.fillRect=function(b,d,a,c){this._cmds_.push("15\u0004"+b+"\u0004"+d+"\u0004"+a+"\u0004"+c)};c.stroke=function(){this._cmds_.push(17)};c.strokeRect=function(b,d,a,c){this._cmds_.push("18\u0004"+b+"\u0004"+d+"\u0004"+a+"\u0004"+c)};c.fillText=function(b,d,a){this._cmds_.push("19\u0004"+b+"\u0004"+d+"\u0004"+a)};c.fill=function(){this._cmds_.push(20)};c.moveTo=function(b,d){this._cmds_.push("24\u0004"+b+"\u0004"+d)};c.lineTo=function(b,d){this._cmds_.push("25\u0004"+b+"\u0004"+d)};c.arc=function(b,d,a,c,f,h){this._cmds_.push("26\u0004"+b+"\u0004"+d+"\u0004"+a+"\u0004"+c+"\u0004"+f+"\u0004"+(h?1:0))};c.arcTo=function(b,d,a,c,f){this._cmds_.push("27\u0004"+b+"\u0004"+d+"\u0004"+a+"\u0004"+c+"\u0004"+f)};c.bezierCurveTo=function(b,d,a,c,f,h){this._cmds_.push("28\u0004"+b+"\u0004"+d+"\u0004"+a+"\u0004"+c+"\u0004"+f+"\u0004"+h)};c.quadraticCurveTo=function(b,d,a,c){this._cmds_.push("29\u0004"+b+"\u0004"+d+"\u0004"+a+"\u0004"+c)};__getset(0,c,"globalAlpha",null,function(b){this._cmds_.push("11\u0004"+b)});__getset(0,c,"fillStyle",null,function(b){this._cmds_.push("14\u0004"+b)});__getset(0,c,"font",null,function(b){this._cmds_.push("33\u0004"+b)});__getset(0,c,"lineJoin",null,function(b){this._cmds_.push("23\u0004"+b)});__getset(0,c,"strokeStyle",null,function(b){this._cmds_.push("16\u0004"+b)});__getset(0,c,"lineCap",null,function(b){this._cmds_.push("21\u0004"+b)});__getset(0,c,"lineWidth",null,function(b){this._cmds_.push("22\u0004"+b)});a.COMMA="\u0004";a.SEMICOLON="\u0005";a.INSTANCE=new a;return a}(),TextureManager=function(){function a(){this._textureDic={}}__class(a,"iflash.utils.TextureManager",!0);var c=a.prototype;c.getTexture=function(b){return this._textureDic[b]};c.addTexture=function(b,d){this._textureDic[b]=d};a.getInstance=function(){a._instance||(a._instance=new a);return a._instance};a._instance=null;return a}(),ToolUtils=function(){function a(){}__class(a,"iflash.utils.ToolUtils",!0);a.formatUrlType=function(a){1>=a.split("?").length||(a=a.split("?")[0].toString());var b="";a=a.split(".");0<a.length&&(b=a[a.length-1].toLowerCase());return b};a.getColor=function(a){a=a.toString(16).toUpperCase();var b=6-a.length,d="";if(6>a.length)for(var g=0;g<b;g++)d+=0;return"#"+d+a};return a}(),___Laya=function(){Laya.Main=function(a){"function"==typeof a&&(Laya._startCallBack_=a,a=null);Laya.config||(window.Laya=Laya,Laya.config=new iflash.laya.system.Config,Laya.root=a,Browser.__init__(a),Laya.CONCHVER&&(conch.disableMultiTouch=!0),Laya.RENDERBYCANVAS=Laya.CONCHVER?!1:!LAYABOX.runOnlyPlayer,DisplayObject.TYPE2DEFAULT=Laya.RENDERBYCANVAS?0:2048,null==Laya.process&&Laya.onConchReady())};Laya.onConchReady=function(){Laya.process&&Laya.process.active();Laya.window=new Window3;Browser.__start__();Laya._startCallBack_&&Laya._startCallBack_();Laya.ilaya.onStart()};Laya.setIf=function(a,c){Laya.ifdef[a]=c};Laya.getIfdef=function(a){return null!=Laya.ifdef[a]};Laya.window=null;Laya.document=null;Laya.root=null;Laya.config=null;Laya.ifdef={};Laya.NULLFLOAT=NaN;Laya.SHOW_FPS=!0;Laya.conch=null;Laya.process=null;Laya.ilaya=null;Laya._startCallBack_=null;Laya.RENDERBYCANVAS=!1;Laya.FLASHVER=0;__static(Laya,["ENABLE3D",function(){return this.ENABLE3D=LAYABOX.ENABLE3D},"CONCHVER",function(){return this.CONCHVER=window.conch?1:0},"HTMLVER",function(){return this.HTMLVER=1}]);return Laya}(),UncaughtErrorEvents=function(a){function c(b){c.__super.call(this,b)}__class(c,"iflash.events.UncaughtErrorEvents",!1,a);return c}(EventDispatcher),AccelerometerEvent=function(a){function c(b,d,a,e){this.timestamp=this.accelerationZ=this.accelerationY=this.accelerationX=0;void 0===d&&(d=!1);void 0===a&&(a=!1);c.__super.call(this,b,d,a,e)}__class(c,"iflash.events.AccelerometerEvent",!1,a);c.prototype.clone=function(){var b=new c(this.type,this.bubbles,this.cancelable,this._lyData);b.accelerationX=this.accelerationX;b.accelerationY=this.accelerationY;b.accelerationZ=this.accelerationZ;return b};c.copySysEvent=function(b){var d=new c("update",b.bubbles,b.cancelable,null);d.accelerationX=-b.accelerationIncludingGravity.y;d.accelerationY=b.accelerationIncludingGravity.x;d.accelerationZ=b.accelerationIncludingGravity.z;d.timestamp=b.timeStamp;return d};c.UPDATE="update";return c}(Event),ActivityEvent=function(a){function c(b,d,a,e){void 0===d&&(d=!1);void 0===a&&(a=!1);c.__super.call(this,b,d,a,e)}__class(c,"iflash.events.ActivityEvent",!1,a);__getset(0,c.prototype,"activating",LAYAFNFALSE,LAYAFNVOID);c.ACTIVITY="activity";return c}(Event),TextEvent=function(a){function c(b,d,a,e){this.m_text=null;void 0===d&&(d=!1);void 0===a&&(a=!1);void 0===e&&(e="");c.__super.call(this,b,d,a);this.m_text=e}__class(c,"iflash.events.TextEvent",!1,a);a=c.prototype;a.clone=function(){var b=new c(this.type,this.bubbles,this.cancelable,this.m_text);b.copyNativeData(this);return b};a.copyNativeData=LAYAFNVOID;__getset(0,a,"text",function(){return this.m_text},function(b){this.m_text=b});c.LINK="link";c.TEXT_INPUT="textInput";return c}(Event),ContextMenuEvent=function(a){function c(b,d,a,e){void 0===d&&(d=!1);void 0===a&&(a=!1);c.__super.call(this,b,d,a,e)}__class(c,"iflash.events.ContextMenuEvent",!1,a);a=c.prototype;__getset(0,a,"contextMenuOwner",LAYAFNNULL,LAYAFNVOID);__getset(0,a,"isMouseTargetInaccessible",LAYAFNFALSE,LAYAFNVOID);__getset(0,a,"mouseTarget",LAYAFNNULL,LAYAFNVOID);c.MENU_ITEM_SELECT="menuItemSelect";c.MENU_SELECT="menuSelect";return c}(Event),FocusEvent=function(a){function c(b,d,a,e,f,h){this._keyCode=0;this._shiftKey=!1;void 0===d&&(d=!0);void 0===a&&(a=!1);void 0===f&&(f=!1);void 0===h&&(h=0);c.__super.call(this,b,d,a,e);this._shiftKey=f;this._keyCode=h}__class(c,"iflash.events.FocusEvent",!1,a);a=c.prototype;a.clone=function(){return this};__getset(0,a,"isRelatedObjectInaccessible",LAYAFNFALSE,LAYAFNVOID);__getset(0,a,"keyCode",function(){return this._keyCode},function(b){this._keyCode=b});__getset(0,a,"relatedObject",LAYAFNNULL,LAYAFNVOID);__getset(0,a,"shiftKey",function(){return this._shiftKey},function(b){this._shiftKey=b});c.FOCUS_IN="focusIn";c.FOCUS_OUT="focusOut";c.KEY_FOCUS_CHANGE="keyFocusChange";c.MOUSE_FOCUS_CHANGE="mouseFocusChange";return c}(Event),GeolocationEvent=function(a){function c(b,d,a,e,f,h,k,l,m,n,p){this._verticalAccuracy=this._timestamp=this._speed=this._longitude=this._latitude=this._horizontalAccuracy=this._heading=this._altitude=NaN;void 0===d&&(d=!1);void 0===a&&(a=!1);void 0===e&&(e=0);void 0===f&&(f=0);void 0===h&&(h=0);void 0===k&&(k=0);void 0===l&&(l=0);void 0===m&&(m=0);void 0===n&&(n=0);void 0===p&&(p=0);c.__super.call(this,b,d,a,null);this.latitude=e;this.longitude=f;this.altitude=h;this.horizontalAccuracy=k;this.verticalAccuracy=l;this.speed=m;this.heading=n;this.timestamp=p}__class(c,"iflash.events.GeolocationEvent",!1,a);a=c.prototype;__getset(0,a,"altitude",function(){return this._altitude},function(b){this._altitude=b});__getset(0,a,"speed",function(){return this._speed},function(b){this._speed=b});__getset(0,a,"heading",function(){return this._heading},function(b){this._heading=b});__getset(0,a,"horizontalAccuracy",function(){return this._horizontalAccuracy},function(b){this._horizontalAccuracy=b});__getset(0,a,"latitude",function(){return this._latitude},function(b){this._latitude=b});__getset(0,a,"timestamp",function(){return this._timestamp},function(b){this._timestamp=b});__getset(0,a,"longitude",function(){return this._longitude},function(b){this._longitude=b});__getset(0,a,"verticalAccuracy",function(){return this._timestamp},function(b){this._verticalAccuracy=b});c.getFromH5Event=function(b){var d=new c("update");Event.copyFromByObj(d,b,c.NAME_MAP);return d};c.UPDATE="update";__static(c,["NAME_MAP",function(){return this.NAME_MAP={latitude:"latitude",longitude:"longitude",altitude:"altitude",speed:"speed",horizontalAccuracy:"accuracy",verticalAccuracy:"altitudeAccuracy",heading:"heading"}}]);return c}(Event),GestureEvent=function(a){function c(b,a,e,f,h,k,l,m,n,p,q,r){this.shiftKey=this.commandKey=this.ctrlKey=this.controlKey=this.altKey=!1;this.localY=this.localX=0;this.phase=null;this.__stageY__=this.__stageX__=0;void 0===a&&(a=!1);void 0===e&&(e=!1);void 0===h&&(h=0);void 0===k&&(k=0);void 0===l&&(l=!1);void 0===m&&(m=!1);void 0===n&&(n=!1);void 0===p&&(p=!1);void 0===q&&(q=!1);c.__super.call(this,b,a,e,r);this.altKey=m;this.controlKey=q;this.ctrlKey=l;this.commandKey=p;this.shiftKey=n;this.localX=h;this.localY=k;this.phase=f}__class(c,"iflash.events.GestureEvent",!1,a);var b=c.prototype;b.toMouseEvent=function(){a.prototype.toMouseEvent.call(this);Event.__helpMouseEvt__.type="click";Event.__helpMouseEvt__.bubbles=this.bubbles;Event.__helpMouseEvt__.cancelable=this.cancelable;Event.__helpMouseEvt__.relatedObject=null;Event.__helpMouseEvt__.mCtrlKey=this.ctrlKey;Event.__helpMouseEvt__.mAltKey=this.altKey;Event.__helpMouseEvt__.mShiftKey=this.shiftKey;Event.__helpMouseEvt__.buttonDown=!1;Event.__helpMouseEvt__._lytarget=this._lytarget;Event.__helpMouseEvt__.lyData=this.lyData;Event.__helpMouseEvt__._type_=this._type_;return Event.__helpMouseEvt__};b.updateAfterEvent=function(){};__getset(0,b,"stageX",function(){return this.__stageX__});__getset(0,b,"stageY",function(){return this.__stageY__});c.getGestureEvent=function(){null==c._gestrueEvt&&(c._gestrueEvt=new c("gestureTwoFingerTap",!0,!1,"end"));return c._gestrueEvt};c.GESTURE_TWO_FINGER_TAP="gestureTwoFingerTap";c._gestrueEvt=null;return c}(Event),HTTPStatusEvent=function(a){function c(b,d,a,e){this.m_responseURL=this.m_responseHeaders=null;this.m_status=0;void 0===d&&(d=!1);void 0===a&&(a=!1);c.__super.call(this,b,d,a,e)}__class(c,"iflash.events.HTTPStatusEvent",!1,a);a=c.prototype;__getset(0,a,"responseHeaders",function(){return this.m_responseHeaders},function(b){this.m_responseHeaders=b});__getset(0,a,"responseURL",function(){return this.m_responseURL},function(b){this.m_responseURL=b});__getset(0,a,"status",function(){return this.m_status});c.HTTP_RESPONSE_STATUS="httpResponseStatus";c.HTTP_STATUS="httpStatus";return c}(Event),KeyboardEvent=function(a){function c(b,d,a,e,f,h,k,l,m){this._altKey=!1;this._charCode=0;this._ctrlKey=!1;this._keyLocation=this._keyCode=0;this._shiftKey=!1;void 0===d&&(d=!0);void 0===a&&(a=!1);c.__super.call(this,b,d,a)}__class(c,"iflash.events.KeyboardEvent",!1,a);a=c.prototype;a.clone=LAYAFNNULL;a.updateAfterEvent=LAYAFNVOID;a.changeEvent=function(b){this._currentTarget_=b._currentTarget_;this.keyCode=b.keyCode;this._type_=b._type_;this._lytarget=b._lytarget;this.cancelable=b.cancelable;this.charCode=b.charCode;this.ctrlKey=b.ctrlKey;this.altKey=b.altKey;this.shiftKey=b.shiftKey};__getset(0,a,"altKey",function(){return this._altKey},function(b){this._altKey=b});__getset(0,a,"charCode",function(){return this._charCode},function(b){this._charCode=b});__getset(0,a,"ctrlKey",function(){return this._ctrlKey},function(b){this._ctrlKey=b});__getset(0,a,"keyLocation",function(){return this._keyLocation},function(b){this._keyLocation=b});__getset(0,a,"keyCode",function(){return this._keyCode},function(b){this._keyCode=b});__getset(0,a,"shiftKey",function(){return this._shiftKey},function(b){this._shiftKey=b});c.KEY_DOWN="keyDown";c.KEY_UP="keyUp";return c}(Event),MouseEvent=function(a){function c(b,a,e,f,h,k,l,m,n,p,q){this._buttonDown=this.mCtrlKey=this.mShiftKey=!1;this._timestamp_=NaN;this.mAltKey=!1;this.relatedObject=null;this._delta=this._localY=this._localX=0;this.touchEvent=this.nativeEvent=null;this.offsetY=this.offsetX=this.clientY=this.clientX=NaN;this.button=0;void 0===a&&(a=!0);void 0===f&&(f=NaN);void 0===h&&(h=NaN);void 0===l&&(l=!1);void 0===m&&(m=!1);void 0===n&&(n=!1);void 0===p&&(p=!1);void 0===q&&(q=0);c.__super.call(this,b,a);this._timestamp_=-1;this.mShiftKey=n;this.mCtrlKey=l;this.mAltKey=m;this._buttonDown=p;this.relatedObject=k;this._localX=f;this._localY=h;this.delta=q}__class(c,"iflash.events.MouseEvent",!1,a);var b=c.prototype;b.getTouches=function(b,a,c){null==c&&(c=[]);for(var f=this.lyData,h=f.length,k=0;k<h;++k){var l=f[k],m=l.isTouching(b),n=null==a||a==l._phase_;m&&n&&(c[c.length]=l)}return c};b.getTouch=function(b,a,e){void 0===e&&(e=-1);this.getTouches(b,a,c.sTouches);b=c.sTouches.length;if(0<b){a=null;if(0>e)a=c.sTouches[0];else for(var f=0;f<b;++f)if(c.sTouches[f].id==e){a=c.sTouches[f];break}c.sTouches.length=0;return a}return null};b.interactsWith=function(b){var a=!1;this.getTouches(b,null,c.sTouches);for(b=c.sTouches.length-1;0<=b;--b)if("ended"!=c.sTouches[b]._phase_){a=!0;break}c.sTouches.length=0;return a};b.updateAfterEvent=LAYAFNVOID;b.toMouseEvent=function(){return this};b.clone=function(){var b=new c(this.type,this.bubbles,this.cancelable,this.localX,this.localY,null,this.ctrlKey,this.altKey,this.shiftKey,this.buttonDown,this.delta);b.clientX=this.clientX;b.clientY=this.clientY;b.offsetX=this.offsetX;b.offsetY=this.offsetY;b._localX=this._localX;b._localY=this._localY;b.nativeEvent=this.nativeEvent;b.touchEvent=this.touchEvent;return b};b.destory=function(){this.relatedObject=this.touchEvent=this._lytarget=this._lyData=this.nativeEvent=null;a.prototype.destory.call(this)};__getset(0,b,"stageX",function(){return EventManager._stageX});__getset(0,b,"stageY",function(){return EventManager._stageY});__getset(0,b,"localY",function(){return null==this._lytarget?this._localY:this._lytarget.mouseY});__getset(0,b,"localX",function(){return null==this._lytarget?this._localX:this._lytarget.mouseX});__getset(0,b,"buttonDown",function(){return this._buttonDown},function(b){this._buttonDown=b});__getset(0,b,"delta",function(){return this._delta},function(b){this._delta=b});__getset(0,b,"lyData",a.prototype._$get_lyData,function(b){a.prototype._$set_lyData.call(this,b);if(b){b=this._lyData.length;for(var c=0;c<b;++c)this._lyData[c]._timestamp_>this._timestamp_&&(this._timestamp_=this._lyData[c]._timestamp_)}});__getset(0,b,"shiftKey",function(){return this.mShiftKey});__getset(0,b,"touches",function(){return this.lyData.concat()});__getset(0,b,"timestamp",function(){return this._timestamp_});__getset(0,b,"altKey",function(){return this.mAltKey});__getset(0,b,"ctrlKey",function(){return this.mCtrlKey});c.getSignType=function(b){b=b.toLowerCase();return"mouseOver"==b||"touchOver"===b?"mouseOver":"mouseOut"==b||"touchOut"===b?"mouseOut":"mouseDown"==b||"touchBegin"===b?"mouseDown":"mouseUp"==b||"touchEnd"===b?"mouseUp":"click"==b||"touchTap"===b?"click":"mouseMove"==b||"touchMove"===b?"mouseMove":"rollOut"==b||"touchRollOut"===b?"rollOut":"rollOver"==b||"touchRollOver"===b?"rollOver":b};c.copyFromSysEvent=function(b){var a=new c(iflash.events.MouseEvent.SYS_MOUSE_INPUT_MAP[b.type],b.bubbles,b.cancelable,NaN,NaN,null,b.ctrlKey,b.altKey,b.shiftKey,0!=b.buttons,0);a.button=b.button||0;a.delta=void 0!=b.delta?b.delta:b.wheelDeltaY?b.wheelDeltaY/40:0;a.nativeEvent=b;return a};c.CLICK="click";c.DOUBLE_CLICK="doubleClick";c.MOUSE_DOWN="mouseDown";c.MOUSE_MOVE="mouseMove";c.MOUSE_OUT="mouseOut";c.MOUSE_OVER="mouseOver";c.MOUSE_UP="mouseUp";c.MOUSE_WHEEL="mouseWheel";c.ROLL_OUT="rollOut";c.ROLL_OVER="rollOver";c.MIDDLE_CLICK="middleClick";c.MIDDLE_MOUSE_DOWN="middleMouseDown";c.MIDDLE_MOUSE_UP="middleMouseUp";c.RIGHT_CLICK="rightClick";c.RIGHT_MOUSE_DOWN="rightMouseDown";c.RIGHT_MOUSE_UP="rightMouseUp";c.FOCUS="focus";c.BLUR="blur";c.MOUSE_DRAG="drag";c.MOUSE_DRAG_START="dragstart";c.MOUSE_DRAG_END="dragend";__static(c,["SYS_MOUSE_INPUT_MAP",function(){return this.SYS_MOUSE_INPUT_MAP={mousedown:"mouseDown",mouseup:"mouseUp",mousemove:"mouseMove",mousewheel:"mouseWheel"}},"sTouches",function(){return this.sTouches=[]}]);return c}(Event),NetStatusEvent=function(a){function c(b,d,a,e){this.info=null;void 0===d&&(d=!1);void 0===a&&(a=!1);this.info=e;c.__super.call(this,b,d,a)}__class(c,"iflash.events.NetStatusEvent",!1,a);c.NET_STATUS="netStatus";return c}(Event),ProgressEvent=function(a){function c(b,d,a,e,f){this._bytesTotal=this._bytesLoaded=NaN;void 0===d&&(d=!1);void 0===a&&(a=!1);void 0===e&&(e=0);void 0===f&&(f=0);c.__super.call(this,b,d,a);this._bytesLoaded=e;this._bytesTotal=f}__class(c,"iflash.events.ProgressEvent",!1,a);a=c.prototype;__getset(0,a,"bytesLoaded",function(){return this._bytesLoaded},function(b){this._bytesLoaded=b});__getset(0,a,"bytesTotal",function(){return this._bytesTotal},function(b){this._bytesTotal=b});c.PROGRESS="progress";c.SOCKET_DATA="socketData";return c}(Event),SampleDataEvent=function(a){function c(b,d,a,e,f){void 0===d&&(d=!1);c.__super.call(this,b,d)}__class(c,"iflash.events.SampleDataEvent",!1,a);a=c.prototype;__getset(0,a,"data",LAYAFNNULL,LAYAFNVOID);__getset(0,a,"position",LAYAFN0,LAYAFNVOID);c.SAMPLE_DATA="sampleData";return c}(Event),ShaderEvent=function(a){function c(b,d,a,e,f,h){c.__super.call(this,b)}__class(c,"iflash.events.ShaderEvent",!1,a);a=c.prototype;a.clone=LAYAFNNULL;__getset(0,a,"bitmapData",LAYAFNNULL,LAYAFNVOID);__getset(0,a,"byteArray",LAYAFNNULL,LAYAFNVOID);__getset(0,a,"vector",LAYAFNNULL,LAYAFNVOID);c.COMPLETE="complete";return c}(Event),StageOrientationEvent=function(a){function c(b,d,a,e,f){this.afterOrientation=this.beforeOrientation=null;void 0===d&&(d=!1);void 0===a&&(a=!1);this.beforeOrientation=e;this.afterOrientation=f;c.__super.call(this,b,d,a,null)}__class(c,"iflash.events.StageOrientationEvent",!1,a);c.ORIENTATION_CHANGE="orientationChange";c.ORIENTATION_CHANGING="orientationChanging";return c}(Event),StatusEvent=function(a){function c(b,d,a,e,f){this._level=this._code=null;void 0===d&&(d=!1);void 0===a&&(a=!1);void 0===f&&(f="");c.__super.call(this,b,d,a);this._code=e;this._level=f}__class(c,"iflash.events.StatusEvent",!1,a);a=c.prototype;__getset(0,a,"code",LAYAFNSTR,LAYAFNVOID);__getset(0,a,"level",LAYAFNSTR,LAYAFNVOID);c.STATUS="status";return c}(Event),SyncEvent=function(a){function c(b,d,a,e){void 0===d&&(d=!1);void 0===a&&(a=!1);c.__super.call(this,b,d,a,e)}__class(c,"iflash.events.SyncEvent",!1,a);a=c.prototype;a.clone=LAYAFNNULL;__getset(0,a,"changeList",LAYAFNNULL,LAYAFNVOID);c.SYNC="sync";return c}(Event),ThrottleEvent=function(a){function c(b,d,a,e,f){this._targetFrameRate=0;this._state="resume";void 0===d&&(d=!1);void 0===a&&(a=!1);void 0===f&&(f=0);c.__super.call(this,b,d,a);this._state=e;this._targetFrameRate=f}__class(c,"iflash.events.ThrottleEvent",!1,a);a=c.prototype;a.clone=function(){return new c("throttle")};__getset(0,a,"state",function(){return this._state});__getset(0,a,"targetFrameRate",function(){return"pause"==this._state?0:"throttle"==this._state?2:this._targetFrameRate});c.THROTTLE="throttle";return c}(Event),TimerEvent=function(a){function c(b,d,a){void 0===d&&(d=!1);void 0===a&&(a=!1);c.__super.call(this,b,d,a)}__class(c,"iflash.events.TimerEvent",!1,a);a=c.prototype;a.clone=LAYAFNNULL;a.updateAfterEvent=LAYAFNVOID;c.TIMER="timer";c.TIMER_COMPLETE="timerComplete";return c}(Event),TouchEvent=function(a){function c(b,a,e,f,h,k,l,m,n,p,q,r,v,t,u,w,x,z,A,y,C){this.isPrimaryTouchPoint=this.shiftKey=this.ctrlKey=this.controlKey=this.commandKey=this.altKey=!1;this.timestamp=0;this.samples=this.touchIntent=null;this.isTouchPointCanceled=!1;this.touchPointID=this.pressure=this.sizeY=this.sizeX=this._localY=this._localX=0;this.relatedObject=null;void 0===a&&(a=!0);void 0===e&&(e=!1);void 0===f&&(f=0);void 0===h&&(h=!1);void 0===k&&(k=NaN);void 0===l&&(l=NaN);void 0===m&&(m=NaN);void 0===n&&(n=NaN);void 0===p&&(p=NaN);void 0===r&&(r=!1);void 0===v&&(v=!1);void 0===t&&(t=!1);void 0===u&&(u=!1);void 0===w&&(w=!1);void 0===x&&(x=NaN);void 0===z&&(z="unknown");void 0===y&&(y=!1);c.__super.call(this,b,a,e,C);this.touchPointID=f;this.isPrimaryTouchPoint=h;this._localX=k;this._localY=l;this.sizeX=m;this.sizeY=n;this.pressure=p;this.relatedObject=q;this.ctrlKey=r;this.altKey=v;this.shiftKey=t;this.commandKey=u;this.controlKey=w;this.timestamp=x;this.touchIntent=z;this.samples=A;this.isTouchPointCanceled=y}__class(c,"iflash.events.TouchEvent",!1,a);var b=c.prototype;b.updateAfterEvent=function(){};b.toMouseEvent=function(){a.prototype.toMouseEvent.call(this);Event.__helpMouseEvt__.type=c.MOUSE_INPUT_TO_TOUCH_MAP[this.type];Event.__helpMouseEvt__.bubbles=this.bubbles;Event.__helpMouseEvt__.cancelable=this.cancelable;Event.__helpMouseEvt__.relatedObject=this.relatedObject;Event.__helpMouseEvt__.mCtrlKey=this.ctrlKey;Event.__helpMouseEvt__.mAltKey=this.altKey;Event.__helpMouseEvt__.mShiftKey=this.shiftKey;Event.__helpMouseEvt__.buttonDown=!0;Event.__helpMouseEvt__._lytarget=this._lytarget;Event.__helpMouseEvt__.lyData=this.lyData;Event.__helpMouseEvt__._type_=this._type_;Event.__helpMouseEvt__.touchEvent=this;return Event.__helpMouseEvt__};b.clone=function(){return new c(this.type,this.bubbles,this.cancelable,this.touchPointID,this.isPrimaryTouchPoint,this._localX,this._localY,this.sizeX,this.sizeY,this.pressure,this.relatedObject,this.ctrlKey,this.altKey,this.shiftKey,this.commandKey,this.controlKey,this.timestamp,this.touchIntent,this.samples,this.isTouchPointCanceled,this.lyData)};b.destory=function(){this.relatedObject=this.samples=null;a.prototype.destory.call(this)};__getset(0,b,"localY",function(){this._lytarget&&(this._localY=this._lytarget.mouseY);return this._localY});__getset(0,b,"localX",function(){this._lytarget&&(this._localX=this._lytarget.mouseX);return this._localX});__getset(0,b,"stageX",function(){return EventManager._stageX});__getset(0,b,"stageY",function(){return EventManager._stageY});c.isTypeMove=function(b){return"touchmove"==b||"mousemove"==b};c.isTouchType=function(b){return-1!=b.indexOf("touch")};c.touchSysEvent=function(b,a){for(var e=b.changedTouches.length,f,h=null,k=0;k<e;k++)h=b.changedTouches[k],f=new c(iflash.events.TouchEvent.SYS_TOUCH_INPUT_MAP[b.type],b.bubbles,b.cancelable,h.identifier,0==k,0,0,h.radiusX,h.radiusY,h.force,null,b.ctrlKey,b.altKey,b.shiftKey,!1,!1,b.timeStamp,"unknown",null,!1,null),EventManager.clientToStage(h.clientX,h.clientY),null!=a&&a(f)};c.TOUCH_BEGIN="touchBegin";c.TOUCH_END="touchEnd";c.TOUCH_MOVE="touchMove";c.TOUCH_OUT="touchOut";c.TOUCH_OVER="touchOver";c.TOUCH_ROLL_OUT="touchRollOut";c.TOUCH_ROLL_OVER="touchRollOver";c.TOUCH_TAP="touchTap";__static(c,["MOUSE_INPUT_TO_TOUCH_MAP",function(){return this.MOUSE_INPUT_TO_TOUCH_MAP={mouseDown:"touchBegin",mouseUp:"touchEnd",mouseMove:"touchMove",mouseOut:"touchOut",mouseOver:"touchOver",rollOut:"touchRollOut",rollOver:"touchRollOver",click:"touchTap",touchBegin:"mouseDown",touchEnd:"mouseUp",touchMove:"mouseMove",touchOut:"mouseOut",touchOver:"mouseOver",touchRollOut:"rollOut",touchRollOver:"rollOver",touchTap:"click"}},"SYS_TOUCH_INPUT_MAP",function(){return this.SYS_TOUCH_INPUT_MAP={touchstart:"touchBegin",touchmove:"touchMove",touchend:"touchEnd",touchcancel:"touchEnd"}}]);return c}(Event),Timer=function(a){function c(b,d){this._timeobj=null;this._delay=NaN;this._repeatCount=0;this._running=!1;c.__super.call(this);void 0===d&&(d=0);this.delay=b;this.repeatCount=d;this._running=!1}__class(c,"iflash.utils.Timer",!1,a);a=c.prototype;a._ontimer_=function(b,d,a){this.lyDispatchEvent(new TimerEvent("timer"));this.currentCount>=this.repeatCount&&1==this._running&&0!=this.repeatCount&&(this._running=!1,this.lyDispatchEvent(new TimerEvent("timerComplete")))};a.reset=function(){null!=this._timeobj&&(this._timeobj.runCount<this.repeatCount-1?this._timeobj.runCount=0:this.stop())};a.start=function(){this.stop();this._timeobj=this._timeobj||TimerCtrl.__DEFAULT__.addTimer(this,__bind(this,this._ontimer_),this.delay,this.repeatCount);this._running=!0};a.stop=function(){null!=this._timeobj&&(this._timeobj.deleted=!0,this._timeobj=null);this._running=!1};__getset(0,a,"currentCount",function(){return null!=this._timeobj?this._timeobj.runCount+1:0});__getset(0,a,"delay",function(){return this._delay},function(b){this._delay=b;this._timeobj&&(this._timeobj.delay=b)});__getset(0,a,"repeatCount",function(){return this._repeatCount},function(b){this._repeatCount=b});__getset(0,a,"running",function(){return this._running});c.__SPEED__=1;__static(c,["__STARTTIME__",function(){return this.__STARTTIME__=Date.now()}]);return c}(EventDispatcher),DynamicMethods=function(a){function c(b,d,a,e){this.argsClipChr=this.getName=this.setName=this.args=null;void 0===e&&(e=!0);c.__super.call(this,null,null,a,e);d=c._regMethoed.exec(d);this.setName=this.getName=d[2];a&&("string"==typeof a?this.setName=this.getName=a:(this.setName=a.set,this.getName=a.get));d[3]=d[3].replace(c._string_Trim_,"");a=d[3].split(c._argsClip);this.args=[];for(e=0;e<a.length;e++)this.args.push(DynamicProperties.__CALCULATORTYPE__[a[e]]);b.prototype["??"+d[2]]=this}__class(c,"iflash.laya.utils.DynamicMethods",!1,a);a=c.prototype;a.setValue=function(b,d){d=d.replace(c._string_Trim_,"");for(var a=d.split(c._argsClip),e=this.args.length>a.length?this.args.length:a.length,f=this.args.length+a.length-e,h=0;h<f;h++)a[h]=this.args[h](a[h]);a.splice(h,e-f);b[this.setName].apply(b,a)};a.getValue=function(b){return b[this.getName].call(b)};a.toHTML=LAYAFNFALSE;c._regMethoed=/(\s*)([\w-]+)\s*[(]\s*((\w\s*)+)[)]/;c._argsClip=/\s+/;c._string_Trim_=RegExp("(^\\s*)|(\\s*$)","g");return c}(DynamicProperties),ErrorEvent=function(a){function c(b,d,a,e,f){this.m_errorID=0;void 0===d&&(d=!1);void 0===a&&(a=!1);void 0===e&&(e="");void 0===f&&(f=0);c.__super.call(this,b,d,a,e);this.m_errorID=f}__class(c,"iflash.events.ErrorEvent",!1,a);a=c.prototype;a.clone=function(){return new c(this.type,this.bubbles,this.cancelable,this.text,this.m_errorID)};a.toString=function(){return this.formatToString("ErrorEvent","type","bubbles","cancelable","eventPhase","text","errorID")};__getset(0,a,"errorID",function(){return this.m_errorID});c.ERROR="error";return c}(TextEvent),DataEvent=function(a){function c(b,d,a,e){void 0===d&&(d=!1);void 0===a&&(a=!1);c.__super.call(this,b,d,a)}__class(c,"iflash.events.DataEvent",!1,a);__getset(0,c.prototype,"data",LAYAFNSTR,LAYAFNVOID);c.DATA="data";c.UPLOAD_COMPLETE_DATA="uploadCompleteData";return c}(TextEvent),FullScreenEvent=function(a){function c(b,d,a,e){void 0===d&&(d=!1);void 0===a&&(a=!1);void 0===e&&(e=!1);c.__super.call(this,b,d,a,e)}__class(c,"iflash.events.FullScreenEvent",!1,a);__getset(0,c.prototype,"fullScreen",LAYAFNFALSE);c.FULL_SCREEN="fullScreen";return c}(ActivityEvent),IMEEvent=function(a){function c(b,d,a,e){void 0===d&&(d=!1);void 0===a&&(a=!1);void 0===e&&(e="");c.__super.call(this,b,d,a,e)}__class(c,"iflash.events.IMEEvent",!1,a);a=c.prototype;a.clone=function(){return null};__getset(0,a,"imeClient",function(){return null},function(b){});c.IME_COMPOSITION="imeComposition";c.IME_START_COMPOSITION="imeStartComposition";return c}(TextEvent),PressAndTapGestureEvent=function(a){function c(b,d,a,e,f,h,k,l,m,n,p,q){this.tapStageY=this.tapStageX=this.tapLocalY=this.tapLocalX=0;void 0===d&&(d=!1);void 0===a&&(a=!1);void 0===f&&(f=0);void 0===h&&(h=0);void 0===k&&(k=!1);void 0===l&&(l=!1);void 0===m&&(m=!1);void 0===n&&(n=!1);void 0===p&&(p=!1);c.__super.call(this,b,d,a,e,f,h,k,l,m,n,p,q)}__class(c,"iflash.events.PressAndTapGestureEvent",!1,a);c.getInstance=function(){null==c._instance&&(c._instance=new c("gesturePressAndTap",!0,!1,"all"));return c._instance};c.GESTURE_PRESS_AND_TAP="gesturePressAndTap";c._instance=null;return c}(GestureEvent),TransformGestureEvent=function(a){function c(b,d,a,e,f,h,k,l,m,n,p,q,r,v,t,u,w){this.scaleY=this.scaleX=this.rotation=this.offsetY=this.offsetX=0;void 0===d&&(d=!1);void 0===a&&(a=!1);void 0===f&&(f=0);void 0===h&&(h=0);void 0===k&&(k=1);void 0===l&&(l=1);void 0===m&&(m=0);void 0===n&&(n=0);void 0===p&&(p=0);void 0===q&&(q=!1);void 0===r&&(r=!1);void 0===v&&(v=!1);void 0===t&&(t=!1);void 0===u&&(u=!1);c.__super.call(this,b,d,a,e,f,h,q,r,v,t,u,w);this.offsetX=n;this.offsetY=p;this.rotation=m;this.scaleX=k;this.scaleY=l}__class(c,"iflash.events.TransformGestureEvent",!1,a);c.prototype.toMouseEvent=function(){a.prototype.toMouseEvent.call(this);Event.__helpMouseEvt__.type="mouseMove";Event.__helpMouseEvt__.buttonDown=!0;return Event.__helpMouseEvt__};c.GESTURE_PAN="gesturePan";c.GESTURE_ROTATE="gestureRotate";c.GESTURE_SWIPE="gestureSwipe";c.GESTURE_ZOOM="gestureZoom";return c}(GestureEvent),SetIntervalTimer=function(a){function c(b,d,a,e){this.id=0;this.rest=this.closure=null;c.__super.call(this,d,a?0:1);this.closure=b;this.rest=e;this.addEventListener(a?"timer":"timerComplete",__bind(this,this.onTimer));this.start();this.id=c.intervals.length+1;c.intervals.push(this)}__class(c,"iflash.utils.SetIntervalTimer",!1,a);c.prototype.onTimer=function(b){this.closure.apply(null,this.rest);1==this.repeatCount&&c.intervals[this.id-1]==this&&(delete c.intervals[this.id-1],!0)};c.clearInterval=function(b){b--;c.intervals[b]instanceof iflash.utils.SetIntervalTimer&&(c.intervals[b].stop(),delete c.intervals[b],!0)};c.intervals=[];return c}(Timer),AsyncErrorEvent=function(a){function c(b,d,a,e,f){this.error=null;void 0===d&&(d=!1);void 0===a&&(a=!1);void 0===e&&(e="");c.__super.call(this,b,d,a,e)}__class(c,"iflash.events.AsyncErrorEvent",!1,a);c.prototype.clone=LAYAFNNULL;c.ASYNC_ERROR="asyncError";return c}(ErrorEvent),IOErrorEvent=function(a){function c(b,d,a,e,f){void 0===d&&(d=!1);void 0===a&&(a=!1);void 0===e&&(e="");void 0===f&&(f=0);c.__super.call(this,b,d,a,e,f)}__class(c,"iflash.events.IOErrorEvent",!1,a);c.DISK_ERROR="disk_error";c.IO_ERROR="ioError";c.NETWORK_ERROR="network_error";c.VERIFY_ERROR="verify_error";return c}(ErrorEvent),SecurityErrorEvent=function(a){function c(b,d,a,e,f){void 0===d&&(d=!1);void 0===a&&(a=!1);void 0===e&&(e="");void 0===f&&(f=0);c.__super.call(this,b,d,a,e,f)}__class(c,"iflash.events.SecurityErrorEvent",!1,a);c.SECURITY_ERROR="securityError";return c}(ErrorEvent),UncaughtErrorEvent=function(a){function c(b,d,a,e,f){void 0===b&&(b="uncaughtError");void 0===d&&(d=!0);void 0===a&&(a=!0);void 0===f&&(f=0);c.__super.call(this,b,d,a,e,f)}__class(c,"iflash.events.UncaughtErrorEvent",!1,a);__getset(0,c.prototype,"error",LAYAFNSTR);c.UNCAUGHT_ERROR="uncaughtError";return c}(ErrorEvent),AccessibilityImplementation=function(){function a(){this.errno=0;this.stub=!1}__class(a,"iflash.accessibility.AccessibilityImplementation",!0);var c=a.prototype;c.accDoDefaultAction=LAYAFNVOID;c.accLocation=LAYAFNNULL;c.accSelect=LAYAFNVOID;c.get_accDefaultAction=LAYAFNSTR;c.get_accFocus=LAYAFN0;c.get_accName=LAYAFNSTR;c.get_accRole=LAYAFN0;c.get_accSelection=LAYAFNARRAY;c.get_accState=LAYAFN0;c.get_accValue=LAYAFNSTR;c.getChildIDArray=LAYAFNARRAY;c.isLabeledBy=LAYAFNFALSE;return a}(),BitmapData=function(){function a(b,d,a,c){this._canvas_=this.paint=null;this._type_=0;this._context_=null;this._height_=this._width_=NaN;this.transparent=!1;this._url=null;this._rect_=new Rectangle;void 0===b&&(b=0);void 0===d&&(d=0);void 0===a&&(a=!0);void 0===c&&(c=16777215);this.transparent=a;this._rect_.x=this._rect_.y=0;this._rect_.width=this._width_=b;this._rect_.height=this._height_=d;this.setType(2);this.transparent||(this._createCMD_(),this._fillRect_(new Rectangle(0,0,b,d),c))}__class(a,"iflash.display.BitmapData",!0);var c=a.prototype;c.paintCanvas=function(b,d,a,c,f){0!=b.width&&0!=b.height&&this._canvas_&&0!=this._canvas_.width&&0!=this._canvas_.height&&this._canvas_&&b.drawImage(this._canvas_,0,0,this._canvas_.width,this._canvas_.height,d,a,c,f)};c.paintCmd=function(b,d,a,c,f){this._canvas_&&this._canvas_.paint(b,d,a,c,f)};c.setType=function(b){this._type_=b;this.paint=1==this._type_?this.paintCanvas:this.paintCmd};c.clone=function(){return this.copyTo(new a)};c.size=function(b,d){this._width_=b;this._height_=d};c.copyTo=function(b){b._height_=this._height_;b._width_=this._width_;b._rect_=this._rect_.clone();this._canvas_&&(b._canvas_=this._canvas_.clone());b._context_=1==b.type?b._canvas_.getContext("2d"):b._canvas_;return b};c.initBitmapdata=function(b){var d=Browser.document.createElement("image");d.onload=function(){this.setImage(d)};d.src=b;Laya.RENDERBYCANVAS&&DisplayUnit._insertUnit_(this,DrawBitmapData._DEFAULT_);return!1};c.destroy=function(){this._context_=this._canvas_=null};c.setCanvas=function(b){this._canvas_=b;this._context_=this._canvas_.getContext("2d");if(0==this._width_||0==this._height_)this._width_=b.width,this._height_=b.height};c.setImage=function(b){if(0==this._width_||0==this._height_)this._width_=b.width,this._height_=b.height;this._canvas_?2==this._type_?this._canvas_.changeImage(b):this._context_.drawImage(b,0,0):2==this._type_?(this._canvas_=new VirtualCanvas,this._canvas_.size(this._width_,this._height_),this._canvas_.setImage(b),this._context_=this._canvas_.getContext("2d")):(this._canvas_=this._canvas_||Canvas.create(),this._canvas_.size(this._width_,this._height_),this._context_=this._canvas_.getContext("2d"),this._context_.drawImage(b,0,0))};c.fillRect=function(b,d){this._createCMD_();0==d?this._context_.clearRect(b.left,b.top,b.width,b.height):this._fillRect_(b,d)};c._fillRect_=function(b,d){this._context_.save();var a,c=0,f="";if(16777215>=d)a=d.toString(16).toUpperCase(),c=6-a.length;else{a=d%16777216;var h=Laya.__parseInt(d/16777216+"");this._context_.globalAlpha=h/255;a=a.toString(16)}if(6>a.length)for(h=0;h<c;h++)f+=0;this._context_.fillStyle="#"+f+a;this._context_.fillRect(b.left,b.top,b.width,b.height);this._context_.restore()};c._createCMD_=function(){if(this._canvas_)return this._canvas_;this._canvas_=2==this._type_?Browser.document.createElement("virtualBitmap"):Canvas.create();this._context_=1==this.type?this._canvas_.getContext("2d"):this._canvas_;this._canvas_.size(this.width,this.height);return this._canvas_};c.isOk=function(){return this._canvas_&&this._canvas_.isReady()?!0:!1};c.setComplete=function(b){this._canvas_.onComplete=b};c.draw=function(b,d,a,c,f,h){null==f&&(f=new Rectangle(0,0,this.width,this.height));f.right>this.width&&(f.width=this.width-f.x);f.bottom>this.height&&(f.height=this.height-f.y);this._createCMD_();b instanceof iflash.display.BitmapData?a=b._canvas_:(a=new VirtualCanvas,a.size(b.width,b.height),b._lyToBody_(),b.conchPaint(a,0,0,!0));this._context_&&(d?this._context_.drawMartixImage(a,d,f):this._context_.drawImage(a,f.x,f.y,f.width,f.height,f.x,f.y,f.width,f.height))};c.scroll=LAYAFNVOID;c.dispose=function(){this._context_=this._canvas_=null};c.isReady=function(){return null!=this._canvas_};c.setPixels=function(b,d,a){this._width_=b.width;this._height_=b.height;var c={};c.data=d;c.width=b.width;c.height=b.height;if(Laya.CONCHVER||Laya.FLASHVER)b=Browser.document.createElement("img"),this.setImage(b),b.putImageData(a,c,0,0,null);this._url=a};c.getPixel=LAYAFN0;c.clear=function(){this._context_&&this._context_.clearRect(0,0,this._width_,this._height_)};c.copyPixels=function(b,d,a,c,f,h){void 0===h&&(h=!1);c=this._width_;f=this._height_;a=a||Point.__DEFAULT__;var k=a.x;a=a.y;var l=d.left,m=d.top,n=d.width;d=d.height;0>k&&(l-=k,n+=k,k=0);0>a&&(m-=a,d+=a,a=0);n+k>this.width&&(n=this.width-k);d+a>this.height&&(d=this.height-a);b.width<n?n=b.width:b.height<d&&(d=b.height);null==this._canvas_&&(this.size(c||n,f||d),this._createCMD_());!h&&this._canvas_.clearRect(k,a,n,d);b._canvas_&&this._canvas_.drawImage(b._canvas_,l,m,Math.min(n,this._width_),Math.min(this._height_,d),k,a,Math.min(n,this._width_),Math.min(this._height_,d))};c.getPixel32=function(b,d){return 16750848};c.lock=LAYAFNVOID;c.unlock=LAYAFNVOID;c.setPixel=LAYAFNVOID;c.getCanvas=function(){if(1==this._type_)return this._canvas_;if(this._canvas_.isNormal())return this._canvas_.getImage();var b=Canvas.create();b.size(this._width_,this._height_);var d=b.getContext("2d");b.context=d;this.paintCmd(d,0,0,this._width_,this._height_);return b};c.getCanvasII=function(){return this._canvas_.isNormal()?this._canvas_.getImage():null};c.getColorBoundsRect=function(b,d,a){return this.rect};c.copyChannel=LAYAFNVOID;c.colorTransform=LAYAFNVOID;c.applyFilter=LAYAFNVOID;c.setPixel32=LAYAFNVOID;c.threshold=function(b,d,a,c,f,h,k,l){return 0};c.getPixels=LAYAFNNULL;c.histogram=function(b){return[]};c.hitTest=function(b,d,a,c,f){return!1};c.compare=LAYAFNNULL;c.generateFilterRect=LAYAFNNULL;__getset(0,c,"type",function(){return this._type_});__getset(0,c,"width",function(){return this._width_},function(b){this.size(b,this._height_)});__getset(0,c,"rect",function(){this._rect_.width=this._width_;this._rect_.height=this._height_;return this._rect_});__getset(0,c,"height",function(){return this._height_},function(b){this.size(this._width_,b)});__getset(0,c,"url",function(){return this._url});a.CANVAS=1;a.CMD=2;return a}(),BitmapDataChannel=function(){function a(){}__class(a,"iflash.display.BitmapDataChannel",!0);a.ALPHA=8;a.BLUE=4;a.GREEN=2;a.RED=1;return a}(),BlendMode=function(){function a(){}__class(a,"iflash.display.BlendMode",!0);a.NORMAL="normal";a.LAYER="layer";a.MULTIPLY="multiply";a.SCREEN="screen";a.LIGHTEN="lighten";a.DARKEN="darken";a.ADD="add";a.SUBTRACT="subtract";a.DIFFERENCE="difference";a.INVERT="invert";a.OVERLAY="overlay";a.HARDLIGHT="hardlight";a.ALPHA="alpha";a.ERASE="erase";a.SHADER="shader";return a}(),CapsStyle=function(){function a(){}__class(a,"iflash.display.CapsStyle",!0);a.ROUND="round";a.NONE="none";a.SQUARE="square";return a}(),FrameLabel=function(){function a(){this.frame=0;this.name=null}__class(a,"iflash.display.FrameLabel",!0);return a}(),GradientType=function(){function a(){}__class(a,"iflash.display.GradientType",!0);a.LINEAR="linear";a.RADIAL="radial";return a}(),Graphics=function(){function a(b){this._context_=this._canvas_=this.ower=null;this._rendercomds_=[];this.height=this.width=this._rendercomdsOffset_=0;this.bitmapFlag=!1;this.y=this.x=0;this._rectArea=null;this.isFill=!1;this._oddeven=0;this.prefill=this._beginPos=null;this.isDrawGraphic=!1;this.lythickness=0;this.isMoveto=this.lystroke=this.lystorkeStyle=!1;this._lastY=this._lastX=this._maxY=this._maxX=this._minY=this._minX=0;this._helprec=new Rectangle;this._pointMove=new Point;this.ower=b;this._createCanvas_()}__class(a,"iflash.display.Graphics",!0);var c=a.prototype;c._createCanvas_=function(){this._canvas_||(this._canvas_=new VirtualCanvas,this._context_=this._canvas_.getContext("2d"),this._rectArea=new Rectangle)};c.hasUse=function(){return 0<this._rendercomds_.length};c._expandSize_=function(b){this._rectArea=this._rectArea?this._rectArea.union(b):b.clone();this.width=Math.max(this.width,this._rectArea.width+this.lythickness);this.height=Math.max(this.height,this._rectArea.height+this.lythickness);this.ower._height_=this.height;this.ower._width_=this.width;this.x=this._rectArea.x;this.y=this._rectArea.y;this._canvas_.size(this.width,this.height)};c.isReady=function(){return this._canvas_&&(0<this.width&&0<this.height||this.lystroke)};c.beginBitmapFill=function(b,d,a,c){void 0===a&&(a=!0);void 0===c&&(c=!1);this._rendercomds_.push([null,3,[b,d,a,c]]);this.bitmapFlag=!0};c.beginFill=function(b,d){void 0===d&&(d=1);this._oddeven=0;this.isFill=!0;var a=b.toString(16).toUpperCase(),c=6-a.length,f="";if(6>a.length)for(var h=0;h<c;h++)f+=0;c=Laya.__parseInt(255*d+"").toString(16);2>c.length&&(c="0"+c);h="rgba("+(b>>16)+","+((b&65280)>>8)+","+(b&255)+","+d+")";Laya.CONCHVER&&(h="#"+c+(f+a));this._context_.fillStyle=h;this.bitmapFlag=!1};c.beginGradientFill=function(b,d,a,c,f,h,k,l){};c.beginShaderFill=LAYAFNVOID;c.clear=function(){this.width=this.height=this.x=this.y=0;this.lystorkeStyle=this.lystroke=this.isFill=!1;this._rectArea=null;this.lythickness=0;this._context_.globalCompositeOperation="source-over";this._maxY=this._maxX=this._minY=this._minX=this._oddeven=0;this.isMoveto=!1;this._rendercomdsOffset_=this._rendercomds_.length=0;this._canvas_&&this._canvas_.clearRect(0,0,this._canvas_.width,this._canvas_.height)};c.copyFrom=LAYAFNVOID;c.cubicCurveTo=function(b,d,a,c,f,h){this.setxy(b,d);this._addplug_();this._context_.bezierCurveTo(b,d,a,c,f,h);this.lystorkeStyle&&this._context_.stroke();this.isFill&&this._context_.fill()};c.curveTo=function(b,d,a,c){this._addplug_();this.setxy(b,d);this._context_.quadraticCurveTo(b,d,a,c);this.isFill&&this._context_.fill();this._context_.stroke()};c.drawCircle=function(b,d,a){this._oddeven++;this._addplug_();this.setxy(b-a,d-a);this._helprec.x=b-a;this._helprec.y=d-a;this._helprec.width=this._helprec.height=2*a;this._expandSize_(this._helprec);this._context_.beginPath();this._context_.arc(b,d,a,0,2*Math.PI,!0);this._context_.closePath();this.isFill&&this._context_.fill();this.lystorkeStyle&&this._context_.stroke()};c.drawEllipse=function(b,d,a,c){this._addplug_();this.setxy(b,d);this._helprec.x=b-a;this._helprec.y=d-c;this._helprec.width=a;this._helprec.height=c;this._expandSize_(this._helprec);this._context_.save();var f=a>c?a:c,h=a/f*.5,k=c/f*.5;this._context_.scale(h,k);this._context_.beginPath();this._context_.arc((b+.5*a)/h,(d+.5*c)/k,f,0,2*Math.PI,!0);this._context_.closePath();this.isFill&&this._context_.fill();this.lystorkeStyle&&this._context_.stroke();this._context_.restore()};c.drawGraphicsData=LAYAFNVOID;c.drawPath=function(b,d,a){};c._addplug_=function(){1<this._oddeven&&(this._context_.globalCompositeOperation="xor");this.isDrawGraphic||(Laya.RENDERBYCANVAS?DisplayUnit._insertUnit_(this.ower,DrawGraphics._DEFAULT_):this.ower._modle_.vcanvas(this._canvas_),this.isDrawGraphic=!0)};c.drawRect=function(b,d,a,c){this._oddeven++;b=parseFloat(b);d=parseFloat(d);a=parseFloat(a);c=parseFloat(c);this._addplug_();this.setxy(b,d);!this._beginPos&&(this._beginPos=new Point);this._beginPos.x=b;this._beginPos.y=d;this._helprec.x=b;this._helprec.y=d;this._helprec.width=a;this._helprec.height=c;this._expandSize_(this._helprec);if(this.bitmapFlag)if(3==this._rendercomds_[this._rendercomds_.length-1][1]){var f=this._rendercomds_.pop(),h=f[2][1],k=f[2][0],l=k.getCanvasII();f[2][2]&&h&&!h.isTransform()&&l&&(k.width<a||k.height<c)?this._context_.fillImage(l,b,d,a,c):h?this._context_.drawMartixImage(k._canvas_,h,new Rectangle(b,d,a,c)):this._context_.drawImage(k._canvas_,b,d,a,c,b,d,a,c);this.prefill=[this._context_.drawImage,l]}else this.prefill&&this._context_.drawImage(this.prefill[1],b,d,a,c,b,d,a,c);else{if(this.lystorkeStyle)this.isFill&&this._context_.fillRect(b,d,a,c),this._context_.strokeRect(b+.5,d+.5,a,c);else if(this.isFill)this._context_.fillRect(b-1,d-1,a+1,c+1);else return;this._context_.closePath()}this._context_.globalCompositeOperation="source-over"};c.drawRoundRect=function(b,d,a,c,f,h){this._addplug_();this.setxy(b,d);f/=2;this._context_.beginPath();this._context_.moveTo(b+f,d);this._context_.arcTo(b+a,d,b+a,d+c,f);this._context_.arcTo(b+a,d+c,b,d+c,f);this._context_.arcTo(b,d+c,b,d,f);this._context_.arcTo(b,d,b+a,d,f);this.isFill&&this._context_.fill();this.lystorkeStyle&&this._context_.stroke();this._context_.closePath();this._helprec.x=b;this._helprec.y=d;this._helprec.width=a;this._helprec.height=c;this._expandSize_(this._helprec)};c.drawRoundRectComplex=LAYAFNVOID;c.drawTriangles=function(b,d,a,c){};c.endFill=function(){this.lystorkeStyle=this.lystroke=this.isFill=!1;this.lythickness=0};c.setxy=function(b,d){};c.lineBitmapStyle=function(b,d,a,c){};c.lineGradientStyle=function(b,d,a,c,f,h,k,l){};c.lineShaderStyle=LAYAFNVOID;c.lineStyle=function(b,d,a,c,f,h,k,l){void 0===b&&(b=0);void 0===d&&(d=0);void 0===a&&(a=1);if(b){this.bitmapFlag=!1;this.lystroke=this.lystorkeStyle=!0;this.lythickness=b;d=Laya.__parseInt(d+"");d=d.toString(16).toUpperCase();c=6-d.length;f="";if(6>d.length)for(h=0;h<c;h++)f+=0;this._context_.lineWidth=b;this._context_.strokeStyle="#"+(f+d);this._context_.lineCap="round";this._context_.lineJoin="round";this._context_.globalAlpha=a}};c.lineTo=function(b,d){0==this.isMoveto&&this.moveTo(0,0);this._addplug_();this._helprec.width=Math.abs(b-this._pointMove.x);this._helprec.height=Math.abs(d-this._pointMove.y);this._helprec.x=this._pointMove.x;this._helprec.y=this._pointMove.y;this._expandSize_(this._helprec);this._context_.lineTo(b,d);this._context_.stroke();this.isFill&&this._context_.fill()};c.moveTo=function(b,d){this._addplug_();this.setxy(b,d);this.lystroke=!0;this._pointMove.x=b;this._pointMove.y=d;this._context_.beginPath();this._context_.moveTo(b,d);this.isMoveto=!0};c.checkRect=function(b,d,a,c){this._minX=Math.min(this._minX,b);this._minY=Math.min(this._minY,d);this._maxX=Math.max(this._maxX,b+a);this._maxY=Math.max(this._maxY,d+c)};c.checkPoint=function(b,d){this._minX=Math.min(this._minX,b);this._minY=Math.min(this._minY,d);this._maxX=Math.max(this._maxX,b);this._maxY=Math.max(this._maxY,d);this._lastX=b;this._lastY=d};c.getBounds=function(b){return this._getBounds_(b)};c._getBounds_=function(b,d){d||(d=new Rectangle);if(b==this.ower)d.setTo(this.x,this.y,this.width,this.height);else{var a=b.globalToLocal(this.ower.localToGlobal(new Point(this.x,this.y)));d.setTo(a.x,a.y,this.width,this.height)}return d};__getset(0,c,"beginPos",function(){return this._beginPos});return a}(),GraphicsEndFill=function(){function a(){}__class(a,"iflash.display.GraphicsEndFill",!0);Laya.imps(a.prototype,{"iflash.display.IGraphicsFill":!0,"iflash.display.IGraphicsData":!0});return a}(),GraphicsGradientFill=function(){function a(b){this.colors=this.alphas=null;this.focalPointRatio=NaN;this.ratios=this.matrix=null}__class(a,"iflash.display.GraphicsGradientFill",!0);var c=a.prototype;Laya.imps(c,{"iflash.display.IGraphicsFill":!0,"iflash.display.IGraphicsData":!0});__getset(0,c,"interpolationMethod",LAYAFNSTR,LAYAFNVOID);__getset(0,c,"spreadMethod",LAYAFNSTR,LAYAFNVOID);__getset(0,c,"type",LAYAFNSTR,LAYAFNVOID);return a}(),GraphicsPath=function(){function a(b,d,a){this.data=this.commands=null}__class(a,"iflash.display.GraphicsPath",!0);var c=a.prototype;Laya.imps(c,{"iflash.display.IGraphicsPath":!0,"iflash.display.IGraphicsData":!0});c.cubicCurveTo=LAYAFNVOID;c.curveTo=LAYAFNVOID;c.lineTo=LAYAFNVOID;c.moveTo=LAYAFNVOID;c.wideLineTo=LAYAFNVOID;c.wideMoveTo=LAYAFNVOID;__getset(0,c,"winding",LAYAFNSTR,LAYAFNVOID);return a}(),GraphicsPathCommand=function(){function a(){}__class(a,"iflash.display.GraphicsPathCommand",!0);a.CUBIC_CURVE_TO=0;a.CURVE_TO=3;a.LINE_TO=2;a.MOVE_TO=1;a.NO_OP=0;a.WIDE_LINE_TO=5;a.WIDE_MOVE_TO=4;return a}(),GraphicsSolidFill=function(){function a(a){this.alpha=NaN;this.color=0}__class(a,"iflash.display.GraphicsSolidFill",!0);Laya.imps(a.prototype,{"iflash.display.IGraphicsFill":!0,"iflash.display.IGraphicsData":!0});return a}(),GraphicsStroke=function(){function a(b){this.fill=null;this.miterLimit=NaN;this.pixelHinting=!1;this.thickness=NaN}__class(a,"iflash.display.GraphicsStroke",!0);var c=a.prototype;Laya.imps(c,{"iflash.display.IGraphicsStroke":!0,"iflash.display.IGraphicsData":!0});__getset(0,c,"caps",LAYAFNSTR,LAYAFNVOID);__getset(0,c,"joints",LAYAFNSTR,LAYAFNVOID);__getset(0,c,"scaleMode",LAYAFNSTR,LAYAFNVOID);return a}(),InterpolationMethod=function(){function a(){}__class(a,"iflash.display.InterpolationMethod",!0);a.LINEAR_RGB="linearRGB";a.RGB="rgb";return a}(),JointStyle=function(){function a(){}__class(a,"iflash.display.JointStyle",!0);a.ROUND="round";a.BEVEL="bevel";a.MITER="miter";return a}(),LineScaleMode=function(){function a(){}__class(a,"iflash.display.LineScaleMode",!0);a.HORIZONTAL="horizontal";a.NONE="none";a.NORMAL="normal";a.VERTICAL="vertical";return a}(),PixelSnapping=function(){function a(){}__class(a,"iflash.display.PixelSnapping",!0);a.ALWAYS="always";a.AUTO="auto";a.NEVER="never";return a}(),DisplayUnit=function(){function a(){this.pre=this.next=null}__class(a,"iflash.display.plug.DisplayUnit",!0);var c=a.prototype;c.clone=LAYAFNNULL;c.destroy=LAYAFNVOID;c.paint=function(b,d,a,c,f,h){this.next&&this.next.paint(b,d,a,c,f,h)};__getset(0,c,"place",function(){return-1});__getset(0,c,"id",function(){return-1});a._insertUnit_=function(b,d){if(!Laya.RENDERBYCANVAS)return null;if(null==b._firstDisplayUnit_)return b._firstDisplayUnit_=d.clone(b);var a=b._firstDisplayUnit_,c,f=d.place,h=d.id;do{c=a;if(a.id==h)return a;if(a.place>=f)break;a=a.next}while(a);if(c.place==f)return a=d.clone(b),a.pre=c.pre,a.next=c.next,null==a.pre&&(b._firstDisplayUnit_=a),c.destroy(),a;if(c.place<f)return a=c.next,c.next=d.clone(b),c.next.pre=c,c.next.next=a,c.next;a=d.clone(b);c.pre&&(c.pre.next=a);a.pre=c.pre;a.next=c;c.pre=a;null==a.pre&&(b._firstDisplayUnit_=a);return a};a.removeUnit=function(b,d){d.pre&&(d.pre.next=d.next);d.next&&(d.next.pre=d.pre);d.destroy()};a._DEFAULT_=new a;return a}(),Scene=function(){function a(b){}__class(a,"iflash.display.Scene",!0);var c=a.prototype;__getset(0,c,"labels",LAYAFNNULL);__getset(0,c,"name",LAYAFNNULL);__getset(0,c,"numFrames",LAYAFN0);return a}(),Shader=function(){function a(b){this._data;b&&(this.byteCode=b)}__class(a,"iflash.display.Shader",!0);var c=a.prototype;__getset(0,c,"byteCode",null,function(b){this.data=new ShaderData(b)});__getset(0,c,"data",function(){return this._data},function(b){this._data=b});__getset(0,c,"precisionHint",LAYAFNSTR,LAYAFNVOID);return a}(),ShaderData=function(){function a(a){}__class(a,"iflash.display.ShaderData",!0);return a}(),SpreadMethod=function(){function a(){}__class(a,"iflash.display.SpreadMethod",!0);a.PAD="pad";a.REFLECT="reflect";a.REPEAT="repeat";return a}(),StageAlign=function(){function a(){}__class(a,"iflash.display.StageAlign",!0);a.isTop=function(c){return(a.ALIGN_SIGN[c]&a.NUM_T)==a.NUM_T};a.isBottom=function(c){return(a.ALIGN_SIGN[c]&a.NUM_B)==a.NUM_B};a.isLeft=function(c){return(a.ALIGN_SIGN[c]&a.NUM_L)==a.NUM_L};a.isRight=function(c){return(a.ALIGN_SIGN[c]&a.NUM_R)==a.NUM_R};a.NUM_T=1;a.NUM_L=2;a.NUM_R=4;a.NUM_B=8;a.BOTTOM="B";a.BOTTOM_LEFT="BL";a.BOTTOM_RIGHT="BR";a.LEFT="L";a.RIGHT="R";a.TOP="T";a.TOP_LEFT="TL";a.TOP_RIGHT="TR";__static(a,["ALIGN_SIGN",function(){return this.ALIGN_SIGN={T:1,L:2,R:4,B:8,BL:10,BR:12,TL:3,TR:5}}]);return a}(),StageAspectRatio=function(){function a(){}__class(a,"iflash.display.StageAspectRatio",!0);a.ANY="any";a.LANDSCAPE="landscape";a.PORTRAIT="portrait";return a}(),StageDisplayState=function(){function a(){}__class(a,"iflash.display.StageDisplayState",!0);a.FULL_SCREEN="fullScreen";a.FULL_SCREEN_INTERACTIVE="fullScreenInteractive";a.NORMAL="normal";return a}(),StageOrientation=function(){function a(){}__class(a,"iflash.display.StageOrientation",!0);a.DEFAULT="default";a.ROTATED_LEFT="rotatedLeft";a.ROTATED_RIGHT="rotatedRight";a.UNKNOWN="unknown";a.UPSIDE_DOWN="upsideDown";return a}(),StageQuality=function(){function a(){}__class(a,"iflash.display.StageQuality",!0);a.LOW="low";a.MEDIUM="medium";a.HIGH="high";a.BEST="best";return a}(),StageScaleMode=function(){function a(){}__class(a,"iflash.display.StageScaleMode",!0);a.SHOW_ALL="showAll";a.EXACT_FIT="exactFit";a.NO_BORDER="noBorder";a.NO_SCALE="noScale";return a}(),SWFVersion=function(){function a(){}__class(a,"iflash.display.SWFVersion",!0);a.FLASH1=1;a.FLASH10=10;a.FLASH11=11;a.FLASH12=0;a.FLASH2=2;a.FLASH3=3;a.FLASH4=4;a.FLASH5=5;a.FLASH6=6;a.FLASH7=7;a.FLASH8=8;a.FLASH9=9;return a}(),Filters=function(){function a(){this._alpha_=1;this.key=0}__class(a,"iflash.display.utils.Filters",!0);a.prototype.alpha=function(a,b){Laya.RENDERBYCANVAS&&UseFilter.insertUnit(a);this._alpha_=b;a._modle_.alpha(b)};a.__DEFAULT__=new a;return a}(),Point3d=function(){function a(a,b,d){this.z=this.y=this.x=NaN;this.x=a;this.y=b;this.z=d}__class(a,"iflash.display.utils.Point3d",!0);return a}(),ExternalInterface=function(){function a(){}__class(a,"iflash.external.ExternalInterface",!0);__getset(1,a,"available",LAYAFNFALSE);__getset(1,a,"objectID",LAYAFNSTR);a.addCallback=LAYAFNVOID;a.call=function(a,b){for(var d=[],g=1,e=arguments.length;g<e;g++)d.push(arguments[g]);return null};a.marshallExceptions=!1;return a}(),Base64=function(){function a(){}__class(a,"iflash.filesystem.Base64",!0);a.encode=function(c){var b=new ByteArray;b.writeUTFBytes(c);return a.encodeByteArray(b)};a.encodeByteArray=function(c){var b="",d,g=Array(4);for(c.position=0;0<c.bytesAvailable;){d=[];for(var e=0;3>e&&0<c.bytesAvailable;e++)d[e]=c.readUnsignedByte();g[0]=(d[0]&252)>>2;g[1]=(d[0]&3)<<4|d[1]>>4;g[2]=(d[1]&15)<<2|d[2]>>6;g[3]=d[2]&63;for(d=d.length;3>d;d++)g[d+1]=64;for(d=0;d<g.length;d++)b+=a.BASE64_CHARS.charAt(g[d])}return b};a.decode=function(c){c=a.decodeToByteArray(c);return c.readUTFBytes(c.length)};a.decodeToByteArray=function(c){for(var b=new ByteArray,d=Array(4),g=Array(3),e=0;e<c.length;e+=4){for(var f=0;4>f&&e+f<c.length;f++)d[f]=a.BASE64_CHARS.indexOf(c.charAt(e+f));g[0]=(d[0]<<2)+((d[1]&48)>>4);g[1]=((d[1]&15)<<4)+((d[2]&60)>>2);g[2]=((d[2]&3)<<6)+d[3];for(f=0;f<g.length&&64!=d[f+1];f++)b.writeByte(g[f])}b.position=0;return b};a.BASE64_CHARS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d";a.version="1.0.0";return a}(),FileMode=function(){function a(){}__class(a,"iflash.filesystem.FileMode",!0);a.APPEND="append";a.READ="read";a.UPDATE="update";a.WRITE="write";return a}(),FileStorage=function(){function a(){this.so=this.layaFileSystem=null;this.lastId=0;this.so=SharedObject.getLocal("LayaAirApplicationStorage_"+encodeURIComponent(location.href));this.layaFileSystem=this.so.data;this.lastId=Laya.__parseInt(this.layaFileSystem.LAYA_FS_ID)}__class(a,"iflash.filesystem.FileStorage",!0);var c=a.prototype;c.createFile=function(b){b=b.split("/").filter(function(b,d,a){return""!=c});for(var d=this.layaFileSystem,a=0;a<b.length;a++){var c=b[a];null!=c&&""!=c&&(null==d[c]?(this.lastId=Laya.__parseInt(this.layaFileSystem.LAYA_FS_ID),a<b.length-1?d[c]={LAYA_FS_TYPE:"D"}:(++this.lastId,d[c]={LAYA_FS_ID:this.lastId},this.layaFileSystem["LAYA_FS_CONTENT"+this.lastId]="",this.layaFileSystem.LAYA_FS_ID=this.lastId),d=d[c],this.so.flush()):d=d[c])}};c.getList=function(b){for(var d=b.split("/").filter(function(b,d,a){return""!=f}),a=this.layaFileSystem,c=0;c<d.length;c++){var f=d[c];null!=f&&""!=f&&null!=a[f]&&(a=a[f])}var d=[],h;for(h in a)0!=h.indexOf("LAYA_FS_CONTENT")&&0!=h.indexOf("LAYA_FS_ID")&&0!=h.indexOf("LAYA_FS_TYPE")&&(c=new File("app-storage:/"+(""==b?"":b+"/")+h),"D"==a[h].LAYA_FS_TYPE&&(c._isDirectory=!0),d.push(c));return d};c.fileExist=function(b){b=b.split("/").filter(function(b,d,a){return""!=c});for(var d=this.layaFileSystem,a=0;a<b.length;a++){var c=b[a];if(null!=c&&""!=c){if(null==d[c])return!1;d=d[c]}}return!0};c.fileWrite=function(b,d){void 0===d&&(d="");for(var a=b.split("/").filter(function(b,d,a){return""!=h}),c=this.layaFileSystem,f=0;f<a.length;f++){var h=a[f];null!=h&&""!=h&&(null==c[h]&&f<a.length-1?this.createFile(a.slice(0,f).join("/")):c=c[h])}this.layaFileSystem["LAYA_FS_CONTENT"+c.LAYA_FS_ID]=escape(d);this.so.flush()};c.fileWriteBinary=function(b,d){for(var a=b.split("/").filter(function(b,d,a){return""!=h}),c=this.layaFileSystem,f=0;f<a.length;f++){var h=a[f];null!=h&&""!=h&&(null==c[h]&&f<a.length-1?this.createFile(a.slice(0,f).join("/")):c=c[h])}this.layaFileSystem["LAYA_FS_CONTENT"+c.LAYA_FS_ID]=Base64.encodeByteArray(d);this.so.flush()};c.getBinaryFile=function(b){if(""==b||null==b)return null;b=b.split("/").filter(function(b,d,a){return""!=c});for(var d=this.layaFileSystem,a=0;a<b.length;a++){var c=b[a];null!=c&&""!=c&&"app:"!=c&&"app-storage:"!=c&&(null==d[c]?(this.lastId=Laya.__parseInt(this.layaFileSystem.LAYA_FS_ID),a<b.length-1?d[c]={LAYA_FS_TYPE:"D"}:(++this.lastId,d[c]={LAYA_FS_ID:this.lastId},this.layaFileSystem["LAYA_FS_CONTENT"+this.lastId]="",this.layaFileSystem.LAYA_FS_ID=this.lastId),d=d[c],this.so.flush()):d=d[c])}return"D"!=d.LAYA_FS_TYPE?Base64.decodeToByteArray(this.layaFileSystem["LAYA_FS_CONTENT"+d.LAYA_FS_ID]):null};c.getFile=function(b){if(""==b||null==b)return null;b=b.split("/").filter(function(b,d,a){return""!=c});for(var d=this.layaFileSystem,a=0;a<b.length;a++){var c=b[a];null!=c&&""!=c&&"app:"!=c&&"app-storage:"!=c&&(null==d[c]?(this.lastId=Laya.__parseInt(this.layaFileSystem.LAYA_FS_ID),a<b.length-1?d[c]={LAYA_FS_TYPE:"D"}:(++this.lastId,d[c]={LAYA_FS_ID:this.lastId},this.layaFileSystem["LAYA_FS_CONTENT"+this.lastId]="",this.layaFileSystem.LAYA_FS_ID=this.lastId),d=d[c],this.so.flush()):d=d[c])}return"D"!=d.LAYA_FS_TYPE?unescape(this.layaFileSystem["LAYA_FS_CONTENT"+d.LAYA_FS_ID]):null};__getset(1,a,"instance",function(){null==a.fileStorage&&(a.fileStorage=new a);return a.fileStorage});a.fileStorage=null;return a}(),BitmapFilter=function(){function a(b){this._mType=null;this.___cached=!1;this.passes=0;this._mType=b}__class(a,"iflash.filters.BitmapFilter",!0);var c=a.prototype;c.clone=function(){return new a(this._mType)};c.__preApplyFilter=LAYAFNVOID;c.__applyFilter=LAYAFNVOID;return a}(),BitmapFilterQuality=function(){function a(){}__class(a,"iflash.filters.BitmapFilterQuality",!0);a.HIGH=3;a.LOW=1;a.MEDIUM=2;return a}(),BitmapFilterType=function(){function a(){}__class(a,"iflash.filters.BitmapFilterType",!0);a.FULL="full";a.INNER="inner";a.OUTER="outer";return a}(),DisplacementMapFilterMode=function(){function a(){this.WRAP=this.IGNORE=this.COLOR=this.CLAMP=null}__class(a,"iflash.filters.DisplacementMapFilterMode",!0);return a}(),ColorTransform=function(){function a(b,d,a,c,f,h,k,l){this.alphaOffset=this.blueOffset=this.greenOffset=this.redOffset=this.alphaMultiplier=this.blueMultiplier=this.greenMultiplier=this.redMultiplier=NaN;void 0===b&&(b=1);void 0===d&&(d=1);void 0===a&&(a=1);void 0===c&&(c=1);void 0===f&&(f=0);void 0===h&&(h=0);void 0===k&&(k=0);void 0===l&&(l=0);this.redMultiplier=b;this.greenMultiplier=d;this.blueMultiplier=a;this.alphaMultiplier=c;this.redOffset=f;this.greenOffset=h;this.blueOffset=k;this.alphaOffset=l}__class(a,"iflash.geom.ColorTransform",!1);var c=a.prototype;c.concat=function(b){this.alphaOffset+=this.alphaMultiplier*b.alphaOffset;this.alphaMultiplier*=b.alphaMultiplier;this.redOffset+=this.redMultiplier*b.redOffset;this.redMultiplier*=b.redMultiplier;this.greenOffset+=this.greenMultiplier*b.greenOffset;this.greenMultiplier*=b.greenMultiplier;this.blueOffset+=this.blueMultiplier*b.blueOffset;this.blueMultiplier*=b.blueMultiplier};c.toString=function(){return"(redMultiplier\x3d"+this.redMultiplier+", greenMultiplier\x3d"+this.greenMultiplier+", blueMultiplier\x3d"+this.blueMultiplier+", alphaMultiplier\x3d"+this.alphaMultiplier+", redOffset\x3d"+this.redOffset+", greenOffset\x3d"+this.greenOffset+", blueOffset\x3d"+this.blueOffset+", alphaOffset\x3d"+this.alphaOffset+")"};__getset(0,c,"color",function(){return this.redOffset<<16|this.greenOffset<<8|this.blueOffset},function(b){this.redMultiplier=this.greenMultiplier=this.blueMultiplier=0;this.redOffset=b>>16&255;this.greenOffset=b>>8&255;this.blueOffset=b&255});a._DEFAULT_=new a;return a}(),Matrix=function(){function a(b,d,a,c,f,h){this.a=1;this.c=this.b=0;this.d=1;this.ty=this.tx=0;void 0===b&&(b=1);void 0===d&&(d=0);void 0===a&&(a=0);void 0===c&&(c=1);void 0===f&&(f=0);void 0===h&&(h=0);this.a=b;this.b=d;this.c=a;this.d=c;this.tx=f;this.ty=h}__class(a,"iflash.geom.Matrix",!0);var c=a.prototype;c.isTransform=function(){return 1!=this.a||0!=this.b||0!=this.c||1!=this.d};c.clone=function(){return new a(this.a,this.b,this.c,this.d,this.tx,this.ty)};c.createGradientBox=function(b,d,a,c,f){void 0===a&&(a=0);void 0===c&&(c=0);void 0===f&&(f=0);this.a=b/1638.4;this.d=d/1638.4;if(0!=a&&0!=a){var h=Math.cos(a);a=Math.sin(a);this.b=a*this.d;this.c=-a*this.a;this.a*=h;this.d*=h}else this.c=this.b=0;this.tx=0!=c?c+b/2:b/2;this.ty=0!=f?f+d/2:d/2};c.transformPoint=function(b){return new Point(this.a*b.x+this.c*b.y+this.tx,this.d*b.y+this.b*b.x+this.ty)};c.identity=function(){this.a=this.d=1;this.b=this.c=this.tx=this.ty=0};c.copy=function(b){this.a=b.a;this.b=b.b;this.c=b.c;this.d=b.d;this.tx=b.tx;this.ty=b.ty;return this};c.copyFrom=function(b){this.a=b.a;this.b=b.b;this.c=b.c;this.d=b.d;this.tx=b.tx;this.ty=b.ty};c.IsEqual=function(b){return this.a!=b.a||this.b!=b.b||this.c!=b.c||this.d!=b.d||this.tx!=b.tx||this.ty!=b.ty?!1:!0};c.translate=function(b,d){this.tx=b+this.tx;this.ty=d+this.ty};c.rotate=function(b){if(!(1E-7>Math.abs(b-0))){var d=Math.cos(b);b=Math.sin(b);var a=this.a*b+this.b*d,c=this.c*d-this.d*b,f=this.c*b+this.d*d,h=this.tx*d-this.ty*b,k=this.tx*b+this.ty*d;this.a=this.a*d-this.b*b;this.b=a;this.c=c;this.d=f;this.tx=h;this.ty=k}};c.scale=function(b,d){if(1!=b||1!=d)this.a*=b,this.b*=d,this.c*=b,this.d*=d,this.tx*=b,this.ty*=d};c.setTransform=function(b,d,a,c,f,h){this.a=b;this.b=d;this.c=a;this.d=c;this.tx=f;this.ty=h};c.transform=function(b,d,a,c,f,h){var k=b*this.b+d*this.d+0*this.ty,l=a*this.a+c*this.c+0*this.tx;a=a*this.b+c*this.d+0*this.ty;c=f*this.a+h*this.c+1*this.tx;f=f*this.b+h*this.d+1*this.ty;this.a=b*this.a+d*this.c+0*this.tx;this.b=k;this.c=l;this.d=a;this.tx=c;this.ty=f};c.invert=function(){var b=this.a,d=this.b,a=this.c,c=this.d,f=this.tx,h=b*c-d*a;this.a=c/h;this.b=-d/h;this.c=-a/h;this.d=b/h;this.tx=(a*this.ty-c*f)/h;this.ty=-(b*this.ty-d*f)/h;return this};c.concat=function(b){var d=this.a,a=this.c,c=this.tx;this.a=d*b.a+this.b*b.c;this.b=d*b.b+this.b*b.d;this.c=a*b.a+this.d*b.c;this.d=a*b.b+this.d*b.d;this.tx=c*b.a+this.ty*b.c+b.tx;this.ty=c*b.b+this.ty*b.d+b.ty;return this};c.preMultiplyInto=function(b,d){var a=b.a*this.a,c=0,f=0,h=b.d*this.d,k=b.tx*this.a+this.tx,l=b.ty*this.d+this.ty;if(0!=b.b||0!=b.c||0!==this.b||0!=this.c)a+=b.b*this.c,h+=b.c*this.b,c+=b.a*this.b+b.b*this.d,f+=b.c*this.a+b.d*this.c,k+=b.ty*this.c,l+=b.tx*this.b;d.a=a;d.b=c;d.c=f;d.d=h;d.tx=k;d.ty=l};c.concatSix=function(b,d,a,c,f,h){var k=this.a,l=this.c,m=this.tx;this.a=k*b+this.b*a;this.b=k*d+this.b*c;this.c=l*b+this.d*a;this.d=l*d+this.d*c;this.tx=m*b+this.ty*a+f;this.ty=m*d+this.ty*c+h};c.deltaTransformPoint=function(b){return new Point(b.x*this.a+b.y*this.c,b.x*this.b+b.y*this.d)};c.createBox=function(b,d,a,c,f){void 0===a&&(a=0);void 0===c&&(c=0);void 0===f&&(f=0);this.a=b;this.d=d;this.b=a;this.tx=c;this.ty=f};c.setTo=function(b,d,a,c,f,h){this.a=b;this.b=d;this.c=a;this.d=c;this.tx=f;this.ty=h};c.transformPointInPlace=function(b,a){a.setTo(this.a*b.x+this.c*b.y+this.tx,this.b*b.x+this.d*b.y+this.ty);return a};c.transformBounds=function(b){if(!b)return b;var a=b.x,c=b.y,e=Math.abs(b.width),f=Math.abs(b.height),a=0>b.width?a-e:a,c=0>b.height?c-f:c,h=this.a*a+this.c*c+this.tx,k=this.b*a+this.d*c+this.ty,l=this.a*(a+e)+this.c*c+this.tx,m=this.b*(a+e)+this.d*c+this.ty,n=this.a*(a+e)+this.c*(c+f)+this.tx,e=this.b*(a+e)+this.d*(c+f)+this.ty,p=this.a*a+this.c*(c+f)+this.tx,a=this.b*a+this.d*(c+f)+this.ty;b.x=Math.min(h,l,n,p);b.width=Math.max(h,l,n,p)-b.x;b.y=Math.min(k,m,e,a);b.height=Math.max(k,m,e,a)-b.y;return b};a.lerp=function(b,a,c,e){b.a=a.a+(c.a-a.a)*e;b.b=a.b+(c.b-a.b)*e;b.c=a.c+(c.c-a.c)*e;b.d=a.d+(c.d-a.d)*e;b.tx=a.tx+(c.tx-a.tx)*e;b.ty=a.ty+(c.ty-a.ty)*e};a.lerp1=function(b,a,c,e){b.a=a[0]+(c[0]-a[0])*e;b.b=a[1]+(c[1]-a[1])*e;b.c=a[2]+(c[2]-a[2])*e;b.d=a[3]+(c[3]-a[3])*e;b.tx=a[4]+(c[4]-a[4])*e;b.ty=a[5]+(c[5]-a[5])*e};a.fromSRT=function(b,a,c,e,f,h){var k=Math.sin(e);e=Math.cos(e);b.a=a*e;b.b=a*k;b.c=-c*k;b.d=c*e;b.tx=f;b.ty=h};a.fromRST=function(b,a,c,e,f,h){var k=Math.sin(e);e=Math.cos(e);b.a=a*e;b.b=c*k;b.c=-a*k;b.d=c*e;b.tx=f;b.ty=h};a.fromTransformInfo=function(b,d,c,e,f,h,k){if(0==e)a.fromSRT(b,d,c,f,h,k);else if(1E-4>Math.abs(e-f))a.fromRST(b,d,c,f,h,k);else{var l=Math.sin(e);e=Math.cos(e);b.a=d*e;b.b=c*l;b.c=-d*l;b.d=c*e;b.tx=0;b.ty=0;d=new a;d.a=e;d.b=-l;d.c=l;d.d=e;d.tx=0;d.ty=0;a.mul(b,b,d);l=Math.sin(f);e=Math.cos(f);d.a=e;d.b=l;d.c=-l;d.d=e;d.tx=0;d.ty=0;a.mul(b,b,d);b.tx=h;b.ty=k}};a.mul=function(b,a,c){var e=a.a,f=a.b,h=a.c,k=a.d,l=a.tx;a=a.ty;var m=c.a,n=c.b,p=c.c,q=c.d,r=c.tx;c=c.ty;b.a=e*m+f*p;b.b=e*n+f*q;b.c=h*m+k*p;b.d=h*n+k*q;b.tx=m*l+p*a+r;b.ty=n*l+q*a+c};__static(a,["__DEFAULT__",function(){return this.__DEFAULT__=new a},"__SMALL__",function(){return this.__SMALL__=new a(1E-5,0,0,1E-6,0,0)}]);return a}(),Matrix3D=function(){function a(b){this.$vec=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];this.$transposeTransform=[0,4,8,12,1,5,9,13,2,6,10,14,3,7,11,15];if(null!=b){if(b.length!=this.$vec.length)throw Error("Not equal length!");for(var a=0;a<this.$vec.length;a++)this.$vec[a]=b[a]}}__class(a,"iflash.geom.Matrix3D",!0);var c=a.prototype;c.append=function(b){var a=b.rawData,c=this.$vec;b=a[0];var e=a[4],f=a[8],h=a[12],k=a[1],l=a[5],m=a[9],n=a[13],p=a[2],q=a[6],r=a[10],v=a[14],t=a[3],u=a[7],w=a[11],a=a[15],x=c[0],z=c[4],A=c[8],y=c[12],C=c[1],E=c[5],D=c[9],F=c[13],G=c[2],B=c[6],J=c[10],H=c[14],I=c[3],K=c[7],L=c[11],c=c[15];this.$vec[0]=b*x+e*C+f*G+h*I;this.$vec[1]=k*x+l*C+m*G+n*I;this.$vec[2]=p*x+q*C+r*G+v*I;this.$vec[3]=t*x+u*C+w*G+a*I;this.$vec[4]=b*z+e*E+f*B+h*K;this.$vec[5]=k*z+l*E+m*B+n*K;this.$vec[6]=p*z+q*E+r*B+v*K;this.$vec[7]=t*z+u*E+w*B+a*K;this.$vec[8]=b*A+e*D+f*J+h*L;this.$vec[9]=k*A+l*D+m*J+n*L;this.$vec[10]=p*A+q*D+r*J+v*L;this.$vec[11]=t*A+u*D+w*J+a*L;this.$vec[12]=b*y+e*F+f*H+h*c;this.$vec[13]=k*y+l*F+m*H+n*c;this.$vec[14]=p*y+q*F+r*H+v*c;this.$vec[15]=t*y+u*F+w*H+a*c};c.appendRotation=function(b,a,c){this.append(this.getRotationMatrix(b/180*Math.PI,a.x,a.y,a.z,c?c.x:0,c?c.y:0,c?c.z:0))};c.appendScale=function(b,a,c){this.$vec[0]*=b;this.$vec[1]*=a;this.$vec[2]*=c;this.$vec[4]*=b;this.$vec[5]*=a;this.$vec[6]*=c;this.$vec[8]*=b;this.$vec[9]*=a;this.$vec[10]*=c;this.$vec[12]*=b;this.$vec[13]*=a;this.$vec[14]*=c};c.appendTranslation=function(b,a,c){var e=this.$vec,f=e[3],h=e[7],k=e[11],l=e[15];e[0]+=b*f;e[1]+=a*f;e[2]+=c*f;e[4]+=b*h;e[5]+=a*h;e[6]+=c*h;e[8]+=b*k;e[9]+=a*k;e[10]+=c*k;e[12]+=b*l;e[13]+=a*l;e[14]+=c*l};c.clone=function(){return new iflash.geom.Matrix3D(this.$vec)};c.copyColumnFrom=function(b,a){if(3<b)throw Error("column number too bigger");var c=b<<2;this.$vec[c]=a.x;this.$vec[c+1]=a.y;this.$vec[c+2]=a.z;this.$vec[c+3]=a.w};c.copyColumnTo=function(b,a){if(3<b)throw Error("column number too bigger");var c=b<<2;a.x=this.$vec[c];a.y=this.$vec[c+1];a.z=this.$vec[c+2];a.w=this.$vec[c+3]};c.copyFrom=function(b){for(var a=0;a<this.$vec.length;a++)this.$vec[a]=b.$vec[a]};c.copyRawDataFrom=function(b,a,c){void 0===a&&(a=0);void 0===c&&(c=!1);var e=0;a|=0;if(c)for(;16>e;e++,a++)this.$vec[this.$transposeTransform[e]]=b[a]||0;else for(;16>e;e++,a++)this.$vec[e]=b[a]||0};c.copyRawDataTo=function(b,a,c){void 0===a&&(a=0);void 0===c&&(c=!1);var e=0;a|=0;if(c)for(;16>e;e++,a++)b[a]=this.$vec[this.$transposeTransform[e]];else for(;16>e;e++,a++)b[a]=this.$vec[e]};c.copyRowFrom=function(b,a){if(3<b)throw Error("row number too bigger",0);var c=b|0;this.$vec[c]=a.x;this.$vec[c+4]=a.y;this.$vec[c+8]=a.z;this.$vec[c+12]=a.w};c.copyRowTo=function(b,a){var c=b|0;a.x=this.$vec[c];a.y=this.$vec[c+4];a.z=this.$vec[c+8];a.w=this.$vec[c+12]};c.copyToMatrix3D=function(b){for(var a=0;16>a;a++)b.rawData[a]=this.$vec[a]};c.decompose=function(b){throw Error("decompose");};c.deltaTransformVector=function(b){var a=b.x,c=b.y;b=b.z;return new Vector3D(this.$vec[0]*a+this.$vec[4]*c+this.$vec[8]*b,this.$vec[1]*a+this.$vec[5]*c+this.$vec[9]*b,this.$vec[2]*a+this.$vec[6]*c+this.$vec[10]*b)};c.identity=function(){this.$vec[0]=this.$vec[5]=this.$vec[10]=this.$vec[15]=1;this.$vec[1]=this.$vec[2]=this.$vec[3]=this.$vec[4]=this.$vec[6]=this.$vec[7]=this.$vec[8]=this.$vec[9]=this.$vec[11]=this.$vec[12]=this.$vec[13]=this.$vec[14]=0};c.interpolateTo=function(b,a){throw Error("NOT REAL FUNCTION!!!",0);};c.invert=function(){var b=this.$vec,a=b[0],c=b[4],e=b[8],f=b[12],h=b[1],k=b[5],l=b[9],m=b[13],n=b[2],p=b[6],q=b[10],r=b[14],v=b[3],t=b[7],u=b[11],w=b[15],b=n*t-p*v,x=n*u-q*v,z=n*w-r*v,A=p*u-q*t,y=p*w-r*t,C=q*w-r*u,E=+(C*k-y*l+A*m),D=-(C*h-z*l+x*m),F=+(y*h-z*k+b*m),G=-(A*h-x*k+b*l),B=1/(E*a+D*c+F*e+G*f),J=-(C*c-y*e+A*f)*B,H=+(C*a-z*e+x*f)*B,I=-(y*a-z*c+b*f)*B,K=+(A*a-x*c+b*e)*B,b=h*t-k*v,x=h*u-l*v,z=h*w-m*v,A=k*u-l*t,y=k*w-m*t,C=l*w-m*u,v=+(C*c-y*e+A*f)*B,t=-(C*a-z*e+x*f)*B,u=+(y*a-z*c+b*f)*B,w=-(A*a-x*c+b*e)*B,b=p*h-n*k,x=q*h-n*l,z=r*h-n*m,A=q*k-p*l,y=r*k-p*m,C=r*l-q*m,a=new iflash.geom.Matrix3D([E*B,J,v,-(C*c-y*e+A*f)*B,D*B,H,t,+(C*a-z*e+x*f)*B,F*B,I,u,-(y*a-z*c+b*f)*B,G*B,K,w,+(A*a-x*c+b*e)*B]);if(1E-6>Math.abs(a.determinant))return!1;for(c=0;c<this.$vec.length;c++)this.$vec[c]=a.rawData[c];return!0};c.pointAt=LAYAFNVOID;c.prepend=function(b){var a=this.$vec,c=b.rawData;b=a[0];var e=a[4],f=a[8],h=a[12],k=a[1],l=a[5],m=a[9],n=a[13],p=a[2],q=a[6],r=a[10],v=a[14],t=a[3],u=a[7],w=a[11],a=a[15],x=c[0],z=c[4],A=c[8],y=c[12],C=c[1],E=c[5],D=c[9],F=c[13],G=c[2],B=c[6],J=c[10],H=c[14],I=c[3],K=c[7],L=c[11],c=c[15];this.$vec[0]=b*x+e*C+f*G+h*I;this.$vec[1]=k*x+l*C+m*G+n*I;this.$vec[2]=p*x+q*C+r*G+v*I;this.$vec[3]=t*x+u*C+w*G+a*I;this.$vec[4]=b*z+e*E+f*B+h*K;this.$vec[5]=k*z+l*E+m*B+n*K;this.$vec[6]=p*z+q*E+r*B+v*K;this.$vec[7]=t*z+u*E+w*B+a*K;this.$vec[8]=b*A+e*D+f*J+h*L;this.$vec[9]=k*A+l*D+m*J+n*L;this.$vec[10]=p*A+q*D+r*J+v*L;this.$vec[11]=t*A+u*D+w*J+a*L;this.$vec[12]=b*y+e*F+f*H+h*c;this.$vec[13]=k*y+l*F+m*H+n*c;this.$vec[14]=p*y+q*F+r*H+v*c;this.$vec[15]=t*y+u*F+w*H+a*c};c.prependRotation=function(b,a,c){this.prepend(this.getRotationMatrix(b/180*Math.PI,a.x,a.y,a.z,c?c.x:0,c?c.y:0,c?c.z:0))};c.prependScale=function(b,a,c){this.$vec[0]*=b;this.$vec[1]*=b;this.$vec[2]*=b;this.$vec[3]*=b;this.$vec[4]*=a;this.$vec[5]*=a;this.$vec[6]*=a;this.$vec[7]*=a;this.$vec[8]*=c;this.$vec[9]*=c;this.$vec[10]*=c;this.$vec[11]*=c};c.prependTranslation=function(b,a,c){var e=this.$vec,f=e[1],h=e[5],k=e[9],l=e[2],m=e[6],n=e[10],p=e[3],q=e[7],r=e[11];e[12]+=e[0]*b+e[4]*a+e[8]*c;e[13]+=f*b+h*a+k*c;e[14]+=l*b+m*a+n*c;e[15]+=p*b+q*a+r*c};c.recompose=function(b,a){return!1};c.transformVector=function(b){var a=b.x,c=b.y;b=b.z;return new Vector3D(this.$vec[0]*a+this.$vec[4]*c+this.$vec[8]*b+this.$vec[12],this.$vec[1]*a+this.$vec[5]*c+this.$vec[9]*b+this.$vec[13],this.$vec[2]*a+this.$vec[6]*c+this.$vec[10]*b+this.$vec[14])};c.transformVectors=function(b,a){for(var c=this.$vec[0],e=this.$vec[4],f=this.$vec[8],h=this.$vec[12],k=this.$vec[1],l=this.$vec[5],m=this.$vec[9],n=this.$vec[13],p=this.$vec[2],q=this.$vec[6],r=this.$vec[10],v=this.$vec[14],t=0;t<b.length-2;t+=3){var u=b[t],w=b[t+1],x=b[t+2];a[t]=c*u+e*w+f*x+h;a[t+1]=k*u+l*w+m*x+n;a[t+2]=p*u+q*w+r*x+v}};c.transpose=function(){var b=NaN,b=this.$vec[1];this.$vec[1]=this.$vec[4];this.$vec[4]=b;b=this.$vec[2];this.$vec[2]=this.$vec[8];this.$vec[5]=b;b=this.$vec[3];this.$vec[3]=this.$vec[12];this.$vec[12]=b;b=this.$vec[6];this.$vec[6]=this.$vec[9];this.$vec[9]=b;b=this.$vec[7];this.$vec[7]=this.$vec[13];this.$vec[13]=b;b=this.$vec[11];this.$vec[11]=this.$vec[14];this.$vec[14]=b};c.getRotationMatrix=function(b,a,c,e,f,h,k){var l=a*a,m=c*c,n=e*e,p=l+m+n,q=Math.sqrt(p);a/=q;c/=q;e/=q;l/=p;m/=p;n/=p;p=Math.cos(b);b=Math.sin(b);q=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];q[0]=l+(m+n)*p;q[1]=a*c*(1-p)+e*b;q[2]=a*e*(1-p)-c*b;q[3]=0;q[4]=a*c*(1-p)-e*b;q[5]=m+(l+n)*p;q[6]=c*e*(1-p)+a*b;q[7]=0;q[8]=a*e*(1-p)+c*b;q[9]=c*e*(1-p)-a*b;q[10]=n+(l+m)*p;q[11]=0;q[12]=(f*(m+n)-a*(h*c+k*e))*(1-p)+(h*e-k*c)*b;q[13]=(h*(l+n)-c*(f*a+k*e))*(1-p)+(k*a-f*e)*b;q[14]=(k*(l+m)-e*(f*a+h*c))*(1-p)+(f*c-h*a)*b;return new iflash.geom.Matrix3D(q)};__getset(0,c,"determinant",function(){var b=this.$vec[4],a=this.$vec[8],c=this.$vec[12],e=this.$vec[5],f=this.$vec[9],h=this.$vec[13],k=this.$vec[6],l=this.$vec[10],m=this.$vec[14],n=this.$vec[7],p=this.$vec[11],q=this.$vec[15];return this.$vec[0]*(e*(l*q-p*m)-k*(f*q-p*h)+n*(f*m-l*h))-this.$vec[1]*(b*(l*q-p*m)-k*(a*q-p*c)+n*(a*m-l*c))+this.$vec[2]*(b*(f*q-p*h)-e*(a*q-p*c)+n*(a*h-f*c))-this.$vec[3]*(b*(f*m-l*h)-e*(a*m-l*c)+k*(a*h-f*c))});__getset(0,c,"position",function(){return new Vector3D(this.$vec[12],this.$vec[13],this.$vec[14])},function(b){this.$vec[12]=b.x;this.$vec[13]=b.y;this.$vec[14]=b.z});__getset(0,c,"rawData",function(){return this.$vec},function(b){if(b.length!=this.$vec.length)throw Error("Data Error");for(var a=0;a<b.length;a++)this.$vec[a]=b[a]});a.interpolate=LAYAFNNULL;return a}(),PerspectiveProjection=function(){function a(){}__class(a,"iflash.geom.PerspectiveProjection",!0);var c=a.prototype;c.toMatrix3D=LAYAFNNULL;__getset(0,c,"fieldOfView",LAYAFN0,LAYAFNVOID);__getset(0,c,"focalLength",LAYAFN0,LAYAFNVOID);__getset(0,c,"projectionCenter",LAYAFNNULL,LAYAFNVOID);return a}(),Point=function(){function a(b,a){this.y=this.x=NaN;void 0===b&&(b=0);void 0===a&&(a=0);this.x=1*b;this.y=1*a}__class(a,"iflash.geom.Point",!1);var c=a.prototype;c.add=function(b){var d=new a;d.x=this.x+b.x;d.y=this.y+b.y;return d};c.clone=function(){var b=new a;b.x=this.x;b.y=this.y;return b};c.copyFrom=function(b){this.x=b.x;this.y=b.y;return this};c.equals=function(b){return null==b?!1:b.x==this.x&&b.y==this.y?!0:!1};c.normalize=function(b){b/=this.length;this.x*=b;this.y*=b};c.offset=function(b,a){this.x+=b;this.y+=a};c.setTo=function(b,a){this.x=b;this.y=a;return this};c.subtract=function(b){var d=new a;d.x=this.x-b.x;d.y=this.y-b.y;return d};c.identity=function(){this.x=this.y=0};c.toString=function(){return"(x\x3d"+this.x+", y\x3d"+this.y+")"};__getset(0,c,"length",function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))});a.distance=function(b,a){return Math.sqrt(Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2))};a.interpolate=function(b,d,c){var e=1-c,f=new a;f.x=b.x*c+d.x*e;f.y=b.y*c+d.y*e;return f};a.polar=function(b,d){var c=new a;c.x=b*Math.cos(d);c.y=b*Math.sin(d);return c};__static(a,["__DEFAULT__",function(){return this.__DEFAULT__=new a}]);return a}(),Rectangle=function(){function a(b,a,c,e){this.y=this.x=this.width=this.height=0;void 0===b&&(b=0);void 0===a&&(a=0);void 0===c&&(c=0);void 0===e&&(e=0);this.x=Number(b);this.y=Number(a);this.width=Number(c);this.height=Number(e)}__class(a,"iflash.geom.Rectangle",!1);var c=a.prototype;c.clone=function(){return new a(this.x,this.y,this.width,this.height)};c.contains=function(b,a){return b<this.x||a<this.y?!1:b<this.x+this.width&&a<this.y+this.height};c.containsPoint=function(b){return this.contains(b.x,b.y)};c.containsRect=function(b){return this.contains(b.x,b.y)&&this.contains(b.x+b.width,b.y+b.height)};c.copyFrom=function(b){this.x=b.x;this.y=b.y;this.width=b.width;this.height=b.height};c.equals=function(b){return this.x==b.x&&this.y==b.y&&this.width==b.width&&this.height==b.height};c.inflate=function(b,a){this.x-=b;this.y-=a;this.width+=2*b;this.height+=2*a};c.inflatePoint=function(b){this.inflate(b.x,b.y)};c.intersection=function(b){var d=Math.max(this.x,b.x),c=Math.max(this.y,b.y);return new a(d,c,Math.min(this.x+this.width,b.right)-d,Math.min(this.y+this.height,b.bottom)-c)};c.intersectionThis=function(b){var a=Math.min(this.x+this.width,b.right),c=Math.min(this.y+this.height,b.bottom);this.x=Math.max(this.x,b.x);this.y=Math.max(this.y,b.y);this.width=a-this.x;this.height=c-this.y};c.intersects=function(b){var a=Math.min(this.y+this.height,b.bottom),c=Math.max(this.y,b.y);return Math.min(this.x+this.width,b.right)>Math.max(this.x,b.x)&&a>c};c.isEmpty=function(){return 1>this.width||1>this.height};c.offset=function(b,a){this.x+=b;this.y+=a};c.offsetPoint=function(b){this.x+=b.x;this.y+=b.y};c.setEmpty=function(){this.x=this.y=this.width=this.height=0};c.setTo=function(b,a,c,e){this.x=b;this.y=a;this.width=c;this.height=e;return this};c.toString=function(){return"(x\x3d"+this.x+", y\x3d"+this.y+", w\x3d"+this.width+", h\x3d"+this.height+")"};c.union=function(b){if(null==b)return this;if(0==this.width||0==this.height)return new a(b.x,b.y,b.width,b.height);if(0==b.width||0==b.height)return new a(this.x,this.y,this.width,this.height);var d=Math.min(this.x,b.x),c=Math.min(this.y,b.y);return new a(d,c,Math.max(this.x+this.width,b.right)-d,Math.max(this.y+this.height,b.bottom)-c)};c._union_=function(b){if(null==b)return this;if(0==this.width||0==this.height)return this.setTo(b.x,b.y,b.width,b.height);if(0==b.width||0==b.height)return this.setTo(this.x,this.y,this.width,this.height);var a=Math.min(this.x,b.x),c=Math.min(this.y,b.y);return this.setTo(a,c,Math.max(this.x+this.width,b.right)-a,Math.max(this.y+this.height,b.bottom)-c)};__getset(0,c,"bottom",function(){return this.height+this.y},function(b){this.height=b-this.y});__getset(0,c,"top",function(){return this.y},function(b){this.height-=b-this.y;this.y=b});__getset(0,c,"bottomRight",function(){return new Point(this.x+this.width,this.height+this.y)},function(b){this.right=b.x;this.bottom=b.y});__getset(0,c,"left",function(){return this.x},function(b){this.width-=b-this.x;this.x=b});__getset(0,c,"right",function(){return this.x+this.width},function(b){this.width=b-this.x});__getset(0,c,"size",function(){return new Point(this.width,this.height)},function(b){this.width=b.x;this.height=b.y});__getset(0,c,"topLeft",function(){return new Point(this.x,this.y)},function(b){this.left=b.x;this.top=b.y});__static(a,["__DEFAULT__",function(){return this.__DEFAULT__=new a}]);return a}(),Transform=function(){function a(){this._colorTransform_=null;this._rotate_=0;this.__node__=null;this._scale_=a.__SCALE__;this._skew_=Point.__DEFAULT__;this._matrix_=new Matrix}__class(a,"iflash.geom.Transform",!0);var c=a.prototype;c._setNode_=function(b){this.__node__=b;this._colorTransform_=ColorTransform._DEFAULT_;Laya.RENDERBYCANVAS&&b&&DrawTransform.insertUnit(b);return this};c._setRotation_=function(b){b!=this._rotate_&&(this._rotate_=b,this.__node__._type_|=131072,this.__node__._modle_.rotate2d(b),this.__node__._propagateFlagsDown_(5))};c._setScaleX_=function(b){b!=this._scale_.x&&(this._scale_!=a.__SCALE__?this._scale_.x=b:this._scale_=new Point(b,1),this.__node__._type_|=131072,this.__node__._modle_.scale2dEx(this._scale_.x,this._scale_.y),this.__node__._propagateFlagsDown_(5))};c._setScaleY_=function(b){b!=this._scale_.y&&(this._scale_!=a.__SCALE__?this._scale_.y=b:this._scale_=new Point(1,b),this.__node__._type_|=131072,this.__node__._modle_.scale2dEx(this._scale_.x,this._scale_.y),this.__node__._propagateFlagsDown_(5))};c._setSkewX_=function(b){b!=this._skew_.x&&(this._skew_!=Point.__DEFAULT__?this._skew_.x=b:this._skew_=new Point(b,0),this.__node__._type_|=131072,Laya.CONCHVER&&(b=this.matrix,this.__node__._modle_.matrix(b.a,b.b,b.c,b.d,0,0)),this.__node__._propagateFlagsDown_(5))};c._setSkewY_=function(b){b!=this._skew_.y&&(this._skew_!=Point.__DEFAULT__?this._skew_.y=b:this._skew_=new Point(0,b),this.__node__._type_|=131072,Laya.CONCHVER&&(b=this.matrix,this.__node__._modle_.matrix(b.a,b.b,b.c,b.d,0,0)),this.__node__._propagateFlagsDown_(5))};__getset(0,c,"matrix",function(){if(0==(this.__node__._type_&131072))return this._matrix_.clone();this.__node__._type_&=-131073;if(0==this._skew_.x&&0==this._skew_.y)if(0==this._rotate_)this._matrix_.setTo(this._scale_.x,0,0,this._scale_.y,this.__node__._left_,this.__node__._top_);else{var b=Math.cos(this._rotate_*a.ATOR),d=Math.sin(this._rotate_*a.ATOR);this._matrix_.a=this._scale_.x*b;this._matrix_.b=this._scale_.x*d;this._matrix_.c=this._scale_.y*-d;this._matrix_.d=this._scale_.y*b;this._matrix_.tx=this.__node__._left_;this._matrix_.ty=this.__node__._top_}else this._matrix_.identity(),this._matrix_.a=this._scale_.x,this._matrix_.d=this._scale_.y,a.__skew__(this._matrix_,this._skew_.x,this._skew_.y),this._matrix_.translate(this.__node__._left_,this.__node__._top_);return this._matrix_.clone()},function(b){this._matrix_.IsEqual(b)||(this._matrix_.copy(b),this.__node__.x=this._matrix_.tx,this.__node__.y=this._matrix_.ty,this._skew_=this._skew_!=Point.__DEFAULT__?this._skew_:new Point,this._skew_.x=Math.atan(-this._matrix_.c/this._matrix_.d),this._skew_.y=Math.atan(this._matrix_.b/this._matrix_.a),this._skew_.x!=this._skew_.x&&(this._skew_.x=0),this._skew_.y!=this._skew_.y&&(this._skew_.y=0),this._scale_=this._scale_!=a.__SCALE__?this._scale_:new Point,this._scale_.y=this._skew_.x>-a.PI_4&&this._skew_.x<a.PI_4?this._matrix_.d/Math.cos(this._skew_.x):-this._matrix_.c/Math.sin(this._skew_.y),this._scale_.x=this._skew_.y>-a.PI_4&&this._skew_.y<a.PI_4?this._matrix_.a/Math.cos(this._skew_.y):this._matrix_.b/Math.sin(this._skew_.y),Math.abs(b.a*b.b)==Math.abs(b.c*b.d)?(this._rotate_=Math.min(this._skew_.x*a.RTOA,this._skew_.y*a.RTOA),this._scale_.y=this._scale_.x=Math.min(this._scale_.y,this._scale_.x)):this._skew_.x-1E-4<this._skew_.y&&this._skew_.x+1E-4>this._skew_.y?(this._rotate_=this._skew_.x*a.RTOA,this._skew_.x=this._skew_.y=0):this._rotate_=0,1==b.a&&0==b.b&&0==b.c&&1==b.d||this.__node__._modle_.matrix(b.a,b.b,b.c,b.d,0,0),this.__node__._propagateFlagsDown_(5))});__getset(0,c,"colorTransform",function(){return null==this._colorTransform_?this._colorTransform_=new ColorTransform:this._colorTransform_},function(b){this._colorTransform_=b});__getset(0,c,"concatenatedMatrix",LAYAFNNULL);a.__skew__=function(b,a,c){var e=Math.sin(a);a=Math.cos(a);var f=Math.sin(c);c=Math.cos(c);b.setTransform(b.a*c-b.b*e,b.a*f+b.b*a,b.c*c-b.d*e,b.c*f+b.d*a,b.tx*c-b.ty*e,b.tx*f+b.ty*a);b};a.__SCALE__=new Point(1,1);a.__DEFAULT__=new a;__static(a,["PI2",function(){return this.PI2=2*Math.PI},"PI_4",function(){return this.PI_4=Math.PI/4},"RTOA",function(){return this.RTOA=180/Math.PI},"ATOR",function(){return this.ATOR=Math.PI/180}]);return a}(),Vector3D=function(){function a(b,a,c,e){this.$w=this.$z=this.$y=this.$x=0;void 0===b&&(b=0);void 0===a&&(a=0);void 0===c&&(c=0);void 0===e&&(e=0);this.$x=b;this.$y=a;this.$z=c;this.$w=e}__class(a,"iflash.geom.Vector3D",!1);var c=a.prototype;c.add=function(b){return new a(this.$x+b.x,this.$y+b.y,this.$z+b.z)};c.clone=function(){return new a(this.$x,this.$y,this.$z,this.$w)};c.copyFrom=function(b){this.$x=b.x;this.$y=b.y;this.$z=b.z};c.crossProduct=function(b){return new a(this.$y*b.z-this.$z*b.y,this.$z*b.x-this.$x*b.z,this.$x*b.y-this.$y*b.x,1)};c.decrementBy=function(b){this.$x-=b.x;this.$y-=b.y;this.$z-=b.z};c.dotProduct=function(b){return this.$x*b.x+this.$y*b.y+this.$z*b.z};c.equals=function(b,a){void 0===a&&(a=!1);return this.$x==b.x&&this.$y==b.y&&this.$z==b.z&&(!a||this.$w==b.w)};c.incrementBy=function(b){this.$x+=b.x;this.$y+=b.y;this.$z+=b.z};c.nearEquals=function(b,a,c){void 0===c&&(c=!1);return Math.abs(this.$x-b.x)<a&&Math.abs(this.$y-b.y)<a&&Math.abs(this.$z-b.z)<a&&(!c||Math.abs(this.$w-b.w)<a)};c.negate=function(){this.$x=-this.$x;this.$y=-this.$y;this.$z=-this.$z};c.normalize=function(){var b=b;0!=b?(this.$x/=b,this.$y/=b,this.$z/=b):this.$x=this.$y=this.$z=0;return b};c.project=function(){this.$x/=this.$w;this.$y/=this.$w;this.$z/=this.$w};c.scaleBy=function(b){this.$x*=b;this.$y*=b;this.$z*=b};c.setTo=function(b,a,c){this.$x=b;this.$y=a;this.$z=c};c.subtract=function(b){return new a(this.$x-b.x,this.$y-b.y,this.$z-b.z)};c.toString=function(){return"Vector3D("+this.$x+", "+this.$y+", "+this.$z+")"};__getset(0,c,"x",function(){return this.$x},function(b){this.$x=b});__getset(0,c,"y",function(){return this.$y},function(b){this.$y=b});__getset(0,c,"z",function(){return this.$z},function(b){this.$z=b});__getset(0,c,"w",function(){return this.$w},function(b){this.$w=b});__getset(0,c,"length",function(){return Math.sqrt(this.lengthSquared)});__getset(0,c,"lengthSquared",function(){return this.$x*this.$x+this.$y*this.$y+this.$z*this.$z});a.angleBetween=function(b,a){return Math.acos(b.dotProduct(a)/(b.length*a.length))};a.distance=function(b,a){return b.subtract(a).length};__static(a,["X_AXIS",function(){return this.X_AXIS=new a(1,0,0)},"Y_AXIS",function(){return this.Y_AXIS=new a(0,1,0)},"Z_AXIS",function(){return this.Z_AXIS=new a(0,0,1)}]);return a}(),Canvas=function(){function a(){this.context3D=this.context=null;this.activTime=NaN;this.top=this.left=this._height_=this._width_=this.decY=this.decX=this._active_=0;this.style=null}__class(a,"iflash.laya.display.Canvas",!0);var c=a.prototype;c.getContext=function(b,a){switch(b){case "2d":return this.context;case "experimental-webgl":return this.context3D}};c.size=function(b,a){if(b!=this._width_||a!=this._height_)this._width_=b,this._height_=a,this.width=b,this.height=a,this.context&&(this.context.widthMe=b,this.context.heightMe=a)};c.active=function(){this.activTime=Laya.window.updateTime;if(0<this._active_)return!0;a.enable(this);return!1};c.reset=function(){this.context.filter=null;this.context.textAlign="left";this.context.textBaseline="top"};c._getType_=function(){return 3};c.isReady=function(){return!0};c.getContent=function(){return this};c.clone=function(){var b=a.create();b.context=b.getContext("2d");b.size(this.width,this.height);b.context.drawImage(this,0,0,this.width,this.height);return b};c.setCanvasType=LAYAFNVOID;__getset(0,c,"width",function(){return this._width_},function(b){b!=this._width_&&this.size(b,this._height_)});__getset(0,c,"height",function(){return this._height_},function(b){b!=this._height_&&this.size(this._width_,b)});a.getTempCanvas=function(){return a._TEMP_=a._TEMP_||a.create()};a.create=function(){return Browser.document.createElement("canvas")};a.__on_new__=function(b){b.size||(b.size=a._DEFAULT_.size,b.active=a._DEFAULT_.active,b.isReady=a._DEFAULT_.isReady,b._getType_=a._DEFAULT_._getType_,b.left=a._DEFAULT_.left,b.top=a._DEFAULT_.top,b.decX=b.decY=0,b.getContent=a._DEFAULT_.getContent,b.clone=a._DEFAULT_.clone);iflash.laya.display.Canvas._bIs3D?(iflash.laya.display.Canvas._Canvas3DInited=!0,this.enable3D(b)):this.enable(b)};a.enableTimeoutRelease=function(b,d){b._active_=d?0>b._active_?b._active_:1:a._DISABLETIMEOUTRELEASE_};a.disable=function(b){b.context&&(b.context.canvas=null,b.context=null)};a.destroy=function(b){a.disable(b)};a.enable=function(b){b.context=b.getContext("2d");b.context.canvas=b};a.enable3D=function(b){b.context3D=b.getContext("webgl",{alpha:!1,stencil:!0})||b.getContext("experimental-webgl",{alpha:!1,stencil:!0});try{WebGLDebugUtils&&(b.context3D=WebGLDebugUtils.makeDebugContext(b.context3D))}catch(a){}b.context3D&&(b.context3D.canvas=b);window.conch&&SetupWebglContext(b.context3D)};a._DISABLETIMEOUTRELEASE_=1E4;a._Canvas3DInited=!1;a._TEMP_=null;a._bIs3D=!1;__static(a,["_DEFAULT_",function(){return this._DEFAULT_=new a}]);return a}(),Context=function(){function a(){}__class(a,"iflash.laya.display.Context",!0);a.prototype.getBitMap=function(){return null};return a}(),DisplayMethod=function(){function a(){}__class(a,"iflash.laya.display.DisplayMethod",!0);a.JpgToPng=function(a){var b=0,d=0,g=0,e=0,f=0,h,k,l=Canvas.create(),e=a.width,f=Math.floor((a.height-1)/2);l.size(e,f);l.context.drawImage(a,0,0,e,f,0,0,e,f);h=l.context.getImageData(0,0,e,f);k=h.data;b=Canvas.getTempCanvas();b.active();b.size(e,f);b.context.drawImage(a,0,f+2,e,f,0,0,e,f);a=b.context.getImageData(0,0,e,f).data;for(g=0;g<f;g++)for(b=g*e<<2,d=0;d<e;)b+=4,d++,k[b+3]=a[b];l.context.putImageData(h,0,0);return l};return a}(),IModel=function(){function a(b){this.jnode=null;this.jnode=b}__class(a,"iflash.laya.display.IModel",!0);var c=a.prototype;c.setHideText=LAYAFNVOID;c.vcanvas=LAYAFNVOID;c.reset=LAYAFNVOID;c.uploadCmd=LAYAFNVOID;c.pos=LAYAFNVOID;c.zIndex=LAYAFNVOID;c.size=LAYAFNVOID;c.scale2d=LAYAFNVOID;c.scale2dEx=LAYAFNVOID;c.rotate2d=LAYAFNVOID;c.bgcolor=LAYAFNVOID;c.bgimg=LAYAFNVOID;c.position=LAYAFNVOID;c.image=function(b,a){};c.bitmapdataContent=LAYAFNVOID;c.border=LAYAFNVOID;c.font=LAYAFNVOID;c.text=LAYAFNVOID;c.textStrs=LAYAFNVOID;c.clip=LAYAFNVOID;c.insert=LAYAFNVOID;c.flip=LAYAFNVOID;c.padding=LAYAFNVOID;c.margin=LAYAFNVOID;c.scroll=LAYAFNVOID;c.alpha=LAYAFNVOID;c.filter=LAYAFNVOID;c.globalCompositeOperation=LAYAFNVOID;c.show=LAYAFNVOID;c.destroy=LAYAFNVOID;c.destroyAllChild=LAYAFNVOID;c.swap=LAYAFNVOID;c.removeAt=LAYAFNVOID;c.setOrigin=LAYAFNVOID;c.color=LAYAFNVOID;c.setToCanvas=LAYAFNVOID;c.quote=LAYAFNVOID;c.quoteEx=LAYAFNVOID;c.matrix=LAYAFNVOID;c.virtualBitmap=LAYAFNVOID;c.drawImage9=LAYAFNVOID;c.drawImage3=LAYAFNVOID;c.flashClip=LAYAFNVOID;c.removeClip=LAYAFNVOID;c.mask=LAYAFNVOID;c.textView=LAYAFNVOID;__static(a,["__DEFAULT__",function(){return this.__DEFAULT__=new a(null)}]);return a}(),VirtualCanvas=function(){function a(){this._cmds_=[];this.height=this.width=this.loaded=this.imageNum=0;this.conchVirtualBitmap=this.onComplete=this.baseImage=null;this.heightScale=this.widthScale=1;this.inMap=!1}__class(a,"iflash.laya.display.VirtualCanvas",!0);var c=a.prototype;c._check_=function(){this.conchVirtualBitmap&&!this.inMap&&(ConchRenderVCanvas.maps.push(this),this.inMap=!0)};c._conchResize_=function(){Laya.CONCHVER&&(this.conchVirtualBitmap||(this.conchVirtualBitmap=new ConchVirtualBitmap),this.conchVirtualBitmap.size(this.width,this.height))};c.size=function(b,a){this.width=b;this.height=a;this._conchResize_()};c.setImage=function(b){this.clear();this.baseImage=b;this.drawImage(b,0,0);this._check_()};c.changeImage=function(b){this.baseImage!=b&&this.setImage(b)};c.isNormal=function(){return this.baseImage&&1==this._cmds_.length};c.getImage=function(){return this.baseImage};c.removeImage=function(){this.baseImage=null};c.checkCMDfull=function(){};c.drawMartixImage=function(b,d,c){0!=b._cmds_.length&&(0==d.b&&0==d.c&&0<d.a&&0<d.d&&b.isNormal()?this.drawImage(b.baseImage,(c.x-d.tx)/d.a,(c.y-d.ty)/d.d,c.width/d.a,c.height/d.d,c.x,c.y,c.width,c.height):(a._DEFAULT_.clear(),a._DEFAULT_.save(),a._DEFAULT_.beginPath(),a._DEFAULT_.rect(c.x,c.y,c.width,c.height),a._DEFAULT_.clip(),a._DEFAULT_.transform(d.a,d.b,d.c,d.d,d.tx,d.ty),b.copyTo(a._DEFAULT_),a._DEFAULT_.restore(),this.drawVCanvas([a._DEFAULT_._cmds_,c.x,c.y,c.width,c.height,c.x,c.y,c.width,c.height])))};c.drawVCanvas=function(b){this._cmds_.push(["_drawVCanvas_",b]);b=b[0];for(var a=0,c=b.length;a<c;a++)-1!=b[a][0].indexOf("_drawImage")&&this._loadImg_(b[a][1][0]);this._check_()};c.save=function(){this._cmds_.push(["_save_",null]);this._check_()};c.restore=function(){this.checkCMDfull();this._cmds_.push(["_restore_",null]);this._check_()};c.beginPath=function(){this._cmds_.push(["_beginPath_",null]);this._check_()};c.drawImage=function(b){var d=arguments;this.checkCMDfull();var c=d[0],e=c._cmds_;0<c.width&&c.width<d[3]&&(d[3]=c.width);0<c.width&&c.height<d[4]&&(d[4]=c.height);if(e)if(1==e.length&&3==e[0][1].length)d[0]=e[0][1][0],this.drawImage.apply(this,d);else{var e=d[7]/d[3],f=d[8]/d[4];a._DEFAULT_.clear();a._DEFAULT_.save();a._DEFAULT_.translate(d[5],d[6]);if(d[3]<c.width||d[4]<c.height)a._DEFAULT_.beginPath(),a._DEFAULT_.rect(0,0,d[7],d[8]),a._DEFAULT_.clip();a._DEFAULT_.scale(e,f);a._DEFAULT_.translate(-d[1],-d[2]);c.copyTo(a._DEFAULT_);a._DEFAULT_.restore();d[0]=a._DEFAULT_._cmds_;this.drawVCanvas(d)}else 3==d.length?this._cmds_.push(["_drawImage3_",d]):5==d.length?this._cmds_.push(["_drawImage5_",d]):this._cmds_.push(["_drawImage9_",d]),this._loadImg_(c),this._check_()};c.rect=function(b,a,c,e){this._cmds_.push(["_rect_",[b,a,c,e]]);this._check_()};c.clip=function(){this._cmds_.push(["_clip_",null]);this._check_();return!0};c.scale=function(b,a){if(1!=b||1!=a)this._cmds_.push(["_scale_",[b,a]]),this._check_()};c.translate=function(b,a){if(0!=b||0!=a)this._cmds_.push(["_translate_",[b,a]]),this._check_()};c.transform=function(b,a,c,e,f,h){this._cmds_.push(["_transform_",[b,a,c,e,f,h]]);this._check_()};c.clearRect=function(b,a,c,e){if(0==b&&0==a&&c==this.width&&e==this.height)this.clear();else{var f;c=b+c;e=a+e;for(var h=0,k=this._cmds_.length;h<k;h++){var l=this._cmds_[h];("_drawVCanvas_"==l[0]||"_drawImage9_"==l[0])&&(f=l[1])[5]>=b&&f[6]>=a&&f[5]+f[7]<=c&&f[6]+f[8]<=e&&(this._cmds_.splice(h,1),h--,k--)}this._check_()}};c.closePath=function(){this._cmds_.push(["_closePath_",null]);this._check_()};c.fillRect=function(b,a,c,e){this._cmds_.push(["_fillRect_",[b,a,c,e]]);this._check_()};c.stroke=function(){this._cmds_.push(["_stroke_",null]);this._check_()};c.strokeRect=function(b,a,c,e){this._cmds_.push(["_strokeRect_",[b,a,c,e]]);this._check_()};c.strokeText=function(b,a,c){Laya.CONCHVER||(this._cmds_.push(["_strokeText_",[b,a,c]]),this._check_())};c.fillText=function(b,d,c){b=b.replace(a.pre,function(b){return{"\x00":"0","\u0001":"1","\u0002":"2","\u0003":"3","\u0004":"4","\u0005":"5","\u0006":"6","\u0007":"7"}[b]||b});this._cmds_.push(["_fillText_",[b,d,c]]);this._check_()};c.fill=function(){this._cmds_.push(["_fill_",null]);this._check_()};c.moveTo=function(b,a){this._cmds_.push(["_moveTo_",[b,a]]);this._check_()};c.lineTo=function(b,a){this._cmds_.push(["_lineTo_",[b,a]]);this._check_()};c.arc=function(b,a,c,e,f,h){this._cmds_.push(["_arc_",[b,a,c,e,f,h]]);this._check_()};c.arcTo=function(b,a,c,e,f){this._cmds_.push(["_arcTo_",[b,a,c,e,f]]);this._check_()};c.bezierCurveTo=function(b,a,c,e,f,h){this._cmds_.push(["_bezierCurveTo_",[b,a,c,e,f,h]]);this._check_()};c.quadraticCurveTo=function(b,a,c,e){this._cmds_.push(["_quadraticCurveTo_",[b,a,c,e]]);this._check_()};c.fillImage=function(b,a,c,e,f){this._cmds_.push(["_drawRepeat_",[b,a,c,e,f]]);this._check_()};c._drawRepeat_=function(b,a){if(b instanceof iflash.laya.display.VirtualCanvas)b.fillImage.apply(b,a);else{var c=b.createPattern(a[0],"repeat");b.fillStyle=c;b.fillRect(a[1],a[2],a[3],a[4])}};c._transform_=function(b,a){b.transform.apply(b,a)};c._beginPath_=function(b,a){b.beginPath()};c._closePath_=function(b,a){b.closePath()};c._fillStyle_=function(b,a){b.fillStyle=a[0]};c._globalAlpha_=function(b,a){b.globalAlpha=a[0]};c._globalCompositeOperation_=function(b,a){b.globalCompositeOperation=a[0]};c._lineCap_=function(b,a){b.lineCap=a[0]};c._lineWidth_=function(b,a){b.lineWidth=a[0]};c._lineJoin_=function(b,a){b.lineJoin=a[0]};c._strokeStyle_=function(b,a){b.strokeStyle=a[0]};c._stroke_=function(b,a){b.stroke()};c._strokeRect_=function(b,a){b.strokeRect.apply(b,a)};c._translate_=function(b,a){b.translate.apply(b,a)};c._scale_=function(b,a){b.scale.apply(b,a)};c._save_=function(b,a){b.save()};c._restore_=function(b,a){b.restore()};c._strokeText_=function(b,a){b.strokeText.apply(b,a)};c._fillText_=function(b,a){b.fillText.apply(b,a)};c._fill_=function(b,a){b.fill()};c._moveTo_=function(b,a){b.moveTo.apply(b,a)};c._lineTo_=function(b,a){b.lineTo.apply(b,a)};c._arc_=function(b,a){b.arc.apply(b,a)};c._arcTo_=function(b,a){b.arcTo.apply(b,a)};c._bezierCurveTo_=function(b,a){b.bezierCurveTo.apply(b,a)};c._quadraticCurveTo_=function(b,a){b.quadraticCurveTo.apply(b,a)};c._clip_=function(b,a){b.clip()};c._rect_=function(b,a){b.rect.apply(b,a)};c._drawImage3_=function(b,a){b.drawImage.apply(b,a)};c._drawImage5_=function(b,a){b.drawImage.apply(b,a)};c._drawImage9_=function(b,a){b.drawImage.apply(b,a)};c._drawVCanvas_=function(b,a){for(var c=a[0],e=0,f=c.length;e<f;e++)this[c[e][0]].call(this,b,c[e][1])};c._font_=function(b,a){b.font=a[0]};c._textBaseline_=function(b,a){b.textBaseline=a[0]};c._loadImg_=function(b){};c._checkloadComplete=function(){this.imageNum==this.loaded&&this.onComplete&&this.onComplete()};c.isReady=function(){return this.imageNum==this.loaded};c.copyTo=function(b){for(var a=0,c=this._cmds_.length;a<c;a++)this[this._cmds_[a][0]].call(this,b,this._cmds_[a][1])};c.paint=function(b,a,c,e,f){var h=!1;0<e&&0<f&&(this.widthScale=e/this.width,this.heightScale=f/this.height,h=1!=this.widthScale||1!=this.heightScale);e=0==a&&0==c;switch(this._cmds_.length){case 0:break;case 1:h&&b.save();e?(h&&b.scale(this.widthScale,this.heightScale),this[this._cmds_[0][0]].call(this,b,this._cmds_[0][1])):(b.translate(a,c),h&&b.scale(this.widthScale,this.heightScale),this[this._cmds_[0][0]].call(this,b,this._cmds_[0][1]),b.translate(-a,-c));h&&b.restore();break;default:b.save();!e&&b.translate(a,c);1==this.widthScale&&1==this.heightScale||b.scale(this.widthScale,this.heightScale);a=0;for(c=this._cmds_.length;a<c;a++)this[this._cmds_[a][0]].call(this,b,this._cmds_[a][1]);b.restore()}};c._fillRect_=function(b,a){b.fillRect.apply(b,a)};c.getContext=function(b){return this};c.clear=function(){this._cmds_=[];this.baseImage=null;this._check_()};c.clone=function(){var b=new a;this.copyTo(b);b.baseImage=this.baseImage;b.width=this.width;b.height=this.height;b._conchResize_();return b};__getset(0,c,"context",function(){return this});__getset(0,c,"font",null,function(b){this._cmds_.push(["_font_",[b]]);this._check_()});__getset(0,c,"lineJoin",null,function(b){this._cmds_.push(["_lineJoin_",[b]]);this._check_()});__getset(0,c,"strokeStyle",null,function(b){this._cmds_.push(["_strokeStyle_",[b]]);this._check_()});__getset(0,c,"globalAlpha",null,function(b){1!=b&&(this._cmds_.push(["_globalAlpha_",[b]]),this._check_())});__getset(0,c,"fillStyle",null,function(b){this._cmds_.push(["_fillStyle_",[b]]);this._check_()});__getset(0,c,"globalCompositeOperation",null,function(b){this._cmds_.push(["_globalCompositeOperation_",[b]]);this._check_()});__getset(0,c,"lineCap",null,function(b){this._cmds_.push(["_lineCap_",[b]]);this._check_()});__getset(0,c,"lineWidth",null,function(b){this._cmds_.push(["_lineWidth_",[b]]);this._check_()});__getset(0,c,"textBaseline",null,function(b){this._cmds_.push(["_textBaseline_",[b]]);this._check_()});a.getConchSring=function(b){for(var c="",g=0,e=b.length;g<e;g++){var f=b[g],h=ConchRenderVCanvas.CMDMAP[f[0]];-1==h?c+=a.getConchSring(f[1][0]):-1!=f[0].indexOf("draw")?(f=Array.prototype.slice.call(f[1]),f[0]=f[0].imgId,c+=h+"\u0004"+f.join("\u0004")):c=null==f[1]?c+h:c+(h+"\u0004"+f[1].join("\u0004"));g!=e-1&&(c+="\u0005")}return c};a._DEFAULT_=new a;a.MAXCMDNUM=200;__static(a,["pre",function(){return this.pre=RegExp("[\x00\u0001\u0002\u0003\u0004\u0005\u0006\u000789]","g")}]);return a}(),Document3=function(){function a(){this._createElement_=this._addEventListener_=this.onscroll=this.onmousewheel=this.ontouchmove=this.onselectstart=this.head=this.body=null}__class(a,"iflash.laya.driver.Document",!0,null,"Document3");var c=a.prototype;c.addEventListener=function(b,a,c){null!=this._addEventListener_?this._addEventListener_.call(this,b,a,c):this.attachEvent("on"+b,a)};c.getElementsByTagName=LAYAFNNULL;c.attachEvent=function(b,a){};c.createElement=function(b){var a=this;switch(b){case "virtualBitmap":return new VirtualCanvas;case "canvas":return b=this._createElement_.call(this,b),Canvas.__on_new__(b),b;case "img":case "image":return b=this._createElement_.call(this,"img"),b.left=b.top=0,null==b._getType_&&(b._getType_=function(){return 1},b.getContent=function(){return this},b.isReady=function(){return 0<this.width},b.rect=function(b,a,c,d){this.left=b;this.top=a;this.width=c;this.height=d},b.clone||(b.clone=function(){var b=a.createElement("img");b.width=this.width;b.height=this.height;b.left=this.left;b.top=this.top;b.src=this.src;return b})),b}return this._createElement_.call(this,b)};__getset(0,c,"title",null,function(b){});a.__init__=function(b){b._addEventListener_=b.addEventListener;b.addEventListener=a.__TMP__.addEventListener;b._createElement_=b.createElement;b.createElement=a.__TMP__.createElement};__static(a,["__TMP__",function(){return this.__TMP__=new a}]);return a}(),Driver=function(){function a(b){this._frameRate_=NaN;this.tempId=null;this.buttonDown=!1;this.create(b);this._init_(b)}__class(a,"iflash.laya.driver.Driver",!0);var c=a.prototype;c.create=function(b){Browser.document=document;Browser.window=window;Browser.location=location;Browser.navigator=navigator;Document3.__init__(Browser.document)};c._init_=function(b){a._input||(Laya.CONCHVER?Browser.input=Browser.document.createElement("input"):(Browser.input=a._input=window.document.createElement("input"),a._textarea=window.document.createElement("textArea")),Laya.CONCHVER?(Browser.input.setSelectionRange=function(b,a){var c=Browser.input.value.length;0>b?b=0:b>=c&&(b=c);Browser.input.setCursorPosition(b)},Browser.input.setFontSize(60)):(a._input.setPos=a._textarea.setPos=function(b,a){Browser.input.style.left=b+"px";Browser.input.style.top=a+"px"},a._input.setSize=a._textarea.setSize=function(b,a){Browser.input.style.width=b+"px";Browser.input.style.height=a+"px"},a._input.setStyle=a._textarea.setStyle=function(b){Browser.input.style.cssText=b},a._input.setFont=a._textarea.setFont=function(b){Browser.input.style.fontFamily=b},a._input.setColor=a._textarea.setColor=function(b){Browser.input.style.color=b},a._input.setOpacity=a._textarea.setOpacity=function(b){Browser.input.style.opacity=b},a._input.setFontSize=a._textarea.setFontSize=function(b){Browser.input.style.fontSize=b+"px"},a._input.setScale=a._textarea.setScale=function(b,a){Browser.input.style.webkitTransform="scale("+b+","+a+")";Browser.input.style.mozTransform="scale("+b+","+a+")";Browser.input.style.oTransform="scale("+b+","+a+")";Browser.input.style.msTransform="scale("+b+","+a+")"},a._input.setRotate=a._textarea.setRotate=function(b){Browser.input.style.webkitTransform+="rotate("+b+"deg)";Browser.input.style.mozTransform+="rotate("+b+"deg)";Browser.input.style.oTransform+="rotate("+b+"deg)";a._textarea.style.msTransform+="rotate("+b+"deg)"},a._input.setType=a._textarea.setType=function(b,c){void 0===c&&(c=!1);iflash.laya.driver.Driver.enableTouch()&&!Laya.CONCHVER?c&&"password"!=b?Browser.input=a._textarea:(a._input.type=b,Browser.input=a._input):Browser.input="password"==b?a._input:a._textarea},a._input.setRegular=a._textarea.setRegular=function(b){a._textarea.onkeyup=b},a._input.setAlign=a._textarea.setAlign=function(b){Browser.input.style.textAlign=b},a._input.clear=a._textarea.clear=function(){a._input.value="";a._textarea.value=""}),b="-webkit-transform-origin:left top;-moz-transform-origin:left top;transform-origin:left top;-ms-transform-origin:left top;position:absolute;top:-2000;border:none;z-index:9999;",a.enableTouch()||(b+="background:transparent;outline:none;overflow:hidden;"),Browser.input.setStyle(b),Laya.CONCHVER?Browser.document.body.appendChild(a._textarea):(a._textarea.style.cssText=b,a._textarea.style.resize="none",!a.enableTouch()&&(a._input.type="password")))};c.err=LAYAFNVOID;c.alert=function(b){alert(b)};c.onEnterFrame=function(b){null!=Laya.window&&(b=Browser.window,null!=Laya.window&&(Laya.window.resizeTo(b.innerWidth,b.innerHeight),Laya.window.enterFrame(),Laya.RENDERBYCANVAS&&this.onDomRender()))};c.onDomRender=function(){null!=Laya.window&&Laya.document.render()};c.onResize=LAYAFNVOID;c.start=function(){Laya.HTMLVER&&(Browser.document.body.style.cssText+="overflow:hidden;margin:0;padding:0")};c._debugger_=function(){debugger};c.eval=function(b,a){a=a||Browser.window;a.eval(b)};c.getRootCanvas=function(){return Browser.document.createElement("canvas")};c.createModle=function(b,c,g){return 0<a.__DOMCACHE__.length?(b=a.__DOMCACHE__.pop(),b.reset(c,g),b):Laya.CONCHVER&&!Laya.RENDERBYCANVAS?new ConchNode:IModel.__DEFAULT__};c.attachBrowserMouseEvent=function(b,a,c){b=b.toLowerCase();(Laya.CONCHVER?Browser.document:Laya.document.canvas).addEventListener(b.substring(2,b.length),a,!1)};c.attachBrowserKeyEvent=function(b,a){Browser.document[b.toLowerCase()]=function(c){var e=new KeyboardEvent(b.substring(2));e.keyCode=c.keyCode;e.shiftKey=c.shiftKey;e.ctrlKey=c.ctrlKey;a(e)}};c.createHttpRequest=function(){return new HttpRequest};c.regEvent=function(){var b=EventManager.mgr;a.enableTouch()?(a.activateTouchEvent(),b.dealAccepInput=b.dealAcceptTouchInput,b.enableTouch=!0):(this.attachBrowserMouseEvent("onmouseDown",function(a){b.acceptSystemMouseEvent(a)}),this.attachBrowserMouseEvent("onmouseMove",function(a){b.acceptSystemMouseEvent(a)}),this.attachBrowserMouseEvent("onmouseUp",function(a){b.acceptSystemMouseEvent(a)}),Browser.window.onmousewheel=Browser.document.onmousewheel=function(a){b.acceptSystemMouseEvent(a)});this.attachBrowserKeyEvent("onkeyDown",function(a){b.acceptSystemKeyEvent(a)});this.attachBrowserKeyEvent("onkeyUp",function(a){b.acceptSystemKeyEvent(a)})};c.cursor=function(b){Browser.document.body.style.cursor=b};__getset(0,c,"frameRate",function(){return this._frameRate_},function(b){this._frameRate_=b;a.interval&&clearInterval(a.interval);var c=this;a.interval=setInterval(function(){c.onEnterFrame()},1E3/b)});a.enableTouch=function(){return Laya.CONCHVER?window.enableTouch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch};a.activateTouchEvent=function(){a.touchActive=!0;var b=Laya.CONCHVER?Browser.document:Laya.document.canvas;b.addEventListener("touchstart",a.touchstartHandler);b.addEventListener("touchmove",a.touchmoveHandler);b.addEventListener("touchend",a.touchendHandler);b.addEventListener("touchcancel",a.touchcancelHandler)};a.deactivateTouchEvent=function(){a.touchActive=!1;var b=Laya.CONCHVER?Browser.document:Laya.document.canvas;b.removeEventListener("touchstart",a.touchstartHandler);b.removeEventListener("touchend",a.touchendHandler);b.removeEventListener("touchmove",a.touchmoveHandler);b.removeEventListener("touchcancel",a.touchcancelHandler)};a.touchstartHandler=function(b){EventManager.mgr.acceptSystemMouseEvent(b)};a.touchmoveHandler=function(b){b.type="touchmove";EventManager.mgr.acceptSystemMouseEvent(b)};a.touchendHandler=function(b){b.type="touchend";EventManager.mgr.acceptSystemMouseEvent(b)};a.touchcancelHandler=function(b){b.type="touchcancel";EventManager.mgr.acceptSystemMouseEvent(b)};a.__DOMCACHE__=[];a.__ID__=1E5;a.interval=null;a._textarea=null;a._input=null;a.touchActive=!1;return a}(),Location=function(){function a(){this.href=null}__class(a,"iflash.laya.driver.Location",!0);a.prototype.reload=LAYAFNVOID;return a}(),Navigator=function(){function a(){}__class(a,"iflash.laya.driver.Navigator",!0);return a}(),Window2=function(){function a(){this.innerHeight=this.innerWidth=0;this.onscroll=this.event=this._title_=this.onmousewheel=this.ActiveXObject=this.XMLHttpRequest=null;this.scrollLeft=this.scrollTop=0;this._ConchMask=this.DeviceMotionEvent=this.conchMarket=this.conchConfig=null}__class(a,"iflash.laya.driver.Window",!0,null,"Window2");var c=a.prototype;c.eval=LAYAFNNULL;c.setTimeout=LAYAFNVOID;c.clearInterval=LAYAFNVOID;c.setInterval=LAYAFN0;__getset(0,c,"title",function(){return this._title_},function(b){this._title_=b});return a}(),ILaya=function(){function a(b,a){this._html_=null;Laya.ilaya=this;Laya.Main(b);this._html_=a;!this._html_&&Laya.CONCHVER&&Browser.location&&Browser.location.href&&(this._html_=Browser.location.href)}__class(a,"iflash.laya.ILaya",!0);var c=a.prototype;c._onInit_=LAYAFNVOID;c.onStart=function(){Browser.hideSystemLoading()};return a}(),Ajax=function(){function a(){}__class(a,"iflash.laya.net.Ajax",!0);a.onJSONDone=function(a,b,d){null==b?d():a(b)};a.GetJSONInBrowser=function(c,b,d,g){void 0===d&&(d="\x26");var e,f=function(b){e=b},h="";null!=b&&(h=iflash.utils.getTimer()+"",Browser.window["layacallback"+h]=f);var k=Browser.document.createElement("script");k.type="text/javascript";k.onerror=null!=g?g:b;k.onload=k.onreadystatechange=function(c,d){var g=/loaded|complete/;if(d||!k.readyState||g.test(k.readyState+""))if(k.onload=k.onreadystatechange=null,!d)a.onJSONDone(b,e,k.onerror)};k.src=c+(""!=h?d+"callback\x3dlayacallback"+h:"");Browser.document.getElementsByTagName("head")[0].appendChild(k)};a.GetJSONInApp=function(c,b,d,g){void 0===d&&(d="\x26");var e="",f="";null!=b&&(f=iflash.utils.getTimer()+"",Browser.window["layacallback"+f]=function(b){e=b});Browser.window.downloadfile(c+(""!=f?d+"callback\x3dlayacallback"+f:""),!0,function(c){console.log("getJson onload:"+c);Browser.eval(c);a.onJSONDone(b,e,null)},function(){console.log("getjson error");a.onJSONDone(null,null,null!=g?g:b)})};a.GetJSON=function(c,b,d,g){void 0===d&&(d="\x26");return Laya.CONCHVER?a.GetJSONInApp(c,b,d,g):a.GetJSONInBrowser(c,b,d,g)};return a}(),Cookie=function(){function a(b){this._data=this._name=null;this._name=b}__class(a,"iflash.laya.net.Cookie",!0);var c=a.prototype;c.clear=function(){this._data={};localStorage.removeItem(this._name)};c.close=LAYAFNVOID;c.flush=function(b){localStorage.setItem(this._name,window.JSON.stringify(this._data));return this._name};c.send=function(b){};c.setDirty=LAYAFNVOID;c.setProperty=function(b,a){this._data.propertyName=a};__getset(0,c,"data",function(){return this._data});__getset(0,c,"objectEncoding",LAYAFN0,LAYAFNVOID);__getset(0,c,"fps",null,LAYAFNVOID);__getset(0,c,"client",LAYAFNNULL,LAYAFNVOID);__getset(0,c,"size",LAYAFN0);__getset(1,a,"defaultObjectEncoding",LAYAFN0,LAYAFNVOID);a.deleteAll=LAYAFN0;a.getDiskUsage=LAYAFN0;a.getLocal=function(b,c,g){c=new a(b);c._data=localStorage.getItem(b)?window.JSON.parse(localStorage.getItem(b)):{};return c};a.getRemote=function(b,a,c,e){return null};return a}(),FileData=function(){function a(b,c,g){this.quoteFile=this.contentdata=this.contentType=null;this.state=0;this.baseURI=this._type_=this._fileRead_=null;this.state=0;this._type_=c||a.TYPE_TEXT;this.baseURI=new URI(Method.formatUrl(b));g&&("string"==typeof g&&(g=a.getFileData(g)),this.quoteFile=g,this.contentdata=g.contentdata);this._fileRead_=[]}__class(a,"iflash.laya.net.FileData",!0);var c=a.prototype;c.unload=function(){this.contentdata=null;delete a._files[this.baseURI.url];this._fileRead_=null};c.addFileRead=function(b){if(3==this.state)b.onload(this.contentdata);else this._fileRead_.push(b)};c.onload=function(b){if(Laya.HTMLVER&&this._type_==a.TYPE_ARRAYBUFFER){if(!b)return;var c=new ByteArray;c.endian=b.endian;c.writeArrayBuffer(b);c.position=0;b=c}this.contentdata=b;this.state=3;this._disposeLoaded_()};c.onerror=function(b){delete a._files[this.baseURI.url];this.state=a.LOAD_STATE_ERR;this.onerrorLoaded()};c.getData=function(b){if(3==this.state)return this.contentdata;if(this.quoteFile){if(3==this.quoteFile.state)return this.onload(this.quoteFile.getData());this.quoteFile.addFileRead(this);return null}if(0==this.state||this.state==a.LOAD_STATE_ERR){this.state=2;var c=Browser.createHttpRequest(),g=this;c.onload=function(b){g.onload(b)};c.onerror=function(b){g.onerror(b)};"binary"==this._type_&&Laya.HTMLVER&&(this._type_=a.TYPE_ARRAYBUFFER);"binary"==this._type_&&Laya.FLASHVER?b?c.open(this.baseURI.url,this._type_,null,!0,b.method,b.data,b.requestHeaders):c.open(this.baseURI.url,this._type_):b?c.open(this.baseURI.url,this._type_==a.TYPE_ARRAYBUFFER?a.TYPE_ARRAYBUFFER:null,null,!0,b.method,b.data,b.requestHeaders):c.open(this.baseURI.url,this._type_==a.TYPE_ARRAYBUFFER?a.TYPE_ARRAYBUFFER:null);return null}};c.onerrorLoaded=function(){this.state=3;if(this._fileRead_){for(var b=0,a=this._fileRead_.length;b<a;b++)this._fileRead_[b].loadError(this.contentdata);this._fileRead_=null}};c._disposeLoaded_=function(){this.state=3;for(var b=0,a=this._fileRead_.length;b<a;b++)this._fileRead_[b].onload(this.contentdata);this._fileRead_=null};a.setFileIsLoaded=function(b,a){Method.formatUrl(b)};a.fileIsLoaded=function(b){b=Method.formatUrl(b);return null!=a._files[b]};a.getFileData=function(b){b=Method.formatUrl(b);return a._files[b]};a._files=[];a.LOAD_STATE_ERR=-1;a.LOAD_STATE_NO=0;a.LOAD_STATE_RELEASE=1;a.LOAD_STATE_LOADING=2;a.LOAD_STATE_LOADED=3;a.TYPE_IMAGE="image";a.TYPE_TEXT="text";a.TYPE_ARRAYBUFFER="arraybuffer";return a}(),FileRead=function(){function a(b,a,c,e){this._contentType_=this._callBack_=this.data=null;this._callBack_=a;this._createFileData_(b,c);this.data.getData(e)}__class(a,"iflash.laya.net.FileRead",!0);var c=a.prototype;c._createFileData_=function(b,a){!this.data&&(this.data=new FileData(b,a,null),this.data.contentType=Method.formatUrlType(b));this.data.addFileRead(this)};c.onload=function(b){this._callBack_&&(this._callBack_.onload.call(this._callBack_.reader,this),this._callBack_=null,this.unload())};c.loadError=function(b){this._callBack_&&(this._callBack_.unOnload.call(this._callBack_.reader,this),this._callBack_=null)};c.unload=function(){this.data&&this.data.unload();this.data=null};c.load=function(){return this.data.getData()};__getset(0,c,"baseURI",function(){return this.data.baseURI});__getset(0,c,"contentType",function(){return this.data?this.data.contentType:null},function(b){this.data&&(this.data.contentType=b)});__getset(0,c,"loaded",function(){return 3==this.data.state});__getset(0,c,"url",function(){return this.data.baseURI.url});__getset(0,c,"contentdata",function(){this.data.getData();return this.data.contentdata});return a}(),Location1=function(){function a(){this._conchConfig=this._rootPath=this._host=this._protocol=this._fullPath_=this._href_=null;Laya.window.location=this;this.href=Browser.location.href}__class(a,"iflash.laya.net.Location",!0,null,"Location1");var c=a.prototype;__getset(0,c,"href",function(){return this._href_},function(b){this._href_=b;this._fullPath_=Method.getPath(this._href_)});__getset(0,c,"rootPath",function(){return this._rootPath},function(b){this._rootPath=b});__getset(0,c,"fullPath",function(){return this._fullPath_});__getset(0,c,"host",function(){return this._host});__getset(0,c,"protocol",function(){return this._protocol});__getset(0,c,"conchConfig",function(){return this._conchConfig});return a}(),DataType=function(){function a(){}__class(a,"iflash.laya.runner.DataType",!0);a.initKeyMap=function(){a.MAP=[];var c="NULL ID CHAR SHORT FLOAT STRING INT BYTE CURRENT HOST TEMPLATE_ID ARRAY MATRIX BOOL RESOURCE TEMPLET FRAME INTERPOLATION NEWID END FRAME_END POP PUSH SYMBOL_CLASS LYIMAGELEMENT SHAPE BITMAPDATA BITMAP SPRITE MOVIECLIP TEXTFIELD BUTTON REMOVE_ALL SET_INSTANCE_NAME REMOVE_INSTANCE_NAME NEW_OBJECT ADD_CHILD REMOVE_CHILD SET_TRANSFORM POS EMPTY SET_ALPHA SET_VISIBLE INIT_LYIMAGELEMENT_CMD INIT_SHAPE_CMD INIT_MOVIECLIP_CMD INIT_TEXTFIELD_CMD INIT_BUTTON_CMD INIT_STATICTEXTFIELDCMD".split(" "),b,d;for(d in c)b=c[d],a.MAP[a[b]]=b;return a.MAP};a.NULL=0;a.ID=1;a.CHAR=3;a.SHORT=4;a.FLOAT=5;a.STRING=6;a.INT=7;a.BYTE=8;a.CURRENT=9;a.HOST=10;a.TEMPLATE_ID=11;a.ARRAY=12;a.MATRIX=13;a.BOOL=14;a.RESOURCE=21;a.TEMPLET=22;a.FRAME=23;a.INTERPOLATION=24;a.NEWID=25;a.END=26;a.FRAME_END=27;a.POP=28;a.PUSH=29;a.SYMBOL_CLASS=30;a.LYIMAGELEMENT=51;a.SHAPE=52;a.BITMAPDATA=53;a.BITMAP=54;a.SPRITE=55;a.MOVIECLIP=56;a.TEXTFIELD=57;a.BUTTON=58;a.STATICTEXTFIELD=59;a.REMOVE_ALL=151;a.SET_INSTANCE_NAME=152;a.REMOVE_INSTANCE_NAME=153;a.NEW_OBJECT=154;a.ADD_CHILD=155;a.REMOVE_CHILD=156;a.SET_TRANSFORM=157;a.POS=158;a.EMPTY=159;a.SET_ALPHA=160;a.SET_VISIBLE=161;a.INIT_LYIMAGELEMENT_CMD=162;a.INIT_SHAPE_CMD=163;a.INIT_MOVIECLIP_CMD=164;a.INIT_TEXTFIELD_CMD=165;a.INIT_BUTTON_CMD=166;a.INIT_SHAPE2ADDCMD=167;a.INIT_STATICTEXTFIELDCMD=168;a.MAP=null;return a}(),AnimationCreate=function(){function a(){this.commands={}}__class(a,"iflash.laya.runner.defines.AnimationCreate",!0);a.removeAll=function(a,b){for(;a.numChildren;)a.removeChildAt(0)};a.setInstanceName=function(a,b,d){b=a._animData_.objes[b];try{b.name=d,a[d]=b}catch(g){}};a.removeInstanceName=LAYAFNVOID;a.newObject=function(a,b,d,g){a._animData_.objes[b]&&1==a._animData_.objes[b].v||(a._animData_.objes[b]?a.removeChild(a._animData_.objes[b]):g?(d=iflash.utils.getDefinitionByName(g))?(g=new d,g instanceof iflash.display.BitmapData&&(g=new Bitmap(g)),a._animData_.objes[b]=g):(g=a.loaderInfo.applicationDomain.newInstance(g),g instanceof iflash.display.BitmapData?(g=new Bitmap(g),a._animData_.objes[b]=g):g&&(a._animData_.objes[b]=g)):(g=a.loaderInfo.getResource(String(d)))&&(a._animData_.objes[b]=g.lyclone()))};a.addChild=function(a,b,d){a._animData_.objes[b]&&a._animData_.objes[b].parent||!a._animData_.objes[b]||(a.addChild(a._animData_.objes[b]),a._animData_.objes[b].zIndex=d)};a.removeChild=function(a,b){void 0===b&&(b=0);a._animData_.objes[b]&&1==a._animData_.objes[b].v||!a._animData_.objes[b]||(a.removeChild(a._animData_.objes[b]),a._animData_.objes[b].alpha=!0)};a.setTransform=function(a,b){var d=a._animData_.objes[b[0]];d&&!d.v&&d&&(d.x=b[1],d.y=b[2],d.scaleX=b[3],d.scaleY=b[4],d.skewX=b[6],d.skewY=b[7],d.rotation=b[5])};a.pos=function(a,b,d,g){(a=a._animData_.objes[b])&&(a.x=d,a.y=g)};a.empty=function(a,b){};a.setAlpha=function(a,b,d){(a=a._animData_.objes[b])&&(a.alpha=d)};a.setVisible=function(a,b,d){a._animData_.objes[b]&&(a._animData_.objes[b].visible=d)};a.getCurrentKey=function(a){return a._animData_.baseKey};a.getKey=function(a){return++a._animData_.baseKey};a.initLyImage=function(a,b,d,g){a.width=d;a.height=g;a.src=a.loaderInfo.__imageUrl__+String(b)+".png";return a.loaderInfo.temp[a.loaderInfo.temp.length]=a};a.initShap=function(a,b,d){a._init_({data:b,matrix:d});return a};a.initShape2Add=function(a,b,d,g,e){DisplayObject.initModule=!1;var f=new LyImageElement;f.src=a.loaderInfo.__imageUrl__+b+".png";a.loaderInfo.config&&(f.assetUr=a.loaderInfo.__imageUrl__+"a"+a.loaderInfo.config[b+".png"].tid+".png",f.assetConfig=a.loaderInfo.config[b+".png"]);f.width=d;f.height=g;f.orgH=g;f.orgW=d;f.scale9Data=a.loaderInfo.argData?a.loaderInfo.argData[b+1]:null;a.loaderInfo.temp[a.loaderInfo.temp.length]=f;a._init_({data:f,matrix:e});DisplayObject.initModule=!0;return a};a.initStaticText=function(a,b,d,g,e,f,h,k,l,m,n,p,q,r){a._width=f+5;a._height=h+5;a.tempBound={x:b,y:-2};a.x=b;a.y=d;a._autoSize="left";a._multiline=l;a._wordWrap=k;a._type="static";b=new TextFormat;b.size=q/20;2==n&&(b.align="center");n=p.lastIndexOf("*");-1!=n?(q=p.substring(n+1),-1<q.indexOf("Bold")&&(b.bold=!0),-1<q.indexOf("Italic")&&(b.italic=!0),b.font=q.replace(/\s*(Bold|Italic)\s*/g,""),b.color=Number("0x"+p.substring(0,n))):b.color=Number(p.replace("#","0x"));r&&(a.htmlText=r);a.defaultTextFormat=b};a.initText=function(a,b,d,g,e,f,h,k,l,m,n,p,q,r){a.width=f;a.height=h;a.tempBound={x:b,y:0};a.x=b;a.y=d;a.multiline=l;a.wordWrap=k;!m&&(a.type="input");b=new TextFormat;b.size=q/20;0==n?b.align="left":1==n?b.align="right":2==n&&(b.align="center");n=p.lastIndexOf("*");-1!=n?(q=p.substring(n+1),-1<q.indexOf("Bold")&&(b.bold=!0),-1<q.indexOf("Italic")&&(b.italic=!0),b.font=q.replace(/\s*(Bold|Italic)\s*/g,""),b.color=Number("0x"+p.substring(0,n))):b.color=Number(p.replace("#","0x"));r&&(-1==r.indexOf("\x3cp")?a.text=r:a.htmlText=r);a.defaultTextFormat=b};a.initButton=function(a,b,d,g,e,f){for(var h=new AnimationData,k=f.length,l={},m=0;m<k;m+=2)l[f[m]]=f[m+1];h.totalFrame=e;h.labs=l;a._animData_=h;a._interval_=60;a.runner=b;a.width=d;a.height=g;a._type_|=16;return a};a.initMovie=function(a,b,d,g,e,f){for(var h=new AnimationData,k=f?f.length:0,l={},m=0;m<k;m+=2)l[f[m]]=f[m+1];h.totalFrame=e;h.labs=l;a._animData_=h;a._interval_=60;a.runner=b;a.width=d;a.height=g;a.loaderInfo.argData&&a.loaderInfo.argData.hasOwnProperty(a.charId)&&(a.scale9Data=a.loaderInfo.argData[a.charId].scale9Data);a._type_|=16;return a};return a}(),OneCmdData=function(){function a(){this.args=this.oneFun=null}__class(a,"iflash.laya.runner.OneCmdData",!0);a.prototype.applyTo=function(a,b){return this.oneFun._fun_.apply(a,this.args)};a.CreateOneCmdData=function(c,b,d){var g=Register._functions_[c];if(!g)throw Error("\u6b64\u51fd\u6570\u672a\u6ce8\u518cid("+c+"),ctype("+c+")");var e;g.useID?(e=new OneCmdDataUseId,e.id=b.readUnsignedByte()):e=new a;e.oneFun=g;e.args=g.readParams(b,d);b=e.args;switch(c){case 157:e.args=[b[0],new Float32Array(b.slice(1))]}return e};return a}(),OneFunction=function(){function a(a,b,d,g){this._fun_=null;this._argsType_=[];this.useID=!1;this.argCount=0;this._fun_=a;this._argsType_=g;this.useID=d}__class(a,"iflash.laya.runner.OneFunction",!0);a.prototype.readParams=function(c,b){for(var d=[],g=this._argsType_.length,e=0;e<g;e++)d.push(a.readParam(this._argsType_[e],c,b));return d};a.readParam=function(c,b,d){var g,e=0,f=e=0;switch(c){case 8:case 3:g=b.readByte();break;case 5:g=b.readFloat();break;case 7:g=b.readInt();break;case 4:g=b.readShort();break;case 14:g=b.readBoolean();break;case 6:g=b.readUTF();break;case 9:g=Runnner.getCurrentObj();break;case 1:e=b.readShort();g=LoaderInfo.getLoaderInfo(d).getResource(e.toString());break;case 10:g="HOST";break;case 0:g=null;break;case 11:e=b.readShort();g=Runnner.template[e];break;case 12:f=b.readByte();if(!f){g=[];break}c=b.readByte();g=[];for(e=0;e<f;e++)g.push(a.readParam(c,b,d));break;case 13:f=b.readShort();g=[null,null,null,null,null,null];for(e=0;e<f;e++)g[e]=a.readParam(5,b,d);g=new Matrix(g[0],g[1],g[2],g[3],g[4],g[5])}return g};a.loaderId=0;return a}(),Register=function(){function a(){}__class(a,"iflash.laya.runner.Register",!0);a.regFunction=function(c,b,d,g,e){for(var f=[],h=4,k=arguments.length;h<k;h++)f.push(arguments[h]);if(10>c)throw"regFunction id must\x3e10,id:"+c;a._functions_[c]=new OneFunction(b,d,g,f)};a.regClass=function(c,b){if(10>c)throw"regClass id must\x3e10,id:"+c;a._class_[c]=b};a._functions_=[];a._class_=[];a._id_=0;return a}(),Runnner=function(){function a(b,a){this.parent=null;this._comm_=[];this._functions_=[];this._id_=-1;void 0===a&&(a=-1);this._id_=a}__class(a,"iflash.laya.runner.Runnner",!0);var c=a.prototype;c.deleteLoaderInfo=function(){a._info=null;a.currentObj=null};c.interpolation=function(b){b.readUnsignedShort();b.readUnsignedShort();this._comm_.push(null)};c.compile=function(b,c){for(a._info=c;b.bytesAvailable;){var g=b.readUnsignedByte(),e;switch(g){case 0:continue;case DataType.RESOURCE:g=b.readShort();e=b.readByte();this.res(g,e);e=new a(this,g);e.compile(b,c);e.run(a.getCurrentObj(),new RunOne);break;case DataType.TEMPLET:g=b.readShort();e=new a(this,g);iflash.laya.runner.Runnner.template[g]=e;e.compile(b,c);break;case DataType.END:return 0;case DataType.FRAME:e=new a(this,-1);this._comm_.push(e);e.compile(b,c);break;case DataType.INTERPOLATION:this.interpolation(b);break;case DataType.FRAME_END:return 0;case 30:g=b.readShort();e=b.readUTF();0==g&&(g=32767,c.mainClass=e);c.pushResource(c.getResource(g.toString()),e);SWFTools.connect(e);iflash.laya.runner.Runnner.symbolClass.push({tagId:g,name:e,loadInfo:"infoId"});break;default:this._comm_.push(OneCmdData.CreateOneCmdData(g,b,c.__id__))}}a.currentObj=null;return-1};c.res=function(b,c){DisplayObject.initModule=!1;var g=new Register._class_[c];DisplayObject.initModule=!0;g.__id__=a._info.__id__;g.charId=b;a._info.pushResource(g,b.toString());a.currentObj=g};c.run=function(b,a){for(var c=0,e=this._comm_.length;c<e;c++)this._comm_[c]&&this._comm_[c].applyTo(b,a);return-1};c.run2=function(b){for(var c=0,g=this._comm_.length;c<g;c++)this._comm_[c]&&(this._comm_[c].args[0]=b,this._comm_[c].applyTo(b),this._comm_[c].args[0]=null);a.currentObj=null};c.runCMDList=function(b,a,c){return-1};c.newObject=function(b,a){void 0===a&&(a=-1);var c=new Register._class_[b];0<a&&(c.runner=this._comm_[a]);return c};c.getPreRes=function(b){for(var c=0;c<this._comm_.length;c++)for(var g=this._comm_[c],e=0;e<g._comm_.length;e++){var f=g._comm_[e];f instanceof iflash.laya.runner.OneCmdData&&f.oneFun._fun_==AnimationCreate.newObject&&(f=b.getResource(f.args[2]+""),f instanceof iflash.display.MovieClip&&f.runner.getPreRes(b),f instanceof iflash.display.Shape&&0>a.preResCollection.indexOf(f)&&a.preResCollection.push(f))}};c.clone=function(){var b=new a;b._comm_=this._comm_.concat();b._functions_=this._functions_;return b};c.gotoAndStop=function(b,a){a._animData_.isStop=!0;this._goto(b,a)};c.gotoAndPlay=function(b,a){a._animData_.isStop=!1;this._goto(b,a)};c.play=function(b){b._animData_.isStop=!1};c.stop=function(b){b._animData_.isStop=!0};c._updata_=function(b){if(!b._animData_.isStop){var a=b._animData_.currentFrame+1;if(a>b._animData_.totalFrame||0>a)a=0;this.tick(a,b);1==b._animData_.totalFrame&&this.stop(b)}};c.tick=function(b,a){if(!(a._animData_.isStop||(a._animData_.currentFrame=int(b),null==a||1>a._animData_.totalFrame))){var c=this._comm_[b];c&&c.run2(a)}};c._goto=function(b,a){b>=a._animData_.totalFrame&&(b=0);if(b!=a._animData_.currentFrame){var c=a._animData_.currentFrame;a._animData_.currentFrame>b&&(c=0);0>c&&(c=0);for(c;c<=b;++c){var e=this._comm_[c];e&&e.run2(a)}a._animData_.currentFrame=b}};c.getSysbomData=function(b){for(var a=0;a<iflash.laya.runner.Runnner.symbolClass.length;a++){var c=b.getResource(iflash.laya.runner.Runnner.symbolClass[a].name);c&&(c instanceof iflash.display.MovieClip?this.regclass(iflash.laya.runner.Runnner.symbolClass[a].name,c,b.applicationDomain):c instanceof iflash.display.LyImageElement?this.regclass(iflash.laya.runner.Runnner.symbolClass[a].name,c,b.applicationDomain):(b.applicationDomain._resMapDic_[iflash.laya.runner.Runnner.symbolClass[a].name]=c,c.__id__=b.__id__))}};c.regclass=function(b,a,c){var e=function(){return a instanceof iflash.display.LyImageElement?(a._init_(),a._lyToBody_(),!a.miniBitmapData._canvas_&&a._image_&&a.miniBitmapData.setImage(a._image_),a.miniBitmapData._canvas_.size(a.width,a.height),a.miniBitmapData.width=a.width,a.miniBitmapData.height=a.height,a.miniBitmapData.clone()):a.lyclone()};(c._resMapDic_[b]=e)&&(e.__id__=a.__id__)};c.destory=function(){this._functions_=this._comm_=this.parent=null};a.getCurrentObj=function(){return a.currentObj};a.createRunerForClass=function(b){return new a};a.preResCollection=[];a.runSpace=[];a.specialRunners=[];a.symbolClass=[];a.template=[];a.currentObj=null;a._info=null;return a}(),RunOne=function(){function a(){this.ids=[]}__class(a,"iflash.laya.runner.RunOne",!0);return a}(),Config=function(){function a(){this.urlToLower=this.showInfo=this.urlToLower=!1;this.showInfo=!0}__class(a,"iflash.laya.system.Config",!0);return a}(),TimerCtrl=function(){function a(){this._nowTime_=NaN;this._frameTimer_=null;this.ids=0;this._timers_=null;this._frameTimer_=[];this.ids=1;this._timers_=[];this._nowTime_=iflash.utils.getTimer()}__class(a,"iflash.laya.system.TimerCtrl",!0);var c=a.prototype;c.addFrameTimer=function(b,a){for(var c,e=0,f=this._frameTimer_.length;e<f;e++)if(c=this._frameTimer_[e],c.deleted)return c._reset_(this._nowTime_,b,a);c=new TimerObject(this._nowTime_,b,a);this._frameTimer_.push(c);return c};c.removeFrameTimer=function(b,a){for(var c,e=0,f=this._frameTimer_.length;e<f;e++)if(c=this._frameTimer_[e],c.listener==b){this._frameTimer_.splice(e,1);c.deleted=!0;break}};c.addTimer=function(b,a,c,e){var f;"string"!=typeof a&&(f=new TimerObject(this._nowTime_,a,b,c,e));this._timers_.push(f);return f};c._update_=function(b){this._nowTime_=b;this._updateFrameTimer_(b);this._updateTimer_(b)};c._updateFrameTimer_=function(b){for(var a=0;a<this._frameTimer_.length;a++)this._frameTimer_[a].run(b)||(this._frameTimer_.splice(a,1),a--)};c._updateTimer_=function(b){for(var a=!1,c=0,c=0;c<this._timers_.length;c++)this._timers_[c].run(b)||(a=!0,this._timers_.splice(c,1),c--);if(a){for(c=b=0;c<this._timers_.length;c++)this._timers_[c].deleted||(this._timers_[b]=this._timers_[c],b++);this._timers_.length=b}};__static(a,["__DEFAULT__",function(){return this.__DEFAULT__=new a}]);return a}(),ID3Info=function(){function a(){this.year=this.track=this.songName=this.genre=this.comment=this.artist=this.album=null}__class(a,"iflash.media.ID3Info",!0);return a}(),SoundLoaderContext=function(){function a(a){this.bufferTime=NaN;this.checkPolicyFile=!1}__class(a,"iflash.media.SoundLoaderContext",!0);return a}(),SoundMixer=function(){function a(){}__class(a,"iflash.media.SoundMixer",!0);a.areSoundsInaccessible=LAYAFNFALSE;a.computeSpectrum=function(a,b,d){};a.stopAll=LAYAFNVOID;a.bufferTime=0;a.soundTransform=null;return a}(),SoundTransform=function(){function a(b,a){this._sound_=null;this._volume_=NaN;void 0===b&&(b=1);this.volume=b}__class(a,"iflash.media.SoundTransform",!0);var c=a.prototype;__getset(0,c,"leftToLeft",LAYAFN0,LAYAFNVOID);__getset(0,c,"leftToRight",LAYAFN0,LAYAFNVOID);__getset(0,c,"pan",LAYAFN0,LAYAFNVOID);__getset(0,c,"rightToLeft",LAYAFN0,LAYAFNVOID);__getset(0,c,"rightToRight",LAYAFN0,LAYAFNVOID);__getset(0,c,"volume",function(){return this._volume_},function(b){this._sound_&&(this._sound_.volume=b);this._volume_=b});return a}(),FileFilter=function(){function a(b,a,c){}__class(a,"iflash.net.FileFilter",!0);var c=a.prototype;__getset(0,c,"description",LAYAFNSTR,LAYAFNVOID);__getset(0,c,"extension",LAYAFNSTR,LAYAFNVOID);__getset(0,c,"macType",LAYAFNSTR,LAYAFNVOID);return a}(),ObjectEncoding=function(){function a(){}__class(a,"iflash.net.ObjectEncoding",!0);__getset(1,a,"dynamicPropertyWriter",LAYAFNNULL,LAYAFNVOID);a.AMF0=0;a.AMF3=3;a.DEFAULT=3;return a}(),Responder=function(){function a(a,b){this._resp=null;this._resp=new iflash.net.Responder(a,b)}__class(a,"iflash.net.Responder",!0);__getset(0,a.prototype,"resp",function(){return this._resp});return a}(),SecurityPanel=function(){function a(){}__class(a,"iflash.net.SecurityPanel",!0);a.CAMERA="camera";a.DEFAULT="default";a.DISPLAY="display";a.LOCAL_STORAGE="localStorage";a.MICROPHONE="microphone";a.PRIVACY="privacy";a.SETTINGS_MANAGER="settingsManager";return a}(),SharedObjectFlushStatus=function(){function a(){}__class(a,"iflash.net.SharedObjectFlushStatus",!0);a.FLUSHED="flushed";a.PENDING="pending";return a}(),URLLoaderDataFormat=function(){function a(){}__class(a,"iflash.net.URLLoaderDataFormat",!0);a.BINARY="binary";a.TEXT="text";a.VARIABLES="variables";return a}(),URLRequest=function(){function a(b){this._digest=this._data=this._contentType=null;this._requestHeaders=[];this._url=null;this._method="GET";this._url=b}__class(a,"iflash.net.URLRequest",!0);var c=a.prototype;__getset(0,c,"contentType",function(){return this._contentType},function(b){this._contentType=b});__getset(0,c,"data",function(){return this._data},function(b){this._data=b});__getset(0,c,"url",function(){return this._url},function(b){this._url=b});__getset(0,c,"digest",function(){return this._digest},function(b){this._digest=b});__getset(0,c,"method",function(){return this._method},function(b){this._method=b});__getset(0,c,"requestHeaders",function(){return this._requestHeaders},function(b){this._requestHeaders=b});return a}(),URLRequestHeader=function(){function a(a,b){this.name="Content-Type";this.value="application/x-www-form-urlencoded";void 0===a&&(a="");void 0===b&&(b="");this.name=a;this.value=b}__class(a,"iflash.net.URLRequestHeader",!0);return a}(),URLRequestMethod=function(){function a(){}__class(a,"iflash.net.URLRequestMethod",!0);a.DELETE="DELETE";a.GET="GET";a.HEAD="HEAD";a.OPTIONS="OPTIONS";a.POST="POST";a.PUT="PUT";return a}(),URLVariables=function(){function a(b){this.__decodeRegExp__=RegExp("[?\x26]?([^\x3d]+)\x3d([^\x26]*)","g");__uns(this,["__decodeRegExp__"]);null!=b&&this.decode(b)}__class(a,"iflash.net.URLVariables",!1);var c=a.prototype;c.decode=function(b){if(b){this.variables||(this.variables={});b=b.split("+").join(" ");for(var a,c=this.__decodeRegExp__;a=c.exec(b);)Log.unfinished("URLVariables","decode"),this.variables[a[1]]=a[2]}};c.toString=function(){var b={},a="",c=!0;if(!this.variables){for(var e in this)"variables"!=e&&"decode"!=e&&"__decodeRegExp__"!=e&&"toString"!=e&&(c?c=!1:a+="\x26",a+=e+"\x3d"+this[e]);return a}for(e in b)c?c=!1:a+="\x26",a+=e+"\x3d"+b[e];return a};__uns(c,["decode","toString"]);return a}(),AnimationData=function(){function a(){this.objes={};this._parent=null;this.currentFrame=this.baseKey=-1;this.labs={};this.isStop=!1;this.totalFrame=0}__class(a,"iflash.swf.animation.AnimationData",!0);var c=a.prototype;c.lyclone=function(){var b=new a;b.totalFrame=this.totalFrame;b.labs=this.labs;return b};c.destory=function(){this.labs=this._parent=this.objes=null};return a}(),SWFTools=function(){function a(){}__class(a,"iflash.swf.utils.SWFTools",!0);a.connect=function(a){"string"==typeof a&&(a=ApplicationDomain.currentDomain.getDefinition2(a));if(a&&!a.f){var b=a.__super;a.f=!0;a.__super=function(d){void 0===d&&(d=!0);b.apply(this,arguments);d&&iflash.swf.utils.SWFTools._initClass_(a,this)}}};a.initClass=function(a,b,d){};a._initClass_=function(a,b,d){if(!(b instanceof iflash.media.Sound)){var g=ApplicationDomain.currentDomain,e;if(b instanceof iflash.display.BitmapData)e=g.newInstance(iflash.utils.getQualifiedClassName(b)),b._canvas_=e._canvas_.clone(),b._context_=b._canvas_,b.width=e.width,b.height=e.height;else if(b instanceof iflash.display.Bitmap)e=g.newInstance(iflash.utils.getQualifiedClassName(b)),b.bitmapData=new BitmapData(e.width,e.height),b.bitmapData._canvas_=e._canvas_.clone(),b._modle_.vcanvas(b.bitmapData._canvas_),b.bitmapData.width=e.width,b.bitmapData.height=e.height,b.width=e.width,b.height=e.height;else if(null!=a?(d=iflash.utils.getQualifiedClassName(b),g=g.newDefinition(d)):g=d,g||(g=new a),b instanceof iflash.display.MovieClip)b._interval_=g._interval_=60,b._animData_=g._animData_.lyclone(),b.runner=g.runner,b._type_|=16,b.__id__=g.__id__,b._type_|=16,b instanceof iflash.display.SimpleButton?b.gotoAndStop(1):b._gotoAndPlay_(1);else if(b instanceof iflash.display.Sprite&&g){a=g._childs_.concat();for(d=0;d<a.length;d++)b.addChild(a[d]);for(e in g)"_childs_"!=e&&g[e]&&"runner"!=e&&(b[e]=g[e]);g.stop()}}};return a}(),ApplicationDomain=function(){function a(b){this._parentDomain_=this._domainMemory=null;this._resMapDic_={};this._id__=0;this._parentDomain_=b}__class(a,"iflash.system.ApplicationDomain",!0);var c=a.prototype;c.getDefinition=function(b){if(!b)throw Error(b+" Variable a is not defined.");b=b.toString().replace("::",".");"flash"==b.split(".")[0]&&(b=b.replace("flash","iflash"));var a=iflash.utils.getDefinitionByName(b);null==a&&(a=this._resMapDic_[b])&&(a.lin=b);null==a&&(a=LAYABOX.getInterfaceDefinitionByName(b));if(!a)throw Error(b+" Variable a is not defined.");a.__isclass=!0;return a};c.getDefinition2=function(b){b=b.toString().replace("::",".");var a=iflash.utils.getDefinitionByName(b);null==a&&(a=this._resMapDic_[b]);return a};c.newDefinition=function(b){b=b.replace("::",".");var a,c=this._resMapDic_[b];if(!c){var e,f;for(f in LoaderInfo._loaderInfos_)if(e=LoaderInfo._loaderInfos_[f],e.applicationDomain!=this&&(c=e.applicationDomain._resMapDic_[b]))break}c&&(a=new c,a.__id__=c.__id__);return a};c.newInstance=function(b){b=b.replace("::",".");b=this._resMapDic_[b];return null==b?null:b=new b};c.hasDefinition=function(b){if(!b)return!1;b=b.replace("::",".");var a=!1;this.getDefinition2(b)?a=!0:a=!1;if(!a)try{iflash.utils.getDefinitionByName(b)&&(a=!0)}catch(c){a=!1}return a};c.addResToMap=function(b,a){this._resMapDic_[b]=a};__getset(0,c,"__id__",function(){return this._id__},function(b){this._id__=b});__getset(0,c,"currentDomain",null,function(b){a._currentDomain=b});__getset(0,c,"domainMemory",function(){return this._domainMemory},function(b){this._domainMemory=b});__getset(0,c,"parentDomain",function(){return this._parentDomain_});__getset(1,a,"currentDomain",function(){null==a._currentDomain&&(a._currentDomain=new a);return a._currentDomain});__getset(1,a,"MIN_DOMAIN_MEMORY_LENGTH",function(){return 0});a._currentDomain=null;return a}(),Capabilities=function(){function a(){}__class(a,"iflash.system.Capabilities",!0);__getset(1,a,"isDebugger",function(){return Laya.FLASHVER?a.isDebugger:"false"});__getset(1,a,"os",function(){if(null!=a._os)return a._os;var c=navigator.userAgent;if("Mac68K"==navigator.platform||"MacPPC"==navigator.platform||"Macintosh"==navigator.platform||"MacIntel"==navigator.platform)a._os="Mac";"X11"!=navigator.platform||isWin||isMac||(a._os="Mac");-1<navigator.platform.indexOf("Linux")&&(a._os="Linux");if("Win32"==navigator.platform||"Windows"==navigator.platform)-1<c.indexOf("Windows NT 5.0")||-1<c.indexOf("Windows 2000")?a._os="Windows 2000":-1<c.indexOf("Windows NT 5.1")||-1<c.indexOf("Windows XP")?a._os="Windows XP":-1<c.indexOf("Windows NT 5.2")||-1<c.indexOf("Windows 2003")?a._os="Win2003":-1<c.indexOf("Windows NT 6.0")||-1<c.indexOf("Windows Vista")?a._os="Windows Vista":-1<c.indexOf("Windows NT 6.1")||-1<c.indexOf("Windows 7")?a._os="Windows 7":a._os="Windows";return a._os});__getset(1,a,"playerType",function(){return null});__getset(1,a,"screenDPI",function(){var a=240;Laya.CONCHVER&&window.layabox&&window.layabox.getDeviceInfo&&(di=window.layabox.getDeviceInfo(),a=di.dpi);a||(a=240);return a});__getset(1,a,"version",function(){return""});__getset(1,a,"language",function(){return Laya.FLASHVER?a.language:window.navigator.language});__getset(1,a,"serverString",function(){return""});__getset(1,a,"screenResolutionX",function(){return a._screenResolutionX});__getset(1,a,"screenResolutionY",function(){return a._screenResolutionY});a.initScreenResolutionXY=function(){a._screenResolutionX=window.screen.width;a._screenResolutionY=window.screen.height};a._os=null;a._screenResolutionX=0;a._screenResolutionY=0;return a}(),ImageDecodingPolicy=function(){function a(){}__class(a,"iflash.system.ImageDecodingPolicy",!0);a.ON_DEMAND="onDemand";a.ON_LOAD="onLoad";return a}(),LoaderContext=function(){function a(a,b,d){this.securityDomain=this.applicationDomain=null;this.allowCodeImport=this.checkPolicyFile=!1;this.imageDecodingPolicy="onLoad";this.applicationDomain=b}__class(a,"iflash.system.LoaderContext",!0);__getset(0,a.prototype,"allowLoadBytesCodeExecution",LAYAFNFALSE,LAYAFNVOID);return a}(),Security=function(){function a(){}__class(a,"iflash.system.Security",!0);__getset(1,a,"sandboxType",LAYAFNSTR);a.allowDomain=function(a){};a.allowInsecureDomain=function(a){};a.loadPolicyFile=LAYAFNVOID;a.showSettings=function(a){};a.disableAVM1Loading=!1;a.exactSettings=!1;a.APPLICATION="application";a.LOCAL_TRUSTED="localTrusted";a.LOCAL_WITH_FILE="localWithFile";a.LOCAL_WITH_NETWORK="localWithNetwork";a.REMOTE="remote";return a}(),SecurityDomain=function(){function a(){}__class(a,"iflash.system.SecurityDomain",!0);__getset(1,a,"currentDomain",function(){return new a});return a}(),System=function(){function a(){}__class(a,"iflash.system.System",!0);__getset(1,a,"freeMemory",LAYAFN0);__getset(1,a,"privateMemory",LAYAFN0);__getset(1,a,"totalMemory",function(){return 0});__getset(1,a,"totalMemoryNumber",LAYAFN0);__getset(1,a,"useCodePage",function(){return a._useCodePage},function(c){a._useCodePage=c});__getset(1,a,"vmVersion",function(){return"ilaya-hello"});a.disposeXML=function(a){};a.exit=LAYAFNVOID;a.gc=LAYAFNVOID;a.nativeConstructionOnly=LAYAFNVOID;a.pause=LAYAFNVOID;a.pauseForGCIfCollectionImminent=function(a){};a.resume=LAYAFNVOID;a.setClipboard=LAYAFNVOID;a._useCodePage=!1;return a}(),AntiAliasType=function(){function a(){}__class(a,"iflash.text.AntiAliasType",!0);a.ADVANCED="advanced";a.NORMAL="normal";return a}(),ContentElement=function(){function a(b,a,c){this.userData=null}__class(a,"iflash.text.engine.ContentElement",!0);var c=a.prototype;__getset(0,c,"elementFormat",LAYAFNNULL,LAYAFNVOID);__getset(0,c,"eventMirror",LAYAFNNULL,LAYAFNVOID);__getset(0,c,"textBlock",LAYAFNNULL);__getset(0,c,"groupElement",LAYAFNNULL);__getset(0,c,"rawText",LAYAFNSTR);__getset(0,c,"text",LAYAFNSTR);__getset(0,c,"textBlockBeginIndex",LAYAFN0);__getset(0,c,"textRotation",LAYAFNSTR,LAYAFNVOID);a.GRAPHIC_ELEMENT=65007;return a}(),ElementFormat=function(){function a(b){}__class(a,"iflash.text.engine.ElementFormat",!0);var c=a.prototype;c.clone=LAYAFNNULL;c.getFontMetrics=LAYAFNNULL;__getset(0,c,"alignmentBaseline",LAYAFNSTR,LAYAFNVOID);__getset(0,c,"alpha",LAYAFN0,LAYAFNVOID);__getset(0,c,"dominantBaseline",LAYAFNSTR,LAYAFNVOID);__getset(0,c,"baselineShift",LAYAFN0,LAYAFNVOID);__getset(0,c,"breakOpportunity",LAYAFNSTR,LAYAFNVOID);__getset(0,c,"color",LAYAFN0,LAYAFNVOID);__getset(0,c,"locked",LAYAFNFALSE,LAYAFNVOID);__getset(0,c,"digitCase",LAYAFNSTR,LAYAFNVOID);__getset(0,c,"digitWidth",LAYAFNSTR,LAYAFNVOID);__getset(0,c,"fontDescription",LAYAFNNULL,LAYAFNVOID);__getset(0,c,"fontSize",LAYAFN0,LAYAFNVOID);__getset(0,c,"kerning",LAYAFNSTR,LAYAFNVOID);__getset(0,c,"ligatureLevel",LAYAFNSTR,LAYAFNVOID);__getset(0,c,"locale",LAYAFNSTR,LAYAFNVOID);__getset(0,c,"textRotation",LAYAFNSTR,LAYAFNVOID);__getset(0,c,"trackingLeft",LAYAFN0,LAYAFNVOID);__getset(0,c,"trackingRight",LAYAFN0,LAYAFNVOID);__getset(0,c,"typographicCase",LAYAFNSTR,LAYAFNVOID);return a}(),FontDescription=function(){function a(b){}__class(a,"iflash.text.engine.FontDescription",!0);var c=a.prototype;c.clone=LAYAFNNULL;__getset(0,c,"cffHinting",LAYAFNSTR,LAYAFNVOID);__getset(0,c,"fontLookup",LAYAFNSTR,LAYAFNVOID);__getset(0,c,"fontName",LAYAFNSTR,LAYAFNVOID);__getset(0,c,"fontPosture",LAYAFNSTR,LAYAFNVOID);__getset(0,c,"fontWeight",LAYAFNSTR,LAYAFNVOID);__getset(0,c,"locked",LAYAFNFALSE,LAYAFNVOID);__getset(0,c,"renderingMode",LAYAFNSTR,LAYAFNVOID);a.isDeviceFontCompatible=LAYAFNFALSE;a.isFontCompatible=LAYAFNFALSE;return a}(),FontLookup=function(){function a(){}__class(a,"iflash.text.engine.FontLookup",!0);a.DEVICE="device";a.EMBEDDED_CFF="embeddedCFF";return a}(),FontMetrics=function(){function a(a){this.emBox=null;this.underlineOffset=this.superscriptScale=this.superscriptOffset=this.subscriptScale=this.subscriptOffset=this.strikethroughThickness=this.strikethroughOffset=this.lineGap=NaN}__class(a,"iflash.text.engine.FontMetrics",!0);return a}(),TextJustifier=function(){function a(b,a){}__class(a,"iflash.text.engine.TextJustifier",!0);var c=a.prototype;c.clone=LAYAFNNULL;__getset(0,c,"lineJustification",LAYAFNSTR,LAYAFNVOID);__getset(0,c,"locale",LAYAFNSTR);a.getJustifierForLocale=LAYAFNNULL;return a}(),TabStop=function(){function a(b){}__class(a,"iflash.text.engine.TabStop",!0);var c=a.prototype;__getset(0,c,"alignment",LAYAFNSTR,LAYAFNVOID);__getset(0,c,"position",LAYAFN0,LAYAFNVOID);__getset(0,c,"decimalAlignmentToken",LAYAFNSTR,LAYAFNVOID);return a}(),TextBaseline=function(){function a(){}__class(a,"iflash.text.engine.TextBaseline",!0);a.ASCENT="ascent";a.DESCENT="descent";a.IDEOGRAPHIC_BOTTOM="ideographicBottom";a.IDEOGRAPHIC_CENTER="ideographicCenter";a.IDEOGRAPHIC_TOP="ideographicTop";a.ROMAN="roman";a.USE_DOMINANT_BASELINE="useDominantBaseline";return a}(),TextBlock=function(){function a(b){this.userData=null}__class(a,"iflash.text.engine.TextBlock",!0);var c=a.prototype;c.createTextLine=function(b,a,c,e){return null};c.dump=LAYAFNSTR;c.findNextAtomBoundary=LAYAFN0;c.findNextWordBoundary=LAYAFN0;c.findPreviousAtomBoundary=LAYAFN0;c.findPreviousWordBoundary=LAYAFN0;c.getTextLineAtCharIndex=LAYAFNNULL;c.recreateTextLine=function(b,a,c,e,f){return null};c.releaseLineCreationData=LAYAFNVOID;c.releaseLines=LAYAFNVOID;__getset(0,c,"applyNonLinearFontScaling",LAYAFNFALSE,LAYAFNVOID);__getset(0,c,"content",LAYAFNNULL,LAYAFNVOID);__getset(0,c,"firstInvalidLine",LAYAFNNULL);__getset(0,c,"baselineFontDescription",LAYAFNNULL,LAYAFNVOID);__getset(0,c,"baselineFontSize",LAYAFN0,LAYAFNVOID);__getset(0,c,"baselineZero",LAYAFNSTR,LAYAFNVOID);__getset(0,c,"bidiLevel",LAYAFN0,LAYAFNVOID);__getset(0,c,"firstLine",LAYAFNNULL);__getset(0,c,"lastLine",LAYAFNNULL);__getset(0,c,"lineRotation",LAYAFNSTR,LAYAFNVOID);__getset(0,c,"tabStops",LAYAFNNULL,LAYAFNVOID);__getset(0,c,"textLineCreationResult",LAYAFNSTR);__getset(0,c,"textJustifier",LAYAFNNULL,LAYAFNVOID);return a}(),TextLineMirrorRegion=function(){function a(){}__class(a,"iflash.text.engine.TextLineMirrorRegion",!0);var c=a.prototype;__getset(0,c,"bounds",LAYAFNNULL);__getset(0,c,"element",LAYAFNNULL);__getset(0,c,"mirror",LAYAFNNULL);__getset(0,c,"previousRegion",LAYAFNNULL);__getset(0,c,"nextRegion",LAYAFNNULL);__getset(0,c,"textLine",LAYAFNNULL);return a}(),Font=function(){function a(){}__class(a,"iflash.text.Font",!0);var c=a.prototype;c.hasGlyphs=LAYAFNFALSE;__getset(0,c,"fontName",LAYAFNSTR);__getset(0,c,"fontStyle",LAYAFNSTR);__getset(0,c,"fontType",LAYAFNSTR);a.enumerateFonts=function(b){return[]};a.registerFont=LAYAFNVOID;return a}(),FontType=function(){function a(){}__class(a,"iflash.text.FontType",!0);a.DEVICE="device";a.EMBEDDED="embedded";a.EMBEDDED_CFF="embeddedCFF";return a}(),GridFitType=function(){function a(){}__class(a,"iflash.text.GridFitType",!0);a.NONE="none";a.PIXEL="pixel";a.SUBPIXEL="subpixel";return a}(),StageTextInitOptions=function(){function a(a){this._multiline=!1;void 0===a&&(a=!1);this.multiline=a}__class(a,"iflash.text.StageTextInitOptions",!0);__getset(0,a.prototype,"multiline",function(){return this._multiline},function(a){this._multiline=a});return a}(),TextColorType=function(){function a(){}__class(a,"iflash.text.TextColorType",!0);a.DARK_COLOR="dark";a.LIGHT_COLOR="light";return a}(),TextFieldAutoSize=function(){function a(){}__class(a,"iflash.text.TextFieldAutoSize",!0);a.NONE="none";a.LEFT="left";a.CENTER="center";a.RIGHT="right";return a}(),TextFieldType=function(){function a(){}__class(a,"iflash.text.TextFieldType",!0);a.INPUT="input";a.DYNAMIC="dynamic";return a}(),FontStyle=function(){function a(){}__class(a,"iflash.text.textformat.FontStyle",!0);return a}(),ImgText=function(){function a(){}__class(a,"iflash.text.textformat.ImgText",!0);var c=a.prototype;c.getInstance=function(){null==iflash.text.textformat.ImgText.instance&&(iflash.text.textformat.ImgText.instance=new a);return iflash.text.textformat.ImgText.instance};c.formatFont=function(b,a){var c=new Rectangle;return 0>=b.length?c:null};a.instance=null;return a}(),TextFormat=function(){function a(b,a,c,e,f,h,k,l,m,n,p,q,r){b&&(this.font=b);a&&(this.size=a);c&&(this.color=c);e&&(this.bold=e);f&&(this.italic=f);h&&(this.underline=h);m&&(this.align=m);n&&(this.leftMargin=n);p&&(this.rightMargin=p);q&&(this.indent=q);r&&(this.leading=r)}__class(a,"iflash.text.TextFormat",!0);var c=a.prototype;c.measureText=function(b){var c={width:0,height:0};if(!b||!b.length)return c;if("\n"==b)return c={width:0,height:this._size+3};b=b.replace(/\n/g,"");a.ctx.font=this.getFont();var g=a.ctx.measureText(b);c.width=g.width1||g.width;this._letterSpacing&&(c.width+=this._letterSpacing*b.length);c.height=Laya.CONCHVER?g.height:(int(this._size)||12)+a.HEI_OFF;return c};c.getFont=function(){var b="";Laya.CONCHVER?(b+=this._italic?"italic":"normal",b=b+" "+(this._bold?"700":"100"),b+=" ",b+=(this._size?this._size:12)+"px",b+=" ",b+=this._font?this._font.replace(/\x20/g,"_"):"Arial",b+=" ",b+=this._strokeColor?"1 "+this._strokeColor:"0 0",b+=" ",b+=this._underline?"1":"0",b+=this._underline?this._color||"#000000":""):(b+=this._italic?"italic":"normal",b+=" ",b+=this._bold?"bold":"normal",b+=" ",b+=(this._size?this._size:12)+"px",b+=" ",b=this._font?/\d/.test(this._font.charAt(0))?b+"Microsoft YaHei":b+this._font:b+"Times New Roman");return b};c.clone=function(){var b=new a;b._align=this._align;b._blockIndent=this._blockIndent;b._bold=this._bold;b._bullet=this._bullet;b._color=this._color;b._font=this._font;b._indent=this._indent;b._italic=this._italic;b._leading=this._leading;b._leftMargin=this._leftMargin;b._letterSpacing=this._letterSpacing;b._rightMargin=this._rightMargin;b._size=this._size;b._underline=this._underline;return b};__getset(0,c,"align",function(){return this._align},function(b){this._align=b});__getset(0,c,"bold",function(){return this._bold},function(b){this._bold=b});__getset(0,c,"blockIndent",function(){return this._blockIndent},function(b){this._blockIndent=Laya.__parseInt(b)});__getset(0,c,"display",LAYAFNNULL,LAYAFNVOID);__getset(0,c,"bullet",function(){return this._bullet},function(b){this._bullet=b});__getset(0,c,"color",function(){return this._color},function(b){this._color=b});__getset(0,c,"font",function(){return this._font},function(b){this._font=b});__getset(0,c,"indent",function(){return this._indent},function(b){this._indent=Laya.__parseInt(b)});__getset(0,c,"italic",function(){return this._italic},function(b){this._italic=b});__getset(0,c,"leading",function(){return this._leading},function(b){this._leading=Laya.__parseInt(b)});__getset(0,c,"leftMargin",function(){return this._leftMargin},function(b){this._leftMargin=b});__getset(0,c,"letterSpacing",function(){return this._letterSpacing},function(b){this._letterSpacing=Laya.__parseInt(b)});__getset(0,c,"rightMargin",function(){return this._rightMargin},function(b){this._rightMargin=Laya.__parseInt(b)});__getset(0,c,"size",function(){return this._size},function(b){this._size=Laya.__parseInt(b)});__getset(0,c,"kerning",LAYAFNVOID,LAYAFNVOID);__getset(0,c,"tabStops",LAYAFNNULL,LAYAFNVOID);__getset(0,c,"target",LAYAFNNULL,LAYAFNVOID);__getset(0,c,"url",LAYAFNSTR,LAYAFNVOID);__getset(0,c,"underline",function(){return this._underline},function(b){this._underline=b});a.BULLET_INDENT=50;a.BULLET_RADIUS=2;a.HEI_OFF=3;__static(a,["canvas",function(){return this.canvas=Canvas.create()},"ctx",function(){return this.ctx=a.canvas.context}]);return a}(),TextFormatAlign=function(){function a(){}__class(a,"iflash.text.TextFormatAlign",!0);a.CENTER="center";a.JUSTIFY="justify";a.LEFT="left";a.RIGHT="right";return a}(),TextLineMetrics=function(){function a(a,b,d,g,e,f){this.x=this.width=this.leading=this.height=this.descent=this.ascent=NaN;this.x=a;this.width=b;this.height=d;this.ascent=g;this.descent=e;this.leading=f}__class(a,"iflash.text.TextLineMetrics",!0);return a}(),TextNodeList=function(){function a(){this._source=null;this._source=[]}__class(a,"iflash.text.TextNodeList",!0);var c=a.prototype;c.clear=function(){this._source.length=0};c.getElem=function(b){return this._source[b]};c.push=function(b){this._source.push(b)};c.clone=function(){for(var b=new a,c,g=0,e=this._source.length;g<e;g++){c={};for(var f in this._source[g])c[f]=this._source[g][f];b.push(c)}return b};__getset(0,c,"length",function(){return this._source.length});__getset(0,c,"source",function(){return this._source});return a}(),TextSnapshot=function(){function a(){}__class(a,"iflash.text.TextSnapshot",!0);var c=a.prototype;c.findText=LAYAFN0;c.getSelected=LAYAFNFALSE;c.getSelectedText=function(b){return null};c.getText=function(b,a,c){return null};c.getTextRunInfo=LAYAFNNULL;c.hitTestTextNearPos=function(b,a,c){return 0};c.setSelectColor=function(b){};c.setSelected=LAYAFNVOID;__getset(0,c,"charCount",LAYAFN0);return a}(),ContextMenuBuiltInItems=function(){function a(){}__class(a,"iflash.ui.ContextMenuBuiltInItems",!0);var c=a.prototype;c.clone=function(){return new a};__getset(0,c,"forwardAndBack",LAYAFNFALSE,LAYAFNVOID);__getset(0,c,"loop",LAYAFNFALSE,LAYAFNVOID);__getset(0,c,"zoom",LAYAFNFALSE,LAYAFNVOID);__getset(0,c,"play",LAYAFNFALSE,LAYAFNVOID);__getset(0,c,"print",LAYAFNFALSE,LAYAFNVOID);__getset(0,c,"quality",LAYAFNFALSE,LAYAFNVOID);__getset(0,c,"rewind",LAYAFNFALSE,LAYAFNVOID);__getset(0,c,"save",LAYAFNFALSE,LAYAFNVOID);return a}(),ContextMenuClipboardItems=function(){function a(){}__class(a,"iflash.ui.ContextMenuClipboardItems",!0);var c=a.prototype;c.clone=function(){return new a};__getset(0,c,"clear",LAYAFNFALSE,LAYAFNVOID);__getset(0,c,"copy",LAYAFNFALSE,LAYAFNVOID);__getset(0,c,"selectAll",LAYAFNFALSE,LAYAFNVOID);__getset(0,c,"cut",LAYAFNFALSE,LAYAFNVOID);__getset(0,c,"paste",LAYAFNFALSE,LAYAFNVOID);return a}(),Keyboard=function(){function a(){}__class(a,"iflash.ui.Keyboard",!0);__getset(1,a,"capsLock",LAYAFNFALSE);__getset(1,a,"physicalKeyboardType",LAYAFNSTR);__getset(1,a,"numLock",LAYAFNFALSE);__getset(1,a,"hasVirtualKeyboard",LAYAFNFALSE);a.isAccessible=LAYAFNFALSE;a.KEYNAME_UPARROW="Up";a.KEYNAME_DOWNARROW="Down";a.KEYNAME_LEFTARROW="Left";a.KEYNAME_RIGHTARROW="Right";a.KEYNAME_F1="F1";a.KEYNAME_F2="F2";a.KEYNAME_F3="F3";a.KEYNAME_F4="F4";a.KEYNAME_F5="F5";a.KEYNAME_F6="F6";a.KEYNAME_F7="F7";a.KEYNAME_F8="F8";a.KEYNAME_F9="F9";a.KEYNAME_F10="F10";a.KEYNAME_F11="F11";a.KEYNAME_F12="F12";a.KEYNAME_F13="F13";a.KEYNAME_F14="F14";a.KEYNAME_F15="F15";a.KEYNAME_F16="F16";a.KEYNAME_F17="F17";a.KEYNAME_F18="F18";a.KEYNAME_F19="F19";a.KEYNAME_F20="F20";a.KEYNAME_F21="F21";a.KEYNAME_F22="F22";a.KEYNAME_F23="F23";a.KEYNAME_F24="F24";a.KEYNAME_F25="F25";a.KEYNAME_F26="F26";a.KEYNAME_F27="F27";a.KEYNAME_F28="F28";a.KEYNAME_F29="F29";a.KEYNAME_F30="F30";a.KEYNAME_F31="F31";a.KEYNAME_F32="F32";a.KEYNAME_F33="F33";a.KEYNAME_F34="F34";a.KEYNAME_F35="F35";a.KEYNAME_INSERT="Insert";a.KEYNAME_DELETE="Delete";a.KEYNAME_HOME="Home";a.KEYNAME_BEGIN="Begin";a.KEYNAME_END="End";a.KEYNAME_PAGEUP="PgUp";a.KEYNAME_PAGEDOWN="PgDn";a.KEYNAME_PRINTSCREEN="PrntScrn";a.KEYNAME_SCROLLLOCK="ScrlLck";a.KEYNAME_PAUSE="Pause";a.KEYNAME_SYSREQ="SysReq";a.KEYNAME_BREAK="Break";a.KEYNAME_RESET="Reset";a.KEYNAME_STOP="Stop";a.KEYNAME_MENU="Menu";a.KEYNAME_USER="User";a.KEYNAME_SYSTEM="Sys";a.KEYNAME_PRINT="Print";a.KEYNAME_CLEARLINE="ClrLn";a.KEYNAME_CLEARDISPLAY="ClrDsp";a.KEYNAME_INSERTLINE="InsLn";a.KEYNAME_DELETELINE="DelLn";a.KEYNAME_INSERTCHAR="InsChr";a.KEYNAME_DELETECHAR="DelChr";a.KEYNAME_PREV="Prev";a.KEYNAME_NEXT="Next";a.KEYNAME_SELECT="Select";a.KEYNAME_EXECUTE="Exec";a.KEYNAME_UNDO="Undo";a.KEYNAME_REDO="Redo";a.KEYNAME_FIND="Find";a.KEYNAME_HELP="Help";a.KEYNAME_MODESWITCH="ModeSw";a.NUMBER_0=48;a.NUMBER_1=49;a.NUMBER_2=50;a.NUMBER_3=51;a.NUMBER_4=52;a.NUMBER_5=53;a.NUMBER_6=54;a.NUMBER_7=55;a.NUMBER_8=56;a.NUMBER_9=57;a.A=65;a.B=66;a.C=67;a.D=68;a.E=69;a.F=70;a.G=71;a.H=72;a.I=73;a.J=74;a.K=75;a.L=76;a.M=77;a.N=78;a.O=79;a.P=80;a.Q=81;a.R=82;a.S=83;a.T=84;a.U=85;a.V=86;a.W=87;a.X=88;a.Y=89;a.Z=90;a.SEMICOLON=186;a.EQUAL=187;a.COMMA=188;a.MINUS=189;a.PERIOD=190;a.SLASH=191;a.BACKQUOTE=192;a.LEFTBRACKET=219;a.BACKSLASH=220;a.RIGHTBRACKET=221;a.QUOTE=222;a.ALTERNATE=18;a.BACKSPACE=8;a.CAPS_LOCK=20;a.COMMAND=15;a.CONTROL=17;a.DELETE=46;a.DOWN=40;a.END=35;a.ENTER=13;a.ESCAPE=27;a.F1=112;a.F2=113;a.F3=114;a.F4=115;a.F5=116;a.F6=117;a.F7=118;a.F8=119;a.F9=120;a.F10=121;a.F11=122;a.F12=123;a.F13=124;a.F14=125;a.F15=126;a.HOME=36;a.INSERT=45;a.LEFT=37;a.NUMPAD=21;a.NUMPAD_0=96;a.NUMPAD_1=97;a.NUMPAD_2=98;a.NUMPAD_3=99;a.NUMPAD_4=100;a.NUMPAD_5=101;a.NUMPAD_6=102;a.NUMPAD_7=103;a.NUMPAD_8=104;a.NUMPAD_9=105;a.NUMPAD_ADD=107;a.NUMPAD_DECIMAL=110;a.NUMPAD_DIVIDE=111;a.NUMPAD_ENTER=108;a.NUMPAD_MULTIPLY=106;a.NUMPAD_SUBTRACT=109;a.PAGE_DOWN=34;a.PAGE_UP=33;a.RIGHT=39;a.SHIFT=16;a.SPACE=32;a.TAB=9;a.UP=38;a.RED=16777216;a.GREEN=16777217;a.YELLOW=16777218;a.BLUE=16777219;a.CHANNEL_UP=16777220;a.CHANNEL_DOWN=16777221;a.RECORD=16777222;a.PLAY=16777223;a.PAUSE=16777224;a.STOP=16777225;a.FAST_FORWARD=16777226;a.REWIND=16777227;a.SKIP_FORWARD=16777228;a.SKIP_BACKWARD=16777229;a.NEXT=16777230;a.PREVIOUS=16777231;a.LIVE=16777232;a.LAST=16777233;a.MENU=16777234;a.INFO=16777235;a.GUIDE=16777236;a.EXIT=16777237;a.BACK=16777238;a.AUDIO=16777239;a.SUBTITLE=16777240;a.DVR=16777241;a.VOD=16777242;a.INPUT=16777243;a.SETUP=16777244;a.HELP=16777245;a.MASTER_SHELL=16777246;a.SEARCH=16777247;__static(a,["CharCodeStrings",function(){return this.CharCodeStrings="Up Down Left Right F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 F13 F14 F15 F16 F17 F18 F19 F20 F21 F22 F23 F24 F25 F26 F27 F28 F29 F30 F31 F32 F33 F34 F35 Insert Delete Home Begin End PgUp PgDn PrntScrn ScrlLck Pause SysReq Break Reset Stop Menu User Sys Print ClrLn ClrDsp InsLn DelLn InsChr DelChr Prev Next Select Exec Undo Redo Find Help ModeSw".split(" ")}]);return a}(),KeyboardType=function(){function a(){}__class(a,"iflash.ui.KeyboardType",!0);a.ALPHANUMERIC="alphanumeric";a.KEYPAD="keypad";a.NONE="none";return a}(),KeyLocation=function(){function a(){}__class(a,"iflash.ui.KeyLocation",!0);a.STANDARD=0;a.LEFT=1;a.RIGHT=2;a.NUM_PAD=3;a.D_PAD=4;return a}(),Mouse=function(){function a(){}__class(a,"iflash.ui.Mouse",!0);__getset(1,a,"supportsCursor",LAYAFNFALSE);__getset(1,a,"cursor",LAYAFNSTR,LAYAFNVOID);__getset(1,a,"supportsNativeCursor",LAYAFNFALSE);a.hide=LAYAFNVOID;a.show=LAYAFNVOID;a.registerCursor=LAYAFNVOID;a.unregisterCursor=LAYAFNVOID;return a}(),MouseCursor=function(){function a(){}__class(a,"iflash.ui.MouseCursor",!0);a.ARROW="arrow";a.AUTO="auto";a.BUTTON="button";a.HAND="hand";a.IBEAM="ibeam";return a}(),MouseCursorData=function(){function a(){}__class(a,"iflash.ui.MouseCursorData",!0);var c=a.prototype;__getset(0,c,"data",LAYAFNNULL,LAYAFNVOID);__getset(0,c,"hotSpot",LAYAFNNULL,LAYAFNVOID);__getset(0,c,"frameRate",LAYAFN0,LAYAFNVOID);return a}(),Multitouch=function(){function a(){}__class(a,"iflash.ui.Multitouch",!0);__getset(1,a,"inputMode",function(){return a.$inputMode},function(c){"gesture"==c&&a.implementGesture();"touchPoint"==c&&a.implementTouchPoint();a.$inputMode=c});__getset(1,a,"isSupportTouch",function(){return"ontouchend"in Browser.document?!0:!1});__getset(1,a,"maxTouchPoints",function(){a._$maxTouchPoints=3;return a._$maxTouchPoints},function(c){a._$maxTouchPoints=c});__getset(1,a,"supportedGestures",function(){a._$supportedGestures=[];a.isSupportTouch&&(a._$supportedGestures.push("gesturePan"),a._$supportedGestures.push("gestureRotate"),a._$supportedGestures.push("gestureSwipe"),a._$supportedGestures.push("gestureZoom"),a._$supportedGestures.push("gestureTwoFingerTap"));return a._$supportedGestures});__getset(1,a,"supportsTouchEvents",function(){a._$supportsTouchEvents=a.isSupportTouch;return a._$supportsTouchEvents});__getset(1,a,"mapTouchToMouse",function(){a._$mapTouchToMouse=a.isSupportTouch;return a._$mapTouchToMouse});__getset(1,a,"supportsGestureEvents",function(){a._$supportsGestureEvents=a.isSupportTouch;return a._$supportsGestureEvents});a.implementTouchPoint=function(){};a.implementGesture=function(){};a._$mapTouchToMouse=!1;a._$maxTouchPoints=0;a._$supportedGestures=null;a._$supportsGestureEvents=!1;a._$supportsTouchEvents=!1;__static(a,["$inputMode",function(){return this.$inputMode="none"}]);return a}(),MultitouchInputMode=function(){function a(){}__class(a,"iflash.ui.MultitouchInputMode",!0);a.GESTURE="gesture";a.NONE="none";a.TOUCH_POINT="touchPoint";return a}(),XMLAttribute=function(){function a(){this._value=this._name=null}__class(a,"iflash.xml.XMLAttribute",!1);var c=a.prototype;Laya.imps(c,{"iflash.xml.IXMLElement":!0});c.getAttribute=function(b){return null};c.attribute=function(b){return null};c.setChildByName=function(b,a){return null};c.getChildByAttribute=function(b,a,c){return null};c.getChildByName=function(b){return null};c.setAttribute=function(b,a){return null};c.getAttributes=function(){return null};c.attributes=function(){return null};c.getChildAt=function(b){return null};c.children=function(){return null};c.elements=function(b){return null};c.setName=function(b){this._name=b};c.lengths=function(){return 0};c.name=function(){return this._name};c.appendChild=function(b){return null};c.toString=function(){return this._value};c.toXMLString=function(){return null};c.parent=LAYAFNNULL;c.hasSimpleContent=LAYAFNFALSE;c.hasComplexContent=LAYAFNFALSE;c.hasOwnProperty=function(b){return!1};c.copy=function(){var b=new a;b._name=this._name;b._value=this._value;return b};c.copyFrom=function(b){return b instanceof iflash.xml.XMLAttribute?(this._name=b._name,this._value=b._value,this):null};__getset(0,c,"localName",function(){return null},function(b){this._name=b});__getset(0,c,"nodeType",function(){return"attribute"});__getset(0,c,"value",function(){return this._value},function(b){this._value=b});__getset(0,c,"childNodes",function(){return null});__getset(0,c,"nodeName",function(){return null});a.create=function(b,c){var g=new a;g._name=b;g._value=c;return g};return a}(),XMLElement=function(){function a(b){this._parentNode=this._nodeValue=this._nodeType=this._nodeName=null;this._attributes=[];this._childNodes=[];this._nestCount=0;if(b instanceof iflash.xml.XMLElement)return b;if(b instanceof iflash.xml.XMLElementList)return 1==b.lengths()?b[0]:b;b&&(b&&b._data_&&(b=b.toString()),b&&a.create(b,this))}__class(a,"iflash.xml.XMLElement",!1);var c=a.prototype;Laya.imps(c,{"iflash.xml.IXMLElement":!0});c.addNamespace=function(b){return this};c.setAttribute=function(b,a){var c,e;for(e in this._attributes)if(c=this._attributes[e],c.key==b)return c.val=a;this._attributes.push({key:b,val:a});return a};c.getAttributes=function(){return this.attributes()};c.attributes=function(){return this.getAttribute("*")};c.getAttribute=function(b){for(var a=this._attributes,c=[],e=0;e<a.length;e++){var f=a[e].key;"*"!=b&&f!=b||c.push({key:a[e].key,val:a[e].val})}return"*"!=b?0<c.length?c[0].val:void 0:XMLElementList.createFromAttribute(c)};c.getAllAttribute=function(b){var a=[];this._getAllAttribute_(a,this,b);return XMLElementList.createFromAttribute(a)};c._getAllAttribute_=function(b,a,c){for(var e=a._childNodes?a._childNodes.length:0,f=0;f<e;f++){for(var h=a._childNodes[f],k=0;k<h._attributes.length;k++){var l=h._attributes[k].key,m=h._attributes[k].val;"*"==c?b.push({key:l,val:m}):l==c&&b.push({key:l,val:m})}this._getAllAttribute_(b,h,c)}};c.attribute=function(b){return this.getAttribute(b)};c.getChildByName=function(b){return this.child(b)};c.getAllChildByName=function(b){var a=[];this._getAllChildByName_(a,this,b);return XMLElementList.create(a)};c._getAllChildByName_=function(b,a,c){for(var e=a._childNodes?a._childNodes.length:0,f=0;f<e;f++){var h=a._childNodes[f];"*"==c?b.push(h):h._nodeName==c&&b.push(h);this._getAllChildByName_(b,h,c)}};c.nodeKind=function(){return this._nodeType};c.getChildByAttribute=function(b,a,c){void 0===c&&(c=!0);if(""==b||null==b||""==a||null==a)return null;for(var e=[],f=this._childNodes?this._childNodes.length:0,h=0;h<f;h++)for(var k=this._childNodes[h],l=0;l<k._attributes.length;l++)k._attributes[l].key==b&&(c&&k._attributes[l].val==a?e.push(k):c||k._attributes[l].val==a||e.push(k));return XMLElementList.create(e)};c.children=function(){var b=XMLElementList.create(this._childNodes);b.length||"string"==typeof this._nodeValue&&""!=this._nodeValue&&b.push(this._nodeValue);return b};c.getChildAt=function(b){return!this._childNodes||b>this._childNodes.length?null:this._childNodes[b]};c.elements=function(b){void 0===b&&(b="*");return"*"==b?XMLElementList.create(this._childNodes):this.child(b)};c.appendChild=function(b){"string"==typeof b&&(b=iflash.xml.XMLElement.create(String(b)));if(b instanceof iflash.xml.XMLElement){var a=b._nodeName,c=this[a];c||(this[a]=c=new XMLElementList);"function"==typeof c!=1&&c.__addChild__(b);this._childNodes.push(b)}else if(b instanceof iflash.xml.XMLElementList)for(a=b.lengths(),c=0;c<a;c++)this.appendChild(b[c]);b._parentNode=this;return b};c.prependChild=function(b){b=this.appendChild(b);var a=this._childNodes;a.pop();a.splice(0,0,b);return b};c.setChildByName=function(b,a){var c=this.getChildByName(b);if(!c)return null;for(var e=this._childNodes.length,f=this._childNodes.length-1;0<=f;f--)this._childNodes[f].localName==b&&(this._childNodes.splice(f,1),e=f);if(a instanceof iflash.xml.XMLElementList)for(f=0;f<a.lengths();f++)this._childNodes.splice(e,0,a[f]),e++;else if(a instanceof iflash.xml.XMLElement)this._childNodes.splice(e,0,a);else return null;return c};c.copy=function(){return new a(this.toXMLString())};c.copyFrom=function(b){return b instanceof iflash.xml.XMLElement?(this._nodeName=b._nodeName,this._nodeValue=b._nodeValue,this._attributes=b._attributes,this._childNodes=b._childNodes,this):null};c.setName=function(b){this._nodeName=b};c.hasOwnProperty=function(b){var a=0,c=0;if(-1!=b.indexOf("@"))for(b=b.substring(1),a=this._attributes.length,c=0;c<a;c++){if(this._attributes[c].key==b)return!0}else for(a=this._childNodes.length,c=0;c<a;c++)if(this._childNodes[c]._nodeName==b)return!0;return!1};c.hasSimpleContent=function(){return 1<this._childNodes.length?!1:1==this._childNodes.length?this._childNodes[0].localName?!1:!0:!0};c.hasComplexContent=function(){return 0<this._childNodes.length};c.lengths=function(){return 1};c.name=function(){return this._nodeName};c.parent=function(){return this._parentNode};c.toString=function(){var b="";return b=this._childNodes.length?this.toXMLString():this._nodeValue};c.getString=function(){var b="";return b=this.toXMLString()};c.toXMLString=function(){a._callee||(a._callee=this);var b="";if(this._nodeName)for(var b=b+("\x3c"+this._nodeName),c=0;c<this._attributes.length;c++)b+=" "+this._attributes[c].key+'\x3d"'+this._attributes[c].val+'"';if(this.hasSimpleContent()&&!this.value)b+="/\x3e";else{b+=this._nodeName?"\x3e":"";b+=this._childNodes.length?"\n":this._nodeValue;this._nestCount=this._childNodes.length?this._nestCount+1:this._nestCount;for(c=0;c<this._childNodes.length;c++){this._childNodes[c]._nestCount=this._nestCount;for(var g=0;g<this._nestCount;g++)b+="   ";b+=this._childNodes[c].toXMLString();for(g=0;g<this._nestCount-1;g++)b+="   "}this._nodeName&&(b+="\x3c/"+this._nodeName+"\x3e")}a._callee!=this?b+="\n":a._callee=null;return b};c.child=function(b){if("number"==typeof b)return XMLElementList.create([this._childNodes[b]]);for(var a=[],c=this._childNodes?this._childNodes.length:0,e=0;e<c;e++){var f=this._childNodes[e];f.localName==b&&a.push(f)}return XMLElementList.create(a)};c.childIndex=function(){var b=this._parentNode;if(b)for(var b=b._childNodes,a=0,c=b.length;a<c;a++)if(b[a]==this)return a;return-1};c.insertChildBefore=function(b,a){if(b){b instanceof iflash.xml.XMLElementList&&(b=b[0]);var c=b.parent().childNodes;if(c){var e=c.indexOf(b);c.splice(e,0,a);c=new XMLElementList;c.push(a);a._parentNode=this;b.parent()[a.nodeName]=c;return this}}else this.prependChild(a)};c.insertChildAfter=function(b,a){if(b){b instanceof iflash.xml.XMLElementList&&(b=b[0]);var c=b.parent().childNodes;if(c){var e=c.indexOf(b);c.splice(e+1,0,a);c=new XMLElementList;c.push(a);a._parentNode=this;b.parent()[a.nodeName]=c;return this}}else this.appendChild(a)};c.normalize=function(){return null};c.comments=function(){return null};c.contains=function(b){return!0};c.defaultSettings=function(){return null};c.descendants=function(b){return null};c.inScopeNamespaces=function(){return[]};c.setLocalName=function(b){this._nodeName=b};__getset(0,c,"localName",function(){return this._nodeName},function(b){this._nodeName=b});__getset(0,c,"nodeType",function(){return this._nodeType});__getset(0,c,"childNodes",function(){return this._childNodes});__getset(0,c,"nodeName",function(){return this._nodeName});__getset(0,c,"value",function(){return this._nodeValue},function(b){this._nodeValue=b});__getset(0,c,"conchValue",function(){var b="";if(this._childNodes){for(var a=0,c=this._childNodes.length;a<c;a++)b+=this._childNodes[a].conchValue;b+=this.value}else b=this.value;return b});a.create=function(b,c){c=c?c:new a;var g;if(IFlash.isRuningOnAccelerator&&"string"!=typeof b)g=b.childNodes[0];else{g=(new DOMParser).parseFromString(b,"text/xml");var e=0,f=null;do if(f=g.childNodes[e++],"#comment"!=f.nodeName){g=f;break}while(e<g.childNodes.length)}a.cloneXmlFromData(c,g);return c};a.cloneXmlFromData=function(b,c){b._nodeName=c.nodeName;b._nodeValue=null==c.nodeValue?c.textContent:c.nodeValue;for(var g=c.attributes,e=g?g.length:0,f=b._attributes,h=0;h<e;h++){var k=g[h];f.push({key:k.nodeName,val:k.nodeValue})}g=c.childNodes;for(e=0;e<g.length;e++)f=g[e],h=f.nodeName,"#text"==h?f.parentNode&&f.parentNode.textContent!=f.textContent&&(h=f.nodeValue.replace(/(^\s*)|(\s*$)/g,""),1<h.length&&(f.nodeValue=h,h=new a,a.cloneXmlFromData(h,f),b.appendChild(h))):"#text"!=h&&"#comment"!=h&&("#cdata-section"==h||""==h?b._nodeValue=null==f.nodeValue?f.textContent:f.nodeValue:(h=new a,a.cloneXmlFromData(h,f),b.appendChild(h)))};a._callee=null;return a}(),XML=window.XML=iflash.xml.XMLElement,SoundAsset=function(){function a(){}__class(a,"mx.core.SoundAsset",!0);return a}(),IllegalOperationError=function(a){function c(b,a){void 0===b&&(b="");void 0===a&&(a=0);c.__super.call(this,b,a)}__class(c,"iflash.errors.IllegalOperationError",!0,Error);return c}(Error),IOError=function(a){function c(b,a){void 0===b&&(b="");void 0===a&&(a=0);c.__super.call(this,b,a)}__class(c,"iflash.errors.IOError",!0,Error);return c}(Error),XMLElementList=function(a){function c(b){this._value="";this._parentNode=null;c.__super.call(this);__uns(this,["_value","_parentNode"]);if(b){b=c.create(XMLElement.create("\x3cdata\x3e"+b+"\x3c/data\x3e").childNodes);for(var a=0;a<b.length;a++)this.push(b[a])}Object.defineProperty(this,"length",{value:this.length,writable:!0,enumerable:!1,configurable:!1})}__class(c,"iflash.xml.XMLElementList",!1,Array);a=c.prototype;Laya.imps(a,{"iflash.xml.IXMLElement":!0});a.childIndex=function(){if(1==this.lengths()){var b=this[0],a=b._parentNode;if(a)for(var a=a._childNodes,c=0,e=a.length;c<e;c++)if(a[c]==b)return c}return-1};a.getAttributes=function(){return this.attributes()};a.attributes=function(){return this.getAttribute("*")};a.getAttribute=function(b){for(var a=[],c=this.length,e=0;e<c;e++)for(var f=this[e]._attributes,h=0;h<f.length;h++){var k=f[h].key;"*"!=b&&k!=b||a.push({key:f[h].key,val:f[h].val})}return"*"!=b&&a&&1==a.length?0<a.length?a[0].val:void 0:iflash.xml.XMLElementList.createFromAttribute(a)};a.attribute=function(b){return this.getAttribute(b)};a.setAttribute=function(b,a){if(1==this.length){var c,e;for(e in this[0]._attributes)if(c=this[0]._attributes[e],c.key==b)return c.val=a;this[0]._attributes.push({key:b,val:a})}return null};a.getChildByName=function(b){return this.child(b)};a.child=function(b){if(!this.length)return new c;for(var a=[],g=this.lengths(),e=0;e<g;e++){var f=this[e].getChildByName(b);f&&f.length&&(a=a.concat(this[e].getChildByName(b)))}return c.create(a)};a.getChildByAttribute=function(b,a,c){void 0===c&&(c=!0);if(""==b||null==b||""==a||null==a)return null;for(var e=[],f=this.length,h=0;h<f;h++)for(var k=this[h],l=0;l<k._attributes.length;l++)k._attributes[l].key==b&&(c&&k._attributes[l].val==a?e.push(k):c||k._attributes[l].val==a||e.push(k));return iflash.xml.XMLElementList.create(e)};a.getChildAt=function(b){return!this.length||b>this.length?null:this[b]};a.children=function(){for(var b=new c,a=this.lengths(),g=0;g<a;g++){for(var e=this[g]._childNodes,f=e.length,h=0;h<f;h++)b.push(e[h]);1>f&&b.push(this[g])}return b};a.elements=function(b){void 0===b&&(b="*");return this.length?"*"==b?this.children():this.child(b):new c};a.appendChild=function(b){"string"==typeof b&&(b=XMLElement.create(String(b)));this.__doAdd__(b);return b};a.__addChild__=function(b){if(b instanceof iflash.xml.XMLElement){for(var a=b._childNodes,c=a.length,e=0;e<c;e++)this.__doAdd__(a[e]);this.push(b)}else if(b instanceof iflash.xml.XMLElementList)for(c=b.lengths(),e=0;e<c;e++)this.__addChild__(b[e])};a.__doAdd__=function(b){if(-1==this.indexOf(b)){var a=b._nodeName,g=this[a];if(g instanceof iflash.xml.XMLElementList)g.__addChild__(b);else if(g instanceof iflash.xml.XMLElement){var e=g,g=this[a]=new c;Object.defineProperty(this,[a],{value:this[a],writable:!0,enumerable:!1,configurable:!1});g.__addChild__(e);g.__addChild__(b)}else g||(g=new c,1==this.length?(this[0][a]=g,this[0]._childNodes=g):this[a]=g,g.__addChild__(b),Object.defineProperty(this,[a],{value:this[a],writable:!0,enumerable:!1,configurable:!1}))}};a.setName=function(b){1==this.length&&(this[0]._nodeName=b)};a.copyFrom=function(b){if(1<this.lengths())return null;var a=b instanceof iflash.xml.XMLElementList;if(1<b.lengths())return null;a?this[0].copyFrom(b.getChildAt(0)):this[0].copyFrom(b);return this[0]};a.hasOwnProperty=function(b){if(0==this.length)return this[0].hasOwnProperty(b);var a,c;for(c in this)if(a=this[c],a.hasOwnProperty(b))return!0;return!1};a.setChildByName=function(b,a){return null};a.hasComplexContent=function(){return 0<this.length};a.hasSimpleContent=function(){for(var b=this.length,a=0;a<b;a++)if(null!=this._nodeValue)return!0;return!1};a.name=function(){return 1==this.length?this[0].name():null};a.lengths=function(){for(var b=this.length-1;0<=b;b--)void 0==this[b]&&this.splice(b,1);return this.length};a.toString=function(){var b="";if(this.lengths())if(1==this.length)b+=this[0].toString();else for(var a=0;a<this.length;a++)1<this.length&&(b+=this[a].getString());return b};a.toXMLString=function(){for(var b="",a=0;a<this.length;a++)b+=this[a].toXMLString();return b};a.parent=function(){return this._parentNode};a.copy=function(){return new c(this.toXMLString())};a.getString=function(){var b="";return b=this.toXMLString()};a.comments=function(){return null};a.contains=function(b){return!0};__getset(0,a,"localName",function(){return null},function(b){1==this.length&&(this[0]._nodeName=b)});__getset(0,a,"nodeType",function(){return"*"});__getset(0,a,"value",function(){return 1==this.length?this[0]._nodeValue:""},function(b){1==this.length&&(this[0]._nodeValue=b)});__getset(0,a,"childNodes",function(){return null});__getset(0,a,"nodeName",function(){return null});__uns(a,"childIndex getAttributes attributes getAttribute attribute setAttribute getChildByName child getChildByAttribute getChildAt children elements appendChild __addChild__ __doAdd__ setName copyFrom hasOwnProperty setChildByName hasComplexContent hasSimpleContent name lengths toString toXMLString parent copy getString comments contains".split(" "));c.create=function(b){for(var a=new c,g=0;g<b.length;g++)a.__addChild__(b[g]);return a};c.createFromAttribute=function(b){for(var a=new c,g=0;g<b.length;g++){var e=new XMLElement,f=b[g];e._nodeName=f.key;e._nodeValue=f.val;a.push(e)}return a};return c}(Array),XMLList=window.XMLList=iflash.xml.XMLElementList,DisplayObject=function(a){function c(){this._firstDisplayUnit_=this._parent_=null;this._height_=this._width_=this._top_=this._left_=0;this._blend_=null;this._zIndex_=0;this._sort_d_=-1;this._mouseY_=this._mouseX_=NaN;this._type2_=this.__id__=0;this._readyCallParam=this._readyCallBack=this._mask_=null;this._needNotice=!1;c.__super.call(this);this._Filters_=Filters.__DEFAULT__;this._transform_=Transform.__DEFAULT__;this._concatenatedMatrix=new Matrix;this._invertedConcatenatedMatrix=new Matrix;this._bounds=new Rectangle;this.__initModule();this._type_|=1024;this._propagateFlagsDown_(5)}__class(c,"iflash.display.DisplayObject",!1,a);a=c.prototype;a.__initModule=function(){c.initModule?(this._modle_=Browser._createModle_(2,this._id_,this),this._type_|=64):this._modle_=IModel.__DEFAULT__;Laya.CONCHVER&&(this._modle_.vcanvas=function(b){b.conchVirtualBitmap=b.conchVirtualBitmap||new ConchVirtualBitmap;this.conchVirtualBitmap=b.conchVirtualBitmap;this.virtualBitmap(b.conchVirtualBitmap);b.inMap||(ConchRenderVCanvas.maps.push(b),b.inMap=!0)})};a._lyPaint_=function(b,a,c){this._firstDisplayUnit_&&(this._firstDisplayUnit_.paint(b,a+this._left_,c+this._top_,this,this._width_,this._height_)||(this._repaint_=0))};a.conchPaint=function(b,a,c,e){void 0===e&&(e=!1);this._paintTransform_(b,a,c,this._width_,this._height_,e)};a._paintTransform_=function(b,a,c,e,f,h){this._transform_==Transform.__DEFAULT__||h?this._paintclip_(b,a,c,e,f):(h=this._transform_.matrix)&&h.isTransform()?(b.save(),a-=this._left_,c-=this._top_,0!=a||0!=c?(b.translate(a,c),b.transform(h.a,h.b,h.c,h.d,h.tx,h.ty),b.translate(-a,-c)):b.transform(h.a,h.b,h.c,h.d,h.tx,h.ty),this._paintclip_(b,a,c,e,f),b.restore()):this._paintclip_(b,a,c,e,f)};a._paintclip_=function(b,a,c,e,f){if(2==(this._type_&2))if(this._private_._scrollRect_){var h=this._private_._scrollRect_;b.save();b.beginPath();b.rect(a,c,h.width,h.height);b.clip();this._paintChild_(b,a,c,e,f);b.restore()}else this._paintGraphics_(b,a,c,e,f);else this._paintGraphics_(b,a,c,e,f)};a._paintMask_=function(b,a,c,e,f){};a._paintBackground_=function(b,a,c,e,f){b.save();b.fillStyle="#ff0000";b.fillRect(a,c,e,f);b.restore()};a._paintGraphics_=function(b,a,c,e,f){this._paintChild_(b,a,c,e,f)};a._paintChild_=LAYAFNVOID;a.lySize=function(b,a){if(b!=this._width_||a!=this._height_)this._width_=0<b?b:-1,this._height_=0<a?a:-1,this._modle_.size(b,a),this._propagateFlagsDown_(5)};a._lyPos_=function(b,a){if(this._left_!=b||this._top_!=a)this._left_=b,this._top_=a,this._modle_.pos(b,a),this._type_|=131072,this._propagateFlagsDown_(5)};a.localToGlobal=function(b,a){a||(a=new Point);return this._getConcatenatedMatrix().transformPointInPlace(b,a)};a.globalToLocal=function(b,a){a||(a=new Point);return this._getInvertedConcatenatedMatrix().transformPointInPlace(b,a)};a.hitTestPoint=function(b,a,g){if(!this.visible)return!1;c.HELPER_POINT_ALT=this.root.localToGlobal(c.HELPER_POINT.setTo(b,a),c.HELPER_POINT_ALT);return this.getBounds(Stage.stage).containsPoint(c.HELPER_POINT_ALT)?!0:!1};a._hitTest_=function(b,a){if(!this.visible||!this._checkHitMask(b,a)||!this._checkHitScrollRect(b,a))return null;this._private_._scrollRect_&&(b+=this._private_._scrollRect_.x,a+=this._private_._scrollRect_.y);return this._getBounds_(this,c.HELPER_RECTANGLET).containsPoint(c.HELPER_POINT.setTo(b,a))?this:null};a._checkHitMask=function(b,a){return this._mask_?(this._mask_.getBounds(Stage.stage,c.HELPER_RECTANGLET),this._getInvertedConcatenatedMatrix().transformBounds(c.HELPER_RECTANGLET),c.HELPER_RECTANGLET.containsPoint(c.HELPER_POINT.setTo(b,a))):!0};a._checkHitScrollRect=function(b,a){if(this._private_._scrollRect_&&0!=this._private_._scrollRect_.width&&0!=this._private_._scrollRect_.height){var g=this._private_._scrollRect_.clone();g.x=0;g.y=0;return g.containsPoint(c.HELPER_POINT.setTo(b,a))}return!0};a.hitTestObject=function(b){if(this.visible&&null!=this.parent&&null!=b&&null!=b.parent){var a=this.getBounds(Stage.stage);b=b.getBounds(Stage.stage);return a.intersects(b)}return!1};a.getRect=function(b){return this.getBounds(b)};a._getBounds_=function(b,a){a||(a=c.HELPER_RECTANGLET);c.HELPER_POINT.identity();return a.setTo(0,0,this._width_,this._height_)};a.getBounds=function(b,a){if(b==Stage.stage&&0==(this._type2_&4))return a?(a.copyFrom(this._bounds),a):this._bounds;null==a&&(a=new Rectangle);this._getBounds_(b,a);b!=this&&(b==this._parent_?c.HELPER_MATRIX.copy(this.matrix):Matrix.mul(c.HELPER_MATRIX,b._getInvertedConcatenatedMatrix(),this._getConcatenatedMatrix()),c.HELPER_MATRIX.transformBounds(a));b==Stage.stage&&(this._bounds.copyFrom(a),this._type2_&=-5);return a};a.getTransformMatrix=function(b,a){a?a.identity():a=new Matrix;if(b==this)return a;if(b==this.parent||null==b&&null==this.parent)return a.copy(this.matrix),a;if(null==b||b==this._root_)return a.copyFrom(this._getConcatenatedMatrix()),a;if(b.parent==this)return b.getTransformMatrix(this,a),a.invert(),a;Matrix.mul(a,b._getInvertedConcatenatedMatrix(),this._getConcatenatedMatrix());return a};a._getConcatenatedMatrix=function(b){void 0===b&&(b=!0);if(this._type2_&1){if(this._parent_)this._parent_._getConcatenatedMatrix().preMultiplyInto(this.matrix,this._concatenatedMatrix);else return this.matrix;1==b&&(this._invertedConcatenatedMatrix=this._concatenatedMatrix.clone(),this._invertedConcatenatedMatrix.invert());this._type2_&=-2}return this._concatenatedMatrix};a._getInvertedConcatenatedMatrix=function(){this._type2_&1&&(this._invertedConcatenatedMatrix=this._getConcatenatedMatrix(!1).clone(),this._invertedConcatenatedMatrix.invert(),this._type2_&=-2);return this._invertedConcatenatedMatrix.clone()};a._propagateFlagsDown_=function(b){this._type2_|=b};a.__addFrameTimer__=function(b){return Stage.stage._tmctr_.addFrameTimer(b,this)};a.__updatamask__=function(){this._mask_.getBounds(Stage.stage,c.HELPER_RECTANGLET);this._getInvertedConcatenatedMatrix().transformBounds(c.HELPER_RECTANGLET);var b=c.HELPER_RECTANGLET;b.x==this._private_.mask.x&&b.y==this._private_.mask.y&&b.width==this._private_.mask.width&&b.height==this._private_.mask.height||this._private_.mask.setRect(b.x,b.y,b.width,b.height)};a._addCMask=function(){var b=!0;if(this._private_.mask){for(var a=0,g=c.ConMasks.length;a<g;a++)this==c.ConMasks[a]&&(b=!1);b&&c.ConMasks.push(this)}};a._lyToBody_=function(){this._addCMask();this.dispatchEvent(new Event("addedToStage"))};a._dispatchAddedEvent=function(b){var a=new Event("added");a._lytarget=b;a.bubbles=!0;this.dispatchEvent(a)};a._removeCMask=function(){if(this._private_.mask)for(var b=0,a=c.ConMasks.length;b<a;b++)if(this==c.ConMasks[b]){c.ConMasks.splice(b,1);break}};a._lyUnToBody_=function(){this._removeCMask();this.dispatchEvent(new Event("removedFromStage"))};a.removeFromBody=function(){this._parent_=null};a._dispatchRemovedEvent=function(){this.dispatchEvent(new Event("removed",!0))};a.__dispatchEnterFrame__=function(b){b._currentTarget_=this;b._lytarget=this;this.dispatchEvent(b)};a.lyclone=LAYAFNVOID;a.setReadyForDrawCall=function(b,a){this._readyCallParam=a;this._readyCallBack=b;this.isReadyForDraw?this.readyDrawCallBack():this.setupReadyNoticeWork()};a.readyDrawCallBack=function(){null!=this._readyCallBack&&(this._readyCallBack.apply(this,this._readyCallParam),this._readyCallParam=this._readyCallBack=null)};a.setupReadyNoticeWork=function(b){void 0===b&&(b=!1);this.isReadyForDraw||(this._needNotice=b)};a.readyWork=function(){null!=this._readyCallBack&&this.readyDrawCallBack();this.noticeReadyToParent()};a.noticeReadyToParent=function(){if(this._needNotice){if(this._parent_)this._parent_.oneChildReady();this._needNotice=!1}};a.layaDestory=function(){this._modle_&&this._modle_.destroy();this._modle_=this._bounds=this._invertedConcatenatedMatrix=this._concatenatedMatrix=null};__getset(0,a,"_owidth_",function(){return this._width_/this.scaleX});__getset(0,a,"name",function(){return this._private_._name_||(this._private_._name_="instance"+this._id_)},function(b){this._private_._name_=b});__getset(0,a,"parent",function(){return this._parent_});__getset(0,a,"_oheight_",function(){return this._height_/this.scaleY});__getset(0,a,"y",function(){return this._top_},function(b){this._lyPos_(this._left_,b)});__getset(0,a,"__onmask__",null,function(b){this._private_.onmask&&(this._private_.onmask.deleted=!0);this._private_.onmask=this.__addFrameTimer__(b)});__getset(0,a,"height",function(){return this.matrix.transformBounds(this._getBounds_(this)).height},function(b){if(this._height_!=b){this.scaleY=1;var a=this.height;a&&(this.scaleY=b/a);this._height_!=b&&this.lySize(this._width_,b)}});__getset(0,a,"skewX",function(){return this._transform_._skew_.x},function(b){if(this._transform_==Transform.__DEFAULT__){if(0==b)return;this._transform_=(new Transform)._setNode_(this)}this._transform_._setSkewX_(b)});__getset(0,a,"width",function(){return this.matrix.transformBounds(this._getBounds_(this)).width},function(b){if(this._width_!=b){this.scaleX=1;var a=this.width;a&&(this.scaleX=b/a);this._width_!=b&&this.lySize(b,this._height_)}});__getset(0,a,"blendMode",function(){return this._blend_},function(b){switch(b){case "add":b="lighter";break;default:this._modle_.globalCompositeOperation(1);return}this._blend_!=b&&(this._blend_=b,this._modle_.globalCompositeOperation(2),0==(this._type_&65536)&&(DrawBlend.insertUnit(this),this._type_|=65536))});__getset(0,a,"skewY",function(){return this._transform_._skew_.y},function(b){if(this._transform_==Transform.__DEFAULT__){if(0==b)return;this._transform_=(new Transform)._setNode_(this)}this._transform_._setSkewY_(b)});__getset(0,a,"rotation",function(){return this._transform_._rotate_},function(b){if(this._transform_==Transform.__DEFAULT__){if(0==b)return;this._transform_=(new Transform)._setNode_(this)}this._transform_._setRotation_(b)});__getset(0,a,"scaleY",function(){return this._transform_._scale_.y},function(b){if(this._transform_==Transform.__DEFAULT__){if(1==b)return;this._transform_=(new Transform)._setNode_(this)}this._transform_._setScaleY_(b)});__getset(0,a,"rotationX",LAYAFN0,LAYAFNVOID);__getset(0,a,"transform",function(){return this._transform_==Transform.__DEFAULT__?this._transform_=(new Transform)._setNode_(this):this._transform_},function(b){(this._transform_=b)._setNode_(this)});__getset(0,a,"rotationY",LAYAFN0,LAYAFNVOID);__getset(0,a,"rotationZ",function(){return this.rotation},function(b){this.rotation=b});__getset(0,a,"scaleX",function(){return this._transform_._scale_.x},function(b){if(this._transform_==Transform.__DEFAULT__){if(1==b)return;this._transform_=(new Transform)._setNode_(this)}this._transform_._setScaleX_(b)});__getset(0,a,"scaleZ",LAYAFN0,LAYAFNVOID);__getset(0,a,"matrix",function(){return this._transform_!=Transform.__DEFAULT__?this._transform_.matrix:(this._transform_=new Transform)._setNode_(this).matrix},function(b){if(this._transform_==Transform.__DEFAULT__){if(!b.isTransform()){this._lyPos_(b.tx,b.ty);return}this._transform_=(new Transform)._setNode_(this)}this._transform_.matrix=b});__getset(0,a,"visible",function(){return 0!=(this._type_&1024)},function(b){this._type_=b?this._type_|1024:this._type_&-1025;this._modle_.show(b)});__getset(0,a,"x",function(){return this._left_},function(b){this._lyPos_(b,this._top_)});__getset(0,a,"z",LAYAFN0,LAYAFNVOID);__getset(0,a,"alpha",function(){return this._Filters_._alpha_},function(b){this._Filters_._alpha_!=b&&(this._Filters_!=Filters.__DEFAULT__?this._Filters_.alpha(this,b):(this._Filters_=new Filters).alpha(this,b))});__getset(0,a,"mouseX",function(){c.HELPER_POINT.setTo(Laya.document.mouseX,Laya.document.mouseY);this.globalToLocal(c.HELPER_POINT,c.HELPER_POINT_ALT);return c.HELPER_POINT_ALT.x});__getset(0,a,"mouseY",function(){c.HELPER_POINT.setTo(Laya.document.mouseX,Laya.document.mouseY);this.globalToLocal(c.HELPER_POINT,c.HELPER_POINT_ALT);return c.HELPER_POINT_ALT.y});__getset(0,a,"loaderInfo",function(){return LoaderInfo.getLoaderInfo(this.__id__)});__getset(0,a,"_root_",function(){for(var b=this;b&&b.parent;)b=b.parent;return b});__getset(0,a,"root",function(){for(var b=this;b&&b.parent&&b.parent!=Stage.stage;)b=b.parent;return b});__getset(0,a,"stage",function(){return this._root_==Stage.stage?Stage.stage:null});__getset(0,a,"scrollRect",function(){return this._private_._scrollRect_},function(b){b?(this._private_._scrollRect_=this._private_._scrollRect_||new Rectangle,this._private_._scrollRect_.setTo(b.x,b.y,b.width,b.height),0==(this._type_&2)&&(DrawClip.insertUnit(this),this._type_|=2),Laya.CONCHVER&&(this._modle_.clip(!0),this._modle_.scroll(-b.x,-b.y),this._modle_.size(b.width,b.height))):(this._private_._scrollRect_=null,this._modle_.clip(!1),this._modle_.scroll(0,0))});__getset(0,a,"scale9Grid",LAYAFNNULL,LAYAFNVOID);__getset(0,a,"filters",LAYAFNNULL,LAYAFNVOID);__getset(0,a,"mask",function(){return this._mask_},function(b){if(b){for(var a=!1,g=b.parent;g;){if(this==g){a=!0;break}g=g.parent}this._mask_=b;this._mask_.visible=!1;a?0==(this._type_&32768)&&DrawMaskC.insertUnit(this):0==(this._type_&32768)&&DrawMask.insertUnit(this);0==(this._type_&32768)&&(this._type_|=32768);Laya.CONCHVER&&(b=this._private_.mask||new Browser.window._ConchMask,b.setType(1),this._modle_.mask(b),this._private_.mask||c.ConMasks.push(this),this._private_.mask=b)}else this._mask_&&(this._mask_.visible=!0,this._mask_=null,this._type_&=-32769,this._removeCMask(),this._private_.mask=null,this._modle_.mask(null))});__getset(0,a,"_to_sort_d",function(){return this._sort_d_=this.zIndex/1E5});__getset(0,a,"zIndex",function(){return this._zIndex_},function(b){this._zIndex_=b;this._modle_.zIndex(b)});__getset(0,a,"cacheAsBitmap",LAYAFNFALSE,LAYAFNVOID);__getset(0,a,"isReadyForDraw",function(){return!0});c.sendMask=function(){for(var b=0,a=c.ConMasks.length;b<a;b++)c.ConMasks[b].__updatamask__()};c.ConMasks=[];c.TYPE_IFLASH=4194304;c.TYPE2_DRAW_MASK=0;c.TYPE2_DRAW_TANSFORM=1;c.TYPE2_DRAW_FILTER=2;c.TYPE2_DRAW_BACKGROUND=32;c.TYPE2_DRAW_CLIP=256;c.TYPE2_DRAW_MASKC=512;c.TYPE2_DRAW_CHILDS=2048;c.TYPE2DEFAULT=0;c.TYPE_CLIP=2;c.TYPE_DRAWSHAP=4;c.TYPE_DRAWCHILD=8;c.TYPE_CREATE_FROM_TAG=16;c.TYPE_MOUSE_CHILDREN=32;c.TYPE_MOUSE_ENABLE=64;c.TYPE_USEHANDCURSOR=128;c.TYPE_MOUSE_DBCLICK_ENABLE=256;c.TYPE_IS_RECT_CHANGE=512;c.TYPE_IS_VISIBLE=1024;c.TYPE_IS_LOAD=2048;c.TYPE_DRAW_BIMAP_DATA=4096;c.TYPE_DRAW_IMAGEELEMENT=8192;c.TYPE_CHILDREN_SORT=16384;c.TYPE_MASK=32768;c.TYPE_BLEND=65536;c.TYPE_MATRIX_CHG=131072;c.TYPE2_CONCATENATEDMATRIX_CHG=1;c.TYPE2_BOUNDS_CHG=4;c.TYPE2_RECT_CHG=2;c.initModule=!0;__static(c,["HELPER_MATRIX",function(){return this.HELPER_MATRIX=new Matrix},"HELPER_MATRIX_ALT",function(){return this.HELPER_MATRIX_ALT=new Matrix},"HELPER_POINT",function(){return this.HELPER_POINT=new Point},"HELPER_POINT_ALT",function(){return this.HELPER_POINT_ALT=new Point},"HELPER_RECTANGLET",function(){return this.HELPER_RECTANGLET=new Rectangle},"HELPER_RECTANGLET_ALT",function(){return this.HELPER_RECTANGLET_ALT=new Rectangle}]);return c}(EventDispatcher),LoaderInfo=function(a){function c(){this._actionScriptVersion_=1;this._sameDomain_=!1;this._contentType="";this._bytes=this._applicationDomain=null;this._bytesTotal=this._bytesLoaded=0;this._childAllowsParent=!1;this.__content__=null;this._height=this._frameRate=0;this._isURLInaccessible=!1;this._loaderURL=this._loader=null;this._lyurl="";this._parameters=null;this._parentAllowsChild=!1;this._width=this._swfVersion=0;this._reDomain_=this._resourceDic_=this.objInfo=null;this.__id__=0;this.__fileurl=this.__imageUrl__="";this._nextid_=0;this._uncaughtErrorEvents=this.onerror=this.onload=null;this.temp=[];this.argData=this.config=null;this.countAsset=this.pr=0;c.__super.call(this);this._resourceDic_=[];this.objInfo=[];this._applicationDomain=new ApplicationDomain;this._applicationDomain._parentDomain_=ApplicationDomain.currentDomain}__class(c,"iflash.display.LoaderInfo",!1,a);a=c.prototype;a.deleteResourceDic=function(){this._resourceDic_=null};a.deleteLoader=function(){for(var b in c._loaderInfos_)delete c._loaderInfos_[b];c._loaderInfos_=null};a.pushSymbolClass=function(b,a){this._resourceDic_[b]=a};a.pushResource=function(b,a){this._resourceDic_[a]=b};a.getResource=function(b){return this._resourceDic_[b]};a.cloneByName=function(b){return this.getResource(b).data.clone()};a.getBitmapData=function(b,a,c,e){return new LyImageElement};a.onUrlLoaderComplete=function(b){var a=b.target.data;a.position=0;var c=new ByteArray;a.readUTF();a.readUTF();a.readBytes(c,0,0);this.setByteArray(c);b.target.removeEventListener("complete",__bind(this,this.onUrlLoaderComplete));b.target.removeEventListener("ioError",__bind(this,this.onUrlError))};a.onUrlError=function(b){Log.log(b.toString())};a.setUrl=function(b){this.lyurl=Method.formatUrl(b);-1!=this.lyurl.lastIndexOf(".swf")?this.__imageUrl__=this.lyurl.substr(0,this.lyurl.lastIndexOf(".swf"))+"/image/":this.__imageUrl__=this.lyurl+"/image/"};a.saveObjInfo=function(b,a){b&&(this.objInfo[b]=a)};a.getObjInfo=function(b){return b?this.objInfo[b]:null};a._getEvents_=function(b){this._eventListener_=b._eventListener_};a._comp_=LAYAFNVOID;a.readversion=function(b){var a;a=""+b.readByte().toString();a+=b.readByte().toString();a+=b.readByte().toString();return a+=b.readByte().toString()};a.setByteArray=function(b){if("0001"<this.readversion(b)){var a=b.readObject();this.config=a.assets;this.argData=a.tagInfo}a=new Runnner;a.compile(b,this);a.getSysbomData(this);this.complete();a.deleteLoaderInfo()};a.complete=function(){this.putResInDomain();Runnner.symbolClass.length=0;if(this.argData)for(var b in this.argData)for(var a in this.argData[b]){var c=this.argData[b][a];this.getResource(b)[a]=c}this.mainClass?(b=iflash.utils.getDefinitionByName(this.mainClass))?b=new b:(b=this.getResource("32767"),(b=b.lyclone())&&b.gotoAndStop(1)):(b=this.getResource("32767"),(b=b.lyclone())&&b.gotoAndStop(1));this.__content__=b;if(!this.__fileurl)for(b=0;b<Loader.preSwf.length;b++)if(-1!=(this._lyurl+".swf").lastIndexOf(Loader.preSwf[b])){this.temp.length&&this.checkHandler();return}-1!=Loader.preSwf.indexOf(this.__fileurl)?this.temp.length?this.checkHandler():iflash.utils.setTimeout(__bind(this,this.__finish),.001):iflash.utils.setTimeout(__bind(this,this.__finish),.001)};a.checkHandler=function(){for(var b,a=0;a<this.temp.length;a++)b=this.temp[a],b.checkImg(),b._image_.onload=iflash.method.bind(this,this.onPreComplete),b._image_.onerror=iflash.method.bind(this,this.onPreComplete),b._image_.src=b.src};a.onPreComplete=function(b){this.pr++;this.pr>=this.temp.length&&(iflash.utils.setTimeout(__bind(this,this.__finish),.001),this.temp.length=0)};a.__finish=function(){this.temp.length=0;if(this.config&&this.config.textureList&&this.config.textureList.length){this.countAsset=this.config.textureList.length;var b=Browser.document.createElement("image");b.onload=iflash.method.bind(this,this.onLoadHandler);var a=this.__imageUrl__+"a"+this.countAsset+".png";b.src=a;TextureManager.getInstance().addTexture(a,b)}else this.onload&&this.onload()};a.onLoadHandler=function(){this.countAsset--;if(this.countAsset){var b=Browser.document.createElement("image");b.onload=iflash.method.bind(this,this.onLoadHandler);var a=this.__imageUrl__+"a"+this.countAsset+".png";b.src=a;TextureManager.getInstance().addTexture(a,b)}else this.onload&&this.onload()};a.putResInDomain=function(){if(this._reDomain_)for(var b in this.applicationDomain._resMapDic_)this._reDomain_.addResToMap(b,this.applicationDomain._resMapDic_[b])};__getset(0,a,"actionScriptVersion",function(){return this._actionScriptVersion_},function(b){this._actionScriptVersion_=b});__getset(0,a,"bytesLoaded",function(){return this._bytesLoaded},function(b){this._bytesLoaded=b});__getset(0,a,"width",function(){return this._width},function(b){this._width=b});__getset(0,a,"applicationDomain",function(){return this.__id__?this._applicationDomain:ApplicationDomain.currentDomain});__getset(0,a,"bytes",function(){return this._bytes},function(b){this._bytes=b});__getset(0,a,"content",function(){return this.__content__});__getset(0,a,"bytesTotal",function(){return this._bytesTotal},function(b){this._bytesTotal=b});__getset(0,a,"childAllowsParent",function(){return this._childAllowsParent},function(b){this._childAllowsParent=b});__getset(0,a,"contentType",function(){return this._contentType});__getset(0,a,"frameRate",function(){return this._frameRate},function(b){this._frameRate=b});__getset(0,a,"height",function(){return this._height},function(b){this._height=b});__getset(0,a,"isURLInaccessible",function(){return this._isURLInaccessible},function(b){this._isURLInaccessible=b});__getset(0,a,"loader",function(){null==this._loader&&(this._loader=new Loader);return this._loader},function(b){this._loader=b});__getset(0,a,"sharedEvents",LAYAFNNULL);__getset(0,a,"loaderURL",function(){return this._loaderURL},function(b){this._loaderURL=b});__getset(0,a,"parameters",function(){return this._parameters},function(b){this._parameters=b});__getset(0,a,"parentAllowsChild",function(){return this._parentAllowsChild},function(b){this._parentAllowsChild=b});__getset(0,a,"sameDomain",function(){return this._sameDomain_});__getset(0,a,"swfVersion",function(){return this._swfVersion},function(b){this._swfVersion=b});__getset(0,a,"lyurl",function(){return this._lyurl},function(b){this._lyurl=b});__getset(0,a,"url",function(){return this.lyurl});__getset(0,a,"src",function(){return this.lyurl},function(b){this.lyurl=b=Method.formatUrl(b,Laya.document.baseURI.path);-1!=this.lyurl.lastIndexOf(".swf")&&(this.__imageUrl__=this.lyurl.substr(0,this.lyurl.lastIndexOf(".swf"))+"/image/");var a=new URLLoader;a.dataFormat="binary";a.addEventListener("complete",__bind(this,this.onUrlLoaderComplete));a.addEventListener("ioError",__bind(this,this.onUrlError));a.load(new URLRequest(b))});__getset(0,a,"uncaughtErrorEvents",function(){return this._uncaughtErrorEvents=this._uncaughtErrorEvents||new UncaughtErrorEvents});__getset(1,c,"currentLoadInfo",function(){c.__currentLoaderInfo__||(c.__currentLoaderInfo__=new c);return c.__currentLoaderInfo__},iflash.events.EventDispatcher._$SET_currentLoadInfo);c.getLoaderInfoByDefinition=function(b){return b};c.create=function(b){var a=new c;a.__id__=b;a.applicationDomain.__id__=b;return c._loaderInfos_[b]=a};c.getLoaderInfo=function(b){return 0==b?c.currentLoadInfo:c._loaderInfos_[b]};c.__currentLoaderInfo__=null;c._loaderInfos_={};c.minibitmapData=null;c.TextureSign="a";return c}(EventDispatcher),NativeMenu=function(a){function c(){c.__super.call(this)}__class(c,"iflash.display.NativeMenu",!1,a);return c}(EventDispatcher),NativeMenuItem=function(a){function c(){c.__super.call(this)}__class(c,"iflash.display.NativeMenuItem",!1,a);__getset(0,c.prototype,"enabled",LAYAFNFALSE,LAYAFNVOID);return c}(EventDispatcher),Stage3D=function(a){function c(){this.context3D=null;this._y=this._x=0;this._visible=!0;c.__super.call(this)}__class(c,"iflash.display.Stage3D",!1,a);a=c.prototype;a.requestContext3D=function(b,a){iflash.utils.setTimeout(__bind(this,this.onCreateContext),1E3)};a.onCreateContext=function(b){this.context3D=new Context3D;this.context3D.webglContext=Laya.document.canvas3D.context3D;b=new iflash.events.Event("context3DCreate");this.context3D.webglContext.enableErrorChecking=!0;this.dispatchEvent(b)};__getset(0,a,"visible",function(){return this._visible},function(b){this._visible=b});__getset(0,a,"x",function(){return this._x},function(b){this._x=b});__getset(0,a,"y",function(){return this._y},function(b){this._y=b});return c}(EventDispatcher),BDBS=function(a){function c(b,a,g,e){void 0===g&&(g=!0);void 0===e&&(e=4294967295);b=this.__data__;a=b.miniBitmapData;c.__super.call(this,b?b.width:1,b?b.height:1,g,e);b&&(a._canvas_||a.draw(LoaderInfo.minibitmapData,Matrix.__DEFAULT__,null,null,new Rectangle(0,0,b.width,b.height)),this._canvas_=a._canvas_.clone(),b._init_(),b._lyToBody_(),this.width=b.width,this.height=b.height,this._canvas_.size(b.width,b.height))}__class(c,"iflash.display.swf.classs.BDBS",!1,a);return c}(BitmapData),DrawBitmapData=function(a){function c(){c.__super.call(this)}__class(c,"iflash.display.plug.DrawBitmapData",!1,a);a=c.prototype;a.clone=function(b){return new c};a.paint=function(b,a,c,e,f,h){var k=e.bitmapData;k&&k.paint&&k.paint.call(k,b,a,c,f,h);this.next&&this.next.paint(b,a,c,e,f,h)};__getset(0,a,"place",function(){return 4096});__getset(0,a,"id",function(){return 4096});c._DEFAULT_=new c;c._cache_=[];return c}(DisplayUnit),DrawBlend=function(a){function c(){c.__super.call(this)}__class(c,"iflash.display.plug.DrawBlend",!1,a);a=c.prototype;a.clone=function(b){return new c};a.paint=function(b,a,c,e,f,h){var k=e._blend_;k?(b.save(),b.globalCompositeOperation=k,this.next&&this.next.paint(b,a,c,e,f,h),b.restore()):this.next&&this.next.paint(b,a,c,e,f,h)};__getset(0,a,"place",function(){return 1});__getset(0,a,"id",function(){return 1});c.insertUnit=function(b){return DisplayUnit._insertUnit_(b,c._DEFAULT_)};c._DEFAULT_=new c;return c}(DisplayUnit),DrawChilds=function(a){function c(b){c.__super.call(this)}__class(c,"iflash.display.plug.DrawChilds",!1,a);a=c.prototype;a.clone=function(b){return new c(b)};a.paint=function(b,a,c,e,f,h){e._type_&16&&e.sortChildsByZIndex();var k=0,l=0,m,n;if(0<(k=(n=e._childs_).length))for(l=0;l<k;l++)null!=(m=n[l])&&m._type_&1024&&m.alpha&&(e.updateScaleData(l),m._lyPaint_(b,a,c));this.next&&this.next.paint(b,a,c,e,f,h)};__getset(0,a,"place",function(){return 2048});__getset(0,a,"id",function(){return 2048});c.insertUnit=function(b){return DisplayUnit._insertUnit_(b,c._DEFAULT_)};c._DEFAULT_=new c(null);return c}(DisplayUnit),DrawClip=function(a){function c(b){c.__super.call(this)}__class(c,"iflash.display.plug.DrawClip",!1,a);a=c.prototype;a.clone=function(b){return new c(b)};a.paint=function(b,a,c,e,f,h){if(e._private_._scrollRect_){var k=e._private_._scrollRect_;b.save();b.beginPath();b.rect(a,c,k.width,k.height);b.clip();this.next&&this.next.paint(b,a-k.x,c-k.y,e,f,h);b.restore()}else this.next&&this.next.paint(b,a,c,e,f,h)};__getset(0,a,"place",function(){return 256});__getset(0,a,"id",function(){return 256});c.insertUnit=function(b){return DisplayUnit._insertUnit_(b,c._DEFAULT_)};c._DEFAULT_=new c(null);return c}(DisplayUnit),DrawGraphics=function(a){function c(){c.__super.call(this)}__class(c,"iflash.display.plug.DrawGraphics",!1,a);a=c.prototype;a.clone=function(b){return new c};a.paint=function(b,a,c,e,f,h){var k=e.graphics;k.isReady()&&k._canvas_.paint(b,a,c,e._owidth_,e._oheight_);this.next&&this.next.paint(b,a,c,e,f,h)};__getset(0,a,"place",function(){return 768});__getset(0,a,"id",function(){return 768});c.insertUnit=function(b){return DisplayUnit._insertUnit_(b,c._DEFAULT_)};c._DEFAULT_=new c;return c}(DisplayUnit),DrawGridImageElement=function(a){function c(b){c.__super.call(this)}__class(c,"iflash.display.plug.DrawGridImageElement",!1,a);a=c.prototype;a.clone=function(b){return new DrawImageElement(b)};a.paint=function(b,a,c,e,f,h){var k=e.miniBitmapData;k&&k.paint&&k.paint.call(k,b,a,c,f,h);++Laya.document.drawCount;this.next&&this.next.paint(b,a,c,e,f,h)};__getset(0,a,"place",function(){return 2048});__getset(0,a,"id",function(){return 2048});c.insertUnit=function(b){return DisplayUnit._insertUnit_(b,c._DEFAULT_)};__static(c,["_DEFAULT_",function(){return this._DEFAULT_=new DrawImageElement(null)}]);return c}(DisplayUnit),DrawImageElement=function(a){function c(b){c.__super.call(this)}__class(c,"iflash.display.plug.DrawImageElement",!1,a);a=c.prototype;a.clone=function(b){return new c(b)};a.paint=function(b,a,c,e,f,h){f=0>f?0:f;h=0>h?0:h;var k=e._image_;if(e.scale9Data&&e.arrX)for(var l=e.arrX,m=e.arrY,n=e.arrW,p=e.arrH,q=e.oArrX,r=e.oArrY,v=e.oArrW,t=e.oArrH,u=0;3>u;u++)for(var w=0;3>w;w++){var x=q[u][w],z=r[u][w],A=v[u][w],y=t[u][w],C=l[u][w],E=m[u][w],D=n[u][w],F=p[u][w];0>=A||0>=y||0>=D||0>=F||(e.isTexture()?b.drawImage(e.texture,x+e.assetConfig.x,z+e.assetConfig.y,A,y,C+a,E+c,D,F):k.isReady()&&b.drawImage(k,x,z,A,y,C+a,E+c,D,F))}else e.isTexture()?(k=e.assetConfig,b.drawImage(e.texture,k.x,k.y,k.width,k.height,a,c,f,h)):k.isReady()&&b.drawImage(k,a,c,f,h);++Laya.document.drawCount;this.next&&this.next.paint(b,a,c,e,f,h)};__getset(0,a,"place",function(){return 2048});__getset(0,a,"id",function(){return 2048});c.insertUnit=function(b){return DisplayUnit._insertUnit_(b,c._DEFAULT_)};c._DEFAULT_=new c(null);return c}(DisplayUnit),DrawMask=function(a){function c(b){c.__super.call(this)}__class(c,"iflash.display.plug.DrawMask",!1,a);a=c.prototype;a.clone=function(b){return new c(b)};a.paint=function(b,a,g,e,f,h){e.parent&&e._mask_?(e._mask_.getBounds(Stage.stage,c.HELPER_RECTANGLET),e._getInvertedConcatenatedMatrix().transformBounds(c.HELPER_RECTANGLET),b.save(),b.beginPath(),b.rect(a+c.HELPER_RECTANGLET.x,g+c.HELPER_RECTANGLET.y,c.HELPER_RECTANGLET.width,c.HELPER_RECTANGLET.height),b.clip(),this.next&&this.next.paint(b,a,g,e,f,h),b.restore()):this.next&&this.next.paint(b,a,g,e,f,h)};__getset(0,a,"place",function(){return 0});__getset(0,a,"id",function(){return 0});c.insertUnit=function(b){return DisplayUnit._insertUnit_(b,c._DEFAULT_)};c._DEFAULT_=new c(null);__static(c,["HELPER_RECTANGLET",function(){return this.HELPER_RECTANGLET=new Rectangle}]);return c}(DisplayUnit),DrawMaskC=function(a){function c(b){c.__super.call(this)}__class(c,"iflash.display.plug.DrawMaskC",!1,a);a=c.prototype;a.clone=function(b){return new c(b)};a.paint=function(b,a,g,e,f,h){e.parent&&e._mask_?(e._mask_.getBounds(Stage.stage,c.HELPER_RECTANGLET),e._getInvertedConcatenatedMatrix().transformBounds(c.HELPER_RECTANGLET),b.save(),b.beginPath(),b.rect(a+c.HELPER_RECTANGLET.x,g+c.HELPER_RECTANGLET.y,c.HELPER_RECTANGLET.width,c.HELPER_RECTANGLET.height),b.clip(),this.next&&this.next.paint(b,a,g,e,f,h),b.restore()):this.next&&this.next.paint(b,a,g,e,f,h)};__getset(0,a,"place",function(){return 512});__getset(0,a,"id",function(){return 512});c.insertUnit=function(b){return DisplayUnit._insertUnit_(b,c._DEFAULT_)};c._DEFAULT_=new c(null);__static(c,["HELPER_RECTANGLET",function(){return this.HELPER_RECTANGLET=new Rectangle}]);return c}(DisplayUnit),DrawShape=function(a){function c(b){c.__super.call(this)}__class(c,"iflash.display.plug.DrawShape",!1,a);a=c.prototype;a.clone=function(b){return new c(b)};a.paint=function(b,a,c,e,f,h){var k=e._image_;k&&k._lyPaint_(b,a,c);this.next&&this.next.paint(b,a,c,e,f,h)};__getset(0,a,"place",function(){return 2048});__getset(0,a,"id",function(){return 2048});c.insertUnit=function(b){return DisplayUnit._insertUnit_(b,c._DEFAULT_)};c._DEFAULT_=new c(null);return c}(DisplayUnit),DrawText=function(a){function c(){this.line=null;c.__super.call(this)}__class(c,"iflash.display.plug.DrawText",!1,a);a=c.prototype;a.clone=function(b){return new c};a.paint=function(b,a,g,e,f,h){b.save();c.drawBG(b,a,g,e);e.drawCaret&&c.caret.x<1+e.viewport[0]+e.viewport[2]&&this.drawCaret(b,e,a,g);b.beginPath();b.rect(a+2,g,e.viewport[2]-2-2,e.viewport[3]);b.clip();c.printText(e,b,a,g);b.closePath();b.restore()};a.drawCaret=function(b,a,g,e){c.caret.count++;25>c.caret.count?(b.strokeStyle=c.caret.color,b.lineWidth=1,b.beginPath(),b.moveTo(c.caret.x+g-a.viewport[0],c.caret.y+e-a.viewport[1]),b.lineTo(c.caret.x+g-a.viewport[0],c.caret.y+c.caret.height+e-a.viewport[1]),b.stroke()):50<c.caret.count&&(c.caret.count=0)};__getset(0,a,"place",function(){return 2048});__getset(0,a,"id",function(){return 2048});c.insertUnit=function(b){return DisplayUnit._insertUnit_(b,c._DEFAULT_)};c.drawBG=function(b,a,c,e){var f=e.viewport[2],h=e.viewport[3];e.background&&(b.fillStyle=e._backgroundColor,b.fillRect(a,c,f,h));e.border&&(b.strokeStyle=e._borderColor,b.strokeRect(a,c,f,h))};c.printText=function(b,a,g,e){if(Driver.enableTouch()||!b._inputting)for(var f=b.nodes.length,h=0;h<f;h++){var k=b.nodes.getElem(h);a.font=k.font;a.textBaseline="top";a.fillStyle=k.fillStyle;if(k.letterSpacing)for(var l=k.text.length,m=0;m<l;m++)b.strokeColor&&c.strokeText(k.text.charAt(m),b.strokeColor,b.strokeThickness,a,g+k.lettersX[m]-b.viewport[0],k.y+e-b.viewport[1]),a.fillText(k.text.charAt(m),g+k.lettersX[m]-b.viewport[0],k.y+e-b.viewport[1]);else b.strokeColor&&c.strokeText(k.text,b.strokeColor,b.strokeThickness,a,k.x+g-b.viewport[0],k.y+e-b.viewport[1]),a.fillText(k.text,k.x+g-b.viewport[0],k.y+e-b.viewport[1]);Laya.CONCHVER||0==k.underlineWidth||c.drawUnderline(a,k,g,e-b.viewport[1])}};c.strokeText=function(b,a,c,e,f,h){e.strokeStyle=a;e.lineWidth=c;e.lineCap="round";e.strokeText(b,f,h)};c.drawUnderline=function(b,a,c,e){b.lineWidth=1;b.strokeStyle=a.fillStyle;b.beginPath();b.moveTo(c+a.x,e+a.underlineY);b.lineTo(c+a.underlineWidth+a.x,e+a.underlineY);b.closePath();b.stroke()};c.drawBullet=function(b,a,c){};c._DEFAULT_=new c;c.caret={};return c}(DisplayUnit),DrawTransform=function(a){function c(b){c.__super.call(this)}__class(c,"iflash.display.plug.DrawTransform",!1,a);a=c.prototype;a.clone=function(b){return new c(b)};a.paint=function(b,a,c,e,f,h){var k=e._transform_.matrix;k&&k.isTransform()?(b.save(),a-=e._left_,c-=e._top_,0!=a||0!=c?(b.translate(a,c),b.transform(k.a,k.b,k.c,k.d,k.tx,k.ty),b.translate(-a,-c)):b.transform(k.a,k.b,k.c,k.d,k.tx,k.ty),this.next&&this.next.paint(b,a,c,e,f,h),b.restore()):this.next&&this.next.paint(b,a,c,e,f,h)};__getset(0,a,"place",function(){return 1});__getset(0,a,"id",function(){return 1});c.insertUnit=function(b){return DisplayUnit._insertUnit_(b,c._DEFAULT_)};c._DEFAULT_=new c(null);return c}(DisplayUnit),UseFilter=function(a){function c(b){c.__super.call(this)}__class(c,"iflash.display.plug.UseFilter",!1,a);a=c.prototype;a.clone=function(b){return new c(b)};a.paint=function(b,a,c,e,f,h){var k=e._Filters_,l=NaN;.01>k._alpha_&&0==k.key||!this.next||(1==k._alpha_?this.next.paint(b,a,c,e,f,h):(l=b.globalAlpha,b.globalAlpha=k._alpha_,this.next.paint(b,a,c,e,f,h),b.globalAlpha=l))};__getset(0,a,"place",function(){return 2});__getset(0,a,"id",function(){return 2});c.insertUnit=function(b){return DisplayUnit._insertUnit_(b,c._DEFAULT_)};c._DEFAULT_=new c(null);return c}(DisplayUnit),FileReference=function(a){function c(){c.__super.call(this)}__class(c,"iflash.net.FileReference",!1,a);a=c.prototype;a.browse=LAYAFNFALSE;a.cancel=LAYAFNVOID;a.download=LAYAFNVOID;a.load=function(){};a.save=LAYAFNVOID;a.upload=function(b,a,c){};__getset(0,a,"creationDate",LAYAFNNULL);__getset(0,a,"name",LAYAFNSTR);__getset(0,a,"size",LAYAFN0);__getset(0,a,"creator",LAYAFNSTR);__getset(0,a,"modificationDate",LAYAFNNULL);__getset(0,a,"data",LAYAFNNULL);__getset(0,a,"type",LAYAFNSTR);return c}(EventDispatcher),FileStream=function(a){function c(){this._endian=null;this._objectEncoding=0;this._readAhead=this._position=NaN;this.fileMode=this.file=this.fileBytes=this.urlLoader=null;c.__super.call(this)}__class(c,"iflash.filesystem.FileStream",!1,a);a=c.prototype;a.open=function(b,a){this.file=b;this.fileMode=a;if("read"==a)b._isApplicationStorageDirectory?FileStorage.instance.getFile(b.url):b._isApplicationDirectory||(this.urlLoader=new URLLoader,this.urlLoader.dataFormat="binary",this.urlLoader.addEventListener("complete",__bind(this,this.onLoadComplete)),this.urlLoader.addEventListener("ioError",__bind(this,this.onIOError)),this.urlLoader.addEventListener("progress",__bind(this,this.onLoadProgress)),this.urlLoader.load(new URLRequest(b.url)));else if("write"==a){if(!b._isApplicationStorageDirectory)throw Error("only local file can be writed!");this.fileBytes=FileStorage.instance.getBinaryFile(b.url)}};a.close=function(){var b=this.fileBytes.position;this.fileBytes.position=0;FileStorage.instance.fileWrite(this.file.url.replace("app-storage:/",""),this.fileBytes.readMultiByte(b,"utf8"));this.fileBytes.position=b};a.openAsync=function(b,a){this.file=b;this.fileMode=a;this.urlLoader=new URLLoader;this.urlLoader.dataFormat="binary";this.urlLoader.addEventListener("complete",__bind(this,this.onLoadComplete));this.urlLoader.addEventListener("ioError",__bind(this,this.onIOError));this.urlLoader.addEventListener("progress",__bind(this,this.onLoadProgress));this.urlLoader.load(new URLRequest(b.nativePath))};a.onIOError=function(b){this.dispatchEvent(b)};a.onLoadComplete=function(b){this.urlLoader.data instanceof iflash.utils.ByteArray&&(this.fileBytes=new ByteArray,this.fileBytes.writeBytes(this.urlLoader.data,0,this.urlLoader.data.bytesAvailable),this.fileBytes.position=0);this.dispatchEvent(b)};a.onLoadProgress=function(b){this.dispatchEvent(b)};a.readBytes=function(b,a,c){void 0===c&&(c=0);if(c>this.fileBytes.bytesAvailable)throw Error("no enough data to be read!");return this.fileBytes.readBytes(b,0,c)};a.readUTFBytes=function(b){if(b>this.fileBytes.bytesAvailable)throw Error("no enough data to be read!");return this.fileBytes.readUTFBytes(b)};a.writeBytes=function(b,a,c){void 0===a&&(a=0);void 0===c&&(c=0);this.fileBytes.writeBytes(b,a,c)};a.writeMultiByte=function(b,a){this.fileBytes.writeMultiByte(b,a)};a.writeUTFBytes=function(b){this.fileBytes.writeUTFBytes(b)};__getset(0,a,"bytesAvailable",function(){return this.fileBytes?this.fileBytes.bytesAvailable:0});__getset(0,a,"readAhead",function(){return this._readAhead},function(b){this._readAhead=b});__getset(0,a,"position",function(){return this.fileBytes.position},function(b){this.fileBytes.position=b});__getset(0,a,"endian",function(){return this._endian},function(b){this._endian=b});__getset(0,a,"objectEncoding",function(){return this._objectEncoding},function(b){this._objectEncoding=b});return c}(EventDispatcher),Document2=function(a){function c(){this._element_class_map_=[];this._text_id_=[];this.canvas3D=this.canvas=this._baseURI_=null;this.styleSheets=[];this.body=this.all=this.activeElement=null;this.mouseY=this.mouseX=NaN;this.onkeyup=this.onkeydown=null;this.drawObjectCount=this.drawCount=0;this.adapter=null;this._strDebugMsg_="";c.__super.call(this);var b=this;this.mouseY=this.mouseX=0;Laya.document=Laya.window.document=EventDispatcher.document=this;this.canvas=Browser._createRootCanvas_();Laya.ENABLE3D&&this.enableWebGL();this.all=[];this.baseURI=new URI(EventDispatcher.window.location.href);EventDispatcher.window.lyAddEventListener("resize",function(a){90==EventDispatcher.document.adapter.screenRotate?b.canvas&&b.canvas.size(EventDispatcher.window.innerHeight,EventDispatcher.window.innerWidth):b.canvas&&b.canvas.size(EventDispatcher.window.innerWidth,EventDispatcher.window.innerHeight)})}__class(c,"iflash.laya.dom.Document",!1,a,"Document2");a=c.prototype;a.enableWebGL=function(){if(this.canvas3D)return this.canvas3D;Canvas._bIs3D=!0;this.canvas3D=Browser._createWebGLCanvas_();Canvas._bIs3D=!1;return this.canvas3D};a.render=function(){if(this.canvas.context&&this.canvas){this._repaint_=this.drawCount=this.drawObjectCount=0;this.canvas.context.textBaseline="top";this.canvas.context.clearRect(0,0,this.canvas.width,this.canvas.height);this.canvas.context.save();0!=this.adapter.screenRotate&&(this.canvas.context.translate(EventDispatcher.window.innerHeight,0),this.canvas.context.rotate(this.adapter.screenRotate*Math.PI/180));Laya.RENDERBYCANVAS&&this.body._lyPaint_(this.canvas.context,0,0);0==EventDispatcher.window.updatecount%6&&(EventDispatcher.window.fps=Laya.__parseInt(1E3/EventDispatcher.window.delay[0]*10+"")/10);this.canvas.context.restore();if(!(1<Laya.FLASHVER||!Laya.config.showInfo||Laya.CONCHVER)){var b=this.canvas.context;b.font="normal 100 12px Arial";0==EventDispatcher.window.updatecount%1&&(this._strDebugMsg_="FPS:"+EventDispatcher.window.fps+"/"+Browser.frameRate+" draw:"+this.drawObjectCount+"/"+this.drawCount+" "+EventDispatcher.window.updatecount+" "+Browser.window.innerWidth+"/"+Browser.window.innerHeight);b.fillStyle="#000000";b.fillText(this._strDebugMsg_,this.body._left_+9,this.body._top_+17);b.fillStyle="#000000";b.fillText(this._strDebugMsg_,this.body._left_+11,this.body._top_+19);b.fillStyle="#FFFF00";b.fillText(this._strDebugMsg_,this.body._left_+10,this.body._top_+18)}this.canvas.context.restore()}};a.setOrientationEx=function(b){"number"==typeof b&&Math.floor(b)==b&&(b=0==b?"portrait":"rotator");this.adapter.autorotate!=b&&(this.adapter.autorotate=b,EventDispatcher.window.resizeTo(EventDispatcher.window.innerWidth,EventDispatcher.window.innerHeight,!0))};a.init=function(){this.adapter=new DocumentAdapter;(0==Laya.CONCHVER||Laya.RENDERBYCANVAS)&&null!=Laya.process&&Laya.process.setRootNode(Stage.stage._modle_)};a.size=function(b,a){Stage.stage.width=b;Stage.stage.height=a;EventDispatcher.window.lyDispatchEvent("resize")};a.getNodeRegClass=function(b){return this._element_class_map_[b.toLowerCase()]};a.regTextWithId=function(b,a){this._text_id_[b]=a};a.getTextById=function(b){return this._text_id_[b]};__getset(0,a,"baseURI",function(){return this._baseURI_},function(b){this._baseURI_=b});return c}(EventDispatcher),HttpRequest=function(a){function c(){this._responseType_=this._callBackFunc=this._req=this.onerror=this.onload=null;c.__super.call(this);Browser.window.XMLHttpRequest?this._req=new XMLHttpRequest:Browser.window.ActiveXObject&&(this._req=new ActiveXObject("Microsoft.XMLHTTP"))}__class(c,"iflash.laya.net.HttpRequest",!1,a);a=c.prototype;a.onRequestHandler=function(b){if(4==b.readyState){var a=this._responseType_?b.response:b.responseText;if(200==b.status||b.can200&&0==b.status&&null!=a&&""!=a){if(null!=this._callBackFunc&&this._callBackFunc(a),null!=this.onload)this.onload(a)}else if(null!=this.onerror)this.onerror(b.status)}};a.PostData=function(b,a){a&&0<a.length?this._req.setRequestHeader(a[0].name,a[0].value):this._req.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var c="";if("string"==typeof b)c=b;else{var e=b;b&&b.variables&&(e=b.variables);for(var f in e)c+=f+"\x3d"+e[f]+"\x26";c=c.substring(0,c.length-1)}this._req.send(c)};a.open=function(b,a,c,e,f,h,k){var l=this;void 0===e&&(e=!0);void 0===f&&(f="get");this._callBackFunc=c;if(null==this._req)return!1;try{if(this._req.onreadystatechange=function(b){l.onRequestHandler(this)},this._req.onerror=function(b){l.onerror(404)},"text"==f&&(f="get"),this._req.open(f,b,e),Laya.CONCHVER||(0==b.indexOf("file:")?this._req.can200=!0:0==b.indexOf("http:")&&(this._req.can200=!1)),a&&(this._responseType_=this._req.responseType=a),"get"==f.toLowerCase())this._req.send();else if("post"==f.toLowerCase())if(Laya.CONCHVER)h&&h._byteView_?this._req.send(h._byteView_.buffer.slice(0,h._length)):this.PostData(h,k);else{if(h&&h._byteView_)throw"un support binary post now";this.PostData(h,k)}}catch(m){if(null!=this.onerror)this.onerror(-1);return!1}return!0};return c}(EventDispatcher),Window3=function(a){function c(){this.onScroll=null;this.updateTime=NaN;this._height=this._width=0;this.scale=this.event=null;this.top=this.left=this.mouseY=this.mouseX=0;this.disableMouse=!1;this.location=this.document=null;this.fps=0;this.delay=null;this.preUpdateTime=this.updatecount=0;this._no3d_=!0;this.nowOrientation=null;c.__super.call(this);this.preOrientation="default";this.scale=new Point(1,1);Laya.window=EventDispatcher.window=this;this.location=new Location1;this.document=Laya.document=new Document2;this.init();this.resizeTo(Browser.window.innerWidth,Browser.window.innerHeight);this.updatecount=0;this.delay=[];this.updateTime=this.preUpdateTime=iflash.utils.getTimer()}__class(c,"iflash.laya.Window",!1,a,"Window3");a=c.prototype;a.init=function(){this.document.init();this._no3d_=!iflash.utils.getDefinitionByName("iflash.display3D.Context3D")};a.enterFrame=function(){Stage.stage.sendRender();this.updateTime=iflash.utils.getTimer();this.delay[0]=this.updateTime-this.preUpdateTime;this.preUpdateTime=this.updateTime;this.lyDispatchEvent("enterFrame");TimerCtrl.__DEFAULT__._update_(this.updateTime);EventManager.mgr.dispatchSystemEvent(this.delay[0]);TextField.renderTexts();DisplayObject.sendMask();Laya.CONCHVER&&ConchRenderVCanvas.INSTANCE.uploadConch();this.updatecount++};a.resizeTo=function(b,a,c){void 0===c&&(c=!1);if(c||!(0==this.document.adapter._screenRotate_&&this._width==b&&this._height==a||90==this.document.adapter._screenRotate_&&this._height==b&&this._width==a))this.document.adapter._screenRotate_=0,this._width=b,this._height=a,this.nowOrientation="default",Laya.HTMLVER&&this._no3d_&&(Stage.stage&&Stage.stage.autoOrients?"rotator"==this.document.adapter.autorotate&&this._width<this._height?(this.document.adapter._screenRotate_=90,this._width=a,this._height=b,this.nowOrientation="rotatedRight"):"portrait"==this.document.adapter.autorotate&&this._width>this._height?(this.document.adapter._screenRotate_=90,this._width=a,this._height=b,this.nowOrientation="rotatedRight"):(this.document.adapter._screenRotate_=0,this._width=b,this._height=a,this.nowOrientation="default"):"portrait"==this.document.adapter.autorotate?(this.document.adapter._screenRotate_=90,this._width=a,this._height=b,this.nowOrientation="rotatedRight"):(this.document.adapter._screenRotate_=0,this._width=b,this._height=a,this.nowOrientation="default")),this.lyDispatchEvent("resize"),this.nowOrientation!=this.preOrientation&&(Stage.stage.dispatchEvent(new StageOrientationEvent("orientationChange",!0,!0,this.preOrientation,this.nowOrientation)),this.preOrientation=this.nowOrientation)};__getset(0,a,"innerWidth",function(){return this._width},function(b){this.resizeTo(b,this._height)});__getset(0,a,"fullScreenHeight",function(){return window.screen.height});__getset(0,a,"fullScreenWidth",function(){return window.screen.width});__getset(0,a,"innerHeight",function(){return this._height},function(b){this.resizeTo(this._width,b)});return c}(EventDispatcher),AudioElement=function(a){function c(){this._soundNode_=null;this._paramex_=0;this._enddel_=!0;this._sound_type_=0;this._url_=null;this._volume_=1;this.onerror=this.onload=null;this._currentTime_=this.loops=0;this._onceLoad_=!1;c.__super.call(this)}__class(c,"iflash.media.AudioElement",!1,a);a=c.prototype;a.onAddDocument=function(){if(null!=this._url_){var b=this._url_;this._url_=null;this.src=b}};a.formatUrl=function(b){return Method.formatUrl(b,Laya.document.baseURI.path)};a.dispose=function(){this._removeevent_();delete c.audioCache[this._url_];Browser.removeFromBody(this._soundNode_);this._soundNode_&&(this._soundNode_=null)};a.isUserEvent=function(b){return b?"object"==typeof b&&b.hasOwnProperty("type")?(b=b.type,!!b&&(0<=b.indexOf("mouse")||0<=b.indexOf("touch"))):!1:!1};a.isUserAction=function(){var b;b=this.isUserAction;for(var a=!1,c=100;b&&!a;){var e;e=b.arguments;for(var f=0,h=0,h=e.length,f=0;f<h;f++)if(this.isUserEvent(e[f])){a=!0;break}b=b.caller;c--;if(0>c)break}return a};a.play=function(){};a.restart=function(){if(null!=this._soundNode_){try{0>this._soundNode_.currentTime&&(this._soundNode_.currentTime=0)}catch(b){this._soundNode_.src=this._url_}c.disableAutoDetect||!c.isMobile()||c.saveToPlayDic[this._url_]||this.isUserAction()?(1==this._sound_type_&&(c.ACTIVEMUSIC&&c.ACTIVEMUSIC!=this&&Laya.CONCHVER?Browser.alert("\u4e0d\u80fd\u540c\u65f6\u64ad\u653e\u4e24\u4e2aMP3"+this._url_):c.ACTIVEMUSIC=this),this._soundNode_.play()):c.addToPlayList(this)}};a.pause=function(){null!=this._soundNode_&&(this._soundNode_.pause(),1==this._sound_type_&&(c.ACTIVEMUSIC=null))};a.muted=function(b){null!=this._soundNode_&&(this._soundNode_.muted=b)};a.onEnded=function(){this.loops--;0<this.loops?this.restart():this.lyDispatchEvent("soundComplete");1==this._sound_type_&&(c.ACTIVEMUSIC=null)};a.onTimeUpdate=function(){};a._setevent_=function(){this._soundNode_.addEventListener("canplaythrough",__bind(this,this.onloadComplete));this._soundNode_.addEventListener("ended",__bind(this,this.onEnded));this._soundNode_.addEventListener("timeupdate",__bind(this,this.onTimeUpdate))};a._removeevent_=function(){this._soundNode_.removeEventListener("canplaythrough",__bind(this,this.onloadComplete));this._soundNode_.removeEventListener("ended",__bind(this,this.onEnded));this._soundNode_.removeEventListener("timeupdate",__bind(this,this.onTimeUpdate))};a.onloadComplete=function(b){!this._onceLoad_&&this.lyDispatchEvent("complete");this._onceLoad_=!0};a.load=function(){this._soundNode_.load()};__getset(0,a,"duration",function(){return this._soundNode_?this._soundNode_.duration:0});__getset(0,a,"src",function(){return this._url_},function(b){if(1!=c._muted_||0==(this._paramex_&8))this._url_=this.formatUrl(b),"mp3"==this._url_.substring(this._url_.lastIndexOf(".")+1,this._url_.length)&&(this._sound_type_=1),this._soundNode_=Browser.document.createElement("audio"),this._setevent_(),this.muted(c._muted_),this._soundNode_.src=this._url_,this.autoplay?this._soundNode_.play():this._paramex_|=16});__getset(0,a,"autoplay",function(){return 0!=(this._paramex_&1)},function(b){b?(this._paramex_|=1,null!=this._soundNode_&&0!=(this._paramex_&16)&&this._soundNode_.play()):this._paramex_&=-2});__getset(0,a,"loop",function(){return 0!=(this._paramex_&2)},function(b){this._paramex_=b?this._paramex_|2:this._paramex_&-3;this._soundNode_.loop=b});__getset(0,a,"volume",function(){return this._volume_},function(b){null==b&&(b=0);b=Math.max(Math.min(1,b),0);this._soundNode_&&(this._soundNode_.volume=b);this._volume_=b});__getset(0,a,"position",function(){return this._soundNode_&&this._soundNode_.currentTime?this._soundNode_.currentTime:0},function(b){this._currentTime_=b;this._soundNode_&&(this._soundNode_.currentTime=b)});c.isMobile=function(){-1==c._deviceType&&(Browser.navigator.userAgent.match(/(iPhone|iPod|Android|ios)/i)?c._deviceType=1:c._deviceType=0);return 1==c._deviceType};c.addToPlayList=function(b){c._toPlayList.push(b);c.removeEvents();c.addEvents()};c.playToPlayLists=function(b){c.removeEvents();if(0<c._toPlayList.length){b=0;var a=c._toPlayList.length;for(b=0;b<a;b++)c._toPlayList[b].restart();c._toPlayList=[]}};c.addEvents=function(){EventManager.stage.addEventListener("mouseDown",c.playToPlayLists);EventManager.stage.addEventListener("touchBegin",c.playToPlayLists)};c.removeEvents=function(){EventManager.stage.removeEventListener("mouseDown",c.playToPlayLists);EventManager.stage.removeEventListener("touchBegin",c.playToPlayLists)};c._muted_=!1;c._musicmuted_=!1;c._AUTOPLAY_=1;c._LOOP_=2;c._PRELOAD_=4;c._MUSIC_=8;c._ISPLAY_=16;c.ACTIVEMUSIC=null;c.audioCache={};c.disableAutoDetect=!1;c._deviceType=-1;c.saveToPlayDic={};c._toPlayList=[];return c}(EventDispatcher),Camera=function(a){function c(){this._camera=null;c.__super.call(this)}__class(c,"iflash.media.Camera",!1,a);a=c.prototype;a.setCamera=function(b){this._camera=b;return this};a.setCursor=function(b){this._camera.setCursor(b)};a.setKeyFrameInterval=function(b){this._camera.setKeyFrameInterval(b)};a.setLoopback=function(b){void 0===b&&(b=!1);this._camera.setLoopback(b)};a.setMode=function(b,a,c,e){void 0===e&&(e=!0);this._camera.setMode(b,a,c,e)};a.setMotionLevel=function(b,a){void 0===a&&(a=2E3);this._camera.setMotionLevel(b,a)};a.setQuality=function(b,a){this._camera.setQuality(b,a)};__getset(0,a,"activityLevel",function(){return this._camera.activityLevel});__getset(0,a,"bandwidth",function(){return this._camera.bandwidth});__getset(0,a,"currentFPS",function(){return this._camera.currentFPS});__getset(0,a,"fps",function(){return this._camera.fps});__getset(0,a,"keyFrameInterval",function(){return this._camera.keyFrameInterval});__getset(0,a,"quality",function(){return this._camera.quality});__getset(0,a,"motionLevel",function(){return this._camera.motionLevel});__getset(0,a,"height",function(){return this._camera.height});__getset(0,a,"index",function(){return this._camera.index});__getset(0,a,"loopback",function(){return this._camera.loopback});__getset(0,a,"motionTimeout",function(){return this._camera.motionTimeout});__getset(0,a,"muted",function(){return this._camera.muted});__getset(0,a,"name",function(){return this._camera.name});__getset(0,a,"width",function(){return this._camera.width});__getset(1,c,"isSupported",function(){return iflash.media.Camera.isSupported},iflash.events.EventDispatcher._$SET_isSupported);__getset(1,c,"names",function(){var b=[],a,g;for(g in c._cameras)a=c._cameras[g],b.push(a);return b},iflash.events.EventDispatcher._$SET_names);c._scanHardware=function(){};c.getCamera=function(b){if(c._cameras[b])return c._cameras[b];var a=new c;c._cameras[b]=a;return a.setCamera(iflash.media.Camera.getCamera(b))};__static(c,["_cameras",function(){return this._cameras={}}]);return c}(EventDispatcher),Microphone=function(a){function c(){this._mic=null;c.__super.call(this)}__class(c,"iflash.media.Microphone",!1,a);a=c.prototype;a.setMicrophone=function(b){this._mic=b;return this};a.setLoopBack=function(b){void 0===b&&(b=!0);this._mic.setLoopBack=b};a.setSilenceLevel=function(b,a){void 0===a&&(a=-1);this._mic.setSilenceLevel(b,a)};a.setUseEchoSuppression=function(b){this._mic.setUseEchoSuppression(b)};__getset(0,a,"activityLevel",function(){return this._mic.activityLevel});__getset(0,a,"enableVAD",function(){return this._mic.enableVAD},function(b){this._mic.enableVAD=b});__getset(0,a,"name",function(){return this._mic.activityLevel});__getset(0,a,"codec",function(){return this._mic.codec},function(b){this._mic.codec=b});__getset(0,a,"gain",function(){return this._mic.gain},function(b){this._mic.gain=b});__getset(0,a,"silenceLevel",function(){return this._mic.activityLevel});__getset(0,a,"encodeQuality",function(){return this._mic.encodeQuality},function(b){this._mic.encodeQuality=b});__getset(0,a,"framesPerPacket",function(){return this._mic.framesPerPacket},function(b){this._mic.framesPerPacket=b});__getset(0,a,"index",function(){return this._mic.activityLevel});__getset(0,a,"muted",function(){return this._mic.activityLevel});__getset(0,a,"noiseSuppressionLevel",function(){return this._mic.noiseSuppressionLevel},function(b){this._mic.noiseSuppressionLevel=b});__getset(0,a,"rate",function(){return this._mic.rate},function(b){this._mic.rate=b});__getset(0,a,"silenceTimeout",function(){return this._mic.activityLevel});__getset(0,a,"soundTransform",function(){return this._mic.soundTransform},function(b){this._mic.soundTransform=b});__getset(0,a,"useEchoSuppression",function(){return this._mic.activityLevel});__getset(1,c,"isSupported",function(){return iflash.media.Microphone.isSupported},iflash.events.EventDispatcher._$SET_isSupported);__getset(1,c,"names",function(){var b=[],a,g;for(g in c._mics)a=c._mics[g],b.push(a.name);return b},iflash.events.EventDispatcher._$SET_names);c.getMicrophone=function(b){void 0===b&&(b=-1);if(c._mics[b])return c._mics[b];var a=new c;c._mics[b]=a;return a.setMicrophone(iflash.media.Microphone.getMicrophone(b))};__static(c,["_mics",function(){return this._mics={}}]);return c}(EventDispatcher),Sound=function(a){function c(b,a){this.audio=this._soundChannel_=null;c.__super.call(this);this.audio=new AudioElement;this.audio.addEventListener("complete",__bind(this,this.aodioComplete));b&&this.load(b,a)}__class(c,"iflash.media.Sound",!1,a);a=c.prototype;a.close=function(){this.audio&&this.audio.pause()};a.dispose=function(){this.audio&&this.audio.dispose();this.audio=null};a.extract=function(b,a,c){return 0};a.load=function(b,a){this.audio.src=b.url};a.play=function(b,a,c){void 0===b&&(b=0);void 0===a&&(a=0);this.audio.loop=!1;2147483647==a?this.audio.loop=!0:0!=a&&(this.audio.loops=a);b>this.length&&(b=0);0>b&&(b=0);this.audio.position=b/1E3;!this._soundChannel_&&(this._soundChannel_=new SoundChannel);this._soundChannel_._sound_=this.audio;this.audio.hasEventListener("soundComplete")||this.audio.addEventListener("soundComplete",__bind(this,this._soundCompleteH));this.audio.restart();return this._soundChannel_};a._soundCompleteH=function(b){null!=this.audio&&this.audio.removeEventListener("soundComplete",__bind(this,this._soundCompleteH));this._soundChannel_.dispatchEvent(new Event("soundComplete"))};a.aodioComplete=function(b){null!=this.audio&&this.audio.removeEventListener("complete",__bind(this,this.aodioComplete));this.lyDispatchEvent("complete")};a.loadCompressedDataFromByteArray=function(b,a){};__getset(0,a,"bytesLoaded",LAYAFN0);__getset(0,a,"isURLInaccessible",LAYAFNFALSE);__getset(0,a,"bytesTotal",LAYAFN0);__getset(0,a,"isBuffering",LAYAFNFALSE);__getset(0,a,"id3",LAYAFNNULL);__getset(0,a,"length",function(){return 1E3*this.audio.duration});__getset(0,a,"url",LAYAFNSTR);return c}(EventDispatcher),SoundChannel=function(a){function c(){this._soundTransform_=this._sound_=null;c.__super.call(this)}__class(c,"iflash.media.SoundChannel",!1,a);a=c.prototype;a.stop=function(){this._sound_&&this._sound_.pause()};__getset(0,a,"leftPeak",LAYAFN0);__getset(0,a,"soundTransform",function(){return this._soundTransform_?this._soundTransform_:this._soundTransform_=new SoundTransform},function(b){this._soundTransform_=b;if(!isNaN(this._soundTransform_.volume)){if(null==this._sound_)return;this._sound_.volume=this._soundTransform_.volume}this._soundTransform_._sound_=this._sound_});__getset(0,a,"position",function(){return this._sound_&&this._sound_.position?1E3*this._sound_.position:0});__getset(0,a,"rightPeak",LAYAFN0);return c}(EventDispatcher),StageWebView=function(a){function c(b){c.__super.call(this)}__class(c,"iflash.media.StageWebView",!1,a);a=c.prototype;a.stop=LAYAFNVOID;a.reload=LAYAFNVOID;a.loadURL=LAYAFNVOID;a.loadString=function(b,a){};a.historyForward=LAYAFNVOID;a.historyBack=LAYAFNVOID;a.drawViewPortToBitmapData=LAYAFNVOID;a.dispose=LAYAFNVOID;a.assignFocus=function(b){};__getset(0,a,"title",LAYAFNSTR);__getset(0,a,"viewPort",LAYAFNNULL,LAYAFNVOID);__getset(0,a,"stage",LAYAFNNULL,LAYAFNVOID);__getset(0,a,"location",LAYAFNSTR);__getset(0,a,"isHistoryBackEnabled",LAYAFNFALSE);__getset(0,a,"isHistoryForwardEnabled",LAYAFNFALSE);__getset(1,c,"isSupported",LAYAFNFALSE,iflash.events.EventDispatcher._$SET_isSupported);return c}(EventDispatcher),LocalConnection=function(a){function c(){c.__super.call(this)}__class(c,"iflash.net.LocalConnection",!1,a);a=c.prototype;a.allowDomain=function(b){};a.allowInsecureDomain=function(b){};a.close=LAYAFNVOID;a.connect=LAYAFNVOID;a.send=function(b,a,c){};__getset(0,a,"client",function(){return null},function(b){});__getset(0,a,"domain",LAYAFNSTR);__getset(0,a,"isPerUser",LAYAFNFALSE,LAYAFNVOID);__getset(1,c,"isSupported",LAYAFNFALSE,iflash.events.EventDispatcher._$SET_isSupported);return c}(EventDispatcher),NetConnection=function(a){function c(){this._version=0;this._netConnection=null;c.__super.call(this);Log.error("NetConnection no")}__class(c,"iflash.net.NetConnection",!1,a);a=c.prototype;a.addHeader=function(b,a,c){void 0===a&&(a=!1);this._netConnection.addHeader(b,a,c)};a.call=function(b,a,c){for(var e=[],f=2,h=arguments.length;f<h;f++)e.push(arguments[f]);f=[b,a.resp];e&&0<e.length&&(f=f.concat(e));this._netConnection.call.apply(this._netConnection,f)};a.close=function(){this._netConnection.close()};a.connect=function(b,a){for(var c=[],e=1,f=arguments.length;e<f;e++)c.push(arguments[e]);null==b&&Log.error('Error: Can only connect in "HTTP streaming" mode');this._netConnection.connect(b,c)};__getset(0,a,"client",LAYAFNNULL,LAYAFNVOID);__getset(0,a,"maxPeerConnections",function(){return 8},LAYAFNVOID);__getset(0,a,"connected",LAYAFNTRUE);__getset(0,a,"objectEncoding",function(){return this._version},function(b){this._version=b});__getset(0,a,"connectedProxyType",LAYAFNSTR);__getset(0,a,"farID",LAYAFNSTR);__getset(0,a,"nearID",LAYAFNSTR);__getset(0,a,"nearNonce",LAYAFNSTR);__getset(0,a,"unconnectedPeerStreams",LAYAFNARRAY);__getset(0,a,"farNonce",LAYAFNSTR);__getset(0,a,"uri",LAYAFNSTR);__getset(0,a,"protocol",LAYAFNSTR);__getset(0,a,"proxyType",LAYAFNSTR,LAYAFNVOID);__getset(0,a,"usingTLS",LAYAFNFALSE);__getset(1,c,"defaultObjectEncoding",LAYAFN0,LAYAFNVOID);c.CONNECT_SUCCESS="connectSuccess";return c}(EventDispatcher),NetStream=function(a){function c(b,a){c.__super.call(this)}__class(c,"iflash.net.NetStream",!1,a);a=c.prototype;a.close=LAYAFNVOID;a.pause=LAYAFNVOID;a.play=function(b){};a.seek=LAYAFNVOID;__getset(0,a,"bufferLength",LAYAFN0);__getset(0,a,"client",LAYAFNNULL,LAYAFNVOID);__getset(0,a,"bytesLoaded",LAYAFN0);__getset(0,a,"bytesTotal",LAYAFN0);return c}(EventDispatcher),SharedObject=function(a){function c(){this.cookie=null;c.__super.call(this)}__class(c,"iflash.net.SharedObject",!1,a);a=c.prototype;a.clear=function(){this.cookie.clear()};a.close=LAYAFNVOID;a.flush=function(b){void 0===b&&(b=0);return this.cookie.flush(b)};a.send=function(b){};a.setDirty=LAYAFNVOID;a.setProperty=function(b,a){this.cookie.setProperty(b,a)};a.setCookie=function(b){this.cookie=b;return this};__getset(0,a,"client",LAYAFNNULL,LAYAFNVOID);__getset(0,a,"data",function(){return this.cookie.data});__getset(0,a,"objectEncoding",LAYAFN0,LAYAFNVOID);__getset(0,a,"fps",null,LAYAFNVOID);__getset(0,a,"size",function(){return null==this.data?0:JSON.stringify(this.data).length});__getset(1,c,"defaultObjectEncoding",LAYAFN0,LAYAFNVOID);c.deleteAll=LAYAFN0;c.getDiskUsage=LAYAFN0;c.getLocal=function(b,a,g){void 0===g&&(g=!1);if(c._cookies_[b])return c._cookies_[b];var e=new c;c._cookies_[b]=e;return e.setCookie(Cookie.getLocal(b,a,g))};c.getRemote=function(b,a,c,e){return null};c._cookies_=[];return c}(EventDispatcher),Socket=function(a){function c(b,a){this._stamp=NaN;this._socket=null;this._connected=!1;this._host=null;this._addInputPosition=this._port=0;this._bytes=this._output=this._input=null;this.objectEncoding=this.timeout=0;this._endian=null;void 0===a&&(a=0);c.__super.call(this);this._endian="bigEndian";this.timeout=2E4;this._addInputPosition=0;0<a&&65535>a&&this.connect(b,a)}__class(c,"iflash.net.Socket",!1,a);a=c.prototype;a.connect=function(b,a){null!=this._socket&&(this._socket.onclose=null);this.close();this._host=b;this._port=a;this._socket=new WebSocket("ws://"+b+":"+a);this._socket.binaryType="arraybuffer";this._stamp=iflash.utils.getTimer();this._output=new ByteArray;this._output.endian=this.endian;this._input=new ByteArray;this._input.endian=this.endian;this._socket.onopen=iflash.method.bind(this,this.onOpenHandler);this._socket.onmessage=iflash.method.bind(this,this.onMessageHandler);this._socket.onclose=iflash.method.bind(this,this.onCloseHandler);this._socket.onerror=iflash.method.bind(this,this.onErrorHandler);this._socket.binaryType="arraybuffer"};a.cleanSocket=function(){try{this._socket.close()}catch(b){}this._socket=null};a.close=function(){null!=this._socket&&(this._connected=!1,this.cleanSocket())};a.readBoolean=function(){return this._input.readBoolean()};a.readByte=function(){return this._input.readByte()};a.readDouble=function(){return this._input.readDouble()};a.readFloat=function(){return this._input.readFloat()};a.readInt=function(){return this._input.readInt()};a.readMultiByte=function(b,a){return this._input.readMultiByte(b,a)};a.readObject=function(){return this._input.readObject()};a.readShort=function(){return this._input.readShort()};a.readUnsignedByte=function(){return this._input.readUnsignedByte()};a.readUnsignedInt=function(){return this._input.readUnsignedInt()};a.readUnsignedShort=function(){return this._input.readUnsignedShort()};a.readUTF=function(){return this._input.readUTF()};a.readUTFBytes=function(b){return this._input.readUTFBytes(b)};a.readBytes=function(b,a,c){void 0===a&&(a=0);void 0===c&&(c=0);this._input.readBytes(b,a,c)};a.writeBoolean=function(b){this._output.writeBoolean(b)};a.writeByte=function(b){this._output.writeByte(b)};a.writeDouble=function(b){this._output.writeDouble(b)};a.writeFloat=function(b){this._output.writeFloat(b)};a.writeInt=function(b){this._output.writeInt(b)};a.writeMultiByte=function(b,a){void 0===a&&(a="UTF-8");this._output.writeMultiByte(b,a)};a.writeShort=function(b){this._output.writeShort(b)};a.writeUTF=function(b){this._output.writeUTF(b)};a.writeUTFBytes=function(b){this._output.writeUTFBytes(b)};a.writeUnsignedInt=function(b){this._output.writeUnsignedInt(b)};a.writeBytes=function(b,a,c){void 0===a&&(a=0);void 0===c&&(c=0);this._output.writeBytes(b,a,c)};a.onOpenHandler=function(b){this._connected=!0;this.dispatchEvent(new Event("connect"))};a.onMessageHandler=function(b){0<=this._input.length&&1>this._input.bytesAvailable&&(this._input.clear(),this._addInputPosition=0);var a=this._input.position;!this._addInputPosition&&(this._addInputPosition=0);this._input.position=this._addInputPosition;b&&("string"==typeof b.data?this._input.writeUTFBytes(b.data):this._input.writeArrayBuffer(b.data));this._addInputPosition=this._input.position;this._input.position=a;this.dispatchEvent(new Event("socketData"))};a.onflashMessage=function(b){this.dispatchEvent(new ProgressEvent("socketData"))};a.onCloseHandler=function(b){this._connected=!1;this.dispatchEvent(new Event("close"))};a.onErrorHandler=function(b){this.dispatchEvent(new IOErrorEvent("ioError"))};a.flush=function(){if(this._output&&0<this._output.length)try{this._socket&&this._socket.send(this._output.__getBuffer()),this._output.endian=this.endian,this._output.clear()}catch(b){}};__getset(0,a,"connected",function(){return this._connected});__getset(0,a,"endian",function(){return this._endian},function(b){this._endian=b;null!=this._input&&(this._input.endian=b);null!=this._output&&(this._output.endian=b)});__getset(0,a,"bytesAvailable",function(){return this._input.bytesAvailable});__getset(0,a,"bytesPending",function(){return this._output.length});c.LITTLE_ENDIAN="littleEndian";c.BIG_ENDIAN="bigEndian";return c}(EventDispatcher),URLLoader=function(a){function c(b){this.bytesTotal=this.bytesLoaded=0;this.fileData=this.data=null;this.crossDomain=!1;this.IsWriteXmlData=!0;this._bitmapData=this.file=null;c.__super.call(this);this.dataFormat="text";null!=b&&this.load(b)}__class(c,"iflash.net.URLLoader",!1,a);a=c.prototype;a.close=LAYAFNVOID;a.load=function(b){var a=this,c=Method.formatUrlType(b.url);if("text"==this.dataFormat)if("xml"==c)if(Laya.CONCHVER&&this.IsWriteXmlData){var e=new DOMParser;e.onload=function(b){a.data=e.getResult();a.dispatchEvent(new Event(Event.COMPLETE))};e._parser.onerror=function(){a.dispatchEvent(new IOErrorEvent(IOErrorEvent.IO_ERROR,!1,!1,"ioError"))};e.src=Method.formatUrl(b.url)}else this.file=new FileRead(b.url,{onload:__bind(this,this._Loader),unOnload:__bind(this,this._LoaderError)},null),this.file.contentType=c;else if("fnt"==c)this.file=new FileRead(b.url,{onload:__bind(this,this._Loader),unOnload:__bind(this,this._LoaderError)},null),this.file.contentType=c;else if(-1<b.url.indexOf("?")&&Laya.HTMLVER&&this.crossDomain){var f=this;Ajax.GetJSON(b.url,function(b){var a=new Event("complete");f.data=a.lyData=b;f.dispatchEvent(a)})}else{if(null!=b.data){var h=b.data.toString();h&&"post"!=b.method.toLowerCase()&&(-1==b.url.indexOf("?")?b.url=b.url+"?"+h:b.url=b.url+"\x26"+h)}this.file=new FileRead(b.url,{onload:__bind(this,this._Loader),unOnload:__bind(this,this._LoaderError)},null,b);this.file.contentType=c}else"binary"==this.dataFormat&&(-1!=["jpg","gif","png"].indexOf(c)?(null==this._bitmapData&&(this._bitmapData=new BitmapData),this.data=Browser.document.createElement("image"),this.data.onload=function(b){"tagName"in this||(this.tagName="IMG");a._bitmapData.setImage(this);a.dispatchEvent(new Event("complete"))},this.data.onerror=function(){a.dispatchEvent(new IOErrorEvent("ioError",!1,!1,"ioError"))},this.data.src=Method.formatUrl(b.url)):(this.file=new FileRead(b.url,{onload:__bind(this,this._Loader),unOnload:__bind(this,this._LoaderError)},"binary"),this.file.contentType=Method.formatUrlType(b.url)))};a._LoaderError=function(b){this.dispatchEvent(new IOErrorEvent("ioError"));this.file=null};a._Loader=function(b){if("swf"==b.contentType){var a=new ByteArray;a.writeUTF(b.contentType);a.writeUTF(b.url);b.contentdata.readBytes(a,a.position);a.position=0;this.data=a}else this.data=b.contentdata;this.dispatchEvent(new Event("complete"));this.file=null};__getset(0,a,"bitmapdata",function(){return this._bitmapData});c.isCatchfile=!1;return c}(EventDispatcher),URLStream=function(a){function c(){this.file=this.fileData=this._input=null;c.__super.call(this);null==this._input&&(this._input=new ByteArray)}__class(c,"iflash.net.URLStream",!1,a);a=c.prototype;a.close=LAYAFNVOID;a.load=function(b){b.url.lastIndexOf("?");Method.formatUrlType(b.url);this.file=new FileRead(b.url,{onload:__bind(this,this._Loader),unOnload:__bind(this,this._LoaderError)},"binary",b);this.file.contentType=Method.formatUrlType(b.url)};a._LoaderError=function(b){this.dispatchEvent(new IOErrorEvent("ioError"))};a._Loader=function(b){if("swf"==b.contentType){var a=new ByteArray;a.writeUTF(b.contentType);a.writeUTF(b.url);b.contentdata.readBytes(a,a.position);a.position=0;this._input=a}else b.contentdata.position=0,this._input=b.contentdata;this.dispatchEvent(new Event("complete"))};a.readBoolean=function(){return this._input.readBoolean()};a.readByte=function(){return this._input.readByte()};a.readBytes=function(b,a,c){return this._input.readBytes(b)};a.readDouble=function(){return this._input.readDouble()};a.readFloat=function(){return this._input.readFloat()};a.readInt=function(){return this._input.readInt()};a.readMultiByte=function(b,a){return this._input.readMultiByte(b,a)};a.readObject=function(){return this._input.readObject()};a.readShort=function(){return this._input.readShort()};a.readUnsignedByte=function(){return this._input.readUnsignedByte()};a.readUnsignedInt=function(){return this._input.readUnsignedInt()};a.readUnsignedShort=function(){return this._input.readUnsignedShort()};a.readUTF=function(){return this._input.readUTF()};a.readUTFBytes=function(b){return this._input.readUTFBytes(b)};__getset(0,a,"bytesAvailable",function(){0==this._input.bytesAvailable&&(this._input.position=0);return this._input.bytesAvailable});__getset(0,a,"connected",LAYAFNFALSE);__getset(0,a,"endian",function(){return this._input.endian},function(b){this._input.endian=b});__getset(0,a,"objectEncoding",function(){return this._input.objectEncoding},function(b){this._input.objectEncoding=b});return c}(EventDispatcher),Accelerometer=function(a){function c(){this._useCount=0;this._interval=30;this._curTimestamp=0;c.__super.call(this)}__class(c,"iflash.sensors.Accelerometer",!1,a);var b=c.prototype;b.setRequestedUpdateInterval=function(b){this._interval=b};b.addEventListener=function(b,g,e,f,h){void 0===e&&(e=!1);void 0===f&&(f=0);void 0===h&&(h=!1);a.prototype.addEventListener.call(this,b,g,e,f,h);0==this._useCount&&c.acceptSysOrientationListener();-1==c._accList.indexOf(this)&&(c._accList.push(this),this._useCount++)};b.removeEventListener=function(b,g,e){void 0===e&&(e=!1);a.prototype.removeEventListener.call(this,b,g,e);b=c._accList.indexOf(this);-1!=b&&(c._accList.splice(b,1),this._useCount--);0==this._useCount&&c.removeSysOrientationListener()};b.dispatchAccEvent=function(b){b.timestamp-this._curTimestamp>this._interval&&(this.dispatchEvent(b),this._curTimestamp=b.timestamp)};__getset(0,b,"muted",function(){return!1});__getset(1,c,"isSupported",function(){return Browser.window.DeviceMotionEvent?!0:!1},iflash.events.EventDispatcher._$SET_isSupported);c.orientationListener=function(b){b=AccelerometerEvent.copySysEvent(b);var a,e;for(e in c._accList)a=c._accList[e],a.dispatchAccEvent(b)};c.acceptSysOrientationListener=function(){Browser.window.addEventListener("devicemotion",c.orientationListener,!1)};c.removeSysOrientationListener=function(){Browser.window.removeEventListener("devicemotion",c.orientationListener,!1)};c._accList=[];return c}(EventDispatcher),Geolocation=function(a){function c(b){this.preTime=0;this._isFirstStatu=this._muted=!0;this._listenID=NaN;this._inteval=10;c.__super.call(this,b)}__class(c,"iflash.sensors.Geolocation",!1,a);var b=c.prototype;b.positionGet=function(b){this.muteds=!1;var a=DebugTools.getTTime();if(a-this.preTime>this._inteval){var c;c=GeolocationEvent.getFromH5Event(b.coords);c.timestamp=b.timestamp;this.dispatchEvent(c);this.preTime=a}};b.positionFail=function(b){this.muteds=!0};b.beginGetPosition=function(){this.stopGetPostion();this._listenID=Browser.navigator.geolocation.watchPosition(__bind(this,this.positionGet),__bind(this,this.positionFail))};b.stopGetPostion=function(){Browser.navigator.geolocation.clearWatch(this._listenID)};b.addEventListener=function(b,c,e,f,h){void 0===e&&(e=!1);void 0===f&&(f=0);void 0===h&&(h=!1);a.prototype.addEventListener.call(this,b,c,e,f,h);"update"==b&&this.beginGetPosition()};b.removeEventListener=function(b,c,e){void 0===e&&(e=!1);a.prototype.removeEventListener.call(this,b,c,e);"update"==b&&this.stopGetPostion()};b.setRequestedUpdateInterval=function(b){void 0===b&&(b=500);this._inteval=b};__getset(0,b,"muted",function(){return this._muted});__getset(0,b,"muteds",null,function(b){if(b!=this._muted||this._isFirstStatu){var a=new StatusEvent("status");this._muted=b;this.dispatchEvent(a);this._isFirstStatu=!1}});__getset(1,c,"isSupported",function(){return Browser.navigator.geolocation},iflash.events.EventDispatcher._$SET_isSupported);return c}(EventDispatcher),FileEvent=function(a){function c(b,a,g,e){void 0===a&&(a=!1);void 0===g&&(g=!1);c.__super.call(this,b,a,g,e)}__class(c,"iflash.filesystem.FileEvent",!1,a);c.FILE_STATUS="fileStatus";return c}(Event),IME=function(a){function c(b){c.__super.call(this,b)}__class(c,"iflash.system.IME",!1,a);__getset(1,c,"conversionMode",function(){return""},function(b){});__getset(1,c,"enabled",function(){return!1},function(b){});__getset(1,c,"isSupported",function(){return!1},iflash.events.EventDispatcher._$SET_isSupported);return c}(EventDispatcher),StyleSheet=function(a){function c(){c.__super.call(this)}__class(c,"iflash.text.StyleSheet",!1,a);a=c.prototype;a.clear=LAYAFNVOID;a.getStyle=LAYAFNNULL;a.parseCSS=LAYAFNVOID;a.setStyle=LAYAFNVOID;a.transform=LAYAFNNULL;__getset(0,a,"styleNames",LAYAFNNULL);return c}(EventDispatcher),BevelFilter=function(a){function c(b,a,g,e,f,h,k,l,m,n,p,q){this.highlightAlpha=this.distance=this.blurY=this.blurX=this.angle=NaN;this.highlightColor=0;this.knockout=!1;this.quality=0;this.shadowAlpha=NaN;this.shadowColor=0;this.strength=NaN;this.type=null;void 0===b&&(b=0);void 0===a&&(a=0);void 0===g&&(g=255);void 0===e&&(e=1);void 0===f&&(f=0);void 0===h&&(h=1);void 0===k&&(k=4);void 0===l&&(l=4);void 0===m&&(m=1);void 0===n&&(n=1);void 0===p&&(p="full");void 0===q&&(q=!1);c.__super.call(this,"BevelFilter");this.distance=b;this.angle=a;this.highlightColor=g;this.highlightAlpha=e;this.shadowColor=f;this.shadowAlpha=h;this.blurX=k;this.blurY=l;this.strength=m;this.quality=n;this.type=p;this.knockout=q}__class(c,"iflash.filters.BevelFilter",!1,a);return c}(BitmapFilter),BlurFilter=function(a){function c(b,a,g){this.blurY=this.blurX=NaN;this.MAX_BLUR_HEIGHT=this.MAX_BLUR_WIDTH=this.quality=0;this.__kernel=this.__bG=null;void 0===b&&(b=4);void 0===a&&(a=4);void 0===g&&(g=1);c.__super.call(this,"BlurFilter");this.blurX=b?b:4;this.blurY=a?a:4;this.MAX_BLUR_WIDTH=Laya.window.innerWidth;this.MAX_BLUR_HEIGHT=Laya.window.innerHeight;this.quality=g?g:1}__class(c,"iflash.filters.BlurFilter",!1,a);a=c.prototype;a.applyFilter=function(b,a,c,e){};a.clone=function(){return new c(this.blurX,this.blurY,this.quality)};a.__applyFilter=function(b){this.__kernel=[]};a.__buildKernel=function(b,a,c,e){for(var f=0,h=0,k=[],l=4*a,m=0;m<c;m++)for(var n=0;n<a;n++)k[0]=b[h],k[1]=b[h+1],k[2]=b[h+2],k[3]=b[h+3],0<n&&(k[0]+=e[f-4],k[1]+=e[f-3],k[2]+=e[f-2],k[3]+=e[f-1]),0<m&&(k[0]+=e[f-l],k[1]+=e[f+1-l],k[2]+=e[f+2-l],k[3]+=e[f+3-l]),0<n&&0<m&&(k[0]-=e[f-l-4],k[1]-=e[f-l-3],k[2]-=e[f-l-2],k[3]-=e[f-l-1]),e[f]=k[0],e[f+1]=k[1],e[f+2]=k[2],e[f+3]=k[3],f+=4,h+=4};a.__boxBlur=function(b,a,c,e,f,h){for(var k=1/((2*f+1)*(2*h+1)),l=0,m=[],n=0,p=0,q=0,r=0,v=1.7/((2*f+1)*(2*h+1)),t=0;t<c;t++)for(var u=0;u<a;u++)n=u+f>=a?a-1:u+f,p=t+h>=c?c-1:t+h,q=0>u-f?0:u-f,r=0>t-h?0:t-h,m[0]=e[4*(n+p*a)]+e[4*(q+r*a)]-e[4*(q+p*a)]-e[4*(n+r*a)],m[1]=e[4*(n+p*a)+1]+e[4*(q+r*a)+1]-e[4*(q+p*a)+1]-e[4*(n+r*a)+1],m[2]=e[4*(n+p*a)+2]+e[4*(q+r*a)+2]-e[4*(q+p*a)+2]-e[4*(n+r*a)+2],m[3]=e[4*(n+p*a)+3]+e[4*(q+r*a)+3]-e[4*(q+p*a)+3]-e[4*(n+r*a)+3],b[l]=Math.floor(Math.abs(255-this.__bG[0]-m[0]*k)),b[l+1]=Math.floor(Math.abs(255-this.__bG[1]-m[1]*k)),b[l+2]=Math.floor(Math.abs(255-this.__bG[2]-m[2]*k)),b[l+3]=Math.floor(m[3]*v),l+=4};return c}(BitmapFilter),ColorMatrixFilter=function(a){function c(b){this.matrix=null;c.__super.call(this,"ColorMatrixFilter");this.matrix=b}__class(c,"iflash.filters.ColorMatrixFilter",!1,a);a=c.prototype;a.clone=function(){return new c(this.matrix)};a.__applyFilter=function(b){};return c}(BitmapFilter),ConvolutionFilter=function(a){function c(b,a,g,e,f,h,k,l,m){this.bias=this.alpha=NaN;this.clamp=!1;this.color=0;this.divisor=NaN;this.matrix=null;this.matrixY=this.matrixX=NaN;this.preserveAlpha=!1;void 0===b&&(b=0);void 0===a&&(a=0);void 0===e&&(e=1);void 0===h&&(h=!0);void 0===k&&(k=!0);void 0===l&&(l=0);void 0===m&&(m=0);c.__super.call(this,"ConvolutionFilter");this.matrixX=b;this.matrixY=a;this.matrix=g;this.divisor=e;this.preserveAlpha=h;this.clamp=k;this.color=l;this.alpha=m}__class(c,"iflash.filters.ConvolutionFilter",!1,a);return c}(BitmapFilter),DisplacementMapFilter=function(a){function c(b,a,g,e,f,h,k,l,m){this.alpha=NaN;this.componentY=this.componentX=this.color=0;this.mode=this.mapPoint=this.mapBitmap=null;this.scaleY=this.scaleX=NaN;void 0===e&&(e=0);void 0===f&&(f=0);void 0===h&&(h=0);void 0===l&&(l=0);void 0===m&&(m=0);c.__super.call(this,"DisplacementMapFilter");this.mapBitmap=b;this.mapPoint=a;this.componentY=e;this.scaleX=f;this.scaleY=h;this.mode=k;this.color=l;this.alpha=m}__class(c,"iflash.filters.DisplacementMapFilter",!1,a);return c}(BitmapFilter),DropShadowFilter=function(a){function c(b,a,g,e,f,h,k,l,m,n,p){this.blurY=this.blurX=this.angle=this.alpha=NaN;this.color=0;this.distance=NaN;this.knockout=this.inner=this.hideObject=!1;this.quality=0;this.strength=NaN;void 0===b&&(b=4);void 0===a&&(a=45);void 0===g&&(g=0);void 0===e&&(e=1);void 0===f&&(f=4);void 0===k&&(k=1);void 0===l&&(l=1);void 0===m&&(m=!1);void 0===n&&(n=!1);void 0===p&&(p=!1);c.__super.call(this,"DropShadowFilter");this.distance=b;this.angle=a;this.color=g;this.alpha=e;this.blurY=this.blurX=f;this.strength=k;this.quality=l;this.inner=m;this.knockout=n;this.hideObject=p}__class(c,"iflash.filters.DropShadowFilter",!1,a);a=c.prototype;a.clone=function(){return new c(this.distance,this.angle,this.color,this.alpha,this.blurX,this.blurY,this.strength,this.quality,this.inner,this.knockout,this.hideObject)};a.__preApplyFilter=function(b){var a=this.distance*Math.cos(2*Math.PI*this.angle/360),c=Math.max(this.blurX,this.blurY,this.strength);b.shadowOffsetX=this.distance*Math.sin(2*Math.PI*this.angle/360);b.shadowOffsetY=a;b.shadowBlur=c;b.shadowColor="rgba("+(this.color>>16&255)+","+(this.color>>8&255)+","+(this.color&255)+","+this.alpha+")"};c.DEGREES_FULL_RADIUS=360;return c}(BitmapFilter),ByteArrayAsset=function(a){function c(){c.__super.call(this);console.log("ByteArrayAsset")}__class(c,"mx.core.ByteArrayAsset",!1,a);return c}(ByteArray),GradientBevelFilter=function(a){function c(b,a,g,e,f,h,k,l,m,n,p){this.alphas=null;this.blurY=this.blurX=this.angle=NaN;this.colors=null;this.distance=NaN;this.knockout=!1;this.quality=0;this.ratios=null;this.strength=NaN;this.type=null;void 0===b&&(b=4);void 0===a&&(a=45);void 0===h&&(h=4);void 0===k&&(k=4);void 0===l&&(l=1);void 0===m&&(m=1);void 0===n&&(n="inner");void 0===p&&(p=!1);c.__super.call(this,"GradientBevelFilter");this.distance=b;this.angle=a;this.colors=g;this.alphas=e;this.ratios=f;this.blurX=h;this.blurY=k;this.strength=l;this.quality=m;this.type=n;this.knockout=p}__class(c,"iflash.filters.GradientBevelFilter",!1,a);return c}(BitmapFilter),GradientGlowFilter=function(a){function c(b,a,g,e,f,h,k,l,m,n,p){this.alphas=null;this.blurY=this.blurX=this.angle=NaN;this.colors=null;this.distance=NaN;this.knockout=!1;this.quality=0;this.ratios=null;this.strength=NaN;this.type=null;void 0===b&&(b=4);void 0===h&&(h=4);void 0===k&&(k=4);void 0===l&&(l=1);void 0===m&&(m=1);void 0===n&&(n="inner");void 0===p&&(p=!1);c.__super.call(this,"GradientGlowFilter");this.distance=b;this.colors=g;this.alphas=e;this.ratios=f;this.blurX=h;this.blurY=k;this.strength=l;this.quality=m;this.type=n;this.knockout=p}__class(c,"iflash.filters.GradientGlowFilter",!1,a);return c}(BitmapFilter),OneCmdDataUseId=function(a){function c(){this.id=null;c.__super.call(this)}__class(c,"iflash.laya.runner.OneCmdDataUseId",!1,a);c.prototype.applyTo=function(b,a){return this.oneFun._fun_.apply(a.ids[this.id],this.args)};return c}(OneCmdData),GraphicElement=function(a){function c(b){c.__super.call(this)}__class(c,"iflash.text.engine.GraphicElement",!1,a);a=c.prototype;__getset(0,a,"elementHeight",LAYAFN0,LAYAFNVOID);__getset(0,a,"elementWidth",LAYAFN0,LAYAFNVOID);__getset(0,a,"graphic",LAYAFNNULL,LAYAFNVOID);return c}(ContentElement),GroupElement=function(a){function c(b){c.__super.call(this)}__class(c,"iflash.text.engine.GroupElement",!1,a);a=c.prototype;a.getElementAt=LAYAFNNULL;a.getElementAtCharIndex=LAYAFNNULL;a.getElementIndex=LAYAFN0;a.groupElements=LAYAFNNULL;a.mergeTextElements=LAYAFNNULL;a.replaceElements=LAYAFNNULL;a.setElements=LAYAFNVOID;a.splitTextElement=LAYAFNNULL;a.ungroupElements=LAYAFNVOID;__getset(0,a,"elementCount",LAYAFN0);return c}(ContentElement),TextElement=function(a){function c(b){c.__super.call(this)}__class(c,"iflash.text.engine.TextElement",!1,a);var b=c.prototype;b.replaceText=LAYAFNVOID;__getset(0,b,"text",a.prototype._$get_text,LAYAFNVOID);return c}(ContentElement),SpaceJustifier=function(a){function c(b,a,g){void 0===b&&(b="en");void 0===a&&(a="unjustified");c.__super.call(this,b,a)}__class(c,"iflash.text.engine.SpaceJustifier",!1,a);a=c.prototype;a.clone=LAYAFNNULL;__getset(0,a,"letterSpacing",LAYAFNFALSE,LAYAFNVOID);__getset(0,a,"maximumSpacing",LAYAFN0,LAYAFNVOID);__getset(0,a,"minimumSpacing",LAYAFN0,LAYAFNVOID);__getset(0,a,"optimumSpacing",LAYAFN0,LAYAFNVOID);return c}(TextJustifier),AVM1Movie=function(a){function c(){c.__super.call(this)}__class(c,"iflash.display.AVM1Movie",!1,a);a=c.prototype;a.addCallback=LAYAFNVOID;a.call=function(b,a){};return c}(DisplayObject),Bitmap=function(a){function c(b,a,e){this._bitmapData_=null;this._setDraw_=!1;this._scaleX_=this._scaleY_=1;c.__super.call(this);b&&(this.bitmapData=b)}__class(c,"iflash.display.Bitmap",!1,a);var b=c.prototype;b._paintChild_=function(b,a,c,f,h){this._bitmapData_&&this._bitmapData_.paint(b,a,c,f,h)};b.lyclone=function(){return new c(this._bitmapData_)};__getset(0,b,"bitmapData",function(){return this._bitmapData_},function(b){b?(this._bitmapData_=b,this._width_=Math.abs(this._bitmapData_.width*this._scaleX_),this._height_=Math.abs(this._bitmapData_.height*this._scaleY_),this._modle_.size(this._width_,this._height_),this._type2_|=5,Laya.RENDERBYCANVAS&&!this._setDraw_?(this._setDraw_=!0,DisplayUnit._insertUnit_(this,DrawBitmapData._DEFAULT_)):Laya.RENDERBYCANVAS||(this.bitmapData._createCMD_(),1==this.bitmapData.type?(this._modle_.virtualBitmap(null),this._modle_.conchVirtualBitmap=null,this._modle_.image(this.bitmapData._canvas_,!0)):(this._modle_.image(null),this._modle_.vcanvas(this.bitmapData._canvas_)))):this._bitmapData_&&(this._bitmapData_=b,Laya.RENDERBYCANVAS||(this._modle_.virtualBitmap(null),this._modle_.conchVirtualBitmap=null))});__getset(0,b,"isReadyForDraw",function(){return null!=this.bitmapData});__getset(0,b,"width",a.prototype._$get_width,function(b){if(this._width_!=b){var a=this._width_/this._scaleX_;a&&(this._scaleX_=b/a);this._width_=Math.abs(b);this._modle_.size(this._width_,this._height_);this._type2_|=5}});__getset(0,b,"height",a.prototype._$get_height,function(b){if(this._height_!=b){var a=this._height_/this._scaleY_;a&&(this._scaleY_=b/a);this._height_=Math.abs(b);this._modle_.size(this._width_,this._height_);this._type2_|=5}});__getset(0,b,"pixelSnapping",LAYAFNNULL,LAYAFNVOID);__getset(0,b,"scaleX",function(){return this._scaleX_},function(b){var c=NaN,c=0==this._width_*this._scaleX_&&this.bitmapData?this.bitmapData.width:this._width_/this._scaleX_;this._scaleX_=b;this._width_=Math.abs(c*b);this._modle_.size(this._width_,this._height_);a.prototype._$set_scaleX.call(this,0<this._scaleX_?1:-1)});__getset(0,b,"scaleY",function(){return this._scaleY_},function(b){var c=NaN,c=0==this._height_*this._scaleY_&&this.bitmapData?this.bitmapData.height:this._height_/this._scaleY_;this._scaleY_=b;this._height_=Math.abs(c*b);this._modle_.size(this._width_,this._height_);a.prototype._$set_scaleY.call(this,0<this._scaleY_?1:-1)});__getset(0,b,"smoothing",LAYAFNFALSE,LAYAFNVOID);return c}(DisplayObject),InteractiveObject=function(a){function c(){c.__super.call(this)}__class(c,"iflash.display.InteractiveObject",!1,a);var b=c.prototype;b.changeFocus=function(){null!=this.stage&&this.stage.focus!=this&&this.repaint()};b.repaint=function(){};b._hitTest_=function(b,c){return a.prototype._hitTest_.call(this,b,c)?this.mouseEnabled?this:this.parent:null};__getset(0,b,"mouseEnabled",function(){return 0!=(this._type_&64)},function(b){this._type_=b?this._type_|64:this._type_&-65});__getset(0,b,"tabIndex",LAYAFN0,LAYAFNVOID);__getset(0,b,"doubleClickEnabled",function(){return 0!=(this._type_&256)},function(b){this._type_=b?this._type_|256:this._type_&-257});__getset(0,b,"tabEnabled",LAYAFNFALSE,LAYAFNVOID);__getset(0,b,"contextMenu",LAYAFNNULL,LAYAFNVOID);return c}(DisplayObject),LyImageElement=function(a){function c(){this.scale9Data=this._content_=this._image_=this._texture=this.assetConfig=this.assetUr=this.src=null;this.orgH=this.orgW=NaN;this.oArrH=this.oArrW=this.oArrY=this.oArrX=this.arrH=this.arrW=this.arrY=this.arrX=null;this.miniBitmapData=new BitmapData;this._image_=Browser.document.createElement("image");c.__super.call(this)}__class(c,"iflash.display.LyImageElement",!1,a);var b=c.prototype;b.checkImg=LAYAFNVOID;b._paintChild_=function(b,a,c,f,h){var k=this.miniBitmapData;k&&k.paint&&k.paint.call(k,b,a,c,f,h)};b._init_=function(){0==(this._type_&8192)&&(Laya.RENDERBYCANVAS?DrawImageElement.insertUnit(this):(this._modle_==IModel.__DEFAULT__&&this.__initModule(),this._modle_.size(this._width_,this._height_)),this.miniBitmapData.size(this._width_,this._height_),this.scale9Data?(this.miniBitmapData.setImage(this._image_),this.miniBitmapData._canvas_.removeImage(),this._modle_.vcanvas(this.miniBitmapData._canvas_)):this.assetConfig||(this._modle_.image(this._image_),this.miniBitmapData.setImage(this._image_)),this._type_|=8192)};b.onLoad=function(b){this._type_|=2048;this.dispatchEvent(new Event("lyImageLoadedEvent"));this.readyWork()};b.isReady=function(b){return this.isTexture()?!0:this._image_?this._image_.isReady():!1};b.isTexture=function(){return null!=this.assetConfig};b._lyToBody_=function(){this._image_.isReady()?(this.assetConfig||this.miniBitmapData&&!this.miniBitmapData._canvas_&&this.miniBitmapData.setImage(this._image_),this._type_|=2048):this._image_.onload=iflash.method.bind(this,this.onLoad);null!=this.assetConfig&&this.miniBitmapData&&null==this._texture&&this.initTexture();this.assetConfig||this._image_.isReady()||(this._image_.src=this.src)};b.initTexture=function(){this._texture||(this._texture=TextureManager.getInstance().getTexture(this.assetUr),this.miniBitmapData.destroy(),this.miniBitmapData._createCMD_(),this.miniBitmapData._canvas_.drawImage(this.texture,this.assetConfig.x,this.assetConfig.y,this.assetConfig.width,this.assetConfig.height,0,0,this.assetConfig.width,this.assetConfig.height),this._modle_.vcanvas(this.miniBitmapData._canvas_),this._type_|=2048)};b.calcScaleData=function(){var b=this.scale9Data.x1-this.x,a=this.scale9Data.y1-this.y,c=this.scale9Data.x2-this.x,f=this.scale9Data.y2-this.y;null==this.arrX&&(this.arrX=[[],[],[]],this.arrY=[[],[],[]],this.arrW=[[],[],[]],this.arrH=[[],[],[]],this.oArrX=[[],[],[]],this.oArrY=[[],[],[]],this.oArrW=[[],[],[]],this.oArrH=[[],[],[]]);var h=this.orgW-c;this.oArrW[2][0]=this.oArrW[1][0]=this.oArrW[0][0]=b;this.oArrW[2][1]=this.oArrW[1][1]=this.oArrW[0][1]=c-b;this.oArrW[2][2]=this.oArrW[1][2]=this.oArrW[0][2]=h;var k=this.orgH-f;this.oArrH[0][2]=this.oArrH[0][1]=this.oArrH[0][0]=a;this.oArrH[1][2]=this.oArrH[1][1]=this.oArrH[1][0]=f-a;this.oArrH[2][2]=this.oArrH[2][1]=this.oArrH[2][0]=k;this.oArrX[2][0]=this.oArrX[1][0]=this.oArrX[0][0]=0;this.oArrX[2][1]=this.oArrX[1][1]=this.oArrX[0][1]=b;this.oArrX[2][2]=this.oArrX[1][2]=this.oArrX[0][2]=c;this.oArrY[0][2]=this.oArrY[0][1]=this.oArrY[0][0]=0;this.oArrY[1][2]=this.oArrY[1][1]=this.oArrY[1][0]=a;this.oArrY[2][2]=this.oArrY[2][1]=this.oArrY[2][0]=f;f=this.orgW-this.oArrW[2][1];c=this.orgH-this.oArrH[1][2];this.width<f?(b*=this.width/f,this.arrX[2][0]=this.arrX[1][0]=this.arrX[0][0]=0,this.arrX[2][2]=this.arrX[1][2]=this.arrX[0][2]=this.arrX[2][1]=this.arrX[1][1]=this.arrX[0][1]=b,this.arrW[2][0]=this.arrW[1][0]=this.arrW[0][0]=b,this.arrW[2][1]=this.arrW[1][1]=this.arrW[0][1]=0,this.arrW[2][2]=this.arrW[1][2]=this.arrW[0][2]=this.width-b):(this.arrX[2][0]=this.arrX[1][0]=this.arrX[0][0]=0,this.arrX[2][1]=this.arrX[1][1]=this.arrX[0][1]=b,this.arrX[2][2]=this.arrX[1][2]=this.arrX[0][2]=this.width-h,this.arrW[2][0]=this.arrW[1][0]=this.arrW[0][0]=b,this.arrW[2][1]=this.arrW[1][1]=this.arrW[0][1]=this.width-b-h,this.arrW[2][2]=this.arrW[1][2]=this.arrW[0][2]=h);this.height<c?(a*=this.height/c,this.arrY[0][2]=this.arrY[0][1]=this.arrY[0][0]=0,this.arrY[1][2]=this.arrY[1][1]=this.arrY[1][0]=this.arrY[2][2]=this.arrY[2][1]=this.arrY[2][0]=a,this.arrH[0][2]=this.arrH[0][1]=this.arrH[0][0]=a,this.arrH[1][2]=this.arrH[1][1]=this.arrH[1][0]=0,this.arrH[2][2]=this.arrH[2][1]=this.arrH[2][0]=this.height-a):(this.arrY[0][2]=this.arrY[0][1]=this.arrY[0][0]=0,this.arrY[1][2]=this.arrY[1][1]=this.arrY[1][0]=a,this.arrY[2][2]=this.arrY[2][1]=this.arrY[2][0]=this.height-k,this.arrH[0][2]=this.arrH[0][1]=this.arrH[0][0]=a,this.arrH[1][2]=this.arrH[1][1]=this.arrH[1][0]=this.height-a-k,this.arrH[2][2]=this.arrH[2][1]=this.arrH[2][0]=k);if(Laya.CONCHVER)for(a=this.miniBitmapData._canvas_,a.clear(),k=0;3>k;k++)for(b=0;3>b;b++){var h=this.oArrX[k][b],c=this.oArrY[k][b],f=this.oArrW[k][b],l=this.oArrH[k][b],m=this.arrX[k][b],n=this.arrY[k][b],p=this.arrW[k][b],q=this.arrH[k][b];1>f||1>l||1>p||1>q||(this.isTexture()?a.drawImage(this.texture,h+this.assetConfig.x,c+this.assetConfig.y,f,l,m,n,p,q):a.drawImage(this._image_,h,c,f,l,m,n,p,q))}};b.__preload__=function(){this._lyToBody_()};b.lyclone=function(){var b=new c;b._image_=this._image_;b.orgW=this.orgW;b.orgH=this.orgH;b._width_=this.orgW;b._height_=this.orgH;b.src=this.src;b.assetConfig=this.assetConfig;b.assetUr=this.assetUr;return b};b.layaDestory=function(){a.prototype.layaDestory.call(this);this._image_&&null!=this._image_.onload&&(this._image_.onload=null);this._image_=null;this.miniBitmapData&&this.miniBitmapData.clear();this._texture=this.scale9Data=this.miniBitmapData=null};__getset(0,b,"isReadyForDraw",function(){return this.isReady()});__getset(0,b,"width",function(){return this._width_},function(b){this._width_=b;this.scale9Data&&this.calcScaleData()});__getset(0,b,"texture",function(){null==this._texture&&this.initTexture();return this._texture});__getset(0,b,"height",function(){return this._height_},function(b){this._height_=b;this.scale9Data&&this.calcScaleData()});return c}(DisplayObject),Shape=function(a){function c(){this._scaleX_=this._scaleY_=this._sc9X_=this._sc9Y_=1;this._scale9Data=this._graphics=this._content_=this._image_=null;c.__super.call(this)}__class(c,"iflash.display.Shape",!1,a);var b=c.prototype;b._paintGraphics_=function(b,a,c,f,h){if(this._graphics){var k=this._graphics;k.isReady()&&k._canvas_.paint(b,a,c,f,h)}this._paintChild_(b,a,c,f,h)};b._paintChild_=function(b,a,c,f,h){(f=this._image_)&&f.conchPaint(b,a+f._left_,c+f._top_)};b._init_=function(b){b&&(this._content_=b,b.data.scale9Data?(this._image_=b.data.lyclone(),this._image_._width_=this._image_.orgW=b.data.width,this._image_._height_=this._image_.orgH=b.data.height,this.scale9Data=b.data.scale9Data.scale9Data):this._image_=b.data,DisplayObject.initModule&&(this._image_._init_(),!this.scale9Data&&this._modle_.quoteEx?this._modle_.quoteEx(this._image_._modle_,!0):this._modle_.quote(this._image_._modle_),this._image_.matrix=b.matrix),this._width_=b.data.width,this._height_=b.data.height,this._modle_.size(this._width_,this._height_),Laya.RENDERBYCANVAS&&0==(this._type_&4)&&(DrawShape.insertUnit(this),this._type_|=4))};b._getBounds_=function(b,a){a||(a=DisplayObject.HELPER_RECTANGLET);this._image_?a.setTo(this._image_.x,this._image_.y,this._image_._width_,this._image_._height_):(a.setTo(0,0,0,0),DisplayObject.HELPER_POINT.setTo(0,0),a.setTo(0,0,0,0));this._graphics&&(DisplayObject.HELPER_RECTANGLET_ALT.setTo(this._graphics.x,this._graphics.y,this._graphics.width,this._graphics.height),a._union_(DisplayObject.HELPER_RECTANGLET_ALT));return a};b._lyToBody_=function(){this.scale9Data&&this._image_&&(this._image_.scale9Data=this.scale9Data);this._image_&&this._image_._lyToBody_();a.prototype._lyToBody_.call(this)};b._lyUnToBody_=function(){this._image_&&this._image_._lyUnToBody_();a.prototype._lyUnToBody_.call(this)};b.lyclone=function(){var b=new c;b._init_(this._content_);return b};b.setupReadyNoticeWork=function(b){void 0===b&&(b=!1);this.isReadyForDraw||(this._needNotice=b,this._image_.setReadyForDrawCall(__bind(this,this.readyWork)))};b.layaDestory=function(){a.prototype.layaDestory.call(this);this._scale9Data=this._image_=this._content_=null};__getset(0,b,"isReadyForDraw",function(){return this._image_.isReadyForDraw});__getset(0,b,"scale9Data",function(){return this._scale9Data},function(b){this._scale9Data=b;this._image_&&(this._image_.scale9Data=b,this._image_._modle_.image(null),this._image_.miniBitmapData._canvas_&&this._image_._modle_.vcanvas(this._image_.miniBitmapData._canvas_))});__getset(0,b,"width",function(){return this.scale9Data?this._width_:a.prototype._$get_width.call(this)},function(b){if(this._width_!=b)if(this.scale9Data)this._scaleX_=1,this._width_=b,this._image_&&(this._image_.width=b);else{var c=this._width_/this._scaleX_;0==this._width_*this._scaleX_&&this.graphics&&(c=this.graphics.width);c&&(this._scaleX_=b/c);a.prototype._$set_scaleX.call(this,this._scaleX_);this._modle_.size(this._width_,this._height_);this._type2_|=5}});__getset(0,b,"graphics",function(){this._graphics||(this._graphics=new Graphics(this));return this._graphics});__getset(0,b,"height",function(){return this.scale9Data?this._height_:a.prototype._$get_height.call(this)},function(b){if(this._height_!=b){if(this.scale9Data)this._scaleY_=1,this._height_=b,this._image_&&(this._image_.height=b);else{var c=NaN;(c=0==this._height_*this._scaleY_&&this.graphics?this.graphics.height:this._height_/this._scaleY_)&&(this._scaleY_=b/c);a.prototype._$set_scaleY.call(this,this._scaleY_)}this._modle_.size(this._width_,this._height_);this._type2_|=5}});__getset(0,b,"scaleX",function(){return this.scale9Data?this._sc9X_:this._scaleX_},function(b){var c=NaN,c=0==this._width_*this._scaleX_&&this.graphics?this.graphics.width:this._width_/this._scaleX_;this._width_=Math.abs(c*b);this.scale9Data?(a.prototype._$set_scaleX.call(this,this._scaleX_=1),this._image_&&(this._image_.width=this._width_),this._sc9X_=b):(this._scaleX_=b,this._modle_.size(this._width_,this._height_),a.prototype._$set_scaleX.call(this,this._scaleX_),this._type2_|=5)});__getset(0,b,"scaleY",function(){return this.scale9Data?this._sc9Y_:this._scaleY_},function(b){var c=NaN,c=0==this._height_*this._scaleY_&&this.graphics?this.graphics.height:this._height_/this._scaleY_;this._height_=Math.abs(c*b);this.scale9Data?(a.prototype._$set_scaleX.call(this,this._scaleY_=1),this._image_&&(this._image_.height=this._height_),this._sc9Y_=b):(this._scaleY_=b,this._modle_.size(this._width_,this._height_),a.prototype._$set_scaleY.call(this,this._scaleY_),this._type2_|=5)});return c}(DisplayObject),Body=function(a){function c(){this._stage_=null;c.__super.call(this);this._stage_=Stage.stage;this._modle_.insert(this._stage_._modle_,0,1);if(Laya.CONCHVER){var b;conch.editborder=b=conch.createNode();this._modle_.insert(b,1,2);b.border("#28FFFA");b.bgcolor("#FFFFFF");b.show(!1)}Laya.CONCHVER&&conch.setRootNode(this._modle_)}__class(c,"iflash.laya.Body",!1,a);c.prototype._lyPaint_=function(b,a,c){var e=this.matrix;e&&e.isTransform()?(b.save(),a=-this._left_,c=-this._top_,0!=a||0!=c?(b.translate(a,c),b.transform(e.a,e.b,e.c,e.d,e.tx,e.ty),b.translate(-a,-c)):b.transform(e.a,e.b,e.c,e.d,e.tx,e.ty),b.beginPath(),a+=this._left_/this.scaleX,c+=this._top_/this.scaleY,b.rect(a,c,Stage.stage.stageWidth,Stage.stage.stageHeight),b.clip(),this._stage_._lyPaint_(b,a,c),b.restore()):(b.beginPath(),"noScale"==Stage.stage.scaleMode?b.rect(0,0,Stage.stage.stageWidth,Stage.stage.stageHeight):b.rect(this._left_,this._top_,Stage.stage.width,Stage.stage.height),b.clip(),this._stage_._lyPaint_(b,this._left_,this._top_))};return c}(DisplayObject),Video=function(a){function c(b,a){c.__super.call(this)}__class(c,"iflash.media.Video",!1,a);a=c.prototype;a.attachCamera=LAYAFNVOID;a.attachNetStream=LAYAFNVOID;a.clear=LAYAFNVOID;__getset(0,a,"deblocking",LAYAFN0,LAYAFNVOID);__getset(0,a,"smoothing",LAYAFNFALSE,LAYAFNVOID);__getset(0,a,"videoHeight",LAYAFN0);__getset(0,a,"videoWidth",LAYAFN0);return c}(DisplayObject),File=function(a){function c(b,a){this.isSymbolicLink=this.isPackage=this.isHidden=this._isDirectory=this.exists=this.downloaded=this._isApplicationStorageDirectory=this._isApplicationDirectory=!1;this.separator=this.parent=this.nativePath=this.lineEnding=null;this.spaceAvailable=NaN;this._data=this.urlLoader=this._statusHandler=this._name=this._extension=this._url=this.systemCharset=null;c.__super.call(this);null!=b&&(null!=a&&(this._statusHandler=a),this.url=b)}__class(c,"iflash.filesystem.File",!1,a);a=c.prototype;a.load=function(){this.nativePath.lastIndexOf("/")<this.nativePath.length-1&&(this.urlLoader=new URLLoader,this.urlLoader.dataFormat="binary",this.urlLoader.addEventListener("complete",__bind(this,this.onFileStatusComplete)),this.urlLoader.addEventListener("ioError",__bind(this,this.onFileStatusIOError)),this.urlLoader.load(new URLRequest(this.nativePath)))};a.onFileStatusIOError=function(b){this.exists=!1;this.urlLoader.close();this.dispatchEvent(new Event("fileStatusOk",!0))};a.onFileStatusComplete=function(b){this.exists=!0;this._data=b.target.data;this.urlLoader.close();this.dispatchEvent(new Event("fileStatusOk",!0))};a.getDirectoryListing=function(){return this._isApplicationStorageDirectory?FileStorage.instance.getList(this._url.replace("app-storage:/","")):null};a.resolvePath=function(b){return this._isApplicationStorageDirectory?new c(this._url+b):this._isApplicationDirectory?new c(this._url+b):null};a.deleteFile=LAYAFNVOID;a.deleteFileAsync=LAYAFNVOID;a.deleteDirectory=function(b){};a.copyTo=function(b,a){};a.moveTo=function(b,a){};a.deleteDirectoryAsync=function(b){};__getset(0,a,"isDirectory",function(){return this._isDirectory});__getset(0,a,"type",function(){return this._extension?"."+this._extension:null});__getset(0,a,"data",function(){return this._data});__getset(0,a,"extension",function(){return this._extension});__getset(0,a,"url",function(){return this._url},function(b){if(0==b.search("[a-zA-Z]:\\/"))throw Error("not support local file to read");if(0==b.indexOf("file:///"))throw Error("not support local file to read");if(0==b.indexOf("app:/"))this._isApplicationDirectory=!0,this._isApplicationStorageDirectory=!1,this._url=b,this.nativePath=(LAYABOX.APP_ROOT?LAYABOX.APP_ROOT:"")+b.replace("app:/",""),this._extension=-1<b.lastIndexOf(".")?b.substr(b.lastIndexOf(".")+1):null,this._name=-1<b.lastIndexOf("/")?b.substr(b.lastIndexOf("/")+1):null;else if(0==b.indexOf("app-storage:/"))this._isApplicationDirectory=!1,this._isApplicationStorageDirectory=!0,this._url=b,this.nativePath=(LAYABOX.APP_ROOT?LAYABOX.APP_ROOT:"")+b.replace("app-storage:/",""),this._extension=-1<b.lastIndexOf(".")?b.substr(b.lastIndexOf(".")+1):null,this._name=-1<b.lastIndexOf("/")?b.substr(b.lastIndexOf("/")+1):null,this.exists=FileStorage.instance.fileExist(this._url.replace("app-storage:/","")),this._data=FileStorage.instance.getFile(this._url.replace("app-storage:/",""));else throw Error("file address is invalid");});__getset(0,a,"name",function(){return this._name});__getset(1,c,"applicationDirectory",function(){return c._applicationDirectory},iflash.net.FileReference._$SET_applicationDirectory);__getset(1,c,"systemCharset",LAYAFNSTR,iflash.net.FileReference._$SET_systemCharset);__getset(1,c,"applicationStorageDirectory",function(){return c._applicationStorageDirectory},iflash.net.FileReference._$SET_applicationStorageDirectory);__getset(1,c,"separator",function(){return"\\"},iflash.net.FileReference._$SET_separator);c.getRootDirectories=LAYAFNNULL;c.createTempDirectory=function(){return new c};c.createTempFile=function(){return new c};c.lineEnding="\r\n";__static(c,["_applicationDirectory",function(){return this._applicationDirectory=new c("app:/")},"_applicationStorageDirectory",function(){return this._applicationStorageDirectory=new c("app-storage:/")}]);return c}(FileReference),ContextMenu=function(a){function c(){c.__super.call(this)}__class(c,"iflash.ui.ContextMenu",!1,a);a=c.prototype;a.clone=function(){return new NativeMenu};a.hideBuiltInItems=LAYAFNVOID;__getset(0,a,"builtInItems",LAYAFNNULL,LAYAFNVOID);__getset(0,a,"clipboardItems",LAYAFNNULL,LAYAFNVOID);__getset(0,a,"clipboardMenu",LAYAFNFALSE,LAYAFNVOID);__getset(0,a,"customItems",LAYAFNARRAY,LAYAFNVOID);__getset(0,a,"link",LAYAFNNULL,LAYAFNVOID);__getset(1,c,"isSupported",LAYAFNFALSE,iflash.display.NativeMenu._$SET_isSupported);return c}(NativeMenu),ContextMenuItem=function(a){function c(b,a,g,e){c.__super.call(this)}__class(c,"iflash.ui.ContextMenuItem",!1,a);a=c.prototype;a.clone=LAYAFNNULL;__getset(0,a,"caption",LAYAFNNULL,LAYAFNVOID);__getset(0,a,"separatorBefore",LAYAFNFALSE,LAYAFNVOID);__getset(0,a,"visible",LAYAFNFALSE,LAYAFNVOID);return c}(NativeMenuItem),GlowFilter=function(a){function c(b,a,g,e,f,h,k,l){void 0===b&&(b=0);void 0===a&&(a=1);void 0===g&&(g=6);void 0===e&&(e=6);void 0===f&&(f=1);void 0===h&&(h=1);void 0===k&&(k=!1);void 0===l&&(l=!1);c.__super.call(this,0,0,b,a,g,e,f,h,k,l,!1)}__class(c,"iflash.filters.GlowFilter",!1,a);return c}(DropShadowFilter),EmbedImage=function(a){function c(b,a,g){this._url=this._loader=null;void 0===a&&(a="auto");void 0===g&&(g=!1);c.__super.call(this,b,a,g)}__class(c,"iflash.display.EmbedImage",!1,a);a=c.prototype;a.load=function(b){this._url=b;null!=c._imgMap[this._url]?this.bitmapData=c._imgMap[this._url]:this._url&&(this._loader=new Loader,this._loader.contentLoaderInfo.addEventListener("complete",__bind(this,this.onComplete)),this._loader.contentLoaderInfo.addEventListener("ioError",__bind(this,this.onError)),this._loader.load(new URLRequest(this._url),c._loaderContent))};a.onComplete=function(b){this._loader&&(this.bitmapData=c._imgMap[this._url]=this._loader.content.bitmapData,this.clearLoader(),this.readyWork())};a.clearLoader=function(){this._loader.unloadAndStop();this._loader.contentLoaderInfo.removeEventListener("complete",__bind(this,this.onComplete));this._loader.contentLoaderInfo.removeEventListener("ioError",__bind(this,this.onError));this._loader=null};a.onError=function(b){console.log("IO Error:"+this._url)};c._imgMap={};__static(c,["_loaderContent",function(){return this._loaderContent=new LoaderContext(!1,ApplicationDomain.currentDomain)}]);return c}(Bitmap),DisplayObjectContainer=function(a){function c(){this.scale9Data=null;this._childs_=EventDispatcher.__NULLARRAY__;c.__super.call(this);this._type_|=32}__class(c,"iflash.display.DisplayObjectContainer",!1,a);var b=c.prototype;b._paintChild_=function(b,a,c,f,h){this._type_&16&&this.sortChildsByZIndex();h=f=0;var k,l;if(0<(f=(l=this._childs_).length))for(h=0;h<f;h++)null!=(k=l[h])&&k._type_&1024&&k.alpha&&k.conchPaint(b,a+k._left_,c+k._top_)};b.addChild=function(b){if(null==b)throw Error("param is null");if(null!=b._parent_)if(b._parent_==this){var a=this.childIndexOf(b);this.lyRemoveChildAt(a,!1)}else b._parent_.removeChild(b);this._childs_==EventDispatcher.__NULLARRAY__&&(this._childs_=[],Laya.RENDERBYCANVAS&&0==(this._type_&8)&&DrawChilds.insertUnit(this),this._type_|=8);Method.insert(this._childs_,this._childs_.length,b);this._modle_&&this._modle_.insert(b._modle_,this._childs_.length-1,this._childs_.length);b._parent_=this;EventDispatcher._isOpenTypeAdded&&b._dispatchAddedEvent(b);this._type_|=16384;b._propagateFlagsDown_(5);this._root_==Stage.stage&&b._lyToBody_();return b};b.swapAt=function(b,a){if(0<=b&&0<=a&&b!=a){var c=this._childs_[b],f=this._childs_[a];this._childs_[b]=f;this._childs_[a]=c;var h=f._id_;f._id_=c._id_;c._id_=h;this._modle_&&this._modle_.swap(c._modle_,f._modle_)}};b.childIndexOf=function(b){return this._childs_.indexOf(b)};b.addChildAt=function(b,a){if(!b)return null;if(1==b.deleted)return b;if(null!=b._parent_)if(b._parent_==this){var c=this.childIndexOf(b);if(a==c)return b;this.lyRemoveChildAt(c,!1)}else b._parent_.removeChild(b);this._childs_==EventDispatcher.__NULLARRAY__&&(this._childs_=[],Laya.RENDERBYCANVAS&&0==(this._type_&8)&&DrawChilds.insertUnit(this),this._type_|=8);Method.insert(this._childs_,a,b);this._firstDisplayUnit_;b._parent_=this;EventDispatcher._isOpenTypeAdded&&b._dispatchAddedEvent(b);this._type_|=16384;b._propagateFlagsDown_(5);this._root_==Stage.stage&&b._lyToBody_();b._modle_&&this._modle_&&this._modle_.insert(b._modle_,a,this._childs_.length);return b};b.getObjectsUnderPoint=LAYAFNNULL;b.removeChildAt=function(b){return this.lyRemoveChildAt(b)};b.lyRemoveChildAt=function(b,a){void 0===a&&(a=!0);if(0>b)return this;var c=this._childs_[b];this._childs_.splice(b,1);this._modle_&&this._modle_.removeAt(b,c._modle_,this._childs_.length);a&&(c._dispatchRemovedEvent(),this._root_==Stage.stage&&c._lyUnToBody_());c._parent_=null;c._type2_&=-6;Laya.document.activeElement&&Laya.document.activeElement.__owner__.root!=this.stage&&(Laya.document.activeElement.blur(),Laya.document.activeElement=null);return c};b.removeChild=function(b){this._type_|=16384;return this.lyRemoveChildAt(this.childIndexOf(b))};b.getChildAt=function(b){return this._childs_[b]};b.sortChildsByZIndex=function(){this.sortChildren(__bind(this,this._sort_))};b.getBounds=function(b,a){b||(b=this);a||(a=new Rectangle);this._getBounds_(b,a);b!=this&&(b==this._parent_?DisplayObject.HELPER_MATRIX.copy(this.matrix):Matrix.mul(DisplayObject.HELPER_MATRIX,b._getInvertedConcatenatedMatrix(),this._getConcatenatedMatrix()),DisplayObject.HELPER_MATRIX.transformBounds(a));this._type2_&=-5;return a};b._getBounds_=function(b,a){null==a&&(a=new Rectangle);var c=this._childs_.length,f;if(0==c)a.setTo(0,0,0,0);else if(1==c)f=this._childs_[0],f._getBounds_(this,a),f.matrix.transformBounds(a);else{for(var h=Number.MAX_VALUE,k=-Number.MAX_VALUE,l=Number.MAX_VALUE,m=-Number.MAX_VALUE,n=0;n<c;++n){f=this._childs_[n];var p=DisplayObject.HELPER_RECTANGLET.setTo(0,0,0,0);f._getBounds_(this,p);f.matrix.transformBounds(p);h>p.x&&(h=p.x);k<p.right&&(k=p.right);l>p.y&&(l=p.y);m<p.bottom&&(m=p.bottom)}a.setTo(h,l,k-h,m-l)}0>a.width&&(a.x-=a.width,a.width=Math.abs(a.width));0>a.height&&(a.y-=a.height,a.height=Math.abs(a.height));a||(a.width*=this.scaleX,a.height*=this.scaleY);return a};b._hitTest_=function(b,a){if(!this.visible||!this._checkHitMask(b,a)||!this._checkHitScrollRect(b,a))return null;this._private_._scrollRect_&&(b+=this._private_._scrollRect_.x,a+=this._private_._scrollRect_.y);for(var c=null,f=0,h=this._childs_.length,k=[],f=0;f<h;f++)c=this._childs_[f],c instanceof iflash.display.InteractiveObject?k.push(c):k.unshift(c);for(f=h-1;0<=f;f--)if(c=k[f],c instanceof iflash.display.InteractiveObject){if(this.getTransformMatrix(c,DisplayObject.HELPER_MATRIX),MatrixUtil.transformCoords(DisplayObject.HELPER_MATRIX,b,a,DisplayObject.HELPER_POINT),c=c._hitTest_(DisplayObject.HELPER_POINT.x,DisplayObject.HELPER_POINT.y)){if(c instanceof iflash.display.Sprite)if(h=c,!h.mouseChildren&&!h.mouseEnabled){if(1==h.numChildren&&h.graphicsHited(DisplayObject.HELPER_POINT.x,DisplayObject.HELPER_POINT.y))return this;continue}else if(!h.mouseEnabled&&this.mouseChildren){if(1==this.numChildren&&this.mouseEnabled)return this;continue}return this.mouseChildren?c:this}}else if(this.getTransformMatrix(c,DisplayObject.HELPER_MATRIX),MatrixUtil.transformCoords(DisplayObject.HELPER_MATRIX,b,a,DisplayObject.HELPER_POINT),c=c._hitTest_(DisplayObject.HELPER_POINT.x,DisplayObject.HELPER_POINT.y))return this;return null};b.setChildIndex=function(b,a){this.addChildAt(b,a)};b.getChildIndex=function(b){return this._childs_.indexOf(b)};b._sort_=function(b,a){return b._to_sort_d-a._to_sort_d};b.getChildByName=function(b){var a,c;for(c in this._childs_)if(a=this._childs_[c],a.name==b)return a;return null};b.sortChildren=function(b){if(0!=(this._type_&16384)){var a;"string"==typeof b&&(a=b,b=function(b,c){return c[a]-b[a]});this._childs_.sort(b);this._type_&=-16385}};b.swapChildrenAt=function(b,a){var c=this._childs_[b];this._modle_.swap(c._modle_,this._childs_[a]._modle_);this._childs_[b]=this._childs_[a];this._childs_[a]=c;this._type_|=16384};b.swapChildren=function(b,a){var c=this._childs_.indexOf(b),f=this._childs_.indexOf(a);this.swapChildrenAt(c,f)};b._lyToBody_=function(){this.dispatchAdd(this);iflash.display.DisplayObject.prototype._lyToBody_.call(this)};b.dispatchAdd=function(b){for(var a=b._childs_.length,c=0;c<a;)b._childs_[c]._lyToBody_(),c++};b._lyUnToBody_=function(){iflash.display.DisplayObject.prototype._lyUnToBody_.call(this);this.dispatchUnAdd(this)};b.dispatchUnAdd=function(b){for(var a=b._childs_.length,c=0;c<a;)b._childs_[c]._lyUnToBody_(),c++};b.contains=function(b){if(null==this._childs_)return!1;var a={flag:!1};this.checkContainsByChild(this,b,a);return a.flag};b.checkContainsByChild=function(b,a,c){if(b==a)c.flag=!0;else if(b instanceof iflash.display.DisplayObjectContainer)for(var f=0,h=b._childs_.length;f<h;f++)this.checkContainsByChild(b._childs_[f],a,c)};b.removeChildren=function(b,a){void 0===b&&(b=0);void 0===a&&(a=2147483647);if(0!=this.numChildren)for(0>b&&(b=0),a>this.numChildren&&(a=this.numChildren-1);a>=b;)this.lyRemoveChildAt(a),a--};b._propagateFlagsDown_=function(b){if((this._type2_&b)!=b){for(var a,c=this._childs_.length,f=0;f<c;f++)a=this._childs_[f],a._propagateFlagsDown_(b);this._type2_|=b}};b.setupReadyNoticeWork=function(b){void 0===b&&(b=!1);iflash.display.DisplayObject.prototype.setupReadyNoticeWork.call(this,b);if(!this.isReadyForDraw&&this._childs_&&!(1>this._childs_.length)){var a=b=0,a=this._childs_.length,c;for(b=0;b<a;b++)c=this._childs_[b],c.setupReadyNoticeWork(!0)}};b.oneChildReady=function(){this.isReadyForDraw&&this.readyWork()};b.updateScaleData=function(b){void 0===b&&(b=0);this.scale9Data&&(b=this._childs_[b],null==b.scale9Data&&(b.scale9Data={}),b.scale9Data.x1=this.scale9Data.x1-b.x,b.scale9Data.y1=this.scale9Data.y1-b.y,b.scale9Data.x2=this.scale9Data.x2-b.x,b.scale9Data.y2=this.scale9Data.y2-b.y,this._width_!=b._width_&&(b.width=this.width),this._height_!=b._height_&&(b.height=this.height))};b.layaDestory=function(){iflash.display.DisplayObject.prototype.layaDestory.call(this);for(var b=0,a=this._childs_.length;b<a;b++)this._childs_[b].layaDestory();this._childs_.length=0};__getset(0,b,"numChildren",function(){return this._childs_.length});__getset(0,b,"tabChildren",LAYAFNFALSE,LAYAFNVOID);__getset(0,b,"mouseChildren",function(){return 0!=(this._type_&32)},function(b){this._type_=b?this._type_|32:this._type_&-33});__getset(0,b,"scaleX",a.prototype._$get_scaleX,function(b){a.prototype._$set_scaleX.call(this,b)});__getset(0,b,"scaleY",a.prototype._$get_scaleY,function(b){a.prototype._$set_scaleY.call(this,b)});__getset(0,b,"isReadyForDraw",function(){if(!this._childs_||1>this._childs_.length)return!0;for(var b=0,a=0,a=this._childs_.length,c,b=0;b<a;b++)if((c=this._childs_[b])&&!c.isReadyForDraw)return!1;return!0});__getset(0,b,"width",function(){return this.scale9Data?0>=this._width_?a.prototype._$get_width.call(this):this._width_:a.prototype._$get_width.call(this)},function(b){if(this._width_!=b){this.scaleX=1;var a=this.getBounds(this).width;a&&(this.scaleX=b/a);this._width_!=b&&this.lySize(b,this._height_)}});__getset(0,b,"height",function(){return this.scale9Data?0>=this._height_?a.prototype._$get_height.call(this):this._height_:a.prototype._$get_height.call(this)},function(b){if(this._height_!=b){this.scaleY=1;var a=this.getBounds(this).height;a&&(this.scaleY=b/a);this._height_!=b&&this.lySize(this._width_,b)}});return c}(InteractiveObject),TextField=function(a){function c(){this.formatIndices=[];this._scroller=null;this._inputting=!1;this._nodeIndex=0;c.__super.call(this);this._lines=[];this._originFormats=[];this._formats=[];this._nodeCoordinate=new Point;this.nodes=new TextNodeList;this._textHeight=this._textWidth=4;this._autoSizeWidth=this._height=this._autoSizeWidth=this._width=100;this._modle_.size(this._width,this._height+5);this._selectable=!0;Laya.RENDERBYCANVAS&&DrawText.insertUnit(this);DrawText.insertUnit(this);this.viewport=[0,0,this._width,this._height];this._htmlText=this._text="";this._type="dynamic";this._df=c.DF;this.addEventListener("addedToStage",__bind(this,this.onTextAdded))}__class(c,"iflash.text.TextField",!1,a);var b=c.prototype;b.onTextAdded=function(b){this.addEventListener("mouseUp",__bind(this,this.onTextFocus),!1,-99);this.addEventListener("removedFromStage",__bind(this,this.onTextRemoved));this.removeEventListener("addedToStage",__bind(this,this.onTextAdded))};b.onTextRemoved=function(b){this.addEventListener("addedToStage",__bind(this,this.onTextAdded));this.removeEventListener("click",__bind(this,this.onTextFocus));this._scroller&&this._scroller.removeEventListener("timer",__bind(this,this.onTextScroll))};b.onBrowserInputKeyDown=function(b){13==b.keyCode&&(b.returnValue=!1,b.preventDefault())};b.onMaxCharsLimit=function(b){Browser.input.value.length>this._maxChars&&(Browser.input.value=Browser.input.value.substr(0,this._maxChars))};b.onTextFocus=function(b){if(this.stage){if(this._links&&this._links.length)this._caretIndex=this.getCharIndexAtPoint(this.mouseX,this.mouseY,!0),this.checkLinkEvent(this._caretIndex);else if("input"==this._type){if(this._inputting){Driver.enableTouch()&&this.checkTextFocusout(null);return}c.onMobile&&Driver.deactivateTouchEvent();this._inputting=!0;c.isInputting=!0;this._caretIndex=this.getCharIndexAtPoint(this.mouseX,this.mouseY,!0);this.stage.currentFocus!=this&&(b=this._getConcatenatedMatrix(),Browser.input.setType(this._disAsPass?"password":"text"),Laya.CONCHVER||!Driver.enableTouch()?(Browser.input.setColor(StringMethod.getColorString(this._df.color)||"#000000"),Browser.input.setSize(this._width,this._height),Browser.input.setFont(this._df.font||"Times New Roman"),Browser.input.setFontSize(this._df.size||12),Browser.input.setScale(this.scaleX*Laya.window.scale.x*b.a,this.scaleY*Laya.window.scale.y*b.d),Laya.CONCHVER&&(this._modle_.setHideText(!0),this._maxChars?Browser.input.setMaxLength(this._maxChars):Browser.input.setMaxLength(1E8),this._restrict&&""!=this._restrict?Browser.input.setRegular("["+this._restrict+"]"):Browser.input.setRegular(".*")),Browser.input.value=this._text,b=new Point(b.tx,b.ty),Browser.input.setPos(b.x*Laya.window.scale.x+Laya.document.body.x,b.y*Laya.window.scale.y+Laya.document.body.y)):(Browser.input.setPos(0,0),Browser.input.clear(),Browser.input.setSize(c.initialWindowWidth,this._multiline?c.textAreaHeight:c.inputHeight),Browser.input.setFontSize(c.inputFontSize),Browser.input.style.background="Linen",Browser.input.style.borderTop="3px solid orange",Browser.input.style.borderBottom="3px solid orange",Browser.input.value=this._text,window.document.body.scrollTop=0),Laya.CONCHVER||(c.onMobile||(Browser.addToBody(Browser.input),Browser.input.setAlign(this._df.align||"left")),Browser.input.style.whiteSpace=this._wordWrap||this._multiline?"normal":"nowrap",Browser.input.onkeydown=this._multiline?null:this.onBrowserInputKeyDown,Browser.input.oninput=0<this._maxChars?this.onMaxCharsLimit.bind(this):null),Browser.input.target=this,c.onMobile||Browser.input.focus(),Stage.stage.addEventListener("mouseDown",__bind(this,this.checkTextFocusout)));Browser.input.addEventListener("input",__bind(this,this.dispathInput));var a=this._caretIndex;0>a?a=0:a>this._text.length&&(a=this._text.length)}this.stage&&this.stage.currentFocus!=this&&this._selectable&&(this.dispatchEvent(new FocusEvent("focusIn")),this.stage.currentFocus=this);"input"==this.type&&this.setHtmlInputCaret(a)}};b.checkTextFocusout=function(b){b&&b.target==this||(this._inputting=!1,c.isInputting=!1,this._text=Browser.input.value,!Laya.CONCHVER&&this._restrict&&(this._text=this._text.replace(this._restrict,"")),this._formats[0]=this._formats[0]||{begin:0,end:0},this._formats[0].format=this._df,this._formats[0].end=this._text.length,this.engine_updateStyle(),Laya.CONCHVER&&(this._modle_.setHideText(!1),this.dispathInput()),Browser.input.removeEventListener("input",__bind(this,this.dispathInput)),Stage.stage.removeEventListener("mouseDown",__bind(this,this.checkTextFocusout)),Browser.removeFromBody(Browser.input),Browser.input.setSize(1,1),Browser.input.setPos(0,-2E3),c.onMobile&&Driver.activateTouchEvent());Stage.stage.focus=null;this.dispatchEvent(new FocusEvent("focusOut"))};b.checkLinkEvent=function(b){for(var a,c=this._links.length-1;0<=c;c--)if(a=this._links[c],b>=a.begin&&b<a.end){"string"==typeof a.event?iflash.net.navigateToURL(a.event):this.dispatchEvent(a.event);break}};b.addToRender=function(){-1==c.TextsToRender.indexOf(this)&&c.TextsToRender.push(this)};b.renderThis=function(){var b=c.TextsToRender.indexOf(this);return-1!=b?(c.TextsToRender.splice(b,1),this.engine_updateStyle(),!0):!1};b.engine_updateStyle=function(){if(""==this._text)this.engine_clear(),this.updateViewportSize();else{this._textWidth=0;this._lines.length=0;this._currLineInfo=null;this._nodeCoordinate.setTo(2,2);this._nodeIndex=0;if(this._text.length){if(this._disAsPass){this._charsToRender="";for(var b=this._text.length;0<b;b--)this._charsToRender+="*"}else this._charsToRender=this._text;for(var a=this._formats.length,c,b=0;b<a;b++)c=this._formats[b],this.createStyleFromTextFormat(c.begin,c.end-1,c.format);"input"==this._type&&"\n"==this._text.charAt(this._text.length-1)&&this.pushNewLineToLines();if(b=this._lines.length)if(this._textHeight=this._lines[b-1].y+this._lines[b-1].height,(!this._autoSize||"none"==this._autoSize)&&this._textHeight>this._height){for(--b;0<=b;b--)if(this._textHeight-this._lines[b].y>this._height){this._maxScrollV=b+2;break}this._bottomScrollV=this.getBottomScrollV(this._scrollV)}else this._bottomScrollV=this._lines.length;else this._maxScrollV=this._textHeight=0;this.engine_layout(!0);this.checkActiveScroll();this._charsToRender=null}this.updateViewportSize();this.autosize()}};b.pushNewLineToLines=function(){this._lines.push({text:"",maxLeading:0,y:this._lines[this._lines.length-1].y+this._df.size+(this._df.leading?this._df.leading:0),height:this._df.size+3,width:0,nodes:[{x:2,firstCharIndex:this._text.length,lastCharIndex:this._text.length,format:this._df,text:""}],begin:this._text.length-1,end:this._text.length-1,isFirstLineOfParagraph:!1})};b.createStyleFromTextFormat=function(b,a,c){var f=this._charsToRender.substring(b,a+1);this._currLineInfo||(this._currLineInfo={text:"",maxLeading:0,y:this._nodeCoordinate.y,height:0,width:0,nodes:[],begin:b,end:b,isFirstLineOfParagraph:this._isNextLineNewParagraph},this._lines.push(this._currLineInfo));this._isNextLineNewParagraph=!1;var h=f.indexOf("\n");if(-1==h)if(h=c.measureText(f).width,!this._wordWrap||this.stuffEnough(this._nodeCoordinate.x+h,c)||"static"==this._type)this.createNodeStyle(f,this._nodeIndex,c,h),this._nodeCoordinate.x+=h,this._nodeIndex+=f.length;else if(h=c.measureText(f.charAt(0)).width,!this.stuffEnough(this._nodeCoordinate.x+h,c)&&0<this._currLineInfo.text.length)this.resetToNewline(c),this.createStyleFromTextFormat(b,a,c);else for(var k=0,l=1,m=f.length;l<m;l++){if(k=c.measureText(f.charAt(l)).width,h+=k,!this.stuffEnough((c.indent&&this._currLineInfo.isFirstLineOfParagraph?c.indent:0)+this._nodeCoordinate.x+h,c,!1)){(m=/\b\w+$/.exec(f.substring(0,l)))&&(l=0==m.index?f.length:m.index);this.createNodeStyle(f.substring(0,l),this._nodeIndex,c,h-k);this._nodeIndex+=l;this.resetToNewline(c);b+1<=a&&this.createStyleFromTextFormat(b+l,a,c);break}}else this._isNextLineNewParagraph=!0,"\n"==f?(this._currLineInfo.text+="\n",this._currLineInfo.height||(this._currLineInfo.height=c.size?c.size:12),this._currLineInfo.nodes.push({x:2,firstCharIndex:b,lastCharIndex:b,format:c,text:"\n"}),this.resetToNewline(c)):(this.createStyleFromTextFormat(b,b+h-1,c),this._currLineInfo.text+="\n",this._currLineInfo.nodes.length&&(this._currLineInfo.nodes[this._currLineInfo.nodes.length-1].text+="\n"),this._currLineInfo.height||(this._currLineInfo.height=c.size?c.size:12),this._currLineInfo.end++,this.resetToNewline(c),b+h+1<=a&&this.createStyleFromTextFormat(b+h+1,a,c))};b.resetToNewline=function(b){this._nodeIndex=0;this._nodeCoordinate.x=2;this._nodeCoordinate.y+=this._currLineInfo.height+(b.leading?b.leading:0)+c.LINE_LEADING;this._currLineInfo=null};b.createNodeStyle=function(b,a,c,f){var h={};h.x=this._nodeCoordinate.x;this._currLineInfo.nodes.push(h);h.firstCharIndex=a;h.lastCharIndex=h.firstCharIndex+b.length-1;h.format=c;Laya.CONCHVER&&(c._strokeColor=this.strokeColor);h.text=b;this._currLineInfo.text+=b;this._currLineInfo.end+=b.length-1;this._currLineInfo.height=Math.max(c.measureText(this._currLineInfo.text).height,this._currLineInfo.height);this._currLineInfo.width+=f;this._currLineInfo.maxLeading=Math.max(this._currLineInfo.maxLeading,c.leading?Number(c.leading):0);this._textWidth=Math.max(this._textWidth,this._currLineInfo.width)};b.engine_layout=function(b){void 0===b&&(b=!1);Laya.CONCHVER&&(this.conchNodes=this.conchNodes||new ConchArrayTextStr,this.conchNodes.clear());this.nodes.clear();for(var a,c,f=0,h,k,l=0,m=0,n=this._lines.length,p=0;p<n;p++){if(this._textHeight>this._height&&(!this._autoSize||"none"==this._autoSize))if(p<this._scrollV-1)continue;else if(p>=this._bottomScrollV)break;a=this._lines[p];c=a.nodes;if(f=c.length){h=c[0];k=h.format;m=a.y;l=h.x;h=k.align;!b||this._autoSize&&"none"!=this._autoSize&&!this._wordWrap||("center"==h?l+=(this._width-a.width)/2:"right"==h&&(l+=this._width-a.width-2-2));b&&(a.isFirstLineOfParagraph&&k.indent&&(l+=k.indent),l+=k.blockIndent?k.blockIndent:0);for(var q=0;q<f;q++){h=c[q];k=h.format;var r=int(k.letterSpacing),v=k.measureText(h.text),t,u=k.getFont(),w=StringMethod.getColorString(Number(k.color)||0),x=k.underline?v.width-(k.letterSpacing?k.letterSpacing:0):0;Laya.CONCHVER&&(t=new ConchTextStr,t.font=u,t.fillStyle=w,t.x=l,t.y=m+a.height-(v.height||k.size),t.letterSpacing=r,t.text=h.text,t.underlineWidth=x,this.conchNodes.push(t));t={};this.nodes.push(t);t.font=u;t.fillStyle=w;t.x=l;t.y=m+a.height-(v.height||k.size);t.letterSpacing=r;t.text=h.text;t.underlineWidth=x;t.underlineY=a.y+a.height;b&&(h.x=l);if(r)for(r=[],v=h.text.length,t.lettersX=r,t=0;t<v;t++)u=h.text.charAt(t),r.push(l),l+=k.measureText(u).width;else l+=v.width}}}Laya.CONCHVER&&this._modle_.textStrs(this.conchNodes)};b.checkActiveScroll=function(){!this._selectable||"dynamic"!=this._type||this._autoSize&&"none"!=this._autoSize||!(this._textWidth>this._width||this._textHeight>this._height)||"static"==this._type||this._scroller||(this._scrollV=1,this._scroller=new Timer(100),this._scroller.addEventListener("timer",__bind(this,this.onTextScroll),!1,0,!0),this.addEventListener("mouseDown",__bind(this,this.onTextMouseDown),!1,0,!0))};b.onTextMouseDown=function(b){this._scroller&&(this._scroller.start(),this._mouseDownX=this.mouseX,this._mouseDownY=this.mouseY);Stage.stage.addEventListener("mouseUp",__bind(this,this.onTextMouseUp))};b.onTextMouseUp=function(b){Stage.stage.removeEventListener("mouseUp",__bind(this,this.onTextMouseUp));this._scroller&&this._scroller.stop()};b.onTextScroll=function(b){if(0!=this._lines.length){b=this.mouseX-this._mouseDownX;var a=0,a=this.mouseY==this._mouseDownY?0:this.mouseY<this._mouseDownY?1:-1;this.scrollVWithoutRender(this._scrollV+a);this.scrollHWithoutRender(this.viewport[0]+b);this.engine_layout()}};b.autosize=function(){if(!this._wordWrap)switch(this._autoSize){case "center":a.prototype._$set_x.call(this,(this._autoSizeX||0)-this._textWidth/2);break;case "right":a.prototype._$set_x.call(this,(this._autoSizeX||0)-this._textWidth-2);break;case "left":case "none":a.prototype._$set_x.call(this,this._autoSizeX||0)}};b.updateViewportSize=function(){var b=0,a=0;"none"!=this.autoSize&&this.autoSize?(b=this._wordWrap?this._width:this._textWidth+2+2,a=(this._textHeight||this._df.size)+2+2):(b=this._width,a=this._height);this.viewport[2]=b;this.viewport[3]=a;this._modle_.size(this.viewport[2]+5,this.viewport[3]+10)};b.engine_clear=function(b){void 0===b&&(b=!1);this.nodes.clear();this.conchNodes&&this.conchNodes.clear();Laya.CONCHVER&&this._modle_.textStrs(this.conchNodes);this._lines.length=0;this._numLines=1;this._textHeight=this._textWidth=0;this._text="";this._charsToRender=this._htmlText=null;this._nodeIndex=0;var a=c.TextsToRender.indexOf(this);-1<a&&c.TextsToRender.splice(a,1);"input"==this._type&&b&&(Browser.input.value="")};b.dispathInput=function(){this.dispatchEvent(new TextEvent("textInput"));Laya.CONCHVER||!Driver.enableTouch()?this._text=Browser.input.value:this.text=Browser.input.value;this.dispatchEvent(new Event("change"))};b.appendText=function(b){this._text&&(b=this._text+b);this._originFormats.length=0;this._text=b.toString();this._nodeIndex=0;this._originFormats.push({begin:0,end:this._text.length,format:this._df});this.createFormats();this.addToRender()};b.getCharBoundaries=function(b,a){void 0===a&&(a=!1);if(b>=this._text.length||0>b)return null;a||this.renderThis();var c=new Rectangle,f=this._lines[this.getLineIndexOfChar(b)];b-=f.begin;var h=this.getNodeFromLineByIndex(b,f);b-=h.firstCharIndex;var k=h.format,l=k.measureText(h.text.substring(0,b));c.x=h.x+l.width;h=h.text.charAt(b);l=k.measureText(h);c.y=f.height-l.height+f.y;c.width=l.width;c.height=l.height;return c};b.getCharIndexAtPoint=function(b,a,c){void 0===c&&(c=!1);if(!this._text||""==this._text||0==this._text.length)return 0;this.renderThis();b+=this.viewport[0];a+=this.viewport[1];var f=0;if(a<this._textHeight){var h,k=this._scrollV?this._scrollV-1:0;for(k;k<this._bottomScrollV&&!(h=this._lines[k],a<h.y+h.height);k++);}if(!h)if(c)h=this._lines[this._lines.length-1];else return-1;if(b>h.width+h.nodes[0].x)return c?"\n"==this._text.charAt(h.end)?h.end:h.end+1:-1;a=h.nodes;for(var l,m,n=0,p=0,q=a.length,k=0;k<q;k++){l=a[k];m=l.format;var n=l.x,r=l.text.length;if(!r)return h.end;for(var v=0;v<r;v++){p=l.text[v];if("\n"==p&&c)return h.end;p=m.measureText(p).width;n+=p;f++;if(n>b)return n-=m.letterSpacing?m.letterSpacing:0,c?n-(p>>1)<b?f+h.begin:f+h.begin-1:f+h.begin-1}}return-1};b.getFirstCharInParagraph=function(b){return 0};b.getImageReference=function(b){return null};b.getLineIndexAtPoint=function(b,a){this.renderThis();var c=this.getCharIndexAtPoint(b,a);return this.getLineIndexOfChar(c)};b.getLineIndexOfChar=function(b){if(0>b||b>=this._text.length)return-1;this.renderThis();for(var a=this._lines.length,c,f=0;f<a;f++)if(c=this._lines[f],b>=c.begin&&b<=c.end)return f;return this._lines.length-1};b.getLineLength=function(b){this.renderThis();return this._lines[b].text.length};b.getLineMetrics=function(b){this.renderThis();if(0>b||b>=this._lines.length)return new TextLineMetrics(0,0,this._df.size+TextFormat.HEI_OFF,0,0,0);b=this._lines[b];return new TextLineMetrics(b.nodes?b.nodes[0].x:0,b.width,b.height,0,0,b.maxLeading)};b.getLineOffset=function(b){this.renderThis();return this._lines[b].begin};b.getLineText=function(b){this.renderThis();return this._lines[b].text};b.getParagraphLength=function(b){return 0};b.getTextFormat=function(b,a){void 0===b&&(b=-1);void 0===a&&(a=-1);if(-1==b&&-1==a)return this._df.clone();var c;if(-1!=b&&-1!=a){for(var f=this._originFormats.length-1;0<=f;f--)if(c=this._originFormats[f],c.begin==b&&c.end==a)return c.format.clone();return null}if(-1!=b&&-1==a)for(f=this._originFormats.length-1;0<=f;f--)if(c=this._originFormats[f],b>=c.begin&&b<c.end)return c.format;return null};b.replaceText=function(b,a,c){var f=this._text.substring(0,b),h=this._text.substring(a);this._text=f+c+h;for(var h=0,k=this._originFormats.length;h<k;h++)f=this._originFormats[h],f.begin<=b&&f.end>=b&&(f.end+=c.length-(a-b));this.createFormats();this.addToRender()};b.setSelection=function(b,a){};b.setTextFormat=function(b,a,c){if(this._text&&this._text.length){this._formats=[];1==arguments.length?(a=0,c=this.text.length):2==arguments.length&&(c=a+1);this.addToRender();for(var f,h=this._originFormats.length-1;0<=h;h--)if(f=this._originFormats[h],f.begin==a&&f.end==c){this._originFormats[h].format=this.mixTextFormats([this._originFormats[h].format,b]);this.createFormats();return}this.insertFormt(b,a,c);this.createFormats()}};b.numberSortCallback=function(b,a){return b>a?1:-1};b.createFormats=function(){this._originFormats.length||this._originFormats.push({begin:0,end:this._text.length,format:this._df});this._formats.length=0;this.formatIndices.push(0,this._text.length);this.formatIndices.sort(__bind(this,this.numberSortCallback));for(var b=this.formatIndices[this.formatIndices.length-1],a=this.formatIndices.length-2;0<=a;a--)(this.formatIndices[a]==b||this.formatIndices[a]>this._text.length)&&this.formatIndices.splice(a,1),b=this.formatIndices[a];this.formatIndices[this.formatIndices.length-1]>this._text.length&&this.formatIndices.pop();b=this.formatIndices.length-1;for(a=0;a<b;a++){var c=this.getRelateTextForamts(this.formatIndices[a]);this._formats.push({format:this.mixTextFormats(c),begin:this.formatIndices[a],end:this.formatIndices[a+1]})}this.addToRender()};b.getBottomScrollV=function(b){if(0==this._lines.length||b>this._lines.length)return 0;if(1==this._lines.length)return 1;if(this._textHeight<this._height)return this._lines.length;var a=this._lines.length;for(--b;b<a;b++)if(this._lines[b].y+this._lines[b].height>this._height+this.viewport[1])return b;return a};b.getRelateTextForamts=function(b){for(var a=[],c=this._originFormats.length,f=0;f<c;f++){var h=this._originFormats[f];b>=h.begin&&b<h.end&&a.push(h.format)}return a};b.mixTextFormats=function(b){for(var a,c=b[b.length-1].clone(),f=b.length-2;0<=f;f--)a=b[f],c._align=c._align&&"left"!=c._align?c._align:a._align,c._bold=c._bold||a._bold,c._color=c._color||a._color,c._font=c._font||a._font,c._italic=c._italic||a._italic,c._leading=c._leading||a._leading,c._leftMargin=c._leftMargin||a._leftMargin,c._letterSpacing=c._letterSpacing||a._letterSpacing,c._size=c._size||a._size,c._underline=c._underline||a._underline;c._strokeColor=this.strokeColor;return c};b.stuffEnough=function(b,a,c){void 0===c&&(c=!0);return b+(c&&a.leftMargin?a.leftMargin:0)+(a.blockIndent?a.blockIndent:0)+(a.rightMargin?a.rightMargin:0)<=this._width-2};b.maxCharsLimit=function(b){0<this._maxChars&&b.length>this._maxChars&&(this._text.length>=this._maxChars?b.length>this._text.length?b=this._text:8==this._lastPressKey&&this._caretIndex--:b=b.substr(0,this._maxChars),Browser.input.value=b,this.setHtmlInputCaret(this._caretIndex));return b};b.replaceSelectedText=function(b){};b.lyclone=function(){var b=new c;this.getTextResult(b);return b};b.getTextResult=function(b){b._autoSize=this._autoSize;b.maxChars=this.maxChars;b.border=this.border;b._multiline=this._multiline;b._textHeight=this._textHeight;b._textWidth=this._textWidth;b._width=this._width;b._height=this._height;this._wordWrap&&(b._wordWrap=this._wordWrap);b.type=this._type;this.tempBound&&(b.tempBound=this.tempBound);b.x=this.x;b.y=this.y;this._df!=c.DF&&(b._df=this._df.clone());this._htmlText?b.htmlText=this._htmlText:b.text=this._text;b.strokeColor=this.strokeColor;b.strokeThickness=this.strokeThickness};b.parseHTMLText=function(b){if(null!=b){var a=b.nodeName;if("#text"==a||"#cdata-section"==a)this._text+=b.textContent;else if(b.length)if(a=b.length,1==a&&3==b[0].nodeType)this._text+=b[0].textContent;else for(var c=0;c<a;c++)this.parseHTMLText(b[c]);else{var c=this._text.length,f=new TextFormat;b.childNodes&&!b.childNodes.length?b.firstChild&&3==b.firstChild.nodeType&&(this._text+=b.textContent):this.parseHTMLText(b.childNodes);var h=function(a){if(Laya.CONCHVER)for(var c=b.attributes,g=c.length-1;0<=g;g--){if(c[g].nodeName==a||c[g].nodeName==a.toUpperCase())return c[g].nodeValue}else return b.getAttribute(a)||b.getAttribute(a.toUpperCase())},a=a.toLowerCase();switch(a){case "b":f.bold=!0;break;case "br":this._text+="\n";break;case "font":var k=h("color");k&&(f.color=String(k).replace("#","0x"),f.color=Laya.__parseInt(f.color,16));if(k=h("face"))f.font=k;if(k=h("size")){var l=k.charAt(0);f.size="+"==l?Number(f.size)+Laya.__parseInt(k):"-"==l?Number(f.size)-Laya.__parseInt(k):h("size")}break;case "i":f.italic=!0;break;case "p":if(h=h("align"))f.align=h;this._multiline&&(this._text+="\n");break;case "textformat":if(k=h("blockindent"))f.blockIndent=k;if(k=h("indent"))f.indent=k;if(k=h("leading"))f.leading=k;if(k=h("leftmargin"))f.leftMargin=k;if(h=h("rightmargin"))f.rightMargin=h;break;case "u":f.underline=!0;break;case "a":h=h("href"),this._links||(this._links=[]),h||(h=""),0==h.indexOf("event:")?(k=new TextEvent("link"),k.text=h.substr(6),this._links.push({event:k})):this._links.push({event:h})}"a"==a?(this._links[this._links.length-1].begin=c,this._links[this._links.length-1].end=this._text.length):this.insertFormt(f,c,this._text.length,!1)}}};b.insertFormt=function(b,a,c,f){void 0===f&&(f=!0);b={begin:a,end:c,format:b.clone()};f?this._originFormats.push(b):this._originFormats.unshift(b);this.formatIndices.push(a,c)};b._getBounds_=function(b,a){a||(a=new Rectangle);"input"==this._type?a.setTo(this.viewport[0],this.viewport[1],this._width,this._height):a.setTo(this.viewport[0],this.viewport[1],this.width,this.height);return a};b._hitTest_=function(b,a){return this.visible&&this.mouseEnabled&&this._checkHitMask(b,a)?this._getBounds_(this,DisplayObject.HELPER_RECTANGLET).containsPoint(DisplayObject.HELPER_POINT.setTo(b,a))?this:null:null};b._paintChild_=function(b,a,c,f,h){this.renderThis();DrawText.drawBG(b,a,c,this);DrawText.printText(this,b,a,c)};b.getLineIndex=function(b){for(var a=this._lines.length-1;0<=a;a--)if(this._lines[a]==b)return a;return-1};b.getNodeFromLineByIndex=function(b,a){for(var c=a.nodes,f,h=c.length,k=0;k<h;k++)if(f=c[k],b>=f.firstCharIndex&&b<=f.lastCharIndex)return f;return c[h-1]};b.setHtmlInputCaret=function(b){b=Math.max(this._text.length,b);Browser.input.setSelectionRange(b,b)};b.scrollVWithoutRender=function(b){if(!(0>b||b>this._lines.length))if(1<this._maxScrollV){var a=this._scrollV;this._scrollV=Math.max(b,1)|0;this._scrollV=Math.min(this._scrollV,this._maxScrollV)|0;this._scrollV>this._maxScrollV&&a==this._scrollV||(this.viewport[1]=this._lines[this._scrollV-1].y,this._bottomScrollV=this.getBottomScrollV(this._scrollV),this._modle_.textView(this.viewport[0],this.viewport[1]),this.dispatchEvent(new Event("scroll")))}else this._bottomScrollV=this._lines.length,this._scrollV=1,this.viewport[1]=0,this._modle_.textView(this.viewport[0],this.viewport[1])};b.scrollHWithoutRender=function(b){0>b?b=0:b>this.maxScrollH&&(b=this.maxScrollH);this.viewport[0]!=b&&(this.viewport[0]=b,this._modle_.textView(this.viewport[0],this.viewport[1]),this.dispatchEvent(new Event("scroll")))};b.layaDestory=function(){this.nodes=this._df=null;this._scroller&&(this._scroller.stop(),this._scroller.removeEventListener("timer",__bind(this,this.onTextScroll)),this._scroller=null);this._nodeCoordinate=this._currLineInfo=this._lines=this._formats=this._originFormats=null};__getset(0,b,"autoSize",function(){return this._autoSize},function(b){var a=b||"none";(this._autoSize||"none")==a||this._wordWrap||(this.addToRender(),this.renderThis(),this._autoSizeX="center"==a?this._left_+this._autoSizeWidth/2:"right"==a?this._left_+(this._autoSizeWidth-this._textWidth):this._originalX||0);this._autoSize=b;this.autosize()});__getset(0,b,"displayAsPassword",function(){return this._disAsPass},function(b){this._disAsPass=b;this.addToRender()});__getset(0,b,"background",function(){return this._background||!1},function(b){this._backgroundColor||(this._backgroundColor="#FFFFFF");this._background=b;Laya.CONCHVER&&b&&this._modle_.bgcolor(this._backgroundColor)});__getset(0,b,"backgroundColor",function(){return this._backgroundColor?Laya.__parseInt("0x"+this._backgroundColor.substring(2),16):16777215},function(b){this._backgroundColor=StringMethod.getColorString(b);Laya.CONCHVER&&this._background&&this._modle_.bgcolor(this._backgroundColor)});__getset(0,b,"caretIndex",function(){return this._caretIndex});__getset(0,b,"border",function(){return this._border||!1},function(b){this._borderColor||(this._borderColor="#000000");this._border=b;Laya.CONCHVER&&b&&this._modle_.border(this._borderColor)});__getset(0,b,"embedFonts",function(){return!1},function(b){});__getset(0,b,"text",function(){return this._text},function(b){this._htmlText="";if(void 0==b)throw Error("Parameter text must be non-null.");""==b?this.engine_clear(!0):(this._text=b+"",this._nodeIndex=0,this.addToRender(),this.viewport[0]=0,this._modle_.textView(this.viewport[0],this.viewport[1]),this._scrollV=1,this._originFormats.length=0,this._originFormats.push({begin:0,end:this._text.length,format:this._df}),this.formatIndices.length=0,this.createFormats(),this._isNextLineNewParagraph=!0)});__getset(0,b,"condenseWhite",function(){return this._condenseWhite},function(b){this._condenseWhite=b});__getset(0,b,"selectedText",function(){return this._selectable});__getset(0,b,"borderColor",function(){return Laya.__parseInt("0x"+this._borderColor.substring(2),16)},function(b){this._borderColor=StringMethod.getColorString(b);Laya.CONCHVER&&this._border&&this._modle_.border(this._borderColor)});__getset(0,b,"scrollH",function(){return this.viewport[0]},function(b){this.scrollHWithoutRender(b);this.engine_layout()});__getset(0,b,"bottomScrollV",function(){this.renderThis();return this._bottomScrollV});__getset(0,b,"defaultTextFormat",function(){return this._df.clone()},function(b){this._df==c.DF&&(this._df=new TextFormat);this._df.align=b.align||this._df.align;this._df.blockIndent=b.blockIndent||this._df.blockIndent;this._df.bold=b.bold||this._df.bold;this._df.bullet=b.bold||this._df.bullet;this._df.color=null!=b.color?b.color:this._textColor||this._df.color;this._df.display=b.display||this._df.display;this._df.font=b.font||this._df.font;this._df.indent=b.indent||this._df.indent;this._df.italic=b.italic||this._df.italic;this._df.leading=b.leading||this._df.leading;this._df.leftMargin=b.leftMargin||this._df.leftMargin;this._df.letterSpacing=b.letterSpacing||this._df.letterSpacing;this._df.rightMargin=b.rightMargin||this._df.rightMargin;this._df.size=b.size||this._df.size;this._df.tabStops=b.tabStops||this._df.tabStops;this._df.target=b.target||this._df.target;this._df.underline=b.underline||this._df.underline;this._df.url=b.url;"input"!=this._type&&this._text&&this._text.length&&(this.addToRender(),this.createFormats())});__getset(0,b,"htmlText",function(){return this._htmlText},function(b){""==b&&this._text&&this.engine_clear(!0);this._links&&(this._links.length=0);this._originFormats.length=0;this._htmlText=b;this._text="";if(this._htmlText&&this._htmlText.length)if(this.addToRender(),Laya.CONCHVER&&/^\x20+$/g.test(b))this.text=b;else{if(b=("\x3cdata\x3e"+b+"\x3c/data\x3e").replace(/(\<br\>|\n)/g,"\x3cbr/\x3e"),this._condenseWhite&&(b=b.replace(/(\s)+/g,"$1")),b=(new DOMParser).parseFromString(b,"text/xml"),Laya.CONCHVER||b.childNodes[0].textContent)b=b.childNodes[0].childNodes,this.formatIndices.length=0,this.parseHTMLText(b),Laya.CONCHVER&&(this._text=c.decodeFromEntities(this._text)),this._originFormats.unshift({begin:0,end:this._text.length,format:this._df}),this.createFormats(),this._isNextLineNewParagraph=!0}else this.nodes.clear(),this.conchNodes&&this.conchNodes.clear(),Laya.CONCHVER&&this._modle_.textStrs(this.conchNodes)});__getset(0,b,"length",function(){return this._text?this._text.length:0});__getset(0,b,"maxChars",function(){return this._maxChars},function(b){this._maxChars=b});__getset(0,b,"maxScrollH",function(){if(!this._textWidth)return 0;this.renderThis();return Math.max(0,this._textWidth-(this._width-1-2-2))});__getset(0,b,"maxScrollV",function(){this.renderThis();return this._maxScrollV?this._maxScrollV:1});__getset(0,b,"multiline",function(){return this._multiline},function(b){this._multiline=b});__getset(0,b,"numLines",function(){this.renderThis();return this._lines&&0!=this._lines.length?this._lines.length:1});__getset(0,b,"restrict",function(){return Laya.CONCHVER?this._restrict:this._restrict?this._restrict.source:""},function(b){Laya.CONCHVER?this._restrict=b:b?(/^\[.+\]$/.test(b)||(b="[^"+b+"]"),this._restrict=new RegExp(b,"g")):this._restrict=null});__getset(0,b,"scrollV",function(){return this._scrollV?this._scrollV:1},function(b){this.scrollVWithoutRender(b);this.engine_layout()});__getset(0,b,"useRichTextClipboard",function(){return!1},function(b){});__getset(0,b,"_filters",null,function(b){b=b[0];this.strokeColor=StringMethod.getColorString(b.color);this.strokeThickness=b.blurX});__getset(0,b,"selectable",function(){return this._selectable},function(b){this._selectable=b;!b&&this._scroller&&(this._scroller.running&&this._scroller.stop(),this._scroller.removeEventListener("timer",__bind(this,this.onTextScroll)),this._scroller=null)});__getset(0,b,"selectionBeginIndex",function(){return this._selectionBeginIndex});__getset(0,b,"y",function(){return a.prototype._$get_y.call(this)-(this.tempBound?this.tempBound.y:0)},function(b){a.prototype._$set_y.call(this,b+(this.tempBound?this.tempBound.y:0));if("input"==this._type&&Laya.CONCHVER&&Stage.stage.focus==this){b=this._getConcatenatedMatrix();var c=b.ty*Laya.window.scale.y+Laya.document.body.y;c!=Browser.input.top&&Browser.input.setPos(b.tx*Laya.window.scale.x+Laya.document.body.x,c)}});__getset(0,b,"selectionEndIndex",function(){return this._selectionEndIndex});__getset(0,b,"sharpness",function(){return 0},function(b){});__getset(0,b,"textColor",function(){return this._textColor},function(b){16777215<b&&(b=Number("0x"+b.toString(16).substr(2)));this._df==c.DF&&(this._df=new TextFormat);this._originFormats[0]&&(this._originFormats[0].format=this._df);this._textColor=b;this._df.color=this._textColor;this._text&&0<this._text.length&&(this.createFormats(),this.addToRender())});__getset(0,b,"textHeight",function(){this.renderThis();return this._textHeight});__getset(0,b,"thickness",function(){return 0},function(b){});__getset(0,b,"textWidth",function(){this.renderThis();return this._textWidth});__getset(0,b,"type",function(){return this._type},function(b){this._type=b;"input"==this._type&&(this._caretIndex=0,!Laya.document.canvas.onmouseup&&c.onMobile&&(Laya.document.canvas.onmouseup=function(b){iflash.text.TextField.isInputting&&(Browser.input.parentNode?Browser.input.target.checkTextFocusout(null):Browser.addToBody(Browser.input),Browser.input.focus())}))});__getset(0,b,"wordWrap",function(){return this._wordWrap||!1},function(b){this._wordWrap!=b&&this.addToRender();this._wordWrap=b});__getset(0,b,"width",function(){this.renderThis();return this._wordWrap?this._width:this._autoSize&&"none"!=this._autoSize?this._textWidth+4:this._width},function(b){0>b||(this._autoSize&&"none"!=this._autoSize?(this.renderThis(),"center"==this._autoSize?this._autoSizeX=this.x+b/2:"right"==this._autoSize&&(this._autoSizeX=this.x+b),this._autoSizeWidth=this._textWidth):this._autoSizeWidth=b,this._width=b,this.addToRender())});__getset(0,b,"height",function(){this.renderThis();return this._autoSize&&"none"!=this._autoSize?this._textHeight+2+2:this._height},function(b){b==this._height||0>=b||(this._height=b,this.addToRender())});__getset(0,b,"x",function(){this.renderThis();return a.prototype._$get_x.call(this)-(this.tempBound?this.tempBound.x:0)},function(b){this._originalX=b;this._autoSizeX="center"==this._autoSize?b+this.width/2:"right"==this._autoSize?b+this.width:b;this._autoSizeWidth=this._autoSize&&"none"!=this._autoSize?this._textWidth:this._width;a.prototype._$set_x.call(this,b+(this.tempBound?this.tempBound.x:0));if("input"==this._type&&Stage.stage.focus==this){b=this._getConcatenatedMatrix();var c=b.tx*Laya.window.scale.x+Laya.document.body.x;c!=Browser.input.left&&Browser.input.setPos(c,b.ty*Laya.window.scale.y+Laya.document.body.y)}});__getset(0,b,"filters",a.prototype._$get_filters,function(b){if(b){for(var c,e=b.length-1;0<=e;e--)if(b[e]instanceof iflash.filters.GlowFilter){c=b[e];b.splice(e,1);break}if(c){if(this.strokeColor=StringMethod.getColorString(c.color),this.strokeThickness=c.blurX/5*3+1,this._text&&this._text.length)for(e=this._formats.length-1;0<=e;e--)this._formats[e].format._strokeColor=this.strokeColor}else this.strokeThickness=this.strokeColor=null}a.prototype._$set_filters.call(this,b)});__getset(0,b,"gridFitType",function(){return""},function(b){});__getset(0,b,"textInteractionMode",function(){return null});__getset(0,b,"alwaysShowSelection",function(){return!1},function(b){});__getset(0,b,"mouseWheelEnabled",function(){return!1},function(b){});__getset(0,b,"styleSheet",function(){return null},function(b){});c.renderTexts=function(){var b=c.TextsToRender.length;if(0!=b)for(--b;0<=b;b--)c.TextsToRender.pop().engine_updateStyle()};c.isFontCompatible=function(b,a){return!0};c.decodeFromEntities=function(b){return b.replace(/\&#?\w{2,6};/g,function(b){return c.Entities[arguments[0]]})};c.LINE_WIDTH=1;c.LEFT_PADDING=2;c.RIGHT_PADDING=2;c.TOP_PADDING=2;c.BOTTOM_PADDING=2;c.borderStyle="3px solid orange";c.TextsToRender=[];c.isInputting=!1;__static(c,["LINE_LEADING",function(){return this.LINE_LEADING=Laya.CONCHVER?-2:0},"myAgent",function(){return this.myAgent=navigator.userAgent},"onIPhone",function(){return this.onIPhone=-1<c.myAgent.indexOf("iPhone")},"onIPad",function(){return this.onIPad=-1<c.myAgent.indexOf("iPad")},"onAndriod",function(){return this.onAndriod=-1<c.myAgent.indexOf("Android")},"onWP",function(){return this.onWP=-1<c.myAgent.indexOf("Windows Phone")},"onQQ",function(){return this.onQQ=-1<c.myAgent.indexOf("QQBrowser")},"onMobile",function(){return this.onMobile=c.onIPhone||c.onAndriod||c.onWP||c.onIPad},"initialWindowWidth",function(){return this.initialWindowWidth=window.innerWidth},"initialWindowHeight",function(){return this.initialWindowHeight=window.innerHeight},"deviceAvailWidth",function(){return this.deviceAvailWidth=window.screen.availWidth},"deviceAvailHeight",function(){return this.deviceAvailHeight=window.screen.availHeight},"pixelRatio",function(){return this.pixelRatio=c.deviceAvailHeight/c.initialWindowHeight},"inputHeight",function(){return this.inputHeight=2*(50/Math.min(1,c.pixelRatio)/2|0)},"textAreaHeight",function(){return this.textAreaHeight=2*(80/Math.min(1,c.pixelRatio)/2|0)},"inputFontSize",function(){return this.inputFontSize=2*((25/Math.min(1,c.pixelRatio)/2|0)+1)},"DF",function(){return this.DF=new TextFormat("Times New Roman",12,0,!1,!1,!1,null,null,"left",null,null,null,null)},"Entities",function(){return this.Entities={"\x26nbsp;":" ","\x26#160;":" ","\x26lt;":"\x3c","\x26#60;":"\x3c","\x26gt;":"\x3e","\x26#62;":"\x3e","\x26amp;":"\x26","\x26amp;":"\x26","\x26quot;":'"',"\x26#34;":'"',"\x26apos;":"'","\x26#39;":"'","\x26cent;":"\uffe0","\x26#162;":"\uffe0","\x26pound;":"\uffe1","\x26#163;":"\uffe1","\x26yen;":"\uffe5","\x26#165;":"\uffe5","\x26euro;":"\u20ac","\x26#8364;":"\u20ac","\x26sect;":"\u00a7","\x26#167;":"\u00a7","\x26copy;":"?","\x26#169;":"?","\x26reg;":"?","\x26#174;":"?","\x26trade;":"?","\x26#8482;":"?","\x26times;":"\u00d7","\x26#215;":"\u00d7","\x26divide;":"\u00f7","\x26#247;":"\u00f7"}}]);return c}(InteractiveObject),Sprite=function(a){function c(){this._dragRect_=this._graphics=null;this._prelocationY_=this._prelocationX_=0;this._sc9X_=this._sc9Y_=1;this._hitArea=null;c.__super.call(this)}__class(c,"iflash.display.Sprite",!1,a);var b=c.prototype;b._paintGraphics_=function(b,a,c,f,h){if(this._graphics){var k=this._graphics;k.isReady()&&k._canvas_.paint(b,a,c,f,h)}this._paintChild_(b,a,c,f,h)};b.startDrag=function(b,a){void 0===b&&(b=!1);this._dragRect_=a;this.stage.addEventListener("enterFrame",__bind(this,this.__drag__));if(b)this._prelocationY_=this._prelocationX_=0;else{if(c._startedDrag_)return;this._prelocationX_=EventManager._stageX-this.x;this._prelocationY_=EventManager._stageY-this.y}c._startedDrag_=!0;this.__drag__()};b.stopDrag=function(){this.stage&&this.stage.removeEventListener("enterFrame",__bind(this,this.__drag__));this._dragRect_=null;c._startedDrag_=!1};b.__drag__=function(b){c._startedDrag_&&(this.x=EventManager._stageX-this._prelocationX_,this.y=EventManager._stageY-this._prelocationY_,this._dragRect_&&(this.x>this._dragRect_.width+this._dragRect_.x&&(this.x=this._dragRect_.width+this._dragRect_.x),this.y>this._dragRect_.height+this._dragRect_.y&&(this.y=this._dragRect_.height+this._dragRect_.y),this.x<this._dragRect_.x&&(this.x=this._dragRect_.x),this.y<this._dragRect_.y&&(this.y=this._dragRect_.y)))};b._lyToBody_=function(){this.updateScaleData();a.prototype._lyToBody_.call(this)};b._hitTest_=function(b,c){if(!this.visible)return null;var e=a.prototype._hitTest_.call(this,b,c);return e?e:this.graphicsHited(b,c)};b.graphicsHited=function(b,a){if(this._graphics){if(!this._checkHitMask(b,a)||!this._checkHitScrollRect(b,a))return null;this._private_._scrollRect_&&(b+=this._private_._scrollRect_.x,a+=this._private_._scrollRect_.y);DisplayObject.HELPER_RECTANGLET.setTo(this._graphics.x,this._graphics.y,this._graphics.width*this.scaleX,this._graphics.height*this.scaleY);if(DisplayObject.HELPER_RECTANGLET.contains(b,a))return this}return null};b.hitAreaMouseHandler=function(b){this.dispatchEvent(new MouseEvent(b.type))};b._getBounds_=function(b,c){c||(c=new Rectangle);a.prototype._getBounds_.call(this,b,c);this._graphics&&(DisplayObject.HELPER_RECTANGLET_ALT.setTo(this._graphics.x,this._graphics.y,this._graphics.width,this._graphics.height),DisplayObject.HELPER_RECTANGLET_ALT.width&&DisplayObject.HELPER_RECTANGLET_ALT.height&&(this.numChildren?c._union_(DisplayObject.HELPER_RECTANGLET_ALT):c.setTo(DisplayObject.HELPER_RECTANGLET_ALT.x,DisplayObject.HELPER_RECTANGLET_ALT.y,DisplayObject.HELPER_RECTANGLET_ALT.width,DisplayObject.HELPER_RECTANGLET_ALT.height)));return c};__getset(0,b,"graphics",function(){this._graphics||(this._graphics=new Graphics(this));return this._graphics});__getset(0,b,"buttonMode",function(){return!1},LAYAFNVOID);__getset(0,b,"width",a.prototype._$get_width,function(b){if(!(0>b))if(this.scale9Data){var c=this._childs_[0];c&&c.scale9Data&&(c.width=b);this._width_=b}else a.prototype._$set_width.call(this,b)});__getset(0,b,"useHandCursor",function(){return 0!=(this._type_&128)},function(b){this._type_=b?this._type_|128:this._type_&-129});__getset(0,b,"dropTarget",LAYAFNNULL);__getset(0,b,"height",a.prototype._$get_height,function(b){if(!(0>b))if(this.scale9Data){var c=this._childs_[0];c&&c.scale9Data&&(c.height=b);this._height_=b}else a.prototype._$set_height.call(this,b)});__getset(0,b,"hitArea",function(){return this._hitArea},function(b){this._hitArea&&(this._hitArea.removeEventListener("click",__bind(this,this.hitAreaMouseHandler)),this._hitArea.removeEventListener("doubleClick",__bind(this,this.hitAreaMouseHandler)),this._hitArea.removeEventListener("mouseDown",__bind(this,this.hitAreaMouseHandler)),this._hitArea.removeEventListener("mouseMove",__bind(this,this.hitAreaMouseHandler)),this._hitArea.removeEventListener("mouseOut",__bind(this,this.hitAreaMouseHandler)),this._hitArea.removeEventListener("mouseOver",__bind(this,this.hitAreaMouseHandler)),this._hitArea.removeEventListener("mouseUp",__bind(this,this.hitAreaMouseHandler)));this._hitArea=b;this.mouseEnabled=null!=this._hitArea?!1:!0;this._hitArea&&(this._hitArea.addEventListener("click",__bind(this,this.hitAreaMouseHandler)),this._hitArea.addEventListener("doubleClick",__bind(this,this.hitAreaMouseHandler)),this._hitArea.addEventListener("mouseDown",__bind(this,this.hitAreaMouseHandler)),this._hitArea.addEventListener("mouseMove",__bind(this,this.hitAreaMouseHandler)),this._hitArea.addEventListener("mouseOut",__bind(this,this.hitAreaMouseHandler)),this._hitArea.addEventListener("mouseOver",__bind(this,this.hitAreaMouseHandler)),this._hitArea.addEventListener("mouseUp",__bind(this,this.hitAreaMouseHandler)))});__getset(0,b,"scaleY",function(){return this.scale9Data?this._sc9Y_:a.prototype._$get_scaleY.call(this)},function(b){if(this.scale9Data){var c=this._childs_[0];c&&c.scale9Data&&(c.scaleY=b);this._sc9Y_=b;this._height_*=b}else a.prototype._$set_scaleY.call(this,b)});__getset(0,b,"scaleX",function(){return this.scale9Data?this._sc9X_:a.prototype._$get_scaleX.call(this)},function(b){if(this.scale9Data){var c=this._childs_[0];c&&c.scale9Data&&(c.scaleX=b);this._sc9X_=b;this._width_*=b}else a.prototype._$set_scaleX.call(this,b)});c._startedDrag_=!1;return c}(DisplayObjectContainer),Loader=function(a){function c(){this._bitmapData=this.__element__=this.__content__=this._contentLoaderInfo=null;this._resUrl="";this.shapeRes=null;this.preIndex=0;this.preLoader=[];this.isFlag=!1;c.__super.call(this);this._contentLoaderInfo=LoaderInfo.create(this._getID_);this._contentLoaderInfo.loader=this}__class(c,"iflash.display.Loader",!1,a);a=c.prototype;a.onSetResUrlHandler=function(b){this._resUrl=b.lyData.url};a.disposeLoader=function(){if(this._contentLoaderInfo){this.unload();this.isFlag=!1;var b=this._contentLoaderInfo._resourceDic_,a=this._contentLoaderInfo._reDomain_,c;for(c in b){var e=b[c];a&&a._resMapDic_[c]&&delete a._resMapDic_[c];if(e instanceof iflash.display.MovieClip)e.layaDestory(),Runnner.template.splice(Runnner.template.indexOf(e.runner),1);else{if(e instanceof iflash.text.StaticText||e instanceof iflash.text.TextField)return;e&&e.layaDestory()}}this._contentLoaderInfo._applicationDomain._resMapDic_=null;this._contentLoaderInfo._applicationDomain=null;this._contentLoaderInfo._resourceDic_&&this._contentLoaderInfo.deleteResourceDic();this._contentLoaderInfo._reDomain_=null;this._contentLoaderInfo&&delete LoaderInfo._loaderInfos_[this._contentLoaderInfo.__id__];this._contentLoaderInfo=null;this._eventListener_&&(this._eventListener_=null)}};a.load=function(b,a){var c=this;this._checkloaderInfo();b.url.lastIndexOf("?");this._contentLoaderInfo.lyurl=b.url;this._contentLoaderInfo.__fileurl=b.url;var e=Method.formatUrlType(b.url);b.url=Method.formatUrl(b.url);a||(a=new LoaderContext(!1,new ApplicationDomain));this._contentLoaderInfo._reDomain_=a.applicationDomain;this.contains(this.__content__)&&this.removeChild(this.__content__);switch(e){case "swf":case "swp":case "cvt":Stage.USE_SMALL?this.loadSwf_Small(b.url,e):this.loadSwf(b.url);break;default:this._bitmapData=new BitmapData;var f=Browser.document.createElement("image");f.onload=function(b){Laya.HTMLVER&&!Laya.CONCHVER&&"jng"==e?(f=Method._JpgToPng(f),c._bitmapData.setType(1),c._bitmapData.setCanvas(f)):c._bitmapData.setImage(f);c.__content__=new Bitmap(c._bitmapData);c._contentLoaderInfo.__content__=c.__content__;c._contentLoaderInfo.height=c.__content__.height;c._contentLoaderInfo.width=c.__content__.width;c.addChild(c.__content__);c.__element__=f;c.contentLoaderInfo.dispatchEvent(new Event("init",!1,!1,c.__content__));c.contentLoaderInfo.dispatchEvent(new Event("complete",!1,!1,c.__content__));c.dispatchEvent(new Event("complete"));f.onerror=f.onload=null};f.onerror=function(b){b=new IOErrorEvent("ioError");b.text="\u627e\u4e0d\u5230"+f.src;c.contentLoaderInfo.dispatchEvent(b);f.onerror=f.onload=null};f.src=b.url}};a.close=LAYAFNVOID;a.unload=function(){this.__content__&&(this.removeChild(this.__content__),this.__content__._removeEvents_(),this._bitmapData=this.__content__=null);this.parent&&(this.parent._type_|=16384,this.parent.lyRemoveChildAt(this.childIndexOf(this)))};a._checkloaderInfo=function(){if(this.isFlag){var b=this._contentLoaderInfo;this._contentLoaderInfo=LoaderInfo.create(this._getID_);this._contentLoaderInfo.loader=this;this._contentLoaderInfo._getEvents_(b)}else this.isFlag=!0};a.loadBytes=function(b,a){this._checkloaderInfo();this.contains(this.__content__)&&this.removeChild(this.__content__);if(!(b instanceof Array))if(b instanceof iflash.utils.ByteArray){b.position=0;var c=b.readUTF(),e=new ByteArray;if("swf"!=c)throw"un support img binary!";a&&(this._contentLoaderInfo._reDomain_=a.applicationDomain);var f=b.readUTF();b.readBytes(e,0,e.bytesAvailable);Stage.USE_SMALL?this.loadSwf_Small(f,c,e):this.loadSwf(f.substring(0,f.lastIndexOf("."+c)),e)}else this._bitmapData=new BitmapData,this._bitmapData.setImage(b),this.__content__=this.contentLoaderInfo.__content__=new Bitmap(this._bitmapData),this.addChild(this.__content__),this.addEventListener("enterFrame",__bind(this,this.onEnterFrame))};a.getFileType=function(b){var a=b.readUnsignedByte();b=b.readUnsignedByte();var c="unknown";66==a&&77==b?c="BMP":255==a&&216==b?c="JPG":137==a&&80==b?c="PNG":71==a&&73==b&&(c="GIF");return c};a._buildLoaderContext=function(b){null==b&&(b=new LoaderContext);null==b.applicationDomain&&(b.applicationDomain=new ApplicationDomain(ApplicationDomain.currentDomain));return b};a.onEnterFrame=function(b){this.removeEventListener("enterFrame",__bind(this,this.onEnterFrame));this.contentLoaderInfo.dispatchEvent(new iflash.events.Event("complete",!1,!1))};a.unloadAndStop=function(b){this.unload()};a.deleteKey=function(b){for(var a in b)delete b[a];b.length=0};a.loadSwf=function(b,a){this._contentLoaderInfo.onload=iflash.method.bind(this,this.onLoadeComplete);a?(this._contentLoaderInfo.setUrl(b),this._contentLoaderInfo.setByteArray(a)):this._contentLoaderInfo.src=b};a.loadSwf_Small=function(b,a,g){var e=this,f=this;if(c.imgLoader)this._contentLoaderInfo.onload=iflash.method.bind(f,this.onLoadeComplete),LoaderInfo.minibitmapData=new BitmapData,LoaderInfo.minibitmapData.setImage(c.imgLoader),g?(this._contentLoaderInfo.setUrl(b.substring(0,b.lastIndexOf("."+a))),this._contentLoaderInfo.setByteArray(g)):this._contentLoaderInfo.src=b;else{c.imgLoader=Browser.document.createElement("image");c.imgLoader.onload=function(){e._contentLoaderInfo.onload=iflash.method.bind(f,e.onLoadeComplete);LoaderInfo.minibitmapData=new BitmapData;LoaderInfo.minibitmapData.setImage(c.imgLoader);g?(e._contentLoaderInfo.setUrl(b.substring(0,b.lastIndexOf("."+a))),e._contentLoaderInfo.setByteArray(g)):e._contentLoaderInfo.src=b;c.imgLoader=null;LoaderInfo.minibitmapData=null};c.imgLoader.onerror=function(){e.contentLoaderInfo.dispatchEvent(new IOErrorEvent("ioError"));c.imgLoader=null};var h=b.lastIndexOf("."+a);c.imgLoader.src=b.substring(0,h)+"/small.png"}};a.onLoadeComplete=function(b){this.addChild(this._contentLoaderInfo.__content__);this.__content__=this.contentLoaderInfo.__content__;if(0<this.preLoader.length)this.onPreLoader();else this.contentLoaderInfo.dispatchEvent(new Event("init")),this.contentLoaderInfo.dispatchEvent(new Event("complete"))};a.onPreLoader=function(){Runnner.preResCollection=[];for(var b=0;b<this.preLoader.length;b++){var a=this.contentLoaderInfo.applicationDomain.newInstance(this.preLoader[b]);a instanceof iflash.display.MovieClip&&a.runner.getPreRes(this.contentLoaderInfo);a instanceof iflash.display.Shape&&Runnner.preResCollection.push(c);a instanceof iflash.display.LyImageElement&&Runnner.preResCollection.push(c)}for(this.preIndex=0;0<Runnner.preResCollection.length;){var c=Runnner.preResCollection.pop();c instanceof iflash.display.Shape&&(this.preIndex++,c._image_._image_.onload=iflash.method.bind(this,this.onPreComplete),c._image_._image_.src=c._image_.src);c instanceof iflash.display.LyImageElement&&(this.preIndex++,c._image_.onload=iflash.method.bind(this,this.onPreComplete),c._image_.src=c._image_.src)}};a.onPreComplete=function(b){this.preIndex--;0>=this.preIndex&&this.contentLoaderInfo.dispatchEvent(new Event("complete"))};__getset(0,a,"contentLoaderInfo",function(){return this._contentLoaderInfo});__getset(0,a,"_getID_",function(){return++c.__ID__});__getset(0,a,"content",function(){return this.__content__});__getset(0,a,"element",function(){return this.__element__});c.removeNameChar=function(b){b=b.split("/");for(var a,c=1,e=b.length;c<e;){a=b[c];if(null==a)break;""==a?b.splice(c,1):c+=1}return b=b.join("/")};c.preswfAsset=function(b){c.preSwf=c.preSwf.concat(b)};c.__isPNG=function(b){b.position=0;return 137==b.readByte()&&80==b.readByte()&&78==b.readByte()&&71==b.readByte()&&13==b.readByte()&&10==b.readByte()&&26==b.readByte()&&10==b.readByte()};c.__ID__=0;c.preSwf=[];c.imgLoader=null;return c}(DisplayObjectContainer),Stage=function(a){function c(){this.contentsScaleFactor=1;this._useActivateEventCount_=0;this._infoFlag=!0;this._algin="";this.currentFocus=null;this._isInvalidate=!1;this._tmctr_=null;this._bgc_=16777215;this._bgc2_="#ffffff";this.autoOrients=!1;this.visibilityChange="hidden";this.visibilityState="visibilityState";this.stage3Ds=[new Stage3D,new Stage3D,new Stage3D,new Stage3D];this._scaleMode_="showAll";c.__super.call(this);this._width_=EventDispatcher.window.innerWidth;this._height_=EventDispatcher.window.innerHeight;this._tmctr_=TimerCtrl.__DEFAULT__}__class(c,"iflash.display.Stage",!1,a);var b=c.prototype;b.setOrientationEx=function(b){Laya.document.setOrientationEx(b)};b.setSize=function(b,a){Laya.document.size(b,a)};b.invalidate=function(){this._isInvalidate=!0};b.size=function(b,a){Laya.document.size(b,a)};b._hitTest_=function(b,c){var e=a.prototype._hitTest_.call(this,b,c);e||(e=this);return e};b.sendRender=function(){this._isInvalidate&&(this._isInvalidate=!1,this.lyDispatchEvent("render"))};b.addEventListener=function(b,a,c,f,h){void 0===c&&(c=!1);void 0===f&&(f=0);void 0===h&&(h=!1);if("activate"==b||"deactivate"==b){if(this.hasEventListener(b))return;0==this._useActivateEventCount_&&this.addVisibilityChangeEvent();this._useActivateEventCount_++}iflash.events.EventDispatcher.prototype.addEventListener.call(this,b,a,c,f,h)};b.removeEventListener=function(b,a,c){void 0===c&&(c=!1);if("activate"==b||"deactivate"==b){if(!this.hasEventListener(b))return;this._useActivateEventCount_--;0==this._useActivateEventCount_&&this.removeVisibilityChangeEvent()}iflash.events.EventDispatcher.prototype.removeEventListener.call(this,b,a,c)};b.visibilitySysEvtHandler=function(b){b=new Event("hidden"==Browser.document[this.visibilityState]?"deactivate":"activate",b.bubbles,b.cancelable);this.dispatchEvent(b)};b.addVisibilityChangeEvent=function(){var b=Browser.document;"hidden"in b?(this.visibilityChange="visibilitychange",this.visibilityState="visibilityState"):"mozHidden"in b?(this.visibilityChange="mozvisibilitychange",this.visibilityState="mozVisibilityState"):"msHidden"in b?(this.visibilityChange="msvisibilitychange",this.visibilityState="msVisibilityState"):"webkitHidden"in b&&(this.visibilityChange="webkitvisibilitychange",this.visibilityState="webkitVisibilityState");Browser.document.addEventListener(this.visibilityChange,__bind(this,this.visibilitySysEvtHandler))};b.removeVisibilityChangeEvent=function(){Browser.document.removeEventListener(this.visibilityChange,__bind(this,this.visibilitySysEvtHandler))};b.setAspectRatio=function(b){switch(b){case "portrait":IFlash.setAutoOrients(!1);EventDispatcher.document.setOrientationEx(0);this.dispatchEvent(new StageOrientationEvent("orientationChange"));break;case "landscape":IFlash.setAutoOrients(!1);EventDispatcher.document.setOrientationEx(1);this.dispatchEvent(new StageOrientationEvent("orientationChange"));break;case "any":IFlash.setAutoOrients(!0)}};__getset(0,b,"displayState",function(){return""},function(b){});__getset(0,b,"focus",function(){return this.currentFocus},function(b){if(b instanceof iflash.text.TextField)b.onTextFocus(null);this.currentFocus=b});__getset(0,b,"showDefaultContextMenu",function(){return!1},function(b){});__getset(0,b,"stageWidth",function(){return"noScale"==this._scaleMode_?EventDispatcher.window.innerWidth:this.width});__getset(0,b,"allowsFullScreen",function(){return!1});__getset(0,b,"allowsFullScreenInteractive",function(){return!1});__getset(0,b,"showInfo",null,function(b){b!=this._infoFlag&&(Laya.config.showInfo=b,Laya.SHOW_FPS=b,Laya.conch&&Laya.conch.ShowFPS(b,Laya.conch.m_pFps))});__getset(0,b,"width",function(){return this._width_},function(b){this._width_=b;this._modle_.size(this._width_,this._height_)});__getset(0,b,"stageHeight",function(){return"noScale"==this._scaleMode_?EventDispatcher.window.innerHeight:this.height});__getset(0,b,"scaleMode",function(){return this._scaleMode_},function(b){var a=b!=this._scaleMode_;this._scaleMode_=b;a&&Laya.window&&Laya.window.lyDispatchEvent("resize")});__getset(0,b,"height",function(){return this._height_},function(b){this._height_=b;this._modle_.size(this._width_,this._height_)});__getset(0,b,"color",function(){return this._bgc_},function(b){this.bgcolor=b});__getset(0,b,"bgcolor",null,function(b){if("string"==typeof b){var a=b.replace("#","");this._bgc_=a=parseInt(a,16);isNaN(this._bgc_)&&(this._bgc_=16777215);this._bgc2_=b}else this._bgc_=b,isNaN(this._bgc_)&&(this._bgc_=16777215),this._bgc2_=StringMethod.getColorString(this._bgc_);Laya.CONCHVER?conch.setBgColor(this._bgc2_):window.document.body.style.backgroundColor=this._bgc2_});__getset(0,b,"autoScaleDifference",null,function(b){Laya.document.adapter.autoScaleDifference=b});__getset(0,b,"frameRate",function(){return Browser.frameRate},function(b){Browser.frameRate=b});__getset(0,b,"align",function(){return this._algin},function(b){var a=b!=this._algin;this._algin=b;a&&Laya.window&&Laya.window.lyDispatchEvent("resize")});__getset(0,b,"stageFocusRect",function(){return!1},LAYAFNVOID);__getset(0,b,"quality",LAYAFNSTR,LAYAFNVOID);__getset(0,b,"fullScreenWidth",function(){return EventDispatcher.window.fullScreenWidth});__getset(0,b,"fullScreenHeight",function(){return EventDispatcher.window.fullScreenHeight});__getset(1,c,"stage",function(){return c._stage?c._stage:c._stage=new c},iflash.display.DisplayObjectContainer._$SET_stage);__getset(1,c,"supportsOrientationChange",function(){return!0},iflash.display.DisplayObjectContainer._$SET_supportsOrientationChange);c.USE_SMALL=!0;c.__frameRate__=16;c._stage=null;return c}(DisplayObjectContainer),TextLine=function(a){function c(){this.userData=null;c.__super.call(this);this.getMirrorRegion=$null}__class(c,"iflash.text.engine.TextLine",!1,a);var b=c.prototype;b.dump=LAYAFNSTR;b.flushAtomData=LAYAFNVOID;b.getAtomBidiLevel=LAYAFN0;b.getAtomBounds=LAYAFNNULL;b.getAtomCenter=LAYAFN0;b.getAtomGraphic=LAYAFNNULL;b.getAtomIndexAtCharIndex=LAYAFN0;b.getAtomIndexAtPoint=LAYAFN0;b.getAtomTextBlockBeginIndex=LAYAFN0;b.getAtomTextBlockEndIndex=LAYAFN0;b.getAtomTextRotation=LAYAFNSTR;b.getAtomWordBoundaryOnLeft=LAYAFNFALSE;b.getBaselinePosition=LAYAFN0;__getset(0,b,"ascent",LAYAFN0);__getset(0,b,"atomCount",LAYAFN0);__getset(0,b,"focusRect",null,LAYAFNVOID);__getset(0,b,"contextMenu",a.prototype._$get_contextMenu,LAYAFNVOID);__getset(0,b,"textBlockBeginIndex",LAYAFN0);__getset(0,b,"hasTabs",LAYAFNFALSE);__getset(0,b,"descent",LAYAFN0);__getset(0,b,"mirrorRegions",LAYAFNNULL);__getset(0,b,"totalAscent",LAYAFN0);__getset(0,b,"hasGraphicElement",LAYAFNFALSE);__getset(0,b,"nextLine",LAYAFNNULL);__getset(0,b,"previousLine",LAYAFNNULL);__getset(0,b,"rawTextLength",LAYAFN0);__getset(0,b,"specifiedWidth",LAYAFN0);__getset(0,b,"tabChildren",a.prototype._$get_tabChildren,LAYAFNVOID);__getset(0,b,"tabEnabled",a.prototype._$get_tabEnabled,LAYAFNVOID);__getset(0,b,"tabIndex",a.prototype._$get_tabIndex,LAYAFNVOID);__getset(0,b,"textBlock",LAYAFNNULL);__getset(0,b,"textHeight",LAYAFN0);__getset(0,b,"textWidth",LAYAFN0);__getset(0,b,"totalDescent",LAYAFN0);__getset(0,b,"totalHeight",LAYAFN0);__getset(0,b,"unjustifiedTextWidth",LAYAFN0);__getset(0,b,"validity",LAYAFNSTR,LAYAFNVOID);c.MAX_LINE_WIDTH=1E6;return c}(DisplayObjectContainer),StaticText=function(a){function c(){c.__super.call(this)}__class(c,"iflash.text.StaticText",!1,a);c.prototype.lyclone=function(){var b=new c;b.type="static";this.getTextResult(b);return b};return c}(TextField),EmbedSymbol=function(a){function c(){this._symbol=this._swfUrl=this._loader=null;c.__super.call(this)}__class(c,"iflash.display.EmbedSymbol",!1,a);a=c.prototype;a.load=function(b,a){this._swfUrl=b;(this._symbol=a)&&this.hasClass(a)?this.createAsset():(this._loader=new Loader,this._loader.contentLoaderInfo.addEventListener("complete",__bind(this,this.onComplete)),this._loader.contentLoaderInfo.addEventListener("ioError",__bind(this,this.onError)),this._loader.load(new URLRequest(b),c._loaderContent))};a.onComplete=function(b){this._symbol?(this.hasClass(this._symbol)&&this.createAsset(),this._loader&&this.clearLoader()):this.addChild(this._loader)};a.clearLoader=function(){this._loader.unloadAndStop();this._loader.contentLoaderInfo.removeEventListener("complete",__bind(this,this.onComplete));this._loader.contentLoaderInfo.removeEventListener("ioError",__bind(this,this.onError));this._loader=null};a.onError=function(b){console.log("IO Error:"+this._swfUrl)};a.createAsset=function(){var b=this.getAsset(this._symbol),b=b instanceof iflash.display.BitmapData?new Bitmap(b):b;this.addChild(b)};a.hasClass=function(b){return c._domain.hasDefinition(b)};a.getClass=function(b){return this.hasClass(b)?c._domain.getDefinition2(b):null};a.getAsset=function(b){b=this.getClass(b);return null!=b?new b:null};__static(c,["_domain",function(){return this._domain=ApplicationDomain.currentDomain},"_loaderContent",function(){return this._loaderContent=new LoaderContext(!1,ApplicationDomain.currentDomain)}]);return c}(Sprite),MovieClip=function(a){function c(){this._interval_=60;this._preTime_=this._preFrame_=0;this.runner=null;this._scriptList_=[];this._animData_=new AnimationData;c.__super.call(this)}__class(c,"iflash.display.MovieClip",!1,a);var b=c.prototype;b._lyMCDispose=function(b){for(var a=b.numChildren,c;a;)c=b.getChildAt(a-1),c instanceof iflash.display.MovieClip&&(c.stop(),c._private_.onupdate&&(c._private_.onupdate.deleted=!0),c.runner=null,this._lyMCDispose(c)),a--;b.runner=null;b._private_.onupdate&&(b._private_.onupdate.deleted=!0);b._private_.onupdate=null};b._onupdate_=function(b,a,c){this.isPlaying&&b-this._preTime_>=this.interval&&(this._scriptList_[this.currentFrame]&&this._scriptList_[this.currentFrame].call(this),this._preTime_=b,this.runner._updata_(this));return!0};b.addFrameScript=function(b){for(var a=arguments,c=0,f=a.length;c<f;c+=2)this._addFrameScript_(a[c],a[c+1])};b._addFrameScript_=function(b,a){this._scriptList_[b+1]=a;b+1==this.currentFrame&&this._scriptList_[this.currentFrame]&&this._scriptList_[this.currentFrame].call(this)};b.gotoAndPlay=function(b,a){this._gotoAndPlay_(b,a);this._animData_.isStop=!1};b._gotoAndPlay_=function(b,a){"string"==typeof b?(b=int(this._animData_.labs[b]),this.runner.gotoAndPlay(b,this)):this.runner.gotoAndPlay(b-1,this);this._scriptList_[this.currentFrame]&&this._scriptList_[this.currentFrame].call(this)};b.gotoAndStop=function(b,a){null!=this.runner&&("string"==typeof b?(b=int(this._animData_.labs[b]),this.runner.gotoAndStop(b,this)):(b>this.totalFrames&&(b=this.totalFrames),this.runner.gotoAndStop(b-1,this)),this._scriptList_[this.currentFrame]&&this._scriptList_[this.currentFrame].call(this))};b.nextFrame=function(){this.runner.gotoAndStop(this._animData_.currentFrame+1,this)};b.prevFrame=function(){this.runner.gotoAndStop(this._animData_.currentFrame-1,this)};b.play=function(){this.gotoAndPlay(this.currentFrame+1)};b.stop=function(){this.runner&&this.runner.stop(this)};b.prevScene=LAYAFNVOID;b.nextScene=LAYAFNVOID;b.addFrameTimer=function(b){return Stage.stage._tmctr_.addFrameTimer(b,this)};b.addChild=function(b){if(this._type_&16&&this.numChildren){this.sortChildsByZIndex();var a=this.getChildAt(this.numChildren-1);b.zIndex=a.zIndex+1}return iflash.display.DisplayObjectContainer.prototype.addChild.call(this,b)};b.addChildAt=function(b,a){if(this._type_&16&&this.numChildren){this.sortChildsByZIndex();var c=this.getChildAt(a);b.zIndex=c.zIndex-1;if(0<a&&b.zIndex<this.getChildAt(a-1).zIndex)for(c=0;c<a-1;)this.getChildAt(c).zIndex--,c++}return iflash.display.DisplayObjectContainer.prototype.addChildAt.call(this,b,a)};b._lyToBody_=function(){a.prototype._lyToBody_.call(this);this._preTime_=0;this.runner&&(this.onupdate=this._onupdate_,this._private_.onupdate.deleted=!1)};b._lyUnToBody_=function(){iflash.display.DisplayObjectContainer.prototype._lyUnToBody_.call(this);this._private_.onupdate&&(this._private_.onupdate.deleted=!0)};b.stopAll=function(b){for(var a=b.numChildren;a;){var c=b.getChildAt(a-1);c&&(c.stop(),this.stopAll(c));a--}};b.lyclone=function(){var b=new c;this.scale9Data&&(b.scale9Data={x1:this.scale9Data.x1,y1:this.scale9Data.y1,x2:this.scale9Data.x2,y2:this.scale9Data.y2});b._animData_=this._animData_.lyclone();b.runner=this.runner;b._interval_=this._interval_;b.__id__=this.__id__;b.charId=this.charId;b.characterId=this.characterId;b._type_|=this._type_&16;b.gotoAndPlay(1);b.width=b.width;b.height=b.height;b.sortChildsByZIndex();return b};__getset(0,b,"onupdate",null,function(b){this._private_.onupdate&&(this._private_.onupdate.deleted=!0);this._private_.onupdate=this.addFrameTimer(b)});__getset(0,b,"interval",function(){return Stage.__frameRate__},function(b){this._interval_=b});__getset(0,b,"currentFrame",function(){var b=this._animData_.currentFrame+1;b>this.totalFrames&&(b=this.totalFrames);return 1>b?1:b});__getset(0,b,"enabled",LAYAFNTRUE,LAYAFNVOID);__getset(0,b,"totalFrames",function(){return this._animData_.totalFrame});__getset(0,b,"currentLabel",function(){var b=this.currentFrame-1,a,c=0,f={},h;for(h in this._animData_.labs){a=h;c=int(this._animData_.labs[h]);if(b==c)return a;f[c]=a}for(a=null;null==a&&(a=f[b],b--,-1!=b););return a});__getset(0,b,"isPlaying",function(){return!this._animData_.isStop});__getset(0,b,"framesLoaded",LAYAFN0);__getset(0,b,"currentFrameLabel",function(){var b=this.currentFrame-1,a,c=0,f;for(f in this._animData_.labs)if(a=f,c=int(this._animData_.labs[f]),b==c)return a;return null});__getset(0,b,"currentScene",LAYAFNNULL);__getset(0,b,"currentLabels",function(){var b=this._animData_.labs,a=[],c;for(c in b){var f=new FrameLabel;f.name=c;f.frame=int(b[c])+1;a.push(f)}return a});__getset(0,b,"scenes",LAYAFNNULL);__getset(0,b,"trackAsMenu",LAYAFNFALSE,LAYAFNVOID);c.USE_LINK_CLASS=!0;return c}(Sprite),ShaderJob=function(a){function c(b){c.__super.call(this)}__class(c,"iflash.display.ShaderJob",!1,a);c.prototype.start=function(b){};return c}(Sprite),SimpleButton=function(a){function c(b,a,g,e){this._enabled=!0;c.__super.call(this);this.addEventListener("mouseOut",__bind(this,this._onmouseOut_));this.addEventListener("mouseOver",__bind(this,this._onmouseOver_));this.addEventListener("mouseDown",__bind(this,this._onmouseDown_));this.addEventListener("mouseUp",__bind(this,this._onmouseUp_));this.mouseChildren=!1}__class(c,"iflash.display.SimpleButton",!1,a);a=c.prototype;a._onmouseOut_=function(b){this.gotoAndStop(1)};a.switchState=function(b){this.gotoAndStop(b)};a._onmouseUp_=function(b){this.gotoAndStop(1)};a._onmouseDown_=function(b){this.gotoAndStop(3)};a._onmouseOver_=function(b){this.gotoAndStop(2)};a.lyclone=function(){var b=new c;b._animData_=this._animData_.lyclone();b.runner=this.runner;b.__id__=this.__id__;b._interval_=this._interval_;b.width=this.width;b.height=this.height;b._type_|=16;b.gotoAndStop(1);return b};__getset(0,a,"trackAsMenu",LAYAFNFALSE,LAYAFNVOID);__getset(0,a,"useHandCursor",LAYAFNFALSE,LAYAFNVOID);__getset(0,a,"downState",LAYAFNNULL,LAYAFNVOID);__getset(0,a,"enabled",function(){return this._enabled},function(b){this._enabled=b});__getset(0,a,"upState",LAYAFNNULL,LAYAFNVOID);__getset(0,a,"overState",LAYAFNNULL,LAYAFNVOID);__getset(0,a,"hitTestState",LAYAFNNULL,LAYAFNVOID);return c}(MovieClip),MC2=function(a){function c(){c.__super.call(this);var b=this.__data__;this._animData_=b._animData_.lyclone();this.runner=b.runner;this._interval_=b._interval_;this._type_|=16;this.__id__=b.__id__;this.gotoAndPlay(1)}__class(c,"iflash.display.swf.classs.MC",!1,a,"MC2");return c}(MovieClip),SB=function(a){function c(b,a,g,e){c.__super.call(this);b=this.__data__;this._animData_=b._animData_.lyclone();this.runner=this.runner=b.runner;this._interval_=b._interval_;this._type_|=16;this.__id__=b.__id__;this.gotoAndStop(1)}__class(c,"iflash.display.swf.classs.SB",!1,a);return c}(SimpleButton),JSONParse=function(){function a(){LAYABOX.__JSON__||(LAYABOX.__JSON__=window.JSON,window.JSON=a)}__class(a,"JSONParse",!0);a.parse=function(a){try{return LAYABOX.__JSON__.parse(a)}catch(b){try{return eval("ret\x3d"+a),null}catch(d){throw Error("Could not parse JSON: "+d.message);}}};a.stringify=function(a){return LAYABOX.__JSON__.stringify(a)};return a}(),QName=function(){function a(b,a){this._localName=this._uri=null;this._uri=b;this._localName=a}__class(a,"QName",!1);var c=a.prototype;c.toString=function(){return(null==this.uri?"*":this.uri)+"::"+this.localName};__getset(0,c,"uri",function(){return null==this._uri?null:""==this._uri?"":"string"==typeof this._uri?this._uri:this._uri+""});__getset(0,c,"localName",function(){return null==this._localName?null:""==this._localName?"":"string"==typeof this._localName?this._localName:this._localName+""});return a}(),uint=function(){function a(b,c){void 0===b&&(b=0);void 0===c&&(c=0);if(!b)return 0;if(Laya.__typeof(b,iflash.utils.BigInteger)){if(0<=b.compareTo(a._CIRCLE)&&0>b.compareTo(a.ZERO))return b.add(a.CIRCLE);if(0>b.compareTo(a._CIRCLE))return a(b.mod(a.CIRCLE));0<b.compareTo(4294967295)&&(b=b.mod(a.CIRCLE))}else{b=Laya.__parseInt(b);if(-4294967296<=b&&0>b)return b+4294967295+1+c;if(-4294967296>b)return a(b%4294967296)+c;4294967295<b&&(b=b%4294967296+c)}return b}__class(a,"uint",!1);var c=a.prototype;c.toString=function(b){void 0===b&&(b=10);return Number(this).toString(b)};c.valueOf=function(){return this};c.toExponential=function(b){void 0===b&&(b=0);return Number(this).toExponential(b)};c.toPrecision=function(b){void 0===b&&(b=0);return Number(this).toPrecision(b)};c.toFixed=function(b){void 0===b&&(b=0);return Number(this).toFixed(b)};a.MAX_VALUE=4294967295;a.MAX_UINT=4294967295;a.length=1;__static(a,["_MAX_UINT",function(){return this._MAX_UINT=new iflash.utils.BigInteger("-4294967295")},"ZERO",function(){return this.ZERO=new iflash.utils.BigInteger("0")},"CIRCLE",function(){return this.CIRCLE=new iflash.utils.BigInteger("4294967296")},"_CIRCLE",function(){return this._CIRCLE=new iflash.utils.BigInteger("-4294967296")}]);return a}(),StringUtil=function(){function a(){}__class(a,"mx.utils.StringUtil",!0);a.trim=function(c){if(null==c)return"";for(var b=0;a.isWhitespace(c.charAt(b));)++b;for(var d=c.length-1;a.isWhitespace(c.charAt(d));)--d;return d>=b?c.slice(b,d+1):""};a.trimArrayElements=function(a,b){if(""!=a&&null!=a){for(var d=a.split(b),g=d.length,e=0;e<g;e++)d[e]=mx.utils.StringUtil.trim(d[e]);0<g&&(a=d.join(b))}return a};a.isWhitespace=function(a){switch(a){case " ":case "\t":case "\r":case "\n":case "\f":return!0;default:return!1}};a.substitute=function(a,b){for(var d=[],g=1,e=arguments.length;g<e;g++)d.push(arguments[g]);if(null==a)return"";e=d.length;1==e&&d[0]instanceof Array&&(d=d[0],e=d.length);for(g=0;g<e;g++)a=a.replace(new RegExp("\\{"+g+"\\}","g"),d[g]);return a};return a}(),MD5=function(){function a(){}__class(a,"com.adobe.crypto.MD5",!0);a.hash=function(c){var b=1732584193,d=-271733879,g=-1732584194,e=271733878,f=0,h=0,k=0,l=0;c=a.createBlocks(a.changeUTF(c));for(var m=c.length,n=0;n<m;n+=16)f=b,h=d,k=g,l=e,b=a.ff(b,d,g,e,c[n+0],7,-680876936),e=a.ff(e,b,d,g,c[n+1],12,-389564586),g=a.ff(g,e,b,d,c[n+2],17,606105819),d=a.ff(d,g,e,b,c[n+3],22,-1044525330),b=a.ff(b,d,g,e,c[n+4],7,-176418897),e=a.ff(e,b,d,g,c[n+5],12,1200080426),g=a.ff(g,e,b,d,c[n+6],17,-1473231341),d=a.ff(d,g,e,b,c[n+7],22,-45705983),b=a.ff(b,d,g,e,c[n+8],7,1770035416),e=a.ff(e,b,d,g,c[n+9],12,-1958414417),g=a.ff(g,e,b,d,c[n+10],17,-42063),d=a.ff(d,g,e,b,c[n+11],22,-1990404162),b=a.ff(b,d,g,e,c[n+12],7,1804603682),e=a.ff(e,b,d,g,c[n+13],12,-40341101),g=a.ff(g,e,b,d,c[n+14],17,-1502002290),d=a.ff(d,g,e,b,c[n+15],22,1236535329),b=a.gg(b,d,g,e,c[n+1],5,-165796510),e=a.gg(e,b,d,g,c[n+6],9,-1069501632),g=a.gg(g,e,b,d,c[n+11],14,643717713),d=a.gg(d,g,e,b,c[n+0],20,-373897302),b=a.gg(b,d,g,e,c[n+5],5,-701558691),e=a.gg(e,b,d,g,c[n+10],9,38016083),g=a.gg(g,e,b,d,c[n+15],14,-660478335),d=a.gg(d,g,e,b,c[n+4],20,-405537848),b=a.gg(b,d,g,e,c[n+9],5,568446438),e=a.gg(e,b,d,g,c[n+14],9,-1019803690),g=a.gg(g,e,b,d,c[n+3],14,-187363961),d=a.gg(d,g,e,b,c[n+8],20,1163531501),b=a.gg(b,d,g,e,c[n+13],5,-1444681467),e=a.gg(e,b,d,g,c[n+2],9,-51403784),g=a.gg(g,e,b,d,c[n+7],14,1735328473),d=a.gg(d,g,e,b,c[n+12],20,-1926607734),b=a.hh(b,d,g,e,c[n+5],4,-378558),e=a.hh(e,b,d,g,c[n+8],11,-2022574463),g=a.hh(g,e,b,d,c[n+11],16,1839030562),d=a.hh(d,g,e,b,c[n+14],23,-35309556),b=a.hh(b,d,g,e,c[n+1],4,-1530992060),e=a.hh(e,b,d,g,c[n+4],11,1272893353),g=a.hh(g,e,b,d,c[n+7],16,-155497632),d=a.hh(d,g,e,b,c[n+10],23,-1094730640),b=a.hh(b,d,g,e,c[n+13],4,681279174),e=a.hh(e,b,d,g,c[n+0],11,-358537222),g=a.hh(g,e,b,d,c[n+3],16,-722521979),d=a.hh(d,g,e,b,c[n+6],23,76029189),b=a.hh(b,d,g,e,c[n+9],4,-640364487),e=a.hh(e,b,d,g,c[n+12],11,-421815835),g=a.hh(g,e,b,d,c[n+15],16,530742520),d=a.hh(d,g,e,b,c[n+2],23,-995338651),b=a.ii(b,d,g,e,c[n+0],6,-198630844),e=a.ii(e,b,d,g,c[n+7],10,1126891415),g=a.ii(g,e,b,d,c[n+14],15,-1416354905),d=a.ii(d,g,e,b,c[n+5],21,-57434055),b=a.ii(b,d,g,e,c[n+12],6,1700485571),e=a.ii(e,b,d,g,c[n+3],10,-1894986606),g=a.ii(g,e,b,d,c[n+10],15,-1051523),d=a.ii(d,g,e,b,c[n+1],21,-2054922799),b=a.ii(b,d,g,e,c[n+8],6,1873313359),e=a.ii(e,b,d,g,c[n+15],10,-30611744),g=a.ii(g,e,b,d,c[n+6],15,-1560198380),d=a.ii(d,g,e,b,c[n+13],21,1309151649),b=a.ii(b,d,g,e,c[n+4],6,-145523070),e=a.ii(e,b,d,g,c[n+11],10,-1120210379),g=a.ii(g,e,b,d,c[n+2],15,718787259),d=a.ii(d,g,e,b,c[n+9],21,-343485551),b+=f,d+=h,g+=k,e+=l;return IntUtil.toHex(b)+IntUtil.toHex(d)+IntUtil.toHex(g)+IntUtil.toHex(e)};a.f=function(a,b,d){return a&b|~a&d};a.g=function(a,b,d){return a&d|b&~d};a.h=function(a,b,d){return a^b^d};a.i=function(a,b,d){return b^(a|~d)};a.transform=function(a,b,d,g,e,f,h,k){a=b+int(a(d,g,e))+f+k;return IntUtil.rol(a,h)+d};a.ff=function(c,b,d,g,e,f,h){return a.transform(a.f,c,b,d,g,e,f,h)};a.gg=function(c,b,d,g,e,f,h){return a.transform(a.g,c,b,d,g,e,f,h)};a.hh=function(c,b,d,g,e,f,h){return a.transform(a.h,c,b,d,g,e,f,h)};a.ii=function(c,b,d,g,e,f,h){return a.transform(a.i,c,b,d,g,e,f,h)};a.createBlocks=function(a){for(var b=[],d=8*a.length,g=0;g<d;g+=8)b[g>>5]|=(a.charCodeAt(g/8)&255)<<g%32;b[d>>5]|=128<<d%32;b[(d+64>>>9<<4)+14]=d;return b};a.changeUTF2ASCII=function(a){if(65535<a.length)throw Error("In MD5:changeUTF2 s.length must less than 65536");var b=new ByteArray;b.writeUTF(a);b.position=2;a="";for(var d=0,g=b.bytesAvailable;d<g;d++){var e=b.readUnsignedByte(),e=String.fromCharCode(e);a+=e}return a};a.changeUTF=function(c){for(var b=Math.ceil(c.length/65530),d="",g="",e=0;e<b;e++)d=e==b-1?c.substr(65530*e):c.substr(65530*e,65530),g+=a.changeUTF2ASCII(d);return g};return a}(),BitString=function(){function a(){this.val=this.len=0}__class(a,"com.adobe.images.BitString",!0);return a}(),JPGEncoder=function(){function a(b){this.ZigZag=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63];this.UVAC_HT=this.YAC_HT=this.UVDC_HT=this.YDC_HT=null;this.std_dc_luminance_nrcodes=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0];this.std_dc_luminance_values=[0,1,2,3,4,5,6,7,8,9,10,11];this.std_ac_luminance_nrcodes=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125];this.std_ac_luminance_values=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250];this.std_dc_chrominance_nrcodes=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0];this.std_dc_chrominance_values=[0,1,2,3,4,5,6,7,8,9,10,11];this.std_ac_chrominance_nrcodes=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119];this.std_ac_chrominance_values=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];this.byteout=null;this.bytenew=0;this.bytepos=7;this.YTable=Array(64);this.UVTable=Array(64);this.fdtbl_Y=Array(64);this.fdtbl_UV=Array(64);this.bitcode=Array(65535);this.category=Array(65535);this.DU=Array(64);this.YDU=Array(64);this.UDU=Array(64);this.VDU=Array(64);void 0===b&&(b=50);0>=b&&(b=1);100<b&&(b=100);var a=0,a=50>b?int(5E3/b):int(200-2*b);this.initHuffmanTbl();this.initCategoryNumber();this.initQuantTables(a)}__class(a,"com.adobe.images.JPGEncoder",!0);var c=a.prototype;c.initQuantTables=function(b){for(var a=0,c=NaN,e=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],a=0;64>a;a++)c=Math.floor((e[a]*b+50)/100),1>c?c=1:255<c&&(c=255),this.YTable[this.ZigZag[a]]=c;e=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99];for(a=0;64>a;a++)c=Math.floor((e[a]*b+50)/100),1>c?c=1:255<c&&(c=255),this.UVTable[this.ZigZag[a]]=c;b=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379];for(c=a=0;8>c;c++)for(e=0;8>e;e++)this.fdtbl_Y[a]=1/(this.YTable[this.ZigZag[a]]*b[c]*b[e]*8),this.fdtbl_UV[a]=1/(this.UVTable[this.ZigZag[a]]*b[c]*b[e]*8),a++};c.computeHuffmanTbl=function(b,a){for(var c=0,e=0,f=[],h=1;16>=h;h++){for(var k=1;k<=b[h];k++)f[a[e]]=new BitString,f[a[e]].val=c,f[a[e]].len=h,e++,c++;c*=2}return f};c.initHuffmanTbl=function(){this.YDC_HT=this.computeHuffmanTbl(this.std_dc_luminance_nrcodes,this.std_dc_luminance_values);this.UVDC_HT=this.computeHuffmanTbl(this.std_dc_chrominance_nrcodes,this.std_dc_chrominance_values);this.YAC_HT=this.computeHuffmanTbl(this.std_ac_luminance_nrcodes,this.std_ac_luminance_values);this.UVAC_HT=this.computeHuffmanTbl(this.std_ac_chrominance_nrcodes,this.std_ac_chrominance_values)};c.initCategoryNumber=function(){for(var b=1,a=2,c=0,e=1;15>=e;e++){for(c=b;c<a;c++)this.category[32767+c]=e,this.bitcode[32767+c]=new BitString,this.bitcode[32767+c].len=e,this.bitcode[32767+c].val=c;for(c=-(a-1);c<=-b;c++)this.category[32767+c]=e,this.bitcode[32767+c]=new BitString,this.bitcode[32767+c].len=e,this.bitcode[32767+c].val=a-1+c;b<<=1;a<<=1}};c.writeBits=function(b){var a=b.val;for(b=b.len-1;0<=b;)a&uint(1<<b)&&(this.bytenew|=uint(1<<this.bytepos)),b--,this.bytepos--,0>this.bytepos&&(255==this.bytenew?(this.writeByte(255),this.writeByte(0)):this.writeByte(this.bytenew),this.bytepos=7,this.bytenew=0)};c.writeByte=function(b){this.byteout.writeByte(b)};c.writeWord=function(b){this.writeByte(b>>8&255);this.writeByte(b&255)};c.fDCTQuant=function(b,a){for(var c=NaN,e=NaN,f=NaN,h=NaN,k=NaN,l=NaN,m=NaN,n=NaN,p=NaN,n=m=l=l=p=k=p=h=e=c=NaN,q=0,r=0,q=0;8>q;q++)c=b[r+0]+b[r+7],n=b[r+0]-b[r+7],e=b[r+1]+b[r+6],m=b[r+1]-b[r+6],f=b[r+2]+b[r+5],l=b[r+2]-b[r+5],h=b[r+3]+b[r+4],k=b[r+3]-b[r+4],p=c+h,h=c-h,c=e+f,e-=f,b[r+0]=p+c,b[r+4]=p-c,p=.707106781*(e+h),b[r+2]=h+p,b[r+6]=h-p,p=k+l,c=l+m,e=m+n,l=.382683433*(p-e),k=.5411961*p+l,l=1.306562965*e+l,p=.707106781*c,m=n+p,n-=p,b[r+5]=n+k,b[r+3]=n-k,b[r+1]=m+l,b[r+7]=m-l,r+=8;for(q=r=0;8>q;q++)c=b[r+0]+b[r+56],n=b[r+0]-b[r+56],e=b[r+8]+b[r+48],m=b[r+8]-b[r+48],f=b[r+16]+b[r+40],l=b[r+16]-b[r+40],h=b[r+24]+b[r+32],k=b[r+24]-b[r+32],p=c+h,h=c-h,c=e+f,e-=f,b[r+0]=p+c,b[r+32]=p-c,p=.707106781*(e+h),b[r+16]=h+p,b[r+48]=h-p,p=k+l,c=l+m,e=m+n,l=.382683433*(p-e),k=.5411961*p+l,l=1.306562965*e+l,p=.707106781*c,m=n+p,n-=p,b[r+40]=n+k,b[r+24]=n-k,b[r+8]=m+l,b[r+56]=m-l,r++;for(q=0;64>q;q++)b[q]=Math.round(b[q]*a[q]);return b};c.writeAPP0=function(){this.writeWord(65504);this.writeWord(16);this.writeByte(74);this.writeByte(70);this.writeByte(73);this.writeByte(70);this.writeByte(0);this.writeByte(1);this.writeByte(1);this.writeByte(0);this.writeWord(1);this.writeWord(1);this.writeByte(0);this.writeByte(0)};c.writeSOF0=function(b,a){this.writeWord(65472);this.writeWord(17);this.writeByte(8);this.writeWord(a);this.writeWord(b);this.writeByte(3);this.writeByte(1);this.writeByte(17);this.writeByte(0);this.writeByte(2);this.writeByte(17);this.writeByte(1);this.writeByte(3);this.writeByte(17);this.writeByte(1)};c.writeDQT=function(){this.writeWord(65499);this.writeWord(132);this.writeByte(0);for(var b=0,b=0;64>b;b++)this.writeByte(this.YTable[b]);this.writeByte(1);for(b=0;64>b;b++)this.writeByte(this.UVTable[b])};c.writeDHT=function(){this.writeWord(65476);this.writeWord(418);var b=0;this.writeByte(0);for(b=0;16>b;b++)this.writeByte(this.std_dc_luminance_nrcodes[b+1]);for(b=0;11>=b;b++)this.writeByte(this.std_dc_luminance_values[b]);this.writeByte(16);for(b=0;16>b;b++)this.writeByte(this.std_ac_luminance_nrcodes[b+1]);for(b=0;161>=b;b++)this.writeByte(this.std_ac_luminance_values[b]);this.writeByte(1);for(b=0;16>b;b++)this.writeByte(this.std_dc_chrominance_nrcodes[b+1]);for(b=0;11>=b;b++)this.writeByte(this.std_dc_chrominance_values[b]);this.writeByte(17);for(b=0;16>b;b++)this.writeByte(this.std_ac_chrominance_nrcodes[b+1]);for(b=0;161>=b;b++)this.writeByte(this.std_ac_chrominance_values[b])};c.writeSOS=function(){this.writeWord(65498);this.writeWord(12);this.writeByte(3);this.writeByte(1);this.writeByte(0);this.writeByte(2);this.writeByte(17);this.writeByte(3);this.writeByte(17);this.writeByte(0);this.writeByte(63);this.writeByte(0)};c.processDU=function(b,a,c,e,f){var h=f[0],k=f[240],l=0;b=this.fDCTQuant(b,a);for(l=0;64>l;l++)this.DU[this.ZigZag[l]]=b[l];l=this.DU[0]-c;c=this.DU[0];0==l?this.writeBits(e[0]):(this.writeBits(e[this.category[32767+l]]),this.writeBits(this.bitcode[32767+l]));for(e=63;0<e&&0==this.DU[e];e--);if(0==e)return this.writeBits(h),c;for(l=1;l<=e;){for(b=l;0==this.DU[l]&&l<=e;l++);b=l-b;if(16<=b){for(a=1;a<=b/16;a++)this.writeBits(k);b=int(b&15)}this.writeBits(f[16*b+this.category[32767+this.DU[l]]]);this.writeBits(this.bitcode[32767+this.DU[l]]);l++}63!=e&&this.writeBits(h);return c};c.RGB2YUV=function(b,a,c){for(var e=0,f=0;8>f;f++)for(var h=0;8>h;h++){var k=b.getPixel32(a+h,c+f),l=Number(k>>16&255),m=Number(k>>8&255),k=Number(k&255);this.YDU[e]=.299*l+.587*m+.114*k-128;this.UDU[e]=-.16874*l+-.33126*m+.5*k;this.VDU[e]=.5*l+-.41869*m+-.08131*k;e++}};c.encode=function(b){this.byteout=new ByteArray;this.bytenew=0;this.bytepos=7;this.writeWord(65496);this.writeAPP0();this.writeDQT();this.writeSOF0(b.width,b.height);this.writeDHT();this.writeSOS();var a=0,c=0,e=0;this.bytenew=0;this.bytepos=7;for(var f=0;f<b.height;f+=8)for(var h=0;h<b.width;h+=8)this.RGB2YUV(b,h,f),a=this.processDU(this.YDU,this.fdtbl_Y,a,this.YDC_HT,this.YAC_HT),c=this.processDU(this.UDU,this.fdtbl_UV,c,this.UVDC_HT,this.UVAC_HT),e=this.processDU(this.VDU,this.fdtbl_UV,e,this.UVDC_HT,this.UVAC_HT);0<=this.bytepos&&(b=new BitString,b.len=this.bytepos+1,b.val=(1<<this.bytepos+1)-1,this.writeBits(b));this.writeWord(65497);return this.byteout};return a}(),PNGEncoder=function(){function a(){}__class(a,"com.adobe.images.PNGEncoder",!0);a.encode=function(c){var b=new ByteArray;b.writeUnsignedInt(2303741511);b.writeUnsignedInt(218765834);var d=new ByteArray;d.writeInt(c.width);d.writeInt(c.height);d.writeUnsignedInt(134610944);d.writeByte(0);a.writeChunk(b,1229472850,d);for(var d=new ByteArray,g=0;g<c.height;g++){d.writeByte(0);var e=0,f=0;if(c.transparent)for(f=0;f<c.width;f++)e=c.getPixel32(f,g),d.writeUnsignedInt(uint((e&16777215)<<8|e>>>24));else for(f=0;f<c.width;f++)e=c.getPixel(f,g),d.writeUnsignedInt(uint((e&16777215)<<8|255))}d.compress();a.writeChunk(b,1229209940,d);a.writeChunk(b,1229278788,null);return b};a.writeChunk=function(c,b,d){if(!a.crcTableComputed){a.crcTableComputed=!0;a.crcTable=[];for(var g=0,e=0;256>e;e++){for(var g=e,f=0;8>f;f++)g=g&1?uint(uint(3988292384)^uint(g>>>1)):uint(g>>>1);a.crcTable[e]=g}}g=0;null!=d&&(g=d.length);c.writeUnsignedInt(g);e=c.position;c.writeUnsignedInt(b);null!=d&&c.writeBytes(d);b=c.position;c.position=e;g=4294967295;for(d=0;d<b-e;d++)g=uint(a.crcTable[(g^c.readUnsignedByte())&uint(255)]^uint(g>>>8));g=uint(g^uint(4294967295));c.position=b;c.writeUnsignedInt(g)};a.crcTable=null;a.crcTableComputed=!1;return a}(),IntUtil=function(){function a(){}__class(a,"com.adobe.utils.IntUtil",!0);a.rol=function(a,b){return a<<b|a>>>32-b};a.ror=function(a,b){var d=32-b;return a<<d|a>>>32-d};a.toHex=function(c,b){void 0===b&&(b=!1);var d="";if(b)for(var g=0;4>g;g++)d+=a.hexChars.charAt(c>>8*(3-g)+4&15)+a.hexChars.charAt(c>>8*(3-g)&15);else for(g=0;4>g;g++)d+=a.hexChars.charAt(c>>8*g+4&15)+a.hexChars.charAt(c>>8*g&15);return d};a.hexChars="0123456789abcdef";return a}(),AStar=function(){function a(){this.COST_STRAIGHT=10;this.COST_DIAGONAL=14;this.NOTE_ID=0;this.NOTE_OPEN=1;this.NOTE_CLOSED=2;this._mapModel=null;this._maxTry=0;this._openList=null;this._openId=this._openCount=0;this._noteMap=this._fatherList=this._movementCostList=this._pathScoreList=this._nodeList=null}__class(a,"com.lilynumber1.algo.AStar",!0);var c=a.prototype;c._find=function(b,a){if(null==this._mapModel)return null;b=this.transPoint(b);var c=this.transPoint(a.clone());if(!this.isBlock(c))return null;this.initLists();this._openCount=0;this._openId=-1;this.openNote(b,0,0,0);for(var e=0,f=0,h,k=0,l=0,m=0;0<this._openCount;){if(++e>this._maxTry)return this.destroyLists(),null;f=this._openList[0];this.closeNote(f);h=this._nodeList[f];if(c.equals(h))return this.getPath(b,f);var n=this.getArounds(h),p;for(p in n)k=n[p],l=this._movementCostList[f]+(k.x==h.x||k.y==h.y?this.COST_STRAIGHT:this.COST_DIAGONAL),m=l+(Math.abs(c.x-k.x)+Math.abs(c.y-k.y))*this.COST_STRAIGHT,this.isOpen(k)?(k=this._noteMap[k.y][k.x][this.NOTE_ID],l<this._movementCostList[k]&&(this._movementCostList[k]=l,this._pathScoreList[k]=m,this._fatherList[k]=f,this.aheadNote(this._openList.indexOf(k)+1))):this.openNote(k,m,l,f)}this.destroyLists();return null};c.openNote=function(b,a,c,e){this._openCount++;this._openId++;null==this._noteMap[b.y]&&(this._noteMap[b.y]=[]);this._noteMap[b.y][b.x]=[];this._noteMap[b.y][b.x][this.NOTE_OPEN]=!0;this._noteMap[b.y][b.x][this.NOTE_ID]=this._openId;this._nodeList.push(b);this._pathScoreList.push(a);this._movementCostList.push(c);this._fatherList.push(e);this._openList.push(this._openId);this.aheadNote(this._openCount)};c.closeNote=function(b){this._openCount--;b=this._nodeList[b];this._noteMap[b.y][b.x][this.NOTE_OPEN]=!1;this._noteMap[b.y][b.x][this.NOTE_CLOSED]=!0;0>=this._openCount?(this._openCount=0,this._openList=[]):(this._openList[0]=this._openList.pop(),this.backNote())};c.aheadNote=function(b){for(var a=0,c=0;1<b;)if(a=int(b/2),this.getScore(b)<this.getScore(a))c=this._openList[b-1],this._openList[b-1]=this._openList[a-1],this._openList[a-1]=c,b=a;else break};c.backNote=function(){for(var b=1,a=0,c=0;a=b,2*a<=this._openCount&&(this.getScore(b)>this.getScore(2*a)&&(b=2*a),2*a+1<=this._openCount&&this.getScore(b)>this.getScore(2*a+1)&&(b=2*a+1)),a!=b;)c=this._openList[a-1],this._openList[a-1]=this._openList[b-1],this._openList[b-1]=c};c.isOpen=function(b){return null==this._noteMap[b.y]||null==this._noteMap[b.y][b.x]?!1:this._noteMap[b.y][b.x][this.NOTE_OPEN]};c.isClosed=function(b){return null==this._noteMap[b.y]||null==this._noteMap[b.y][b.x]?!1:this._noteMap[b.y][b.x][this.NOTE_CLOSED]};c.getArounds=function(b){var c=[],g,e=!1,f=0;g=b.add(a.aroundsData[f]);f++;var h=this.isBlock(g);h&&!this.isClosed(g)&&c.push(g);g=b.add(a.aroundsData[f]);f++;var k=this.isBlock(g);k&&!this.isClosed(g)&&c.push(g);g=b.add(a.aroundsData[f]);f++;var l=this.isBlock(g);l&&!this.isClosed(g)&&c.push(g);g=b.add(a.aroundsData[f]);f++;var m=this.isBlock(g);m&&!this.isClosed(g)&&c.push(g);g=b.add(a.aroundsData[f]);f++;(e=this.isBlock(g))&&h&&k&&!this.isClosed(g)&&c.push(g);g=b.add(a.aroundsData[f]);f++;(e=this.isBlock(g))&&l&&k&&!this.isClosed(g)&&c.push(g);g=b.add(a.aroundsData[f]);f++;(e=this.isBlock(g))&&l&&m&&!this.isClosed(g)&&c.push(g);g=b.add(a.aroundsData[f]);(e=this.isBlock(g))&&h&&m&&!this.isClosed(g)&&c.push(g);return c};c.getPath=function(b,a){for(var c=[],e=this._nodeList[a];!b.equals(e);)c.push(e),a=this._fatherList[a],e=this._nodeList[a];c.push(b);this.destroyLists();c.reverse();this.optimize(c);c.forEach(__bind(this,this.eachArray));return c};c.eachArray=function(b,a,c){b.x*=this._mapModel.gridSize;b.y*=this._mapModel.gridSize};c.getScore=function(b){return this._pathScoreList[this._openList[b-1]]};c.isBlock=function(b){return 0>b.x||b.x>=this._mapModel.gridX||0>b.y||b.y>=this._mapModel.gridY?!1:this._mapModel.data[b.x][b.y]};c.transPoint=function(b){b.x=int(b.x/this._mapModel.gridSize);b.y=int(b.y/this._mapModel.gridSize);return b};c.initLists=function(){this._openList=[];this._nodeList=[];this._pathScoreList=[];this._movementCostList=[];this._fatherList=[];this._noteMap=[]};c.destroyLists=function(){this._noteMap=this._fatherList=this._movementCostList=this._pathScoreList=this._nodeList=this._openList=null};c.optimize=function(b,a){void 0===a&&(a=0);if(null!=b){var c=b.length-1;if(!(2>c)){var e=b[a],f,h=0;f=NaN;for(var k=[],l=c;l>a;l--){f=b[l];h=Point.distance(e,f);f=Math.atan2(f.y-e.y,f.x-e.x);for(var m=1;m<h;m++){var n=e.add(Point.polar(m,f));n.x=int(n.x);n.y=int(n.y);if(this._mapModel.data[n.x][n.y])k.push(n);else{k=[];break}}h=k.length;if(0<h){b.splice(a+1,l-a-1);a+=h-1;break}}a<c&&this.optimize(b,++a)}}};__getset(1,a,"maxTry",function(){return a.getInstance()._maxTry});a.getInstance=function(){null==a._instance&&(a._instance=new a);return a._instance};a.init=function(b,c){void 0===c&&(c=1E3);a.getInstance()._mapModel=b;a.getInstance()._maxTry=c};a.find=function(b,c){return a.getInstance()._find(b,c)};a._instance=null;__static(a,["aroundsData",function(){return this.aroundsData=[new Point(1,0),new Point(0,1),new Point(-1,0),new Point(0,-1),new Point(1,1),new Point(-1,1),new Point(-1,-1),new Point(1,-1)]}]);return a}(),DataChangeType=function(){function a(){}__class(a,"com.lilynumber1.data.DataChangeType",!0);a.ADD="add";a.REMOVE="remove";a.REMOVE_ALL="removeAll";a.SORT="sort";a.MOVE="move";a.SWAP="swap";a.RESET="reset";a.UPDATE="update";a.SELECT="select";return a}(),DHash=function(){function a(b){this._length=0;this._contentValue=this._contentKey=null;this._weakKeys=!1;void 0===b&&(b=!1);this._weakKeys=b;this._length=0;this._contentKey=new Dictionary(b);this._contentValue=new Dictionary(b)}__class(a,"com.lilynumber1.ds.DHash",!0);var c=a.prototype;Laya.imps(c,{"com.lilynumber1.ds.ICollection":!0});c.isEmpty=function(){return 0==this._length};c.getKeys=function(){var b=Array(this._length),a=0,c,e;for(e in this._contentValue)c=this._contentValue[e],b[a]=c,a++;return b};c.getValues=function(){var b=Array(this._length),a=0,c,e;for(e in this._contentKey)c=this._contentKey[e],b[a]=c,a++;return b};c.eachKey=function(b){var a,c;for(c in this._contentValue)a=this._contentValue[c],b(a)};c.eachValue=function(b){var a,c;for(c in this._contentKey)a=this._contentKey[c],b(a)};c.each2=function(b){for(var a in this._contentKey)b(a,this._contentKey[a])};c.containsValue=function(b){return void 0!=this._contentValue[b]};c.containsKey=function(b){return void 0!=this._contentKey[b]};c.contains=function(b){return void 0!=this._contentKey[b]||void 0!=this._contentValue[b]?!0:!1};c.getValue=function(b){b=this._contentKey[b];return void 0==b?null:b};c.getKey=function(b){b=this._contentValue[b];return void 0==b?null:b};c.addForKey=function(b,a){if(null==b)throw new ArgumentError("cannot put a value with undefined or null key!");if(void 0==a)return null;void 0==this._contentKey[b]&&this._length++;var c=this.getValue(b);delete this._contentValue[c];this._contentKey[b]=a;this._contentValue[a]=b;return c};c.addForValue=function(b,a){if(null==b)throw new ArgumentError("cannot put a key with undefined or null value!");if(void 0==a)return null;void 0==this._contentValue[b]&&this._length++;var c=this.getKey(b);delete this._contentKey[c];this._contentValue[b]=a;this._contentKey[a]=b;return c};c.removeForKey=function(b){if(void 0!=this._contentKey[b]){var a=this._contentKey[b];delete this._contentKey[b];delete this._contentValue[a];this._length--;return a}return null};c.removeForValue=function(b){if(void 0!=this._contentValue[b]){var a=this._contentValue[b];delete this._contentValue[b];delete this._contentKey[a];this._length--;return a}return null};c.clear=function(){this._length=0;this._contentKey=new Dictionary(this._weakKeys);this._contentValue=new Dictionary(this._weakKeys)};c.clone=function(){var b=new a(this._weakKeys),c;for(c in this._contentKey)b.addForKey(c,this._contentKey[c]);return b};__getset(0,c,"length",function(){return this._length});return a}(),HashMap=function(){function a(b){this._length=0;this._content=null;this._weakKeys=!1;void 0===b&&(b=!1);this._weakKeys=b;this._length=0;this._content=new Dictionary(b)}__class(a,"com.lilynumber1.ds.HashMap",!1);var c=a.prototype;Laya.imps(c,{"com.lilynumber1.ds.ICollection":!0});c.isEmpty=function(){return 0==this._length};c.getKeys=function(){var b=Array(this._length),a=0,c;for(c in this._content)b[a]=c,a++;return b};c.getValues=function(){var b=Array(this._length),a=0,c,e;for(e in this._content)c=this._content[e],b[a]=c,a++;return b};c.eachKey=function(b){for(var a in this._content)b(a)};c.eachValue=function(b){var a,c;for(c in this._content)a=this._content[c],b(a)};c.each2=function(b){for(var a in this._content)b(a,this._content[a])};c.containsValue=function(b){var a,c;for(c in this._content)if(a=this._content[c],a==b)return!0;return!1};c.some=function(b){for(var a in this._content)if(b(a,this._content[a]))return!0;return!1};c.filter=function(b){var a=[],c,e;for(c in this._content)e=this._content[c],b(c,e)&&a.push(e);return a};c.containsKey=function(b){return void 0==this._content[b]?!1:!0};c.getValue=function(b){b=this._content[b];return void 0==b?null:b};c.getKey=function(b){for(var a in this._content)if(this._content[a]==b)return a;return null};c.add=function(b,a){if(null==b)throw new ArgumentError("cannot put a value with undefined or null key!");if(void 0==a)return null;void 0==this._content[b]&&this._length++;var c=this.getValue(b);this._content[b]=a;return c};c.remove=function(b){if(void 0==this._content[b])return null;var a=this._content[b];delete this._content[b];this._length--;return a};c.clear=function(){this._length=0;this._content=new Dictionary(this._weakKeys)};c.clone=function(){var b=new a(this._weakKeys),c;for(c in this._content)b.add(c,this._content[c]);return b};c.toString=function(){for(var b=this.getKeys(),a=this.getValues(),c=b.length,e="HashMap Content:\n",f=0,f=0;f<c;f++)e+=b[f]+" -\x3e "+a[f]+"\n";return e};__getset(0,c,"length",function(){return this._length});return a}(),HashSet=function(){function a(b){this._content=null;this._length=0;this._weakKeys=!1;void 0===b&&(b=!1);this._weakKeys=b;this._content=new Dictionary(b);this._length=0}__class(a,"com.lilynumber1.ds.HashSet",!0);var c=a.prototype;Laya.imps(c,{"com.lilynumber1.ds.ICollection":!0});c.add=function(b){void 0!=b&&(void 0==this._content[b]&&this._length++,this._content[b]=b)};c.contains=function(b){return void 0==this._content[b]?!1:!0};c.isEmpty=function(){return 0==this._length};c.remove=function(b){return void 0!=this._content[b]?(delete this._content[b],this._length--,!0):!1};c.clear=function(){this._content=new Dictionary(this._weakKeys);this._length=0};c.addAll=function(b){var a,c;for(c in b)a=b[c],this.add(a)};c.removeAll=function(b){var a,c;for(c in b)a=b[c],this.remove(a)};c.containsAll=function(b){for(var a=b.length,c=0,c=0;c<a;c++)if(void 0==this._content[b[c]])return!1;return!0};c.each2=function(b){var a,c;for(c in this._content)a=this._content[c],b(a)};c.toArray=function(){var b=Array(this._length),a=0,c,e;for(e in this._content)c=this._content[e],b[a]=c,a++;return b};c.clone=function(){var b=new a(this._weakKeys),c,g;for(g in this._content)c=this._content[g],b.add(c);return b};__getset(0,c,"length",function(){return this._length});return a}(),TreeList=function(){function a(b,a){this._data=this._children=this._parent=this._root=null;this._data=b;this._children=[];this.parent=a}__class(a,"com.lilynumber1.ds.TreeList",!0);var c=a.prototype;Laya.imps(c,{"com.lilynumber1.ds.ITree":!0});c.remove=function(){if(null!=this._parent){var b,a;for(a in this._children)b=this._children[a],b.parent=this._parent}};c.clear=function(){this._children=[]};c.setRoot=function(){if(null==this._parent)this._root=this;else for(var b=this._parent;b;){if(null==b.parent){this._root=b;break}b=b.parent;if(b==this)throw Error("TreeList Infinite Loop");}};__getset(0,c,"data",function(){return this._data},function(b){this._data=b});__getset(0,c,"length",function(){for(var b=this.numChildren,a=this._parent;a;)if(b+=a.numChildren,a=a.parent,a==this)throw Error("TreeList Infinite Loop");return b});__getset(0,c,"isLeaf",function(){return 0==this._children.length});__getset(0,c,"numSiblings",function(){return this._parent?this._parent.numChildren:0});__getset(0,c,"isRoot",function(){return this._root==this});__getset(0,c,"depth",function(){if(null==this._parent)return 0;for(var b=this._parent,a=0;b;)if(a++,b=b.parent,b==this)throw Error("TreeList Infinite Loop");return a});__getset(0,c,"numChildren",function(){return this._children.length});__getset(0,c,"parent",function(){return this._parent},function(b){if(this._parent){var a=this._parent.children.indexOf(this);-1!=a&&this._parent.children.splice(a,1)}b!=this&&((this._parent=b)&&this._parent.children.push(this),this.setRoot())});__getset(0,c,"root",function(){return this._root});__getset(0,c,"children",function(){return this._children});return a}(),TreeMap=function(){function a(b,a,c){this._data=this._children=this._key=this._parent=this._root=null;this._key=b;this._data=a;this._children=new HashMap;this.parent=c}__class(a,"com.lilynumber1.ds.TreeMap",!0);var c=a.prototype;Laya.imps(c,{"com.lilynumber1.ds.ITree":!0});c.remove=function(){var b=this;null!=this._parent&&this._children.eachValue(function(a){a.parent=b._parent})};c.clear=function(){this._children=new HashMap};c.setRoot=function(){if(null==this._parent)this._root=this;else for(var b=this._parent;b;){if(null==b.parent){this._root=b;break}b=b.parent;if(b==this)throw Error("TreeMap Infinite Loop");}};__getset(0,c,"data",function(){return this._data},function(b){this._data=b});__getset(0,c,"length",function(){for(var b=this.numChildren,a=this._parent;a;)if(b+=a.numChildren,a=a.parent,a==this)throw Error("TreeMap Infinite Loop");return b});__getset(0,c,"isLeaf",function(){return 0==this._children.length});__getset(0,c,"numSiblings",function(){return this._parent?this._parent.numChildren:0});__getset(0,c,"isRoot",function(){return this._root==this});__getset(0,c,"depth",function(){if(null==this._parent)return 0;for(var b=this._parent,a=0;b;)if(a++,b=b.parent,b==this)throw Error("TreeMap Infinite Loop");return a});__getset(0,c,"numChildren",function(){return this._children.length});__getset(0,c,"parent",function(){return this._parent},function(b){this._parent&&this._parent.children.remove(this._key);b!=this&&((this._parent=b)&&this._parent.children.add(this._key,this),this.setRoot())});__getset(0,c,"root",function(){return this._root});__getset(0,c,"children",function(){return this._children});__getset(0,c,"key",function(){return this._key},function(b){this._parent&&(this._parent.children.remove(this._key),this._parent.children.add(b,this));this._key=b});return a}(),TreeSet=function(){function a(b,a){this._data=this._children=this._parent=this._root=null;this._data=b;this._children=new HashSet;this.parent=a}__class(a,"com.lilynumber1.ds.TreeSet",!0);var c=a.prototype;Laya.imps(c,{"com.lilynumber1.ds.ITree":!0});c.remove=function(){var b=this;null!=this._parent&&this._children.each2(function(a){a.parent=b._parent})};c.clear=function(){this._children=new HashSet};c.setRoot=function(){if(null==this._parent)this._root=this;else for(var b=this._parent;b;){if(null==b.parent){this._root=b;break}b=b.parent;if(b==this)throw Error("TreeSet Infinite Loop");}};__getset(0,c,"data",function(){return this._data},function(b){this._data=b});__getset(0,c,"length",function(){for(var b=this.numChildren,a=this._parent;a;)if(b+=a.numChildren,a=a.parent,a==this)throw Error("TreeSet Infinite Loop");return b});__getset(0,c,"isLeaf",function(){return 0==this._children.length});__getset(0,c,"numSiblings",function(){return this._parent?this._parent.numChildren:0});__getset(0,c,"isRoot",function(){return this._root==this});__getset(0,c,"depth",function(){if(!this._parent)return 0;for(var b=this._parent,a=0;b;)if(a++,b=b.parent,b==this)throw Error("TreeSet Infinite Loop");return a});__getset(0,c,"numChildren",function(){return this._children.length});__getset(0,c,"parent",function(){return this._parent},function(b){this._parent&&this._parent.children.remove(this);b!=this&&((this._parent=b)&&this._parent.children.add(this),this.setRoot())});__getset(0,c,"root",function(){return this._root});__getset(0,c,"children",function(){return this._children});return a}(),ColorFilter=function(){function a(){}__class(a,"com.lilynumber1.effect.ColorFilter",!0);a.setHue=function(a){a=com.lilynumber1.effect.ColorFilter.cleanValue(a,180)/180*Math.PI;if(0==a||isNaN(a))return null;var b=Math.cos(a);a=Math.sin(a);return new ColorMatrixFilter([.213+.787*b+-.213*a,.715+-.715*b+-.715*a,.072+-.072*b+.928*a,0,0,.213+-.213*b+.143*a,.715+b*(1-.715)+.14*a,.072+-.072*b+-.283*a,0,0,.213+-.213*b+-.787*a,.715+-.715*b+.715*a,.072+.928*b+.072*a,0,0,0,0,0,1,0,0,0,0,0,1])};a.setBrightness=function(a){a=com.lilynumber1.effect.ColorFilter.cleanValue(a,100);return 0==a||isNaN(a)?null:new ColorMatrixFilter([1,0,0,0,a,0,1,0,0,a,0,0,1,0,a,0,0,0,1,0,0,0,0,0,1])};a.setSaturation=function(a){a=com.lilynumber1.effect.ColorFilter.cleanValue(a,100);if(0==a||isNaN(a))return null;a=1+(0<a?3*a/100:a/100);return new ColorMatrixFilter([.3086*(1-a)+a,.6094*(1-a),.082*(1-a),0,0,.3086*(1-a),.6094*(1-a)+a,.082*(1-a),0,0,.3086*(1-a),.6094*(1-a),.082*(1-a)+a,0,0,0,0,0,1,0,0,0,0,0,1])};a.setContrast=function(c){c=com.lilynumber1.effect.ColorFilter.cleanValue(c,100);if(0==c||isNaN(c))return null;var b=NaN;0>c?b=127+c/100*127:(b=c%1,b=0==b?a.DELTA_INDEX[c]:a.DELTA_INDEX[c<<0]*(1-b)+a.DELTA_INDEX[(c<<0)+1]*b,b=127*b+127);return new ColorMatrixFilter([b/127,0,0,0,.5*(127-b),0,b/127,0,0,.5*(127-b),0,0,b/127,0,.5*(127-b),0,0,0,1,0,0,0,0,0,1])};a.setGrayscale=function(){return new ColorMatrixFilter([.3086,.6094,.082,0,0,.3086,.6094,.082,0,0,.3086,.6094,.082,0,0,0,0,0,1,0])};a.setInvert=function(){return new ColorMatrixFilter([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0])};a.cleanValue=function(a,b){return Math.min(b,Math.max(-b,a))};a.RED=.3086;a.GREEN=.6094;a.BLUE=.082;__static(a,["DELTA_INDEX",function(){return this.DELTA_INDEX=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10]}]);return a}(),IntDimension=function(){function a(b,a){this._height=this._width=0;void 0===b&&(b=0);void 0===a&&(a=0);this._width=b;this._height=a}__class(a,"com.lilynumber1.gemo.IntDimension",!0);var c=a.prototype;c.setSize=function(b){this._width=b.width;this._height=b.height};c.setSizeWH=function(b,a){this._width=b;this._height=a};__getset(0,c,"width",function(){return this._width},function(b){this._width=b});__getset(0,c,"height",function(){return this._height},function(b){this._height=b});return a}(),CursorManager=function(){function a(){throw Error("not constructor");}__class(a,"com.lilynumber1.manager.CursorManager",!0);a.init=function(c){a._root=c};a.setCursor=function(c,b,d){void 0===d&&(d=!0);if(!a._root)throw Error("not root");a._cursor&&a.removeCursor();d&&Mouse.hide();a._cursor=c;a._cursor instanceof iflash.display.InteractiveObject&&(a._cursor.mouseEnabled=!1,a._cursor instanceof iflash.display.DisplayObjectContainer&&(a._cursor.mouseChildren=!1));null==b&&(b=new Point);a._offset=b;a._cursor.x=a._root.mouseX+a._offset.x;a._cursor.y=a._root.mouseY+a._offset.y;a._root.addChild(a._cursor);a._root.addEventListener("mouseMove",a.onMouseMove)};a.onMouseMove=function(c){a._cursor.x=a._root.mouseX+a._offset.x;a._cursor.y=a._root.mouseY+a._offset.y;c.updateAfterEvent()};a.bringToFront=function(){a._cursor&&a._root.addChild(a._cursor)};a.removeCursor=function(){a._cursor&&(a._root.removeEventListener("mouseMove",a.onMouseMove),DisplayUtil.removeForParent(a._cursor),a._cursor=null,Mouse.show())};a.destroy=function(){a._cursor&&a.removeCursor()};a._cursor=null;a._offset=null;__static(a,["_root",function(){return this._root=LilyManager.stage}]);return a}(),DepthManager=function(){function a(){this.depths=null;this.depths=new Dictionary(!0)}__class(a,"com.lilynumber1.manager.DepthManager",!0);var c=a.prototype;c.getDepth=function(b){return null==this.depths[b]?this.countDepth(b,b.parent.getChildIndex(b),0):this.depths[b]};c.countDepth=function(b,a,c){void 0===c&&(c=0);return null==this.depths[b]?0==a?0:this.countDepth(b.parent.getChildAt(a-1),a-1,c+1):this.depths[b]+c};c.setDepth=function(b,a){this.depths[b]=a};c.swapChildDepth=function(b,a){var c=b.parent;if(null==c)throw Error("child is not in a container!!");var e=c.getChildIndex(b),f=this.getDepth(b);if(a==f)return this.setDepth(b,a),e;var h=c.numChildren;if(2>h)return this.setDepth(b,a),e;if(a<this.getDepth(c.getChildAt(0)))return c.setChildIndex(b,0),this.setDepth(b,a),0;if(a>=this.getDepth(c.getChildAt(h-1)))return c.setChildIndex(b,h-1),this.setDepth(b,a),h-1;var k=0,l=h-1;a>f?(k=e,l=h-1):(k=0,l=e);for(;l>k+1;){var f=k+(l-k)/2,m=this.getDepth(c.getChildAt(f));if(m>a)l=f;else if(m<a)k=f;else return c.setChildIndex(b,f),this.setDepth(b,a),f}var f=this.getDepth(c.getChildAt(k)),m=this.getDepth(c.getChildAt(l)),n=0,n=a>=m?e<=l?Math.min(l,h-1):Math.min(l+1,h-1):a<f?e<k?Math.max(k-1,0):k:e<=k?k:Math.min(k+1,h-1);c.setChildIndex(b,n);this.setDepth(b,a);return n};a.getManager=function(b){a.managers||(a.managers=new Dictionary(!0));var c=a.managers[b];c||(c=new a,a.managers[b]=c);return c};a.swapDepth=function(b,c){return a.getManager(b.parent).swapChildDepth(b,c)};a.swapDepthAll=function(b){for(var c=a.getManager(b),g=b.numChildren,e,f=[],h=0,h=0;h<g;h++)e=b.getChildAt(h),f.push(e);f.sortOn("y",Array.NUMERIC);f.forEach(function(a,e,g){b.setChildIndex(a,e);c.setDepth(a,a.y)});f=null};a.clear=function(b){delete a.managers[b]};a.clearAll=function(){a.managers=null};a.bringToBottom=function(b){var a=b.parent;null!=a&&0!=a.getChildIndex(b)&&a.setChildIndex(b,0)};a.bringToTop=function(b){var a=b.parent;null!=a&&a.addChild(b)};a.managers=null;return a}(),DragManager=function(){function a(){}__class(a,"com.lilynumber1.manager.DragManager",!0);a.add=function(c,b){c instanceof iflash.display.Sprite&&(c.buttonMode=!0);c.addEventListener("mouseDown",a.onMouseDownHandler);c.addEventListener("mouseUp",a.onMouseUpHandler);a._collectionMap.add(c,b)};a.onMouseDownHandler=function(c){if(c=a._collectionMap.getValue(c.currentTarget))DepthManager.bringToTop(c),c.startDrag()};a.onMouseUpHandler=function(c){(c=a._collectionMap.getValue(c.currentTarget))&&c.stopDrag()};a.remove=function(c){c.removeEventListener("mouseDown",a.onMouseDownHandler);c.removeEventListener("mouseUp",a.onMouseUpHandler);a._collectionMap.getValue(c)&&a._collectionMap.remove(c)};__static(a,["_collectionMap",function(){return this._collectionMap=new HashMap}]);return a}(),EventManager1=function(){function a(){if(!a.isSingle)throw Error("EventManager\u4e3a\u5355\u4f8b\u6a21\u5f0f\uff0c\u4e0d\u80fd\u76f4\u63a5\u521b\u5efa");}__class(a,"com.lilynumber1.manager.EventManager",!0,null,"EventManager1");a.getInstance=function(){null==a.instance&&(a.isSingle=!0,a.instance=new EventDispatcher);a.isSingle=!1;return a.instance};a.addEventListener=function(c,b,d,g,e){void 0===d&&(d=!1);void 0===g&&(g=0);void 0===e&&(e=!1);a.getInstance().addEventListener(c,b,d,g,e)};a.removeEventListener=function(c,b,d){void 0===d&&(d=!1);a.getInstance().removeEventListener(c,b,d)};a.dispatchEvent=function(c){a.getInstance().dispatchEvent(c)};a.hasEventListener=function(c){return a.getInstance().hasEventListener(c)};a.willTrigger=function(c){return a.getInstance().willTrigger(c)};a.instance=null;a.isSingle=!1;return a}(),LilyManager=function(){function a(){}__class(a,"com.lilynumber1.manager.LilyManager",!0);__getset(1,a,"root",function(){return a._root},function(c){a._root=c});__getset(1,a,"stage",function(){return a._stage},function(c){a._stage=c});a.setup=function(c,b){a._root=c;a._stage=b};a.stageHeight=0;a.stageWidth=0;a._root=null;a._stage=null;return a}(),PopUpManager=function(){function a(){}__class(a,"com.lilynumber1.manager.PopUpManager",!0);a.showForDisplayObject=function(c,b,d,g,e){void 0===d&&(d=0);void 0===g&&(g=!0);e=e?b.localToGlobal(e):b.localToGlobal(new Point);switch(d){case 0:c.x=e.x-c.width;c.y=e.y-c.height;break;case 1:c.x=g?e.x+b.width:e.x;c.y=e.y-c.height;break;case 2:c.x=e.x-c.width;c.y=g?e.y+b.height:e.y;break;case 3:c.x=g?e.x+b.width:e.x,c.y=g?e.y+b.height:e.y}a.container.addChild(c)};a.showForMouse=function(c,b,d,g){void 0===b&&(b=0);void 0===d&&(d=0);void 0===g&&(g=0);d=new Point(LilyManager.stage.mouseX+d,LilyManager.stage.mouseY+g);switch(b){case 0:c.x=d.x>c.width?d.x-c.width:d.x;c.y=d.y>c.height?d.y-c.height:d.y;break;case 1:c.x=d.x+c.width>LilyManager.stage.stageWidth?d.x-c.width:d.x;c.y=d.y>c.height?d.y-c.height:d.y;break;case 2:c.x=d.x>c.width?d.x-c.width:d.x;c.y=d.y+c.height>LilyManager.stageHeight?d.y-c.height:d.y;break;case 3:c.x=d.x+c.width>LilyManager.stageWidth?d.x-c.width:d.x,c.y=d.y+c.height>LilyManager.stageHeight?d.y-c.height:d.y}a.container.addChild(c);a.container.stage.addEventListener("mouseDown",function(b){c.hitTestPoint(b.stageX,b.stageY)||(a.container.stage.removeEventListener("mouseDown",arguments.callee),DisplayUtil.removeForParent(c))})};a.TOP_LEFT=0;a.TOP_RIGHT=1;a.BOTTOM_LEFT=2;a.BOTTOM_RIGHT=3;__static(a,["container",function(){return this.container=LilyManager.stage}]);return a}(),ResourceManager=function(){function a(){}__class(a,"com.lilynumber1.manager.ResourceManager",!0);a.getResource=function(c,b,d,g,e){void 0===d&&(d="item");void 0===g&&(g=3);void 0===e&&(e=!0);if(0<a._cacheList.length){var f,h;for(h in a._cacheList)if(f=a._cacheList[h],f.url==c){f.res instanceof iflash.display.BitmapData?b(new Bitmap(f.res)):b(new f.res);return}}a._dataList.some(function(a,d,e){return a.url==c?(a.eventList.push(b),!0):!1})||(f=new ResInfo,f.eventList.push(b),f.isCache=e,f.level=g,f.url=c,f.name=d,a._dataList.push(f),a._dataList.sortOn("level",Array.NUMERIC),(d=a.getEmptyLoader(g))&&d.load(f))};a.getResourceList=function(c,b,d,g,e){void 0===g&&(g=3);void 0===e&&(e=!0);if(0<a._cacheMultiList.length){var f=[],h,k;for(k in a._cacheMultiList)if(h=a._cacheMultiList[k],h.url==c){h=h.map;for(var l in d)(k=h.getValue(l))&&(k instanceof iflash.display.BitmapData?f.push(new Bitmap(k)):f.push(new k));break}if(f.length==d.length){b(f);return}}f=!1;if(0<a._dataList.length)for(var m in a._dataList)if(l=a._dataList[m],l.url==c){""==l.name&&(l.eventList.push(b),f=!0);break}f||(m=new ResInfo,m.eventList.push(b),m.isCache=e,m.level=g,m.url=c,d.sort(),m.nameList=d,a._dataList.push(m),a._dataList.sortOn("level",Array.NUMERIC),(c=a.getEmptyLoader(g))&&c.load(m))};a.cancel=function(c,b){a.cancelEmpl(c,b)};a.cancelURL=function(c){a.cancelEmpl(c)};a.cancelAll=function(){var c,b;for(b in a._loaderList)c=a._loaderList[b],a.removeLoader(c);a._loaderList=[];a._dataList=[]};a.addBef=function(c,b,d){void 0===b&&(b="item");void 0===d&&(d=!0);var g=!1;if(0<a._dataList.length){var e,f;for(f in a._dataList)if(e=a._dataList[f],e.url==c){g=!0;break}}g||(g=new ResInfo,g.isCache=d,g.level=4,g.url=c,g.name=b,a._dataList.push(g))};a.stop=function(){a._isStop=!0;var c,b;for(b in a._loaderList)c=a._loaderList[b],4==c.level&&a.removeLoader(c)};a.play=function(){a._isStop=!1;a.nextLoad()};a.cancelEmpl=function(c,b){var d,g;for(g in a._loaderList)if(d=a._loaderList[g],d.resInfo.url==c){if(null!=b){g=d.resInfo.eventList.indexOf(b);if(-1==g)break;d.resInfo.eventList.splice(g,1);if(0<d.resInfo.eventList.length)break}a.removeLoader(d);d=a._dataList.length;for(g=0;g<d;g++)if(a._dataList[g].url==c){a._dataList.splice(g,1);break}a.nextLoad();break}};a.getEmptyLoader=function(c){void 0===c&&(c=3);var b;if(a._loaderList.length<a.maxLpt)return b=new ResLoader,b.addEventListener("complete",a.onLoadComplete),b.addEventListener("ioError",a.onIOError),a._loaderList.push(b),b;a._loaderList.sortOn("level",Array.NUMERIC|Array.DESCENDING);b=a._loaderList[0];return 0==c||4!=c&&4==b.level?(b.close(),b):null};a.nextLoad=function(){if(!a._isStop){var c=a._dataList.length;if(0<c)for(var b=0;b<c;b++){var d=a._dataList[b];if(!d.isLoading){(c=a.getEmptyLoader())&&c.load(d);break}}}};a.removeLoader=function(c){ArrayUtil.removeValueFromArray(a._loaderList,c);c.isLoading&&c.close();c.removeEventListener("complete",a.onLoadComplete);c.removeEventListener("ioError",a.onIOError);c.destroy()};a.onLoadComplete=function(c){c=c.target;var b=c.loaderInfo,d=c.resInfo,g=d.eventList;if(b.content instanceof iflash.display.Bitmap){var e=b.content.bitmapData.clone();d.isCache&&a._cacheList.push({url:d.url,res:e});var f,h;for(h in g)f=g[h],f(new Bitmap(e))}else if(""==d.name)if(0==d.nameList.length){e=b.applicationDomain.getDefinition(iflash.utils.getQualifiedClassName(b.content));d.isCache&&a._cacheList.push({url:d.url,res:e});for(var k in g)f=g[k],f(new e)}else{h=[];var l=new HashMap;k=d.nameList;var m,n;for(n in k)if(m=k[n],b.applicationDomain.hasDefinition(m)){if(e=b.applicationDomain.getDefinition(m))l.add(m,e),e instanceof iflash.display.BitmapData?h.push(new Bitmap(e)):h.push(new e)}else EventManager1.dispatchEvent(new Event("resourceReflectError"));d.isCache?a._cacheMultiList.some(function(b,a,c){if(b.url==d.url){var e=b.map;l.each2(function(b,a){e.add(b,a)});return!0}return!1})||a._cacheMultiList.push({url:d.url,map:l}):l=null;if(0<h.length)for(f in g)e=g[f],e(h);a._cacheMultiList.length>a.maxCache&&a._cacheMultiList.shift()}else if(b.applicationDomain.hasDefinition(d.name)?e=b.applicationDomain.getDefinition(d.name):EventManager1.dispatchEvent(new Event("resourceReflectError")),e)for(m in d.isCache&&a._cacheList.push({url:d.url,res:e}),g)f=g[m],f(new e);a.removeLoader(c);a._cacheList.length>a.maxCache&&a._cacheList.shift();ArrayUtil.removeValueFromArray(a._dataList,d);a.nextLoad()};a.onIOError=function(c){c=c.target;var b=c.resInfo;a.removeLoader(c);ArrayUtil.removeValueFromArray(a._dataList,b);a.nextLoad();EventManager1.dispatchEvent(new Event("resourceError"));console.log("\u8d44\u6e90\u52a0\u8f7d\u8def\u5f84\u4e0d\u6b63\u786e:"+b.url)};a.RESOUCE_ERROR="resourceError";a.RESOUCE_REFLECT_ERROR="resourceReflectError";a.HIGHEST=0;a.HIGH=1;a.STANDARD=2;a.LOW=3;a.LOWEST=4;a.maxLpt=2;a.maxCache=300;a._dataList=[];a._loaderList=[];a._cacheList=[];a._cacheMultiList=[];a._isStop=!1;return a}(),TickManager=function(){function a(){}__class(a,"com.lilynumber1.manager.TickManager",!0);__getset(1,a,"interval",function(){return a._interval},function(c){a._interval=c;iflash.utils.clearInterval(a._id);a._running=!1;a.setup()});__getset(1,a,"running",function(){return a._running});a.setup=function(){a._id=iflash.utils.setInterval(a.onTick,a._interval);a._running=!0};a.play=function(){a._running||a.setup()};a.stop=function(){a._running&&(iflash.utils.clearInterval(a._id),a._running=!1)};a.getFrameForTime=function(c){return c/a._interval};a.getTimeForFrame=function(c){return c*a._interval};a.addListener=function(c){a._hashSet.add(c)};a.removeListener=function(c){a._hashSet.remove(c)};a.hasListener=function(c){return a._hashSet.contains(c)};a.onTick=function(){a._hashSet.each2(function(a){a()})};a._interval=40;a._id=0;a._running=!1;__static(a,["_hashSet",function(){return this._hashSet=new HashSet}]);return a}(),ToolTipManager=function(){function a(){}__class(a,"com.lilynumber1.manager.ToolTipManager",!0);a.setup=function(c){a._bg=c;a._listMap=new HashMap;a._toolTip=new Sprite;a._toolTip.mouseChildren=!1;a._toolTip.mouseEnabled=!1;a._toolTip.addChild(a._bg);a._txt=new TextField;a._txt.width=120;a._txt.multiline=!0;a._txt.wordWrap=!0;a._txt.autoSize="left";a._bitmap=new Bitmap;a._toolTip.addChild(a._bitmap);a.tf=new TextFormat};a.add=function(c,b){c.addEventListener("rollOver",a.onOver);c.addEventListener("rollOut",a.onOut);a._listMap.add(c,b)};a.remove=function(c){a._listMap.containsKey(c)&&(c.removeEventListener("rollOver",a.onOver),c.removeEventListener("rollOut",a.onOut),a._listMap.remove(c));a.onFinishTween()};a.onOver=function(c){a._txt.htmlText=a._listMap.getValue(c.currentTarget);a._txt.setTextFormat(a.tf);a._bitmapdata&&(a._bitmapdata.dispose(),a._bitmapdata=null);a._bitmapdata=new BitmapData(a._txt.textWidth+2,a._txt.textHeight+2);a._bitmapdata.draw(a._txt);a._bitmap.bitmapData=a._bitmapdata;a._bitmap.x=2;a._bitmap.y=1;a._bg.width=a._bitmap.width+8;a._bg.height=a._bitmap.height+6;PopUpManager.showForMouse(a._toolTip,1,5,-5);a._cx=a._toolTip.x-c.stageX;a._cy=a._toolTip.y-c.stageY;LilyManager.stage.addEventListener("mouseMove",a.onMove)};a.onOut=function(c){a.onFinishTween()};a.onMove=function(c){a._toolTip.x=a._cx+c.stageX;a._toolTip.y=a._cy+c.stageY};a.onFinishTween=function(){DisplayUtil.removeForParent(a._toolTip);LilyManager.stage.removeEventListener("mouseMove",a.onMove)};a._toolTip=null;a._txt=null;a._bitmapdata=null;a._bitmap=null;a._bg=null;a._listMap=null;a._cx=NaN;a._cy=NaN;a.tf=null;return a}(),ResInfo=function(){function a(){this.eventList=[];this.isCache=!1;this.level=0;this.url=null;this.isLoading=!1;this.name="";this.nameList=[]}__class(a,"com.lilynumber1.resource.ResInfo",!0);return a}(),HeadInfo=function(){function a(b){this._version=null;this._result=this._userID=this._cmdID=0;this._version=b.readUTFBytes(1);this._cmdID=b.readUnsignedInt();this._userID=b.readUnsignedInt();this._result=b.readInt()}__class(a,"com.lilynumber1.tmf.HeadInfo",!0);var c=a.prototype;__getset(0,c,"userID",function(){return this._userID});__getset(0,c,"version",function(){return this._version});__getset(0,c,"cmdID",function(){return this._cmdID});__getset(0,c,"result",function(){return this._result});return a}(),TMF=function(){function a(){}__class(a,"com.lilynumber1.tmf.TMF",!0);a.registerClass=function(c,b){a._map[c]=b};a.removeClass=function(c){delete a._map[c]};a.getClass=function(c){return null==a._map[c]?TmfByteArray:a._map[c]};__static(a,["_map",function(){return this._map=new Dictionary}]);return a}(),AlignType=function(){function a(){}__class(a,"com.lilynumber1.utils.AlignType",!0);a.TOP_LEFT=0;a.TOP_CENTER=1;a.TOP_RIGHT=2;a.MIDDLE_LEFT=3;a.MIDDLE_CENTER=4;a.MIDDLE_RIGHT=5;a.BOTTOM_LEFT=6;a.BOTTOM_CENTER=7;a.BOTTOM_RIGHT=8;return a}(),ArrayUtil=function(){function a(){}__class(a,"com.lilynumber1.utils.ArrayUtil",!0);a.arrayContainsValue=function(a,b){return-1!=a.indexOf(b)};a.removeValueFromArray=function(a,b){var d=a.indexOf(b);-1!=d&&a.splice(d,1)};a.createUniqueCopy=function(a){var b=[];a.forEach(function(a,c,e){-1==b.indexOf(a)&&b.push(a)});return b};a.copyArray=function(a){return a.slice()};a.arraysAreEqual=function(a,b){if(a.length!=b.length)return!1;var d=!1,d=a.every(function(a,c,d){return-1==b.indexOf(a)?!1:!0});return d?d=b.every(function(b,d,f){return-1==a.indexOf(b)?!1:!0}):!1};a.embody=function(a,b){return b.every(function(b,g,e){return-1==a.indexOf(b)?!1:!0})};return a}(),Base641=function(){function a(){throw Error("Base64 class is static container only");}__class(a,"com.lilynumber1.utils.Base64",!0,null,"Base641");a.encode=function(c){var b=new ByteArray;b.writeUTFBytes(c);return a.encodeByteArray(b)};a.encodeByteArray=function(c){var b="",d,g=Array(4);for(c.position=0;0<c.bytesAvailable;){d=[];for(var e=0;3>e&&0<c.bytesAvailable;e++)d[e]=c.readUnsignedByte();g[0]=(d[0]&252)>>2;g[1]=(d[0]&3)<<4|d[1]>>4;g[2]=(d[1]&15)<<2|d[2]>>6;g[3]=d[2]&63;for(d=d.length;3>d;d++)g[d+1]=64;for(d=0;d<g.length;d++)b+=a.BASE64_CHARS.charAt(g[d])}return b};a.decode=function(c){c=a.decodeToByteArray(c);return c.readUTFBytes(c.length)};a.decodeToByteArray=function(c){for(var b=new ByteArray,d=Array(4),g=Array(3),e=0;e<c.length;e+=4){for(var f=0;4>f&&e+f<c.length;f++)d[f]=a.BASE64_CHARS.indexOf(c.charAt(e+f));g[0]=(d[0]<<2)+((d[1]&48)>>4);g[1]=((d[1]&15)<<4)+((d[2]&60)>>2);g[2]=((d[2]&3)<<6)+d[3];for(f=0;f<g.length&&64!=d[f+1];f++)b.writeByte(g[f])}b.position=0;return b};a.BASE64_CHARS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d";a.version="1.0.0";return a}(),BitmapDataUtil=function(){function a(){}__class(a,"com.lilynumber1.utils.BitmapDataUtil",!0);a.makeList=function(a,b,d,g,e){void 0===e&&(e=!1);for(var f=int(Math.min(a.width,2880)/b),h=int(Math.min(a.height,2880)/d),k=0,l=0,m=0,n,p=[],q=new Rectangle(0,0,b,d),r=new Point,l=0;l<h;l++)for(k=0;k<f;k++){if(m>=g)return p;q.x=k*b;q.y=l*d;n=new BitmapData(b,d);n.copyPixels(a,q,r);p[m]=n;m++}e&&a.dispose();return p};return a}(),BitUtil=function(){function a(){}__class(a,"com.lilynumber1.utils.BitUtil",!0);a.getBit=function(c,b){return(c&a.BIT_POS[b])>>b};__static(a,["BIT_POS",function(){return this.BIT_POS=[1,2,4,8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768,65536,131072,262144,524288,1048576,2097152,4194304,8388608,16777216,33554432,67108864,134217728,268435456,536870912,1073741824,2147483648]}]);return a}(),ColorUtil=function(){function a(){}__class(a,"com.lilynumber1.utils.ColorUtil",!0);a.getAlpha=function(a){return a>>24&255};a.getRed=function(a){return a>>16&255};a.getGreen=function(a){return a>>8&255};a.getBlue=function(a){return a&255};a.getColor24=function(a,b,d){return a<<16|b<<8|d};a.getColor32=function(a,b,d,g){return a<<24|b<<16|d<<8|g};a.HueToRGB=function(a,b,d){for(var g=NaN,e=NaN,e=NaN,f=0;0>d;)d+=360;f=int(d/60);e=(d-60*f)/60;g=a+(b-a)*e;e=b-(b-a)*e;switch(f%6){case 0:return{r:b,g:g,b:a};case 1:return{r:e,g:b,b:a};case 2:return{r:a,g:b,b:g};case 3:return{r:a,g:e,b:b};case 4:return{r:g,g:a,b:b};case 5:return{r:b,g:a,b:e}}return null};a.RGBToHue=function(c,b,d){var g=NaN,e=g=NaN,f=NaN,h=NaN,f=Math.max(c,Math.max(b,d)),g=Math.min(c,Math.min(b,d));if(0==f-g)return 0;for(e=a.center(c,b,d);;){if(c==f){h=d==g?0:5;break}if(b==f){h=d==g?1:2;break}h=c==g?3:4;break}g=(0==h%2?e-g:f-e)/(f-g);return 60*(h+g)};a.RGBtoHSL=function(c,b,d){var g=NaN,e=NaN,f=NaN,h=NaN,g=NaN,f=0,e=Math.max(c,Math.max(b,d)),g=Math.min(c,Math.min(b,d)),h=.5*(g+e);if(0==h)return{h:f,l:0,s:1};f=.5*(e-g);g=.5>h?f/h:f/(1-h);f=a.RGBToHue(c,b,d);return{h:f,l:h,s:g}};a.HSLtoRGB=function(c,b,d){var g=NaN,g=.5>b?d*b:d*(1-b);return a.HueToRGB(b-g,b+g,c)};a.RGBtoHSV=function(c,b,d){var g=NaN,e=NaN,f=g=NaN,e=0,e=Math.max(c,Math.max(b,d)),g=Math.min(c,Math.min(b,d));if(0==e)return{h:0,s:0,v:0};f=e;g=(e-g)/e;e=a.RGBToHue(c,b,d);return{h:e,s:g,v:f}};a.HSVtoRGB=function(c,b,d){return a.HueToRGB((1-b)*d,d,c)};a.HSVtoHSL=function(c,b,d){c=a.HSVtoRGB(c,b,d);return a.RGBtoHSL(c.r,c.g,c.b)};a.HSLtoHSV=function(c,b,d){c=a.HSLtoRGB(c,b,d);return a.RGBtoHSV(c.r,c.g,c.b)};a.center=function(a,b,d){return a>b&&a>d?b>d?b:d:b>a&&b>d?a>d?a:d:a>b?a:b};a.RGB_MAX=256;a.HUE_MAX=360;a.PCT_MAX=100;return a}(),Delegate=function(){function a(){}__class(a,"com.lilynumber1.utils.Delegate",!0);a.create=function(c,b){for(var d=[],g=1,e=arguments.length;g<e;g++)d.push(arguments[g]);return a.createWithArgs(c,d)};a.createWithArgs=function(a,b){var d=function(){var a=arguments.callee.func,c=arguments.concat(b);return a.apply(null,c)};d.func=a;return d};return a}(),DictionaryUtil=function(){function a(){}__class(a,"com.lilynumber1.utils.DictionaryUtil",!0);a.getKeys=function(a){var b=[],d;for(d in a)b.push(d);return b};a.getValues=function(a){var b=[],d,g;for(g in a)d=a[g],b.push(d);return b};return a}(),DisplayUtil=function(){function a(){}__class(a,"com.lilynumber1.utils.DisplayUtil",!0);a.stopAllMovieClip=function(c,b){var d=c.numChildren-1;if(!(0>d))for(var g=d;0<=g;g--)d=c.getChildAt(g),null!=d&&a.stopAllMovieClip(d)};a.removeAllChild=function(c){for(var b;0<c.numChildren;)b=c.removeChildAt(0),null!=b&&a.stopAllMovieClip(b)};a.removeForParent=function(c,b){void 0===b&&(b=!0);null!=c&&null!=c.parent&&c.parent.contains(c)&&(b&&c&&a.stopAllMovieClip(c),c.parent.removeChild(c))};a.hasParent=function(a){return null==a.parent?!1:a.parent.contains(a)};a.localToLocal=function(a,b,d){null==d&&(d=new Point(0,0));d=a.localToGlobal(d);return d=b.globalToLocal(d)};a.align=function(a,b,d,g){void 0===d&&(d=0);null==b&&(b=new Rectangle(0,0,LilyManager.stageWidth,LilyManager.stageHeight));g&&b.offsetPoint(g);g=a.getRect(a);var e=b.width-a.width,f=b.height-a.height;switch(d){case 0:a.x=b.x;a.y=b.y;break;case 1:a.x=b.x+e/2-g.x;a.y=b.y;break;case 2:a.x=b.x+e-g.x;a.y=b.y;break;case 3:a.x=b.x;a.y=b.y+f/2-g.x;break;case 4:a.x=b.x+e/2-g.x;a.y=b.y+f/2-g.y;break;case 5:a.x=b.x+e-g.x;a.y=b.y+f/2-g.y;break;case 6:a.x=b.x;a.y=b.y+f-g.y;break;case 7:a.x=b.x+e/2-g.x;a.y=b.y+f-g.y;break;case 8:a.x=b.x+e-g.x,a.y=b.y+f-g.y}};a.FillColor=function(a,b){var d=new ColorTransform;d.color=b;a.transform.colorTransform=d};a.uniformScale=function(a,b){a.width>=a.height?(a.width=b,a.scaleY=a.scaleX):(a.height=b,a.scaleX=a.scaleY)};a.copyDisplayAsBmp=function(a,b){void 0===b&&(b=!0);var d=NaN,g=NaN,g=a.scaleY,d=a.scaleX,e=new BitmapData(a.width,a.height,!0,0),f=a.getRect(a),h=new Matrix;0>d&&(a.scaleX=-a.scaleX);0>g&&(a.scaleY=-a.scaleY);h.createBox(a.scaleX,a.scaleY,0,-f.x*a.scaleX,-f.y*a.scaleY);e.draw(a,h);a.scaleX=d;a.scaleY=g;e=new Bitmap(e,"auto",b);0>d&&(e.scaleX=-1);0>g&&(e.scaleY=-1);e.x=f.x*a.scaleX;e.y=f.y*a.scaleY;return e};a.mouseEnabledAll=function(c){a.MOUSE_EVENT_LIST.some(function(b,a,d){return c.hasEventListener(b)?!0:!1})||(c.mouseEnabled=!1);if(c){var b=c.numChildren-1,d;for(b;0<=b;b--)(d=c.getChildAt(b))&&a.mouseEnabledAll(d)}};__static(a,["MOUSE_EVENT_LIST",function(){return this.MOUSE_EVENT_LIST="click doubleClick mouseDown mouseMove mouseOut mouseOver mouseUp mouseWheel rollOut rollOver".split(" ")}]);return a}(),GeomUtil=function(){function a(){}__class(a,"com.lilynumber1.utils.GeomUtil",!0);a.radiansToDegrees=function(c){return c*a.R_T_D};a.degreesToRadians=function(c){return c*a.D_T_R};a.angleSpeed=function(a,b){var d=Math.atan2(a.y-b.y,a.x-b.x);return new Point(Math.cos(d),Math.sin(d))};a.pointAngle=function(c,b){return Math.atan2(c.y-b.y,c.x-b.x)*a.R_T_D};a.pointRadians=function(a,b){return Math.atan2(a.y-b.y,a.x-b.x)};a.angleToSpeed=function(c){c*=a.D_T_R;return new Point(Math.cos(c),Math.sin(c))};a.radiansToSpeed=function(a){return new Point(Math.cos(a),Math.sin(a))};a.getCirclePoint=function(c,b,d){b*=a.D_T_R;return c.add(new Point(Math.cos(b)*d,Math.sin(b)*d))};__static(a,["R_T_D",function(){return this.R_T_D=180/Math.PI},"D_T_R",function(){return this.D_T_R=Math.PI/180}]);return a}(),GraphicsUtil=function(){function a(){}__class(a,"com.lilynumber1.utils.GraphicsUtil",!0);a.drawWedge=function(a,b,d,g,e,f,h){void 0===h&&(h=NaN);a.moveTo(b,d);isNaN(h)&&(h=f);360<Math.abs(e)&&(e=360);var k=Math.ceil(Math.abs(e)/45);e=-(e/k/180)*Math.PI;var l=-(g/180)*Math.PI;if(0<k){a.lineTo(b+Math.cos(g/180*Math.PI)*f,d+Math.sin(-g/180*Math.PI)*h);for(g=0;g<k;g++){var l=l+e,m=l-e/2;a.curveTo(b+f/Math.cos(e/2)*Math.cos(m),d+h/Math.cos(e/2)*Math.sin(m),b+Math.cos(l)*f,d+Math.sin(l)*h)}a.lineTo(b,d)}};a.drawDashedLine=function(a,b,d,g,e,f,h){void 0===f&&(f=10);void 0===h&&(h=10);var k=f+h;h=g-b;var l=e-d,m=Math.sqrt(Math.pow(h,2)+Math.pow(l,2)),m=Math.floor(Math.abs(m/k)),n=Math.atan2(l,h);h=Math.cos(n)*k;l=Math.sin(n)*k;for(k=0;k<m;k++)a.moveTo(b,d),a.lineTo(b+Math.cos(n)*f,d+Math.sin(n)*f),b+=h,d+=l;a.moveTo(b,d);m=Math.sqrt((g-b)*(g-b)+(e-d)*(e-d));m>f?a.lineTo(b+Math.cos(n)*f,d+Math.sin(n)*f):0<m&&a.lineTo(b+Math.cos(n)*m,d+Math.sin(n)*m);a.moveTo(g,e)};return a}(),HitTest=function(){function a(){}__class(a,"com.lilynumber1.utils.HitTest",!0);a.complexHitTestObject=function(c,b,d){void 0===d&&(d=1);return 0!=a.complexIntersectionRectangle(c,b,d).width};a.intersectionRectangle=function(a,b){if(!a.root||!b.root||!a.hitTestObject(b))return new Rectangle;var d=a.getBounds(a.root),g=b.getBounds(b.root),e=new Rectangle;e.x=Math.max(d.x,g.x);e.y=Math.max(d.y,g.y);e.width=Math.min(d.x+d.width-e.x,g.x+g.width-e.x);e.height=Math.min(d.y+d.height-e.y,g.y+g.height-e.y);return e};a.complexIntersectionRectangle=function(c,b,d){void 0===d&&(d=1);if(0>=d)throw Error("ArgumentError: Error #5001: Invalid value for accuracy",5001);if(!c.hitTestObject(b))return new Rectangle;var g=a.intersectionRectangle(c,b);if(1>g.width*d||1>g.height*d)return new Rectangle;var e=new BitmapData(g.width*d,g.height*d,!1,0);e.draw(c,com.lilynumber1.utils.HitTest.getDrawMatrix(c,g,d),new ColorTransform(1,1,1,1,255,-255,-255,255));e.draw(b,com.lilynumber1.utils.HitTest.getDrawMatrix(b,g,d),new ColorTransform(1,1,1,1,255,255,255,255),"difference");c=e.getColorBoundsRect(4294967295,4278255615);e.dispose();1!=d&&(c.x/=d,c.y/=d,c.width/=d,c.height/=d);c.x+=g.x;c.y+=g.y;return c};a.getDrawMatrix=function(a,b,d){var g,e=a.root.transform.concatenatedMatrix;g=a.localToGlobal(new Point);a=a.transform.concatenatedMatrix;a.tx=g.x-b.x;a.ty=g.y-b.y;a.a/=e.a;a.d/=e.d;1!=d&&a.scale(d,d);return a};return a}(),MathUtil=function(){function a(){}__class(a,"com.lilynumber1.utils.MathUtil",!0);a.randomRegion=function(a,b){return a+Math.random()*(b-a)};a.randomHalve=function(a){return a-a/2*Math.random()};a.randomHalfAdd=function(a){return a+a/2*Math.random()};a.clamp=function(a,b,d){return a<b?b:a>d?d:a};return a}(),MovieClipUtil=function(){function a(){}__class(a,"com.lilynumber1.utils.MovieClipUtil",!0);a.playEndAndRemove=function(a){a.addEventListener("enterFrame",function(b){a.currentFrame==a.totalFrames&&(a.removeEventListener("enterFrame",arguments.callee),DisplayUtil.removeForParent(a),a=null)})};a.childStop=function(a,b,d){void 0===d&&(d=0);var g=0,e=a.numChildren;0!=e&&(d>=e&&(d=e-1),a.addEventListener("enterFrame",function(e){var h=a.getChildAt(d);h?(a.removeEventListener("enterFrame",arguments.callee),h.gotoAndStop(b)):2<g&&a.removeEventListener("enterFrame",arguments.callee);g++}))};a.childPlay=function(a,b,d){void 0===d&&(d=0);var g=0,e=a.numChildren;0!=e&&(d>=e&&(d=e-1),a.addEventListener("enterFrame",function(e){var h=a.getChildAt(d);h?(a.removeEventListener("enterFrame",arguments.callee),h.gotoAndPlay(b)):2<g&&a.removeEventListener("enterFrame",arguments.callee);g++}))};return a}(),SOFlushPool=function(){function a(){this._time=this._poolList=null;this._poolList=[];this._time=new Timer(100,0);this._time.addEventListener("timer",__bind(this,this.onTime))}__class(a,"com.lilynumber1.utils.SOFlushPool",!0);var c=a.prototype;c.addFlush=function(b){this.isInPool(b)||(this._poolList.push(b),this._time.running||(this._time.reset(),this._time.start()))};c.isInPool=function(b){return-1!=this._poolList.indexOf(b)};c.onTime=function(b){b=this._poolList.shift();if(null!=b)try{b.flush()}catch(a){console.log("SOFlushPool.flush",a.toString())}else this._time.stop()};a.TIME=100;return a}(),StringUtil1=function(){function a(){}__class(a,"com.lilynumber1.utils.StringUtil",!0,null,"StringUtil1");a.renewZero=function(a,b){var d="",g=a.length;if(g<b){for(var e=0;e<b-g;e++)d+="0";return d+a}return a};a.stopwatchFormat=function(a){var b=a/60;a%=60;return(10>b?"0"+b.toString():b.toString())+":"+(10>a?"0"+a.toString():a.toString())};a.timeFormat=function(a,b){void 0===b&&(b="-");var d=new Date(1E3*a);return d.getFullYear().toString()+b+(d.getMonth()+1).toString()+b+d.getDate().toString()};a.uintToIp=function(a){var b=a.toString(16);a=uint("0x"+b.slice(0,2)).toString();var d=uint("0x"+b.slice(2,4)).toString(),g=uint("0x"+b.slice(4,6)).toString(),b=uint("0x"+b.slice(6)).toString();return a+"."+d+"."+g+"."+b};a.hexToIp=function(a){var b=new ByteArray;b.writeUnsignedInt(a);b.position=0;a="";for(var d=0;4>d;d++)a+=b.readUnsignedByte().toString()+".";return a.substr(0,a.length-1)};a.ipToUint=function(a){a=a.split(".");var b="0x";a.reverse();var d,g;for(g in a)d=a[g],b+=uint(d).toString(16);return uint(b)};a.ipToBytes=function(a){a=a.split(".");var b=new ByteArray,d,g;for(g in a)d=a[g],b.writeByte(uint(d));return b};a.stringsAreEqual=function(a,b,d){return d?a==b:a.toUpperCase()==b.toUpperCase()};a.trim=function(a){return com.lilynumber1.utils.StringUtil.leftTrim(com.lilynumber1.utils.StringUtil.rightTrim(a))};a.leftTrim=function(a){for(var b=a.length,d=0;d<b;d++)if(32<a.charCodeAt(d))return a.substring(d);return""};a.rightTrim=function(a){for(var b=a.length;0<b;b--)if(32<a.charCodeAt(b-1))return a.substring(0,b);return""};a.beginsWith=function(a,b){return b==a.substring(0,b.length)};a.endsWith=function(a,b){return b==a.substring(a.length-b.length)};a.remove=function(a,b){return com.lilynumber1.utils.StringUtil.replace(a,b,"")};a.replace=function(a,b,d){for(var g=new String,e=!1,f=a.length,h=b.length,k=0;k<f;k++){if(a.charAt(k)==b.charAt(0)){for(var e=!0,l=0;l<h;l++)if(a.charAt(k+l)!=b.charAt(l)){e=!1;break}if(e){g+=d;k+=h-1;continue}}g+=a.charAt(k)}return g};a.stringHasValue=function(a){return null!=a&&0<a.length};a.toByteArray=function(a,b){var d=new ByteArray;d.writeUTFBytes(a);d.length=b;d.position=0;return d};a.HEX_Head="0x";return a}(),TimerUtil=function(){function a(){}__class(a,"com.lilynumber1.utils.TimerUtil",!0);a.clearAllTimer=function(){a.clearAllTimeout();a.clearAllInterval()};a.clearAllTimeout=function(){var a=iflash.utils.setTimeout(function(){a=iflash.utils.setTimeout(function(){},0);for(var b=1;b<=a;b++)iflash.utils.clearTimeout(b)},0)};a.clearAllInterval=function(){var a=iflash.utils.setInterval(function(){a=iflash.utils.setInterval(function(){},0);for(var b=1;b<=a;b++)iflash.utils.clearInterval(b)},0)};a.setGTimeout=function(c,b,d){for(var g=[],e=2,f=arguments.length;e<f;e++)g.push(arguments[e]);return a.getTimerInstance(c,b,1,g)};a.clearGTimeout=function(a){a&&a.stop()};a.setGInterval=function(c,b,d){for(var g=[],e=2,f=arguments.length;e<f;e++)g.push(arguments[e]);e=0;b&&-1<b.indexOf(":")?(f=b.split(":"),e=int(f[1]),b=int(f[0])):e=0;return a.getTimerInstance(c,b,e,g)};a.clearGInterval=function(a){a&&a.stop()};a.getTimerInstance=function(c,b,d,g){var e=new Timer(b,d);e.addEventListener("timer",function(b){b.currentTarget.currentCount==b.currentTarget.repeatCount&&(e.removeEventListener("timerComplete",arguments.callee),a.clearGTimeout(e));0<g.length?c.apply(this,g):c()});e.start();return e};return a}(),Utils=function(){function a(){}__class(a,"com.lilynumber1.utils.Utils",!0);a.getMovieClipFromLoader=function(c,b){var d=a.getDisplayObjectFromLoader(c,b);return null==d?null:d};a.getSpriteFromLoader=function(c,b){var d=a.getDisplayObjectFromLoader(c,b);return null==d?null:d};a.getSimpleButtonFromLoader=function(c,b){var d=a.getDisplayObjectFromLoader(c,b);return null==d?null:d};a.getSoundFromLoader=function(c,b){var d=a.getClassFromLoader(c,b);if(null!=d)try{return new d}catch(g){console.log("Utils getSoundFromLoader error:"+g.toString())}return null};a.getBitmapDataFromLoader=function(c,b,d){void 0===d&&(d=!1);if(a._bmdPacket[c])return a._bmdPacket[c];var g;if(b=a.getClassFromLoader(c,b))try{g=new b(0,0)}catch(e){console.log("Utils getBitmapDataFromLoader error:"+e.toString())}else return null;d&&g&&(a._bmdPacket[c]=g);return g};a.getClassFromLoader=function(a,b){var d=b.contentLoaderInfo.applicationDomain;if(d.hasDefinition(a))return d.getDefinition(a);console.log("Utils getClassFromLoader not hasDefinition:"+a);return null};a.getDisplayObjectFromLoader=function(c,b){var d=a.getClassFromLoader(c,b);if(null!=d)try{return new d}catch(g){console.log("Utils getDisplayObjectFromLoader error:"+g.toString())}return null};a.getClass=function(a){try{var b=iflash.utils.getDefinitionByName(a)}catch(d){return console.log("getClass "+a+"error"+d.message),null}return b};a.getClassByObject=function(c){try{var b=a.getClassFromLoader(iflash.utils.getQualifiedClassName(c),c.loaderInfo.loader)}catch(d){return console.log("getClass "+c.toString()+"error"+d.message),null}return b};a.getLoaderClass=function(a){return a.contentLoaderInfo.applicationDomain.getDefinition(iflash.utils.getQualifiedClassName(a.content))};a.getClassName=function(a){a=iflash.utils.getQualifiedClassName(a);var b=a.indexOf("::");-1!=b&&(a=a.substr(b+2));return a};__static(a,["_bmdPacket",function(){return this._bmdPacket=new Dictionary(!0)}]);return a}(),AlignInfo=function(){function a(a,b,d,g,e,f,h,k){this.middle=this.center=!1;this.bottom=this.top=this.right=this.left=this.y=this.x=NaN;void 0===a&&(a=NaN);void 0===b&&(b=NaN);void 0===d&&(d=NaN);void 0===g&&(g=NaN);void 0===e&&(e=NaN);void 0===f&&(f=NaN);void 0===h&&(h=!1);void 0===k&&(k=!1);this.x=a;this.y=b;this.left=d;this.right=g;this.top=e;this.bottom=f;this.center=h;this.middle=k}__class(a,"data.AlignInfo",!0);a.getXPosition=function(a,b,d){return d.center?a-b>>1:0==isNaN(d.x)?d.x:0==isNaN(d.left)?d.left:0==isNaN(d.right)?a-d.right:NaN};a.getYPosition=function(a,b,d){return d.middle?a-b>>1:0==isNaN(d.y)?d.y:0==isNaN(d.top)?d.top:0==isNaN(d.bottom)?a-d.bottom:NaN};return a}(),ClientConfig=function(){function a(){}__class(a,"data.ClientConfig",!0);__getset(1,a,"urlParams",function(){null==a._urlParams&&(a._urlParams={});return a._urlParams});a.setup=function(c,b,d,g){void 0===c&&(c=!1);void 0===b&&(b="");void 0===d&&(d=0);a._urlParams=g;a._isRelease=c;a._version=b;a._serverVersion=d;a.moduleMap=new HashMap;a.moduleMap.add("Alert",new Alert);a.moduleMap.add("JewelleryGameOverPanel",new JewelleryGameOverPanel);a.moduleMap.add("JewelleryGamePanel",new JewelleryGamePanel);a.moduleMap.add("JewelleryGameStartPanel",new JewelleryGameStartPanel)};a.isRelease=function(){return a._isRelease};a.version=function(){return a._version};a.serverVersion=function(){return a._serverVersion};a._isRelease=!1;a._version=null;a._serverVersion=0;a._urlParams=null;a.moduleMap=null;return a}(),PanelType=function(){function a(){}__class(a,"data.PanelType",!0);a.NONE=0;a.HIDE=1;a.DESTROY=2;a.SHOW=3;return a}(),WordConfig=function(){function a(){}__class(a,"data.WordConfig",!0);a.setup=function(c){var b,d;d=c.elements("loading");d=d.elements("node");for(var g in d)b=d[g],a.loading.push(b.toString());d=c.elements("map");d=d.elements("node");for(g in d)b=d[g],a.map.push(b.toString());d=c.elements("tollgate");d=d.elements("node");for(g in d)b=d[g],a.tollgate.push(b.toString())};a.loading=[];a.map=[];a.tollgate=[];a.NODE="node";return a}(),Back=function(){function a(){}__class(a,"gs.easing.Back",!0);a.easeIn=function(a,b,d,g,e){void 0===e&&(e=1.70158);return d*(a/=g)*a*((e+1)*a-e)+b};a.easeOut=function(a,b,d,g,e){void 0===e&&(e=1.70158);return d*((a=a/g-1)*a*((e+1)*a+e)+1)+b};a.easeInOut=function(a,b,d,g,e){void 0===e&&(e=1.70158);return 1>(a/=g/2)?d/2*a*a*(((e*=1.525)+1)*a-e)+b:d/2*((a-=2)*a*(((e*=1.525)+1)*a+e)+2)+b};return a}(),Bounce=function(){function a(){}__class(a,"gs.easing.Bounce",!0);a.easeOut=function(a,b,d,g){return(a/=g)<1/2.75?7.5625*d*a*a+b:a<2/2.75?d*(7.5625*(a-=1.5/2.75)*a+.75)+b:a<2.5/2.75?d*(7.5625*(a-=2.25/2.75)*a+.9375)+b:d*(7.5625*(a-=2.625/2.75)*a+.984375)+b};a.easeIn=function(c,b,d,g){return d-a.easeOut(g-c,0,d,g)+b};a.easeInOut=function(c,b,d,g){return c<g/2?.5*a.easeIn(2*c,0,d,g)+b:.5*a.easeOut(2*c-g,0,d,g)+.5*d+b};return a}(),Circ=function(){function a(){}__class(a,"gs.easing.Circ",!0);a.easeIn=function(a,b,d,g){return-d*(Math.sqrt(1-(a/=g)*a)-1)+b};a.easeOut=function(a,b,d,g){return d*Math.sqrt(1-(a=a/g-1)*a)+b};a.easeInOut=function(a,b,d,g){return 1>(a/=g/2)?-d/2*(Math.sqrt(1-a*a)-1)+b:d/2*(Math.sqrt(1-(a-=2)*a)+1)+b};return a}(),Cubic=function(){function a(){}__class(a,"gs.easing.Cubic",!0);a.easeIn=function(a,b,d,g){return d*(a/=g)*a*a+b};a.easeOut=function(a,b,d,g){return d*((a=a/g-1)*a*a+1)+b};a.easeInOut=function(a,b,d,g){return 1>(a/=g/2)?d/2*a*a*a+b:d/2*((a-=2)*a*a+2)+b};return a}(),Elastic=function(){function a(){}__class(a,"gs.easing.Elastic",!0);a.easeIn=function(c,b,d,g,e,f){void 0===e&&(e=0);void 0===f&&(f=0);var h=NaN;if(0==c)return b;if(1==(c/=g))return b+d;f||(f=.3*g);!e||e<Math.abs(d)?(e=d,h=f/4):h=f/a._2PI*Math.asin(d/e);return-(e*Math.pow(2,10*--c)*Math.sin((c*g-h)*a._2PI/f))+b};a.easeOut=function(c,b,d,g,e,f){void 0===e&&(e=0);void 0===f&&(f=0);var h=NaN;if(0==c)return b;if(1==(c/=g))return b+d;f||(f=.3*g);!e||e<Math.abs(d)?(e=d,h=f/4):h=f/a._2PI*Math.asin(d/e);return e*Math.pow(2,-10*c)*Math.sin((c*g-h)*a._2PI/f)+d+b};a.easeInOut=function(c,b,d,g,e,f){void 0===e&&(e=0);void 0===f&&(f=0);var h=NaN;if(0==c)return b;if(2==(c/=g/2))return b+d;f||(f=.3*g*1.5);!e||e<Math.abs(d)?(e=d,h=f/4):h=f/a._2PI*Math.asin(d/e);return 1>c?-.5*e*Math.pow(2,10*--c)*Math.sin((c*g-h)*a._2PI/f)+b:e*Math.pow(2,-10*--c)*Math.sin((c*g-h)*a._2PI/f)*.5+d+b};__static(a,["_2PI",function(){return this._2PI=2*Math.PI}]);return a}(),Expo=function(){function a(){}__class(a,"gs.easing.Expo",!0);a.easeIn=function(a,b,d,g){return 0==a?b:d*Math.pow(2,10*(a/g-1))+b-.001*d};a.easeOut=function(a,b,d,g){return a==g?b+d:d*(-Math.pow(2,-10*a/g)+1)+b};a.easeInOut=function(a,b,d,g){return 0==a?b:a==g?b+d:1>(a/=g/2)?d/2*Math.pow(2,10*(a-1))+b:d/2*(-Math.pow(2,-10*--a)+2)+b};return a}(),Linear=function(){function a(){}__class(a,"gs.easing.Linear",!0);a.easeNone=function(a,b,d,g){return d*a/g+b};a.easeIn=function(a,b,d,g){return d*a/g+b};a.easeOut=function(a,b,d,g){return d*a/g+b};a.easeInOut=function(a,b,d,g){return d*a/g+b};return a}(),Quad=function(){function a(){}__class(a,"gs.easing.Quad",!0);a.easeIn=function(a,b,d,g){return d*(a/=g)*a+b};a.easeOut=function(a,b,d,g){return-d*(a/=g)*(a-2)+b};a.easeInOut=function(a,b,d,g){return 1>(a/=g/2)?d/2*a*a+b:-d/2*(--a*(a-2)-1)+b};return a}(),Quart=function(){function a(){}__class(a,"gs.easing.Quart",!0);a.easeIn=function(a,b,d,g){return d*(a/=g)*a*a*a+b};a.easeOut=function(a,b,d,g){return-d*((a=a/g-1)*a*a*a-1)+b};a.easeInOut=function(a,b,d,g){return 1>(a/=g/2)?d/2*a*a*a*a+b:-d/2*((a-=2)*a*a*a-2)+b};return a}(),Quint=function(){function a(){}__class(a,"gs.easing.Quint",!0);a.easeIn=function(a,b,d,g){return d*(a/=g)*a*a*a*a+b};a.easeOut=function(a,b,d,g){return d*((a=a/g-1)*a*a*a*a+1)+b};a.easeInOut=function(a,b,d,g){return 1>(a/=g/2)?d/2*a*a*a*a*a+b:d/2*((a-=2)*a*a*a*a+2)+b};return a}(),Sine=function(){function a(){}__class(a,"gs.easing.Sine",!0);a.easeIn=function(c,b,d,g){return-d*Math.cos(c/g*a._HALF_PI)+d+b};a.easeOut=function(c,b,d,g){return d*Math.sin(c/g*a._HALF_PI)+b};a.easeInOut=function(a,b,d,g){return-d/2*(Math.cos(Math.PI*a/g)-1)+b};__static(a,["_HALF_PI",function(){return this._HALF_PI=Math.PI/2}]);return a}(),Strong=function(){function a(){}__class(a,"gs.easing.Strong",!0);a.easeIn=function(a,b,d,g){return d*(a/=g)*a*a*a*a+b};a.easeOut=function(a,b,d,g){return d*((a=a/g-1)*a*a*a*a+1)+b};a.easeInOut=function(a,b,d,g){return 1>(a/=g/2)?d/2*a*a*a*a*a+b:d/2*((a-=2)*a*a*a*a+2)+b};return a}(),OverwriteManager=function(){function a(){}__class(a,"gs.OverwriteManager",!0);a.init=function(c){void 0===c&&(c=2);TweenLite.overwriteManager=a;a.mode=c;a.enabled=!0;return a.mode};a.manageOverwrites=function(c,b){var d=c.vars,g=void 0==d.overwrite?a.mode:int(d.overwrite);if(!(2>g||null==b)){for(var e=c.startTime,d=[],f=0,h,k=-1,f=b.length-1;-1<f;f--)h=b[f],h==c?k=f:f<k&&h.startTime<=e&&h.startTime+1E3*h.duration/h.combinedTimeScale>e&&(d[d.length]=h);if(0!=d.length&&0!=c.tweens.length)if(2==g){g=c.tweens;e={};h=0;for(var l,f=g.length-1;-1<f;f--)if(k=g[f],k.isPlugin){if("_MULTIPLE_"==k.name)for(l=k.target.overwriteProps,h=l.length-1;-1<h;h--)e[l[h]]=!0;else e[k.name]=!0;e[k.target.propName]=!0}else e[k.name]=!0;for(f=d.length-1;-1<f;f--)a.killVars(e,d[f].exposedVars,d[f].tweens)}else for(f=d.length-1;-1<f;f--)d[f].enabled=!1}};a.killVars=function(a,b,d){for(var g=0,e,f,g=d.length-1;-1<g;g--)f=d[g],f.name in a?d.splice(g,1):f.isPlugin&&"_MULTIPLE_"==f.name&&(f.target.killProps(a),0==f.target.overwriteProps.length&&d.splice(g,1));for(e in a)delete b[e]};a.version=3.12;a.NONE=0;a.ALL=1;a.AUTO=2;a.CONCURRENT=3;a.mode=0;a.enabled=!1;return a}(),TweenPlugin=function(){function a(){this.overwriteProps=this.propName=null;this.round=!1;this.onComplete=null;this._tweens=[];this._changeFactor=0}__class(a,"gs.plugins.TweenPlugin",!0);var c=a.prototype;c.onInitTween=function(a,c,g){this.addTween(a,this.propName,a[this.propName],c,this.propName);return!0};c.addTween=function(a,c,g,e,f){null!=e&&(e="number"==typeof e?e-g:Number(e),0!=e&&(this._tweens[this._tweens.length]=new TweenInfo(a,c,g,e,f||c,!1)))};c.updateTweens=function(a){var c=0,g;if(this.round)for(var e=NaN,f=0,c=this._tweens.length-1;-1<c;c--)g=this._tweens[c],e=g.start+g.change*a,f=0>e?-1:1,g.target[g.property]=.5<e%1*f?int(e)+f:int(e);else for(c=this._tweens.length-1;-1<c;c--)g=this._tweens[c],g.target[g.property]=g.start+g.change*a};c.killProps=function(a){for(var c=0,c=this.overwriteProps.length-1;-1<c;c--)this.overwriteProps[c]in a&&this.overwriteProps.splice(c,1);for(c=this._tweens.length-1;-1<c;c--)this._tweens[c].name in a&&this._tweens.splice(c,1)};__getset(0,c,"changeFactor",function(){return this._changeFactor},function(a){this.updateTweens(a);this._changeFactor=a});a.activate=function(a){for(var c=0,g,c=a.length-1;-1<c;c--)g=new a[c],TweenLite.plugins[g.propName]=a[c];return!0};a.VERSION=1.03;a.API=1;return a}(),TweenLite=function(){function a(b,c,g){this.duration=NaN;this.vars=null;this.initTime=this.startTime=this.delay=NaN;this.target=this.tweens=null;this.active=!1;this.ease=null;this.initted=!1;this.combinedTimeScale=NaN;this.started=this.gc=!1;this.exposedVars=null;this._hasUpdate=this._hasPlugins=!1;null!=b&&(a._tlInitted||(TweenPlugin.activate([TintPlugin,RemoveTintPlugin,FramePlugin,AutoAlphaPlugin,VisiblePlugin,VolumePlugin,EndArrayPlugin]),a.currentTime=iflash.utils.getTimer(),a.timingSprite.addEventListener("enterFrame",a.updateAll,!1,0,!0),null==a.overwriteManager&&(a.overwriteManager={mode:1,enabled:!1}),a._timer.addEventListener("timer",a.killGarbage,!1,0,!0),a._timer.start(),a._tlInitted=!0),this.vars=g,this.duration=c||.001,this.delay=g.delay||0,this.combinedTimeScale=g.timeScale||1,this.active=0==c&&0==this.delay,this.target=b,"function"!=typeof this.vars.ease&&(this.vars.ease=a.defaultEase),null!=this.vars.easeParams&&(this.vars.proxiedEase=this.vars.ease,this.vars.ease=this.easeProxy),this.ease=this.vars.ease,this.exposedVars=1==this.vars.isTV?this.vars.exposedVars:this.vars,this.tweens=[],this.initTime=a.currentTime,this.startTime=this.initTime+1E3*this.delay,c=void 0==g.overwrite||!a.overwriteManager.enabled&&1<g.overwrite?a.overwriteManager.mode:int(g.overwrite),b in a.masterList&&1!=c?a.masterList[b].push(this):a.masterList[b]=[this],1==this.vars.runBackwards&&1!=this.vars.renderOnStart||this.active)&&(this.initTweenVals(),this.active?this.render(this.startTime+1):this.render(this.startTime),null!=this.exposedVars.visible&&1==this.vars.runBackwards&&this.target instanceof iflash.display.DisplayObject&&(this.target.visible=this.exposedVars.visible))}__class(a,"gs.TweenLite",!0);var c=a.prototype;c.initTweenVals=function(){var b,c=0;void 0!=this.exposedVars.timeScale&&this.target.hasOwnProperty("timeScale")&&(this.tweens[this.tweens.length]=new TweenInfo(this.target,"timeScale",this.target.timeScale,this.exposedVars.timeScale-this.target.timeScale,"timeScale",!1));for(b in this.exposedVars)b in a._reservedProps||(b in a.plugins?(c=new a.plugins[b],0==c.onInitTween(this.target,this.exposedVars[b],this)?this.tweens[this.tweens.length]=new TweenInfo(this.target,b,this.target[b],"number"==typeof this.exposedVars[b]?this.exposedVars[b]-this.target[b]:Number(this.exposedVars[b]),b,!1):(this.tweens[this.tweens.length]=new TweenInfo(c,"changeFactor",0,1,1==c.overwriteProps.length?c.overwriteProps[0]:"_MULTIPLE_",!0),this._hasPlugins=!0)):this.tweens[this.tweens.length]=new TweenInfo(this.target,b,this.target[b],"number"==typeof this.exposedVars[b]?this.exposedVars[b]-this.target[b]:Number(this.exposedVars[b]),b,!1));if(1==this.vars.runBackwards)for(c=this.tweens.length-1;-1<c;c--)b=this.tweens[c],b.start+=b.change,b.change=-b.change;null!=this.vars.onUpdate&&(this._hasUpdate=!0);gs.TweenLite.overwriteManager.enabled&&this.target in a.masterList&&a.overwriteManager.manageOverwrites(this,a.masterList[this.target]);this.initted=!0};c.activate=function(){this.started=this.active=!0;this.initted||this.initTweenVals();null!=this.vars.onStart&&this.vars.onStart.apply(null,this.vars.onStartParams);.001==this.duration&&--this.startTime};c.render=function(a){a=.001*(a-this.startTime);var c=NaN,g,e=0;a>=this.duration?(a=this.duration,c=this.ease==this.vars.ease||.001==this.duration?1:0):c=this.ease(a,0,1,this.duration);for(e=this.tweens.length-1;-1<e;e--)g=this.tweens[e],g.target[g.property]=g.start+c*g.change;this._hasUpdate&&this.vars.onUpdate.apply(null,this.vars.onUpdateParams);a==this.duration&&this.complete(!0)};c.complete=function(b){void 0===b&&(b=!1);if(b){if(this._hasPlugins)for(b=this.tweens.length-1;-1<b;b--)if(this.tweens[b].isPlugin&&null!=this.tweens[b].target.onComplete)this.tweens[b].target.onComplete();1!=this.vars.persist&&(this.enabled=!1);null!=this.vars.onComplete&&this.vars.onComplete.apply(null,this.vars.onCompleteParams)}else this.initted||this.initTweenVals(),this.startTime=a.currentTime-1E3*this.duration/this.combinedTimeScale,this.render(a.currentTime)};c.clear=function(){this.tweens=[];this.vars=this.exposedVars={ease:this.vars.ease};this._hasUpdate=!1};c.killVars=function(b){a.overwriteManager.enabled&&a.overwriteManager.killVars(b,this.exposedVars,this.tweens)};c.easeProxy=function(a,c,g,e){return this.vars.proxiedEase.apply(null,arguments.concat(this.vars.easeParams))};__getset(0,c,"enabled",function(){return this.gc?!1:!0},function(b){if(b)if(this.target in a.masterList){for(var c=a.masterList[this.target],g=!1,e=0,e=c.length-1;-1<e;e--)if(c[e]==this){g=!0;break}g||(c[c.length]=this)}else a.masterList[this.target]=[this];this.active=(this.gc=b?!1:!0)?!1:this.started});a.to=function(b,c,g){return new a(b,c,g)};a.from=function(b,c,g){g.runBackwards=!0;return new a(b,c,g)};a.delayedCall=function(b,c,g){return new a(c,0,{delay:b,onComplete:c,onCompleteParams:g,overwrite:0})};a.updateAll=function(b){b=a.currentTime=iflash.utils.getTimer();var c=a.masterList,g,e=0,f,h;for(h in c)for(g=c[h],e=g.length-1;-1<e;e--)f=g[e],f.active?f.render(b):f.gc?g.splice(e,1):b>=f.startTime&&(f.activate(),f.render(b))};a.removeTween=function(a,c){void 0===c&&(c=!0);null!=a&&(c&&a.clear(),a.enabled=!1)};a.killTweensOf=function(b,c){void 0===c&&(c=!1);if(null!=b&&b in a.masterList){for(var g=a.masterList[b],e=0,f,e=g.length-1;-1<e;e--)f=g[e],c&&!f.gc&&f.complete(!1),f.clear();delete a.masterList[b]}};a.killGarbage=function(b){b=a.masterList;for(var c in b)0==b[c].length&&delete b[c]};a.easeOut=function(a,c,g,e){return-g*(a/=e)*(a-2)+c};a.version=10.091;a.plugins={};a.overwriteManager=null;a.currentTime=0;a._tlInitted=!1;__static(a,["killDelayedCallsTo",function(){return this.killDelayedCallsTo=gs.TweenLite.killTweensOf},"defaultEase",function(){return this.defaultEase=gs.TweenLite.easeOut},"masterList",function(){return this.masterList=new Dictionary(!1)},"timingSprite",function(){return this.timingSprite=new Sprite},"_timer",function(){return this._timer=new Timer(2E3)},"_reservedProps",function(){return this._reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,roundProps:1,onStart:1,onStartParams:1,persist:1,renderOnStart:1,proxiedEase:1,easeParams:1,yoyo:1,loop:1,onCompleteListener:1,onUpdateListener:1,onStartListener:1,orientToBezier:1,timeScale:1}}]);return a}(),ArrayTweenInfo=function(){function a(a,b,d){this.index=0;this.change=this.start=NaN;this.index=a;this.start=b;this.change=d}__class(a,"gs.utils.tween.ArrayTweenInfo",!0);return a}(),SubVars=function(){function a(){this.isTV=!0;this.exposedVars=null;this.exposedVars={}}__class(a,"gs.utils.tween.SubVars",!0);return a}(),TweenInfo=function(){function a(a,b,d,g,e,f){this.property=this.target=null;this.change=this.start=NaN;this.name=null;this.isPlugin=!1;this.target=a;this.property=b;this.start=d;this.change=g;this.name=e;this.isPlugin=f}__class(a,"gs.utils.tween.TweenInfo",!0);return a}(),TweenLiteVars=function(){function a(a){this.isTV=!0;this.delay=0;this.onCompleteParams=this.onComplete=this.onUpdateParams=this.onUpdate=this.onStartParams=this.onStart=this.easeParams=this.ease=null;this.overwrite=2;this.runBackwards=this.renderOnStart=this.persist=!1;this._exposedVars=this.startAt=null;this._autoAlpha=NaN;this._endArray=null;this._frame=0;this._frameLabel=null;this._removeTint=!1;this._tint=0;this._visible=!0;this._volume=NaN;this._colorTransform=this._transformAroundCenter=this._transformAroundPoint=this._shortRotation=this._setSize=this._quaternions=this._orientToBezier=this._hexColors=this._glowFilter=this._dropShadowFilter=this._colorMatrixFilter=this._blurFilter=this._bezierThrough=this._bezier=this._bevelFilter=null;this._exposedVars={};if(null!=a){for(var c in a)"blurFilter"!=c&&"glowFilter"!=c&&"colorMatrixFilter"!=c&&"bevelFilter"!=c&&"dropShadowFilter"!=c&&"transformAroundPoint"!=c&&"transformAroundCenter"!=c&&"colorTransform"!=c&&"protectedVars"!=c&&(this[c]=a[c]);null!=a.blurFilter&&(this.blurFilter=BlurFilterVars.createFromGeneric(a.blurFilter));null!=a.bevelFilter&&(this.bevelFilter=BevelFilterVars.createFromGeneric(a.bevelFilter));null!=a.colorMatrixFilter&&(this.colorMatrixFilter=ColorMatrixFilterVars.createFromGeneric(a.colorMatrixFilter));null!=a.dropShadowFilter&&(this.dropShadowFilter=DropShadowFilterVars.createFromGeneric(a.dropShadowFilter));null!=a.glowFilter&&(this.glowFilter=GlowFilterVars.createFromGeneric(a.glowFilter));null!=a.transformAroundPoint&&(this.transformAroundPoint=TransformAroundPointVars.createFromGeneric(a.transformAroundPoint));null!=a.transformAroundCenter&&(this.transformAroundCenter=TransformAroundCenterVars.createFromGeneric(a.transformAroundCenter));null!=a.colorTransform&&(this.colorTransform=ColorTransformVars.createFromGeneric(a.colorTransform));if(null!=a.protectedVars)for(c in a=a.protectedVars,a)this[c]=a[c]}}__class(a,"gs.utils.tween.TweenLiteVars",!0);var c=a.prototype;c.addProp=function(a,c,g){void 0===g&&(g=!1);this[a]=g?String(c):c};c.addProps=function(a,c,g,e,f,h,k,l,m,n,p,q,r,v,t,u,w,x,z,A,y,C,E,D,F,G,B,J,H,I,K,L,M,V,N,O,W,P,Q,X,R,S,Y,T,U){void 0===g&&(g=!1);void 0===f&&(f=0);void 0===h&&(h=!1);void 0===l&&(l=0);void 0===m&&(m=!1);void 0===p&&(p=0);void 0===q&&(q=!1);void 0===v&&(v=0);void 0===t&&(t=!1);void 0===w&&(w=0);void 0===x&&(x=!1);void 0===A&&(A=0);void 0===y&&(y=!1);void 0===E&&(E=0);void 0===D&&(D=!1);void 0===G&&(G=0);void 0===B&&(B=!1);void 0===H&&(H=0);void 0===I&&(I=!1);void 0===L&&(L=0);void 0===M&&(M=!1);void 0===N&&(N=0);void 0===O&&(O=!1);void 0===P&&(P=0);void 0===Q&&(Q=!1);void 0===R&&(R=0);void 0===S&&(S=!1);void 0===T&&(T=0);void 0===U&&(U=!1);this.addProp(a,c,g);null!=e&&this.addProp(e,f,h);null!=k&&this.addProp(k,l,m);null!=n&&this.addProp(n,p,q);null!=r&&this.addProp(r,v,t);null!=u&&this.addProp(u,w,x);null!=z&&this.addProp(z,A,y);null!=C&&this.addProp(C,E,D);null!=F&&this.addProp(F,G,B);null!=J&&this.addProp(J,H,I);null!=K&&this.addProp(K,L,M);null!=V&&this.addProp(V,N,O);null!=W&&this.addProp(W,P,Q);null!=X&&this.addProp(X,R,S);null!=Y&&this.addProp(Y,T,U)};c.clone=function(){var b={protectedVars:{}};this.appendCloneVars(b,b.protectedVars);return new a(b)};c.appendCloneVars=function(a,c){var g,e=0,f;g="delay ease easeParams onStart onStartParams onUpdate onUpdateParams onComplete onCompleteParams overwrite persist renderOnStart runBackwards startAt".split(" ");for(e=g.length-1;-1<e;e--)a[g[e]]=this[g[e]];g="_autoAlpha _bevelFilter _bezier _bezierThrough _blurFilter _colorMatrixFilter _colorTransform _dropShadowFilter _endArray _frame _frameLabel _glowFilter _hexColors _orientToBezier _quaternions _removeTint _setSize _shortRotation _tint _transformAroundCenter _transformAroundPoint _visible _volume _exposedVars".split(" ");for(e=g.length-1;-1<e;e--)c[g[e]]=this[g[e]];for(f in this)a[f]=this[f]};__getset(0,c,"exposedVars",function(){var a={},c;for(c in this._exposedVars)a[c]=this._exposedVars[c];for(c in this)a[c]=this[c];return a});__getset(0,c,"frame",function(){return this._frame},function(a){this._frame=this._exposedVars.frame=a});__getset(0,c,"autoAlpha",function(){return this._autoAlpha},function(a){this._autoAlpha=this._exposedVars.autoAlpha=a});__getset(0,c,"endArray",function(){return this._endArray},function(a){this._endArray=this._exposedVars.endArray=a});__getset(0,c,"tint",function(){return this._tint},function(a){this._tint=this._exposedVars.tint=a});__getset(0,c,"frameLabel",function(){return this._frameLabel},function(a){this._frameLabel=this._exposedVars.frameLabel=a});__getset(0,c,"removeTint",function(){return this._removeTint},function(a){this._removeTint=this._exposedVars.removeTint=a});__getset(0,c,"volume",function(){return this._volume},function(a){this._volume=this._exposedVars.volume=a});__getset(0,c,"visible",function(){return this._visible},function(a){this._visible=this._exposedVars.visible=a});__getset(0,c,"bevelFilter",function(){return this._bevelFilter},function(a){this._bevelFilter=this._exposedVars.bevelFilter=a});__getset(0,c,"colorTransform",function(){return this._colorTransform},function(a){this._colorTransform=this._exposedVars.colorTransform=a});__getset(0,c,"bezier",function(){return this._bezier},function(a){this._bezier=this._exposedVars.bezier=a});__getset(0,c,"orientToBezier",function(){return this._orientToBezier},function(a){a instanceof Array?this._orientToBezier=this._exposedVars.orientToBezier=a:1==a?this._orientToBezier=this._exposedVars.orientToBezier=[["x","y","rotation",0]]:(this._orientToBezier=null,delete this._exposedVars.orientToBezier)});__getset(0,c,"transformAroundPoint",function(){return this._transformAroundPoint},function(a){this._transformAroundPoint=this._exposedVars.transformAroundPoint=a});__getset(0,c,"bezierThrough",function(){return this._bezierThrough},function(a){this._bezierThrough=this._exposedVars.bezierThrough=a});__getset(0,c,"shortRotation",function(){return this._shortRotation},function(a){this._shortRotation=this._exposedVars.shortRotation=a});__getset(0,c,"blurFilter",function(){return this._blurFilter},function(a){this._blurFilter=this._exposedVars.blurFilter=a});__getset(0,c,"colorMatrixFilter",function(){return this._colorMatrixFilter},function(a){this._colorMatrixFilter=this._exposedVars.colorMatrixFilter=a});__getset(0,c,"setSize",function(){return this._setSize},function(a){this._setSize=this._exposedVars.setSize=a});__getset(0,c,"dropShadowFilter",function(){return this._dropShadowFilter},function(a){this._dropShadowFilter=this._exposedVars.dropShadowFilter=a});__getset(0,c,"glowFilter",function(){return this._glowFilter},function(a){this._glowFilter=this._exposedVars.glowFilter=a});__getset(0,c,"hexColors",function(){return this._hexColors},function(a){this._hexColors=this._exposedVars.hexColors=a});__getset(0,c,"quaternions",function(){return this._quaternions},function(a){this._quaternions=this._exposedVars.quaternions=a});__getset(0,c,"transformAroundCenter",function(){return this._transformAroundCenter},function(a){this._transformAroundCenter=this._exposedVars.transformAroundCenter=a});a.version=2.03;return a}(),DepthManager1=function(){function a(){this.depths=null;this.depths=new Dictionary(!0)}__class(a,"manager.DepthManager",!0,null,"DepthManager1");var c=a.prototype;c.getDepth=function(a){return null==this.depths[a]?this.countDepth(a,a.parent.getChildIndex(a),0):this.depths[a]};c.countDepth=function(a,c,g){void 0===g&&(g=0);return null==this.depths[a]?0==c?0:this.countDepth(a.parent.getChildAt(c-1),c-1,g+1):this.depths[a]+g};c.setDepth=function(a,c){this.depths[a]=c};c.swapChildDepth=function(a,c){var g=a.parent;if(null==g)throw Error("child is not in a container!!");var e=g.getChildIndex(a),f=this.getDepth(a);if(c==f)return this.setDepth(a,c),e;var h=g.numChildren;if(2>h)return this.setDepth(a,c),e;if(c<this.getDepth(g.getChildAt(0)))return g.setChildIndex(a,0),this.setDepth(a,c),0;if(c>=this.getDepth(g.getChildAt(h-1)))return g.setChildIndex(a,h-1),this.setDepth(a,c),h-1;var k=0,l=h-1;c>f?(k=e,l=h-1):(k=0,l=e);for(;l>k+1;){var f=k+(l-k)/2,m=this.getDepth(g.getChildAt(f));if(m>c)l=f;else if(m<c)k=f;else return g.setChildIndex(a,f),this.setDepth(a,c),f}var f=this.getDepth(g.getChildAt(k)),m=this.getDepth(g.getChildAt(l)),n=0,n=c>=m?e<=l?Math.min(l,h-1):Math.min(l+1,h-1):c<f?e<k?Math.max(k-1,0):k:e<=k?k:Math.min(k+1,h-1);g.setChildIndex(a,n);this.setDepth(a,c);return n};a.getManager=function(b){a.managers||(a.managers=new Dictionary(!0));var c=a.managers[b];c||(c=new a,a.managers[b]=c);return c};a.swapDepth=function(b,c){return a.getManager(b.parent).swapChildDepth(b,c)};a.swapDepthAll=function(b){for(var c=a.getManager(b),g=b.numChildren,e,f=[],h=0,h=0;h<g;h++)e=b.getChildAt(h),f.push(e);f.sortOn("y",Array.NUMERIC);f.forEach(function(a,e,g){b.setChildIndex(a,e);c.setDepth(a,a.y)});f=null};a.clear=function(b){delete a.managers[b]};a.clearAll=function(){a.managers=null};a.bringToBottom=function(a){var c=a.parent;null!=c&&0!=c.getChildIndex(a)&&c.setChildIndex(a,0)};a.bringToTop=function(a){var c=a.parent;null!=c&&c.addChild(a)};a.managers=null;return a}(),LayerManager=function(){function a(){}__class(a,"manager.LayerManager",!0);__getset(1,a,"mapLevel",function(){return a._mapLevel});__getset(1,a,"root",function(){return a._root});__getset(1,a,"toolUiLevel",function(){return a._toolUiLevel});__getset(1,a,"topLevel",function(){return a._topLevel});__getset(1,a,"stage",function(){return a._stage});__getset(1,a,"toolsLevel",function(){return a._toolsLevel});__getset(1,a,"stageCenterPoint",function(){return new Point(a.stageWidth/2,a.stageHeight/2)});__getset(1,a,"uiLevel",function(){return a._uiLevel});__getset(1,a,"alertLevel",function(){return a._alertLevel});__getset(1,a,"gameLevel",function(){return a._gameLevel});a.setup=function(c){c.hasOwnProperty("clientWidth")?a.stageWidth=int(c.clientWidth):a.stage&&(a.stageWidth=a.stage.stageWidth);c.hasOwnProperty("clientHeight")?a.stageHeight=int(c.clientHeight):a.stage&&(a.stageHeight=a.stage.stageHeight);a._root=c;a._stage=a._root.stage;a._mapLevel=new Sprite;a._mapLevel.mouseEnabled=!1;a._mapLevel.name="mapLevel";a._root.addChild(a._mapLevel);a._toolUiLevel=new Sprite;a._toolUiLevel.mouseEnabled=!1;a._toolUiLevel.name="toolUiLevel";a._root.addChild(a._toolUiLevel);a._uiLevel=new Sprite;a._uiLevel.mouseEnabled=!1;a._uiLevel.name="uiLevel";a._root.addChild(a._uiLevel);a._toolsLevel=new Sprite;a._toolsLevel.mouseEnabled=!1;a._toolsLevel.name="toolsLevel";a._root.addChild(a._toolsLevel);a._gameLevel=new Sprite;a._gameLevel.mouseEnabled=!1;a._gameLevel.name="gameLevel";a._root.addChild(a._gameLevel);a._topLevel=new Sprite;a._topLevel.mouseEnabled=!1;a._topLevel.name="topLevel";a._root.addChild(a._topLevel);a._alertLevel=new Sprite;a._alertLevel.mouseEnabled=!1;a._alertLevel.name="alertLevel";a._root.addChild(a._alertLevel)};a.removeRoot=function(){a._stage.removeChild(a._root)};a.addRoot=function(){a._stage.addChildAt(a._root,0)};a.openMouseEvent=function(){a._mapLevel.mouseChildren=!0;a._uiLevel.mouseChildren=!0;a._toolsLevel.mouseChildren=!0;a._gameLevel.mouseChildren=!0;a._topLevel.mouseChildren=!0;a._toolUiLevel.mouseChildren=!0};a.closeMouseEvent=function(c,b){void 0===c&&(c=!1);void 0===b&&(b=!0);a._mapLevel.mouseChildren=!1;a._uiLevel.mouseChildren=!1;b&&(a._toolsLevel.mouseChildren=!1);a._gameLevel.mouseChildren=!1;c&&(a._topLevel.mouseChildren=!1);a._toolUiLevel.mouseChildren=!1};a.MAX_WIDTH=800;a.MIN_WIDTH=400;a.MAX_HEIGHT=480;a.MIN_HEIGHT=240;a.stageWidth=800;a.stageHeight=480;a._root=null;a._stage=null;a._gameLevel=null;a._topLevel=null;a._alertLevel=null;a._uiLevel=null;a._toolsLevel=null;a._toolUiLevel=null;a._mapLevel=null;return a}(),LoadingType=function(){function a(){}__class(a,"manager.loading.LoadingType",!0);a.NO_ALL=-1;a.TITLE_AND_PERCENT=1;return a}(),LoadingManager=function(){function a(){}__class(a,"manager.LoadingManager",!0);__getset(1,a,"loader",function(){return a._loader});a.setup=function(c){a._loader=c};a.getMovieClip=function(c){return Utils.getMovieClipFromLoader(c,a._loader)};a.getSprite=function(c){return Utils.getSpriteFromLoader(c,a._loader)};a.getLoading=function(a,b,d,g){void 0===d&&(d="Loading...");void 0===g&&(g=!1);var e;switch(a){case LoadingType.NO_ALL:e=new EmptyLoading;break;case 1:e=new TitlePercentLoading(b,d,g)}return e};a._loader=null;return a}(),ModuleManager=function(){function a(){}__class(a,"manager.ModuleManager",!0);a.getModule=function(c,b){var d=a._moduleMap.getValue(c);if(d)return d;d=new AppModel(c);d.depth=a._moduleMap.getKeys().length;a._moduleMap.add(c,d);return d};a.turnModule=function(c,b,d){(b=a._moduleMap.getValue(c))?b.hasParent&&b.toggle?b.hide():(null!=d&&b.init(d),b.show()):(b=new AppModel(c),b.depth=a._moduleMap.getKeys().length,a._moduleMap.add(c,b),b.setup(),null!=d&&b.init(d),b.show(),b.addEventListener("destroy",a.onModuleDestroy),a.event.dispatchEvent(new UIEvent("open_module",c)))};a.onModuleDestroy=function(c){c.currentTarget.removeEventListener("destroy",a.onModuleDestroy);a.event.dispatchEvent(new UIEvent("close_module",c.currentTarget.url))};a.turnAppModule=function(c,b,d){void 0===b&&(b="\u6b63\u5728\u52a0\u8f7d...");a.turnModule(c,b,d)};a.turnGameModule=function(c,b,d){a.turnModule(c,b,d)};a.showModule=function(c,b,d){(b=a._moduleMap.getValue(c))?d&&b.init(d):(b=new AppModel(c),b.depth=a._moduleMap.getKeys().length,a._moduleMap.add(c,b),b.setup(),null!=d&&b.init(d));b.show()};a.hideModule=function(c){(c=a._moduleMap.getValue(c))&&c.hide()};a.hasModule=function(c){return a._moduleMap.containsKey(c)};a.remove=function(c){a._moduleMap.remove(c)};a.destroy=function(c){(c=a._moduleMap.remove(c))&&c.destroy()};a.closeAllModule=function(){var c=a._moduleMap.getValues(),b,d;for(d in c)(b=c[d])&&b.hasParent&&b.hide()};a.destoryAllModule=function(){var c=a._moduleMap.getValues(),b,d;for(d in c)(b=c[d])&&b.hasParent&&b.destroy()};__static(a,["_moduleMap",function(){return this._moduleMap=new HashMap},"event",function(){return this.event=new EventDispatcher}]);return a}(),ModalType=function(){function a(){}__class(a,"manager.popup.ModalType",!0);a.NONE=0;a.DARK=1;a.BLUR=2;return a}(),PopUpManager1=function(){function a(){this._catchModule=this._map=this._darkLayer=this._catchBmp=null;this._darkLayer=new Sprite;this._darkLayer.graphics.beginFill(0,.6);this._darkLayer.graphics.drawRect(0,0,800,480);this._darkLayer.graphics.endFill();this._map=[]}__class(a,"manager.popup.PopUpManager",!0,null,"PopUpManager1");var c=a.prototype;c.catchScreen=function(a){if(0!=a.modalType&&null==this._catchBmp){this._catchModule=a;a=new BitmapData(LayerManager.stageWidth,LayerManager.stageHeight);a.draw(LayerManager.root,null,null,null,new Rectangle(-LayerManager.root.x,-LayerManager.root.y,LayerManager.stageWidth,LayerManager.stageHeight));var c=new BlurFilter(4,4);this._catchBmp=new Bitmap;this._catchBmp.bitmapData=a;this._catchBmp.filters=[c];a=LayerManager.root.getChildIndex(LayerManager.topLevel);LayerManager.root.addChildAt(this._catchBmp,a);LayerManager.mapLevel.visible=!1;LayerManager.toolUiLevel.visible=!1;LayerManager.uiLevel.visible=!1;LayerManager.toolsLevel.visible=!1;LayerManager.gameLevel.visible=!1}};c.add=function(a){0!=a.modalType&&-1==this._map.indexOf(a)&&(this._map.push(a),this.reset())};c.remove=function(a){0!=a.modalType&&this._catchModule==a&&this._catchBmp&&(this._catchModule=null,this._catchBmp.bitmapData.dispose(),DisplayUtil.removeForParent(this._catchBmp),LayerManager.mapLevel.visible=!0,LayerManager.toolUiLevel.visible=!0,LayerManager.uiLevel.visible=!0,LayerManager.toolsLevel.visible=!0,LayerManager.gameLevel.visible=!0,this._catchBmp=null);var c=this._map.indexOf(a);0!=a.modalType&&-1!=c&&(this._map.splice(c,1),this.reset())};c.reset=function(){for(var a=-1,c=this._map.length,g;0<=--c;)if(g=this._map[c],1==g.modalType&&g.sprite&&g.sprite.parent){a=c;break}this._darkLayer.parent&&this._darkLayer.parent.removeChild(this._darkLayer);-1!=a&&LayerManager.topLevel.addChildAt(this._darkLayer,g.sprite.parent.getChildIndex(g.sprite))};__getset(1,a,"instance",function(){return a._instance=a._instance||new a});a._instance=null;return a}(),Logger=function(){function a(){}__class(a,"util.Logger",!0);a.info=function(c,b){a.log(a.INFO,c,b)};a.debug=function(c,b){a.log(a.DEBUG,c,b)};a.error=function(c,b){a.log(a.ERROR,c,b)};a.fatal=function(c,b){a.log(a.FATAL,c,b)};a.createLogMsgByArr=function(a){for(var b=arguments,d="",g=0;g<b.length;g++)d+=b[g]+"  ";return d};a.log=function(c,b,d){if(!ClientConfig.isRelease()){var g="",g=null==b?"unknow class type or static class":iflash.utils.getQualifiedClassName(b);a.level<=c&&console.log(a.pad("["+a.levelString(c)+"] "+g)+" : "+d)}};a.pad=function(a){for(;50>a.length;)a+=" ";return a};a.levelString=function(c){switch(c){case a.FATAL:return"FATAL";case a.ERROR:return"ERROR";case a.DEBUG:return"DEBUG";case a.INFO:return"INFO";case a.ALL:return"ALL"}return""};a.NONE=1E3;a.FATAL=16;a.ERROR=8;a.DEBUG=4;a.INFO=2;a.ALL=0;__static(a,["level",function(){return this.level=a.ERROR}]);return a}(),ArgumentError=function(a){function c(a){c.__super.call(this)}__class(c,"ArgumentError",!0,Error);return c}(Error),RangeError=function(a){function c(a){c.__super.call(this)}__class(c,"RangeError",!0,Error);return c}(Error),ArrayProvider=function(a){function c(a){this._data=[];this.autoUpdate=!0;c.__super.call(this);a&&(this._data=a.concat())}__class(c,"com.lilynumber1.data.ArrayProvider",!1,a);a=c.prototype;a.refresh=function(){this.dispatchChangeEvent("reset",this._data.concat(),0,this._data.length-1)};a.dispatchSelect=function(a,c){var g=this._data.push(c);a.dispatchEvent(new DataChangeEvent("dataChange","select",[c],g,g))};a.dispatchSelectMulti=function(a,c){var g=this._data.length-1;this._data.splice(g,0,c);a.dispatchEvent(new DataChangeEvent("dataChange","select",c,g,this._data.length-1))};a.add=function(a){var c=this._data.push(a);this.dispatchChangeEvent("add",[a],c,c)};a.addAt=function(a,c){this.checkIndex(c);this._data.splice(c,0,a);this.dispatchChangeEvent("add",[a],c,c)};a.addMulti=function(a){this.addMultiAt(a,this._data.length-1)};a.addMultiAt=function(a,c){this.checkIndex(c);this._data.splice(c,0,a);this.dispatchChangeEvent("add",a.concat(),c,c+a.length-1)};a.getItemAt=function(a){this.checkIndex(a);return this._data[a]};a.getItemIndex=function(a){return this._data.indexOf(a)};a.contains=function(a){return-1==this._data.indexOf(a)?!1:!0};a.remove=function(a){a=this._data.indexOf(a);return-1!=a?this.removeAt(a)[0]:null};a.removeAt=function(a,c){void 0===c&&(c=1);this.checkIndex(a);var g=this._data.splice(a,c);this.dispatchChangeEvent("remove",g.concat(),a,a+g.length-1);return g};a.removeAll=function(){var a=this._data.concat();this._data=[];this.dispatchChangeEvent("removeAll",a,0,a.length-1)};a.removeMulti=function(a){var c=[];this._data=this._data.filter(function(g,e,f){if(-1==a.indexOf(g))return!0;c.push(g);return!1},this);0<c.length&&this.dispatchChangeEvent("remove",c.concat(),0,c.length-1);return c};a.removeMultiIndex=function(a){var c=[];this._data=this._data.filter(function(g,e,f){if(-1==a.indexOf(e))return!0;c.push(g);return!1},this);0<c.length&&this.dispatchChangeEvent("remove",c.concat(),0,c.length-1);return c};a.removeForProperty=function(a,c){var g,e=0;this._data.some(function(f,h,k){return f[a]==c?(g=f,e=h,!0):!1},this)&&this.dispatchChangeEvent("remove",[g],e,e);return g};a.removeMultiForProperty=function(a,c){var g=[];this._data=this._data.filter(function(e,f,h){return e[a]==c?(g.push(e),!1):!0},this);if(0==g.length)return g;this.dispatchChangeEvent("remove",g,0,g.length-1);return g};a.upDateItem=function(a,c){var g=this._data.indexOf(a);return-1!=g?this.upDateItemAt(g,c):null};a.upDateItemAt=function(a,c){this.checkIndex(a);var g=this._data[a];this.dispatchPreChangeEvent("update",[g],a,a);this._data[a]=c;this.dispatchChangeEvent("update",[c],a,a);return g};a.setItemIndex=function(a,c){this.checkIndex(c);var g=this._data.indexOf(a);-1!=g&&this.setItemIndexAt(g,c)};a.setItemIndexAt=function(a,c){this.checkIndex(a);this.checkIndex(c);var g=this._data.splice(a,1);this._data.splice(c,0,g);this.dispatchChangeEvent("move",g,a,c)};a.swapItemAt=function(a,c){var g=this._data.indexOf(a);if(-1!=g){var e=this._data.indexOf(c);-1!=e&&this.swapIndexAt(g,e)}};a.swapIndexAt=function(a,c){if(a!=c){this.checkIndex(a);this.checkIndex(c);var g,e;a<c?(e=this._data.splice(c,1),g=this._data.splice(a,1,e),this._data.splice(c,1,g),this.dispatchChangeEvent("swap",e.concat(g),a,c)):(g=this._data.splice(a,1),e=this._data.splice(c,1),this._data.splice(a,1,e),this.dispatchChangeEvent("swap",g.concat(e),c,a))}};a.sort=function(a){var c=arguments;this.dispatchPreChangeEvent("sort",this._data.concat(),0,this._data.length-1);c=this._data.sort(c);this.dispatchChangeEvent("sort",this._data.concat(),0,this._data.length-1);return c};a.sortOn=function(a,c){this.dispatchPreChangeEvent("sort",this._data.concat(),0,this._data.length-1);var g=this._data.sortOn(a,c);this.dispatchChangeEvent("sort",this._data.concat(),0,this._data.length-1);return g};a.pop=function(){var a=this._data.pop(),c=this._data.length;this.dispatchChangeEvent("remove",[a],c,c);return a};a.shift=function(){var a=this._data.shift();this.dispatchChangeEvent("remove",[a],0,0);return a};a.toArray=function(){return this._data.concat()};a.toString=function(){return"ArrayProvider ["+this._data.join(" , ")+"]"};a.checkIndex=function(a){if(a>this._data.length-1||0>a)throw new RangeError("ArrayProvider index ("+a.toString()+") is not in acceptable range (0 - "+(this._data.length-1).toString()+")");};a.forEach=function(a,c){this._data.forEach(a,c)};a.filter=function(a,c){return this._data.filter(a,c)};a.some=function(a,c){return this._data.some(a,c)};a.every=function(a,c){return this._data.every(a,c)};a.map=function(a,c){return this._data.map(a,c)};a.dispatchChangeEvent=function(a,c,g,e){void 0===g&&(g=-1);void 0===e&&(e=-1);this.autoUpdate&&this.hasEventListener("dataChange")&&this.dispatchEvent(new DataChangeEvent("dataChange",a,c,g,e))};a.dispatchPreChangeEvent=function(a,c,g,e){void 0===g&&(g=-1);void 0===e&&(e=-1);this.autoUpdate&&this.hasEventListener("preDataChange")&&this.dispatchEvent(new DataChangeEvent("preDataChange",a,c,g,e))};__getset(0,a,"length",function(){return this._data.length});return c}(EventDispatcher),HashMapProvider=function(a){function c(){this.autoUpdate=!0;c.__super.call(this);this._data=new HashMap}__class(c,"com.lilynumber1.data.HashMapProvider",!1,a);a=c.prototype;a.refresh=function(){this.dispatchChangeEvent("reset",this._data.getValues())};a.dispatchSelect=function(a,c,g){this._data.add(c,g);a.dispatchEvent(new DataChangeEvent("dataChange","select",[g]))};a.dispatchSelectMulti=function(a,c,g){for(var e=c.length,f=0;f<e;f++)this._data.add(c[f],g[f]);a.dispatchEvent(new DataChangeEvent("dataChange","select",g.concat()))};a.add=function(a,c){var g=this._data.add(a,c);this.dispatchChangeEvent("add",[c]);return g};a.addMulti=function(a,c){for(var g=[],e=a.length,f=0;f<e;f++){var h=this._data.add(a[f],c[f]);h&&g.push(h)}this.dispatchChangeEvent("add",c.concat());return g};a.remove=function(a){return(a=this._data.remove(a))?(this.dispatchChangeEvent("remove",[a]),a):null};a.removeMulti=function(a){var c=[],g,e;for(e in a)g=a[e],(g=this._data.remove(g))&&c.push(g);0<c.length&&this.dispatchChangeEvent("remove",c.concat());return c};a.removeForValue=function(a){if(a=this._data.getKey(a))if(a=this._data.remove(a))return this.dispatchChangeEvent("remove",[a]),a;return null};a.removeMultiForValue=function(a){var c=[],g,e;for(e in a)g=a[e],(g=this._data.getKey(g))&&(g=this._data.remove(g))&&c.push(g);0<c.length&&this.dispatchChangeEvent("remove",c.concat());return c};a.removeAll=function(){var a=this._data.getValues();this._data.clear();this.dispatchChangeEvent("removeAll",a)};a.upDateForKey=function(a,c){if(this._data.containsKey(a)){var g=this._data.add(a,c);g&&this.dispatchPreChangeEvent("update",[g]);this.dispatchChangeEvent("update",[c])}};a.upDateForValue=function(a,c){var g=this._data.getKey(a);g&&(this._data.add(g,c),this.dispatchPreChangeEvent("update",[a]),this.dispatchChangeEvent("update",[c]))};a.toHashMap=function(){return this._data.clone()};a.containsValue=function(a){return this._data.containsValue(a)};a.containsKey=function(a){return this._data.containsKey(a)};a.getValue=function(a){return this._data.getValue(a)};a.getKey=function(a){return this._data.getKey(a)};a.getValues=function(){return this._data.getValues()};a.getKeys=function(){return this._data.getKeys()};a.dispatchChangeEvent=function(a,c){this.autoUpdate&&this.hasEventListener("dataChange")&&this.dispatchEvent(new DataChangeEvent("dataChange",a,c))};a.dispatchPreChangeEvent=function(a,c){this.autoUpdate&&this.hasEventListener("preDataChange")&&this.dispatchEvent(new DataChangeEvent("preDataChange",a,c))};__getset(0,a,"length",function(){return this._data.length});return c}(EventDispatcher),TmfByteArray=function(a){function c(a){c.__super.call(this);a.readBytes(this,this.bytesAvailable)}__class(c,"com.lilynumber1.tmf.TmfByteArray",!1,a);return c}(ByteArray),ResLoader=function(a){function c(){this.resInfo=null;this.level=0;this._loader=null;this._isLoading=!1;c.__super.call(this);this._loader=new Loader;this._loader.contentLoaderInfo.addEventListener("open",__bind(this,this.onOpen));this._loader.contentLoaderInfo.addEventListener("complete",__bind(this,this.onComplete));this._loader.contentLoaderInfo.addEventListener("progress",__bind(this,this.onProgress));this._loader.contentLoaderInfo.addEventListener("ioError",__bind(this,this.onError))}__class(c,"com.lilynumber1.resource.ResLoader",!1,a);a=c.prototype;a.load=function(a){this.resInfo=a;this.level=this.resInfo.level;this._isLoading=this.resInfo.isLoading=!0;this._loader.load(new URLRequest(this.resInfo.url))};a.unload=function(){this._loader.unload()};a.close=function(){if(this._isLoading){this._isLoading=!1;this.resInfo.isLoading=!1;try{this._loader.close()}catch(a){}}};a.destroy=function(){this.close();this.unload();this.resInfo=null;this._loader.contentLoaderInfo.removeEventListener("open",__bind(this,this.onOpen));this._loader.contentLoaderInfo.removeEventListener("complete",__bind(this,this.onComplete));this._loader.contentLoaderInfo.removeEventListener("progress",__bind(this,this.onProgress));this._loader.contentLoaderInfo.removeEventListener("ioError",__bind(this,this.onError));this._loader=null};a.onComplete=function(a){this.dispatchEvent(a)};a.onOpen=function(a){this.dispatchEvent(a)};a.onProgress=function(a){this.dispatchEvent(a)};a.onError=function(a){this.resInfo.isLoading=!1;this.dispatchEvent(a);this._isLoading=!1};__getset(0,a,"isLoading",function(){return this._isLoading},function(a){this._isLoading=a});__getset(0,a,"loaderInfo",function(){return this._loader.contentLoaderInfo});return c}(EventDispatcher),UILoader=function(a){function c(a,d,g,e,f,h){this._loadingView=null;this._autoCloseLoading=!1;this._loader=this._url=this._parent=null;this._isLoading=this._isCurrentApp=!1;c.__super.call(this);void 0===a&&(a="");void 0===g&&(g=-1);void 0===e&&(e="");void 0===f&&(f=!0);void 0===h&&(h=!1);this._isCurrentApp=h;this._url=a;this._parent=d;this._autoCloseLoading=f;this._loader=new Loader;this._loader.contentLoaderInfo.addEventListener("open",__bind(this,this.onOpenHandler));this._loader.contentLoaderInfo.addEventListener("complete",__bind(this,this.onCompleteHandler));this._loader.contentLoaderInfo.addEventListener("ioError",__bind(this,this.onErrorHandler));this._loader.contentLoaderInfo.addEventListener("progress",__bind(this,this.onProgressHandler));this._loadingView=LoadingManager.getLoading(g,d,e);this._loadingView.addEventListener("close",__bind(this,this.onLoadingCloseHandler))}__class(c,"data.UILoader",!1,a);a=c.prototype;a.load=function(a){void 0===a&&(a="");var c=new LoaderContext;c.allowCodeImport=!0;this._isCurrentApp&&(c.applicationDomain=ApplicationDomain.currentDomain);""!=a&&(this._url=a);""!=this._url&&(this._loader.load(new URLRequest(this._url),c),this._isLoading=!0)};a.close=function(){this._loader.content instanceof iflash.display.MovieClip&&DisplayUtil.stopAllMovieClip(this._loader.content);this._isLoading=!1;this._loadingView.hide();try{this._loader.close()}catch(a){}this.dispatchEvent(new UILoadEvent(UILoadEvent.CLOSE,this))};a.destroy=function(a){void 0===a&&(a=!1);this.close();this._loader.contentLoaderInfo.removeEventListener("open",__bind(this,this.onOpenHandler));this._loader.contentLoaderInfo.removeEventListener("complete",__bind(this,this.onCompleteHandler));this._loader.contentLoaderInfo.removeEventListener("ioError",__bind(this,this.onErrorHandler));this._loader.contentLoaderInfo.removeEventListener("progress",__bind(this,this.onProgressHandler));a&&this._loader.unloadAndStop();this._loadingView.removeEventListener("close",__bind(this,this.onLoadingCloseHandler));this._loadingView.destroy();this._loader=this._parent=this._loadingView=null};a.onOpenHandler=function(a){this._loadingView.show();this.dispatchEvent(new UILoadEvent(UILoadEvent.OPEN,this))};a.onCompleteHandler=function(a){this._isLoading=!1;this._autoCloseLoading&&this._loadingView.hide();this.dispatchEvent(new UILoadEvent(UILoadEvent.COMPLETE,this))};a.onErrorHandler=function(a){this._isLoading=!1;this.dispatchEvent(a);Logger.error(this,"\u52a0\u8f7d\u51fa\u9519\uff01"+this._url)};a.onProgressHandler=function(a){this._loadingView.setPercent(a.bytesLoaded,a.bytesTotal)};a.onLoadingCloseHandler=function(a){this.close()};__getset(0,a,"loading",function(){return this._loadingView});__getset(0,a,"loader",function(){return this._loader});__getset(0,a,"sharedEvents",function(){return this._loader.contentLoaderInfo.sharedEvents});__getset(0,a,"url",function(){return this._url});__getset(0,a,"parent",function(){return this._parent},function(a){this._parent=a});__getset(0,a,"closeEnabled",null,function(a){this._loadingView.closeEnabled=a});__getset(0,a,"content",function(){return this._loader.content});return c}(EventDispatcher),PropertyChangeEvent=function(a){function c(a,d,g,e,f,h,k,l){this.source=this.property=this.oldValue=this.newValue=this.kind=null;void 0===d&&(d=!1);void 0===g&&(g=!1);c.__super.call(this,a,d,g);this.kind=e;this.property=f;this.oldValue=h;this.newValue=k;this.source=l}__class(c,"mx.events.PropertyChangeEvent",!1,a);c.prototype.clone=function(){return new c(this.type,this.bubbles,this.cancelable,this.kind,this.property,this.oldValue,this.newValue,this.source)};c.createUpdateEvent=function(a,d,g,e){var f=new c("propertyChange");f.kind="update";f.oldValue=g;f.newValue=e;f.source=a;f.property=d;return f};c.event=function(a,d,g,e){a.dispatchEvent(c.createUpdateEvent(a,d,g,e))};c.PROPERTY_CHANGE="propertyChange";return c}(Event),DataChangeEvent=function(a){function c(a,d,g,e,f){this._endIndex=this._startIndex=0;this._items=this._changeType=null;void 0===e&&(e=-1);void 0===f&&(f=-1);c.__super.call(this,a);this._changeType=d;this._startIndex=e;this._items=g;this._endIndex=-1==f?this._startIndex:f}__class(c,"com.lilynumber1.data.DataChangeEvent",!1,a);a=c.prototype;a.toString=function(){return this.formatToString("DataChangeEvent","type","changeType","startIndex","endIndex","bubbles","cancelable")};a.clone=function(){return new c(this.type,this._changeType,this._items,this._startIndex,this._endIndex)};__getset(0,a,"changeType",function(){return this._changeType});__getset(0,a,"items",function(){return this._items});__getset(0,a,"startIndex",function(){return this._startIndex});__getset(0,a,"endIndex",function(){return this._endIndex});c.DATA_CHANGE="dataChange";c.PRE_DATA_CHANGE="preDataChange";return c}(Event),DynamicEvent=function(a){function c(a,d){this._paramObject=null;c.__super.call(this,a,!1,!1);this._paramObject=d}__class(c,"com.lilynumber1.events.DynamicEvent",!1,a);a=c.prototype;a.clone=function(){return new c(this.type,this._paramObject)};__getset(0,a,"paramObject",function(){return this._paramObject});return c}(Event),SocketErrorEvent=function(a){function c(a,d,g,e){this._headInfo=null;void 0===g&&(g=!1);void 0===e&&(e=!1);c.__super.call(this,a,g,e);this._headInfo=d}__class(c,"com.lilynumber1.events.SocketErrorEvent",!1,a);__getset(0,c.prototype,"headInfo",function(){return this._headInfo});c.ERROR="socketError";return c}(Event),SocketEvent=function(a){function c(a,d,g){this._data=this._headInfo=null;c.__super.call(this,a,!1,!1);this._headInfo=d;this._data=g}__class(c,"com.lilynumber1.events.SocketEvent",!1,a);a=c.prototype;__getset(0,a,"headInfo",function(){return this._headInfo});__getset(0,a,"data",function(){return this._data});__static(c,["COMPLETE",function(){return this.COMPLETE="complete"}]);return c}(Event),BaseLoading=function(a){function c(a,d){this._parent=this._loadingBar=null;this._percent=NaN;this._closeEnabled=!1;this._percentText=this._percentBar=this._closeBtn=null;c.__super.call(this);void 0===d&&(d=!1);this._parent=a;this._loadingBar=this.getLoadingBar();this._closeBtn=this._loadingBar.closeBtn;this._percentBar=this._loadingBar.loadingbar;if(this._percentText=this._loadingBar.perNum)this._percentText.text="0%";this._closeBtn&&this._closeBtn instanceof iflash.display.Sprite&&(this._closeBtn.buttonMode=!0);this.closeEnabled=d}__class(c,"manager.loading.BaseLoading",!1,a);a=c.prototype;Laya.imps(a,{"manager.loading.ILoading":!0});a.getLoadingBar=function(){return LoadingManager.getMovieClip(this.key)};a.setPercent=function(a,c){this._percent=Math.floor(a/c*100)};a.show=function(){this._parent&&this._parent.addChild(this._loadingBar)};a.hide=function(){DisplayUtil.removeForParent(this._loadingBar)};a.destroy=function(){null!=this._closeBtn&&(this._closeBtn.removeEventListener("click",__bind(this,this.onCloseHandler)),this._closeBtn=null);DisplayUtil.removeForParent(this._loadingBar);this._percentText=this._parent=this._loadingBar=null};a.onCloseHandler=function(a){this.dispatchEvent(new Event("close"))};__getset(0,a,"loadingBar",function(){return this._loadingBar});__getset(0,a,"parent",function(){return this._parent});__getset(0,a,"title",null,function(a){});__getset(0,a,"closeEnabled",null,function(a){this._closeEnabled=a;null!=this._closeBtn&&(this._closeEnabled?(this._closeBtn.visible=this._closeEnabled,this._closeBtn.addEventListener("click",__bind(this,this.onCloseHandler))):(this._closeBtn.visible=this._closeEnabled,this._closeBtn.removeEventListener("click",__bind(this,this.onCloseHandler))))});__getset(0,a,"key",function(){return"baseLoading"});__getset(0,a,"text",null,function(a){});c.KEY="baseLoading";return c}(EventDispatcher),EmptyLoading=function(a){function c(){c.__super.call(this)}__class(c,"manager.loading.EmptyLoading",!1,a);a=c.prototype;Laya.imps(a,{"manager.loading.ILoading":!0});a.setPercent=function(a,c){};a.destroy=function(){};a.show=function(){};a.hide=function(){};__getset(0,a,"parent",function(){return null});__getset(0,a,"title",null,function(a){});__getset(0,a,"text",null,function(a){});__getset(0,a,"closeEnabled",null,function(a){});__getset(0,a,"loadingBar",function(){return null});__getset(0,a,"key",function(){return""});return c}(EventDispatcher),AppModel=function(a){function c(a){this._data=this._mode=this._url=null;this._depth=0;c.__super.call(this);this._state=1;this._events=new EventDispatcher;this._url=a}__class(c,"model.AppModel",!1,a);a=c.prototype;a.setup=function(){this._mode||(this._mode=ClientConfig.moduleMap.getValue(this.url),this._mode.setup(),this._mode.addEventListener("show",__bind(this,this.onModeShow)),this._mode.addEventListener("hide",__bind(this,this.onModeHide)),this._mode.addEventListener("destroy",__bind(this,this.onModeDestroy)),this._events=this._mode,null!=this._data&&this._mode.init(this._data),3==this._state&&this._mode.show(),this.dispatchEvent(new Event("complete")))};a.init=function(a){this._data=a;this._mode&&this._mode.init(a);this.setup()};a.show=function(){this._state=3;this.hasParent&&this.toggle||this._mode&&this._mode.show();this.setup()};a.hide=function(){this._state=1;this.hasParent&&this._mode.hide()};a.destroy=function(){this.clearModeEvent();
this._mode&&(this._mode.destroy(),this._mode=null);this._events=this._data=null;this.dispatchEvent(new GlobalEvent("destroy"))};a.clearModeEvent=function(){this._mode&&(this._mode.removeEventListener("show",__bind(this,this.onModeShow)),this._mode.removeEventListener("hide",__bind(this,this.onModeHide)),this._mode.removeEventListener("destroy",__bind(this,this.onModeDestroy)))};a.onModeShow=function(a){this._state=3;this.dispatchEvent(a)};a.onModeHide=function(a){this._state=1;this.dispatchEvent(a)};a.onModeDestroy=function(a){ModuleManager.remove(this._url);this.clearModeEvent();this._mode&&(this._mode=null);this._events=this._data=null;this.dispatchEvent(new GlobalEvent("destroy"))};__getset(0,a,"url",function(){return this._url});__getset(0,a,"events",function(){return this._events});__getset(0,a,"hasParent",function(){return this._mode?null==this._mode.parentContainer?!1:!0:!1});__getset(0,a,"module",function(){return this._mode});__getset(0,a,"toggle",function(){return null!=this._mode&&Object(this._mode).hasOwnProperty("toggle")?this._mode.toggle:!0});__getset(0,a,"state",function(){return this._state});__getset(0,a,"depth",function(){return this._depth},function(a){this._depth=a});return c}(EventDispatcher),GlobalEvent=function(a){function c(a){c.__super.call(this,a)}__class(c,"data.GlobalEvent",!1,a);c.EXIT_FRAME="exitFrame";c.FRAME_CONSTRUCTED="frameConstructed";c.LOGIN_SUCCESS="loginSuccess";c.OGRE_CLICK="ogreClick";c.SHOW="show";c.HIDE="hide";c.DESTROY="destroy";c.MESSAGE="message";c.CHANGE_NAME_ERROR="changeNameError";return c}(Event),UIEvent=function(a){function c(a,d,g,e){this._data=null;void 0===g&&(g=!1);void 0===e&&(e=!1);c.__super.call(this,a,g,e);this._data=d}__class(c,"data.UIEvent",!1,a);__getset(0,c.prototype,"data",function(){return this._data});c.BUTTON_GROUP_CHANGE_SELECTEC_BTN="BUTTON_GROUP_CHANGE_SELECTEC_BTN";c.SCROLLBAR_SCROLL="SCROLLBAR_SCROLL";c.PAGE_CHANGE="page_Change";c.OPEN_MODULE="open_module";c.CLOSE_MODULE="close_module";c.OPEN_NPC="open_npc";return c}(Event),UILoadEvent=function(a){function c(a,d){this._loader=null;c.__super.call(this,a);this._loader=d}__class(c,"data.UILoadEvent",!1,a);__getset(0,c.prototype,"uiloader",function(){return this._loader});__static(c,["COMPLETE",function(){return this.COMPLETE="complete"},"OPEN",function(){return this.OPEN="open"},"CLOSE",function(){return this.CLOSE="close"}]);return c}(Event),IFlash=function(a){function c(a){this.stage=null;c._sprite_=a;c.__super.call(this,a)}__class(c,"IFlash",!1,a);a=c.prototype;a._onInit_=function(){EventManager.stage=this.stage=Stage.stage;Capabilities.initScreenResolutionXY();var a=c.__beforInit__;null!=a&&a();0<c.__width__&&0<c.__height__&&Laya.document.size(c.__width__,c.__height__);EventManager.stage=this.stage=Stage.stage;Laya.window.addEventListener("resize",__bind(this,this._resize_));this.stage.bgcolor=c.__bgColor;this.stage.setOrientationEx(c.__setOrientationEx);this.stage.showInfo=c.__showInfo;this.stage.frameRate=c.__frameRate;c._sprite_=c._sprite_||new IFlashMain;c._sprite_&&!c._sprite_.parent&&null==c.__loadResource__&&this.stage.addChild(c._sprite_);c.__loadResource__&&c.__StartLoadResource__()};a._resize_=function(a){a._lysetTarget(this.stage);this.stage.dispatchEvent(a)};__getset(1,c,"isRuningOnAccelerator",function(){return Laya.CONCHVER},iflash.laya.ILaya._$SET_isRuningOnAccelerator);c.preSwfAssets=function(a){Loader.preswfAsset(a)};c.setAutoDetect=function(a){AudioElement.disableAutoDetect=a};c.SetTouch=function(a){Laya.CONCHVER&&(conch.disableMultiTouch=a)};c.setSize=function(a,d){c.__width__=a;c.__height__=d;Stage.stage.width=c.__width__;Stage.stage.height=c.__height__;Laya.document.body&&(Laya.document.body.width=c.__width__,Laya.document.body.height=c.__height__)};c.lockScreen=function(a){void 0===a&&(a=!1);conch.setScreenWakeLock(a)};c.regBeforInit=function(a){c.__beforInit__=a};c.setBgcolor=function(a){c.__bgColor=a;Stage.stage.bgcolor=a};c.setOrientationEx=function(a){c.__setOrientationEx=a;Stage.stage.setOrientationEx(a)};c.setAutoOrients=function(a){void 0===a&&(a=!0);Stage.stage.autoOrients=a};c.showInfo=function(a){c.__showInfo=a;Stage.stage.showInfo=a};c.frameRate=function(a){Laya.CONCHVER&&60>a&&conch.setMaxFPS&&conch.setMaxFPS(a);a!=c.__frameRate&&(c.__frameRate=a,Stage.stage.frameRate=a)};c.Start=function(){LAYABOX.getInterfaceDefinitionByName=function(a){a=a.split(".");for(var b=Laya,c=0;c<a.length;c++)if(b=b[a[c]],!b)return null;return b};new JSONParse;Laya.document.body=new Body;var a=Register,c=AnimationCreate;a.regClass(51,LyImageElement);a.regClass(52,Shape);a.regClass(52,Shape);a.regClass(53,BitmapData);a.regClass(54,Bitmap);a.regClass(55,Sprite);a.regClass(56,MovieClip);a.regClass(58,SimpleButton);a.regClass(57,TextField);a.regClass(59,StaticText);a.regFunction(151,c.removeAll,2,!1,0,0);a.regFunction(152,c.setInstanceName,3,!1,0,4,6);a.regFunction(153,c.removeInstanceName,3,!1,0,4,6);a.regFunction(154,c.newObject,4,!1,0,4,4,6);a.regFunction(155,c.addChild,3,!1,0,4,4);a.regFunction(156,c.removeChild,2,!1,0,4);a.regFunction(157,c.setTransform,9,!1,0,4,5,5,5,5,5,5,5);a.regFunction(158,c.pos,4,!1,0,4,5,5);a.regFunction(159,c.empty,2,!1,0,0);a.regFunction(160,c.setAlpha,3,!1,9,4,5);a.regFunction(161,c.setVisible,3,!1,9,4,14);a.regFunction(162,c.initLyImage,4,!1,9,4,5,5);a.regFunction(163,c.initShap,3,!1,9,1,13);a.regFunction(167,c.initShape2Add,5,!1,9,4,5,5,13);a.regFunction(164,c.initMovie,6,!1,9,11,8,8,4,12);a.regFunction(166,c.initButton,6,!1,9,11,8,8,4,12);a.regFunction(165,c.initText,14,!1,9,5,5,5,5,5,5,14,14,14,8,6,5,6);a.regFunction(168,c.initStaticText,14,!1,9,5,5,5,5,5,5,14,14,14,8,6,5,6);Laya.window.resizeTo(Browser.window.innerWidth,Browser.window.innerHeight);Laya.CONCHVER&&conchConfig.textBaseline(1)};c.__StartLoadResource__=function(){for(var a=c.__loadResource__.length,d=0;d<a;d++){var g=new Loader;g.contentLoaderInfo.addEventListener("complete",c.__onLoad__);g.load(new URLRequest(c.__loadResource__[d]),new LoaderContext(!1,ApplicationDomain.currentDomain))}};c.__onLoad__=function(a){c.__resourceCount__++;c.__loadResource__.length==c.__resourceCount__&&(c.__resourceCount__=0,c.__loadResource__=null,Stage.stage.addChild(c._sprite_))};c.LoadResource=function(a){c.__loadResource__=a};c.Run=function(a,d,g){0>=c.__width__&&(c.__width__=d);0>=c.__height__&&(c.__height__=g);new c(a);Laya.ilaya._onInit_()};c._sprite_=null;c.__loadResource__=null;c.__width__=-1;c.__height__=-1;c.__beforInit__=null;c.IS_3D=!1;c.__bgColor=16777215;c.__setOrientationEx=1;c.__showInfo=!0;c.__frameRate=60;c.__resourceCount__=0;c.LYData={};return c}(ILaya),TweenEvent=function(a){function c(a,d,g,e){this.info=null;void 0===g&&(g=!1);void 0===e&&(e=!1);c.__super.call(this,a,g,e);this.info=d}__class(c,"gs.events.TweenEvent",!1,a);c.prototype.clone=function(){return new c(this.type,this.info,this.bubbles,this.cancelable)};c.version=.9;c.START="start";c.UPDATE="update";c.COMPLETE="complete";return c}(Event),TweenGroup=function(a){function c(a,b,e,f){this.onCompleteParams=this.onComplete=null;this.endTime=this.yoyo=this.loop=NaN;this.expired=!1;this._tweens=null;this._initTime=this._startTime=this._pauseTime=NaN;this._reversed=!1;this._align=null;this._repeatCount=this._stagger=NaN;this._dispatcher=null;void 0===e&&(e="none");void 0===f&&(f=0);c.__super.call(this);if(!c._classInitted){try{c._TweenMax=iflash.utils.getDefinitionByName("gs.TweenMax")}catch(h){c._TweenMax=Array}TweenLite.timingSprite.addEventListener("enterFrame",c.checkExpiration,!1,-1,!0);c._classInitted=!0}this.expired=!0;this._repeatCount=0;this._align=e;this._stagger=f;this._dispatcher=new EventDispatcher(this);null!=a?(this._tweens=c.parse(a,b),this.updateTimeSpan(),this.realign()):(this._tweens=[],this._initTime=this._startTime=this.endTime=0)}var b;__class(c,"gs.TweenGroup",!1,a);a=c.prototype;Laya.imps(a,{"gs.IEventDispatcher":!0});a.callProperty=function(a,b){for(var c=[],f=1,h=arguments.length;f<h;f++)c.push(arguments[f]);c=this._tweens[a].apply(null,c);this.realign();isNaN(this._pauseTime)||this.pause();return c};a.getProperty=function(a){return this._tweens[a]};a.setProperty=function(a,b){this.onSetProperty(a,b)};a.onSetProperty=function(a,b){isNaN(a)||b instanceof gs.TweenLite?(this._tweens[a]=b,this.realign(),!isNaN(this._pauseTime)&&b instanceof gs.TweenLite&&this.pauseTween(b)):console.log("TweenGroup error: an attempt was made to add a non-TweenLite element.")};a.hasProperty=function(a){return this._tweens.hasOwnProperty(a)?!0:-1!=" progress progressWithDelay duration durationWithDelay paused reversed timeScale align stagger tweens ".indexOf(" "+a+" ")?!0:!1};a.addEventListener=function(a,b,c,f,h){void 0===c&&(c=!1);void 0===f&&(f=0);void 0===h&&(h=!1);this._dispatcher.addEventListener(a,b,c,f,h)};a.removeEventListener=function(a,b,c){void 0===c&&(c=!1);this._dispatcher.removeEventListener(a,b,c)};a.hasEventListener=function(a){return this._dispatcher.hasEventListener(a)};a.willTrigger=function(a){return this._dispatcher.willTrigger(a)};a.dispatchEvent=function(a){return this._dispatcher.dispatchEvent(a)};a.pause=function(){isNaN(this._pauseTime)&&(this._pauseTime=TweenLite.currentTime);for(var a=this._tweens.length-1;-1<a;a--)999999999999999!=this._tweens[a].startTime&&this.pauseTween(this._tweens[a])};a.resume=function(){for(var a=[],b=0,c=TweenLite.currentTime,b=this._tweens.length-1;-1<b;b--)999999999999999==this._tweens[b].startTime&&(this.resumeTween(this._tweens[b]),a[a.length]=this._tweens[b]),this._tweens[b].startTime>=c&&!this._tweens[b].enabled&&(this._tweens[b].enabled=!0,this._tweens[b].active=!1);isNaN(this._pauseTime)||(b=(TweenLite.currentTime-this._pauseTime)/1E3,this._pauseTime=NaN,this.offsetTime(a,b))};a.restart=function(a){void 0===a&&(a=!1);this.setProgress(0,a);this._repeatCount=0;this.resume()};a.reverse=function(a){void 0===a&&(a=!0);this._reversed=!this._reversed;var g=0,e,f,h=f=NaN,h=f=NaN,k=0,l=!1,m=isNaN(this._pauseTime)?TweenLite.currentTime:this._pauseTime;this.endTime<=m&&(k=int(this.endTime-m)+1,l=!0);for(g=this._tweens.length-1;-1<g;g--)e=this._tweens[g],Laya.__typeof(e,c._TweenMax)?(f=e.startTime,h=e.initTime,e.reverse(!1,!1),e.startTime=f,e.initTime=h):e.ease!=e.vars.ease?e.ease=e.vars.ease:(f=new b(e),e.ease=f.reverseEase),h=e.combinedTimeScale,f=((m-e.initTime)/1E3-e.delay/h)/e.duration*h,f=int(m-(1-f)*e.duration*1E3/h+k),e.initTime=int(f-1E3/h*e.delay),999999999999999!=e.startTime&&(e.startTime=f),e.startTime>m&&(e.enabled=!0,e.active=!1);this.updateTimeSpan();a&&(l&&this.setProgress(0,!0),this.resume())};a.getActive=function(){var a=[];if(isNaN(this._pauseTime))for(var b=0,c=TweenLite.currentTime,b=this._tweens.length-1;-1<b;b--)this._tweens[b].startTime<=c&&this.getEndTime(this._tweens[b])>=c&&(a[a.length]=this._tweens[b]);return a};a.mergeGroup=function(a,b){void 0===b&&(b=NaN);if(isNaN(b)||b>this._tweens.length)b=this._tweens.length;for(var c=a.tweens,f=c.length,h=0,h=0;h<f;h++)this._tweens.splice(b+h,0,c[h]);this.realign()};a.clear=function(a){void 0===a&&(a=!0);for(var b=this._tweens.length-1;-1<b;b--)a&&TweenLite.removeTween(this._tweens[b],!0),this._tweens[b]=null,this._tweens.splice(b,1);if(!this.expired){for(b=c._unexpired.length-1;-1<b;b--)if(c._unexpired[b]==this){c._unexpired.splice(b,1);break}this.expired=!0}};a.realign=function(){if("none"!=this._align&&1<this._tweens.length){var a=this._tweens.length,b=0,c=1E3*this._stagger,f=NaN,h=this._reversed;h&&(f=this.progressWithDelay,this.reverse(),this.progressWithDelay=0);if("sequence"==this._align)for(this.setTweenInitTime(this._tweens[0],this._initTime),b=1;b<a;b++)this.setTweenInitTime(this._tweens[b],this.getEndTime(this._tweens[b-1])+c);else if("init"==this._align)for(b=0;b<a;b++)this.setTweenInitTime(this._tweens[b],this._initTime+c*b);else if("start"==this._align)for(b=0;b<a;b++)this.setTweenStartTime(this._tweens[b],this._startTime+c*b);else for(b=0;b<a;b++)this.setTweenInitTime(this._tweens[b],this.endTime-1E3*(this._tweens[b].delay+this._tweens[b].duration)/this._tweens[b].combinedTimeScale-c*b);h&&(this.reverse(),this.progressWithDelay=f)}this.updateTimeSpan()};a.updateTimeSpan=function(){if(0==this._tweens.length)this.endTime=this._startTime=this._initTime=0;else{var a=0,b=NaN,e=NaN,f=NaN,f=this._tweens[0];this._initTime=f.initTime;this._startTime=this._initTime+1E3/f.combinedTimeScale*f.delay;this.endTime=this._startTime+1E3/f.combinedTimeScale*f.duration;for(a=this._tweens.length-1;0<a;a--)f=this._tweens[a],e=f.initTime,b=e+1E3/f.combinedTimeScale*f.delay,f=b+1E3/f.combinedTimeScale*f.duration,e<this._initTime&&(this._initTime=e),b<this._startTime&&(this._startTime=b),f>this.endTime&&(this.endTime=f);this.expired&&this.endTime>TweenLite.currentTime&&(this.expired=!1,c._unexpired[c._unexpired.length]=this)}};a.toString=function(){return"TweenGroup( "+this._tweens.toString()+" )"};a.offsetTime=function(a,b){if(0!=a.length){for(var e=1E3*b,f=isNaN(this._pauseTime)?TweenLite.currentTime:this._pauseTime,h=this.getRenderOrder(a,f),k=!1,l,m=!1,n=NaN,p=NaN,q=0,r=[],q=h.length-1;-1<q;q--)l=h[q],l.initTime+=e,k=999999999999999==l.startTime,n=l.initTime+1E3/l.combinedTimeScale*l.delay,p=this.getEndTime(l),m=(n<=f||n-e<=f)&&(p>=f||p-e>=f),isNaN(this._pauseTime)&&p>=f&&(l.enabled=!0),k||(l.startTime=n),n>=f&&(l.initted||(m=!1),l.active=!1),m&&(r[r.length]=l);for(q=r.length-1;-1<q;q--)this.renderTween(r[q],f);this.endTime+=e;this._startTime+=e;this._initTime+=e;this.expired&&this.endTime>f&&(this.expired=!1,c._unexpired[c._unexpired.length]=this)}};a.renderTween=function(a,b){var c=this.getEndTime(a),f=NaN,h=!1;999999999999999==a.startTime&&(a.startTime=a.initTime+1E3/a.combinedTimeScale*a.delay,h=!0);a.initted||(f=a.active,a.active=!1,h?(a.initTweenVals(),null!=a.vars.onStart&&a.vars.onStart.apply(null,a.vars.onStartParams)):a.activate(),a.active=f);f=a.startTime>b?a.startTime:c<b?c:b;0>f?(c=a.startTime,a.startTime-=f,a.render(0),a.startTime=c):a.render(f);h&&(a.startTime=999999999999999)};a.getRenderOrder=function(a,b){for(var c=0,f=NaN,h=[],k=[],l=[],c=a.length-1;-1<c;c--)f=this.getStartTime(a[c]),f>=b?h[h.length]={start:f,tween:a[c]}:k[k.length]={end:this.getEndTime(a[c]),tween:a[c]};h.sortOn("start",Array.NUMERIC);k.sortOn("end",Array.NUMERIC);for(c=h.length-1;-1<c;c--)l[c]=h[c].tween;for(c=k.length-1;-1<c;c--)l[l.length]=k[c].tween;return l};a.pauseTween=function(a){Laya.__typeof(a,c._TweenMax)&&(a.pauseTime=this._pauseTime);a.startTime=999999999999999;a.enabled=!1};a.resumeTween=function(a){Laya.__typeof(a,c._TweenMax)&&(a.pauseTime=NaN);a.startTime=a.initTime+1E3/a.combinedTimeScale*a.delay};a.getEndTime=function(a){return a.initTime+1E3/a.combinedTimeScale*(a.delay+a.duration)};a.getStartTime=function(a){return a.initTime+1E3*a.delay/a.combinedTimeScale};a.setTweenInitTime=function(a,b){var c=b-a.initTime;a.initTime=b;999999999999999!=a.startTime&&(a.startTime+=c)};a.setTweenStartTime=function(a,b){var c=b-this.getStartTime(a);a.initTime+=c;999999999999999!=a.startTime&&(a.startTime=b)};a.getProgress=function(a){void 0===a&&(a=!1);if(0==this._tweens.length)return 0;var b=isNaN(this._pauseTime)?TweenLite.currentTime:this._pauseTime;a=a?this._initTime:this._startTime;b=(b-a)/(this.endTime-a);return 0>b?0:1<b?1:b};a.setProgress=function(a,b){void 0===b&&(b=!1);if(0!=this._tweens.length){var c=isNaN(this._pauseTime)?TweenLite.currentTime:this._pauseTime,f=b?this._initTime:this._startTime;this.offsetTime(this._tweens,(c-(f+(this.endTime-f)*a))/1E3)}};a.handleCompletion=function(){!isNaN(this.yoyo)&&(this._repeatCount<this.yoyo||0==this.yoyo)?(this._repeatCount++,this.reverse(!0)):!isNaN(this.loop)&&(this._repeatCount<this.loop||0==this.loop)&&(this._repeatCount++,this.setProgress(0,!0));null!=this.onComplete&&this.onComplete.apply(null,this.onCompleteParams);this._dispatcher.dispatchEvent(new Event("complete"))};__getset(0,a,"length",function(){return this._tweens.length});__getset(0,a,"align",function(){return this._align},function(a){this._align=a;this.realign()});__getset(0,a,"progress",function(){return this.getProgress(!1)},function(a){this.setProgress(a,!1)});__getset(0,a,"durationWithDelay",function(){return 0==this._tweens.length?0:(this.endTime-this._initTime)/1E3});__getset(0,a,"progressWithDelay",function(){return this.getProgress(!0)},function(a){this.setProgress(a,!0)});__getset(0,a,"timeScale",function(){for(var a=0;a<this._tweens.length;a++)if(Laya.__typeof(this._tweens[a],c._TweenMax))return this._tweens[a].timeScale;return 1},function(a){for(var b=this._tweens.length-1;-1<b;b--)Laya.__typeof(this._tweens[b],c._TweenMax)&&(this._tweens[b].timeScale=a);this.updateTimeSpan()});__getset(0,a,"duration",function(){return 0==this._tweens.length?0:(this.endTime-this._startTime)/1E3});__getset(0,a,"paused",function(){return!isNaN(this._pauseTime)},function(a){a?this.pause():this.resume()});__getset(0,a,"reversed",function(){return this._reversed},function(a){this._reversed!=a&&this.reverse(!0)});__getset(0,a,"stagger",function(){return this._stagger},function(a){this._stagger=a;this.realign()});__getset(0,a,"tweens",function(){return this._tweens.slice()});c.parse=function(a,b){null==b&&(b=TweenLite);for(var c=[],f=0,h,k=NaN,f=0;f<a.length;f++)a[f]instanceof gs.TweenLite?c[c.length]=a[f]:(h=a[f].target,k=a[f].time,delete a[f].target,delete a[f].time,c[c.length]=new b(h,k,a[f]));return c};c.allTo=function(a,b,e,f){null==f&&(f=TweenLite);var h=0,k,l,m=new c(null,f,"init",e.stagger||0);m.onComplete=e.onCompleteAll;m.onCompleteParams=e.onCompleteAllParams;delete e.stagger;delete e.onCompleteAll;delete e.onCompleteAllParams;for(h=0;h<a.length;h++){k={};for(l in e)k[l]=e[l];m[m.length]=new f(a[h],b,k)}0>m.stagger&&(m.progressWithDelay=0);return m};c.allFrom=function(a,b,e,f){e.runBackwards=!0;return c.allTo(a,b,e,f)};c.checkExpiration=function(a){a=TweenLite.currentTime;for(var b=c._unexpired,e,f=0,f=b.length-1;-1<f;f--)e=b[f],e.endTime>c._prevTime&&e.endTime<=a&&!e.paused&&(b.splice(f,1),e.expired=!0,e.handleCompletion());c._prevTime=a};c.version=1.02;c.ALIGN_INIT="init";c.ALIGN_START="start";c.ALIGN_END="end";c.ALIGN_SEQUENCE="sequence";c.ALIGN_NONE="none";c._TweenMax=null;c._classInitted=!1;c._unexpired=[];c._prevTime=0;__static(c,["_overwriteMode",function(){return this._overwriteMode=OverwriteManager.enabled?OverwriteManager.mode:OverwriteManager.init()}]);c.__init$=function(){iflash.utils.flash_proxy;iflash.utils.flash_proxy;iflash.utils.flash_proxy;iflash.utils.flash_proxy;b=function(){function a(b){this._tween=null;this._tween=b}__class(a,"",!0);a.prototype.reverseEase=function(a,b,c,d){return this._tween.vars.ease(d-a,b,c,d)};return a}()};return c}(Proxy),AutoAlphaPlugin=function(a){function c(){this._visible=this._tweenVisible=!1;this._target=this._tween=null;c.__super.call(this);this.propName="autoAlpha";this.overwriteProps=["alpha","visible"];this.onComplete=this.onCompleteTween}__class(c,"gs.plugins.AutoAlphaPlugin",!1,a);var b=c.prototype;b.onInitTween=function(a,b,c){this._target=a;this._tween=c;this._visible=0!=b;this._tweenVisible=!0;this.addTween(a,"alpha",a.alpha,b,"alpha");return!0};b.killProps=function(b){a.prototype.killProps.call(this,b);this._tweenVisible=!("visible"in b)};b.onCompleteTween=function(){this._tweenVisible&&1!=this._tween.vars.runBackwards&&this._tween.ease==this._tween.vars.ease&&(this._target.visible=this._visible)};__getset(0,b,"changeFactor",a.prototype._$get_changeFactor,function(a){this.updateTweens(a);1!=this._target.visible&&this._tweenVisible&&(this._target.visible=!0)});c.VERSION=1;c.API=1;return c}(TweenPlugin),FilterPlugin=function(a){function c(){this._filter=this._type=this._target=null;this._index=0;this._remove=!1;c.__super.call(this)}__class(c,"gs.plugins.FilterPlugin",!1,a);var b=c.prototype;b.initFilter=function(a,b){var c=this._target.filters,f,h=0;this._index=-1;if(null!=a.index)this._index=a.index;else for(h=c.length-1;-1<h;h--)if(Laya.__typeof(c[h],this._type)){this._index=h;break}if(-1==this._index||null==c[this._index]||1==a.addFilter)this._index=null!=a.index?a.index:c.length,c[this._index]=b,this._target.filters=c;this._filter=c[this._index];if(this._remove=1==a.remove)this.onComplete=this.onCompleteTween;h=1==a.isTV?a.exposedVars:a;for(f in h)f in this._filter&&this._filter[f]!=h[f]&&"remove"!=f&&"index"!=f&&"addFilter"!=f&&("color"==f||"highlightColor"==f||"shadowColor"==f?(c=new HexColorsPlugin,c.initColor(this._filter,f,this._filter[f],h[f]),this._tweens[this._tweens.length]=new TweenInfo(c,"changeFactor",0,1,f,!1)):"quality"==f||"inner"==f||"knockout"==f||"hideObject"==f?this._filter[f]=h[f]:this.addTween(this._filter,f,this._filter[f],h[f],f))};b.onCompleteTween=function(){if(this._remove){var a=0,b=this._target.filters;if(Laya.__typeof(b[this._index],this._type))b.splice(this._index,1);else for(a=b.length-1;-1<a;a--)if(Laya.__typeof(b[a],this._type)){b.splice(a,1);break}this._target.filters=b}};__getset(0,b,"changeFactor",a.prototype._$get_changeFactor,function(a){for(var b=0,c,f=this._target.filters,b=this._tweens.length-1;-1<b;b--)c=this._tweens[b],c.target[c.property]=c.start+c.change*a;if(!Laya.__typeof(f[this._index],this._type))for(this._index=f.length-1,b=f.length-1;-1<b;b--)if(Laya.__typeof(f[b],this._type)){this._index=b;break}f[this._index]=this._filter;this._target.filters=f});c.VERSION=1.03;c.API=1;return c}(TweenPlugin),BezierPlugin=function(a){function c(){this._orientData=this._target=null;this._orient=!1;this._future={};this._beziers=null;c.__super.call(this);this.propName="bezier";this.overwriteProps=[]}__class(c,"gs.plugins.BezierPlugin",!1,a);var b=c.prototype;b.onInitTween=function(a,b,c){if(!(b instanceof Array))return!1;this.init(c,b,!1);return!0};b.init=function(a,b,e){this._target=a.target;1==a.exposedVars.orientToBezier?(this._orientData=[["x","y","rotation",0]],this._orient=!0):a.exposedVars.orientToBezier instanceof Array&&(this._orientData=a.exposedVars.orientToBezier,this._orient=!0);for(var f={},h=0,k,h=0;h<b.length;h++)for(k in b[h])void 0==f[k]&&(f[k]=[a.target[k]]),"number"==typeof b[h][k]?f[k].push(b[h][k]):f[k].push(a.target[k]+Number(b[h][k]));for(k in f)if(this.overwriteProps[this.overwriteProps.length]=k,void 0!=a.exposedVars[k])for("number"==typeof a.exposedVars[k]?f[k].push(a.exposedVars[k]):f[k].push(a.target[k]+Number(a.exposedVars[k])),delete a.exposedVars[k],h=a.tweens.length-1;-1<h;h--)a.tweens[h].name==k&&a.tweens.splice(h,1);this._beziers=c.parseBeziers(f,e)};b.killProps=function(b){for(var c in this._beziers)c in b&&delete this._beziers[c];a.prototype.killProps.call(this,b)};__getset(0,b,"changeFactor",a.prototype._$get_changeFactor,function(a){var b=0,e,f=NaN,f=0,b=NaN,f=0;if(1==a)for(e in this._beziers)b=this._beziers[e].length-1,this._target[e]=this._beziers[e][b][2];else for(e in this._beziers)f=this._beziers[e].length,b=0>a?0:1<=a?f-1:int(f*a),f*=a-1/f*b,b=this._beziers[e][b],this.round?(b=b[0]+f*(2*(1-f)*(b[1]-b[0])+f*(b[2]-b[0])),f=0>b?-1:1,this._target[e]=.5<b%1*f?int(b)+f:int(b)):this._target[e]=b[0]+f*(2*(1-f)*(b[1]-b[0])+f*(b[2]-b[0]));if(this._orient){b=this._target;e=this.round;this._target=this._future;this._orient=this.round=!1;this.changeFactor=a+.01;this._target=b;this.round=e;this._orient=!0;for(var h=e=a=NaN,b=0;b<this._orientData.length;b++)f=this._orientData[b],h=f[3]||0,a=this._future[f[0]]-this._target[f[0]],e=this._future[f[1]]-this._target[f[1]],this._target[f[2]]=Math.atan2(e,a)*c._RAD2DEG+h}});c.parseBeziers=function(a,b){void 0===b&&(b=!1);var c=0,f,h,k,l={};if(b)for(k in a)if(f=a[k],l[k]=h=[],2<f.length)for(h[h.length]=[f[0],f[1]-(f[2]-f[0])/4,f[1]],c=1;c<f.length-1;c++)h[h.length]=[f[c],f[c]+(f[c]-h[c-1][1]),f[c+1]];else h[h.length]=[f[0],(f[0]+f[1])/2,f[1]];else for(k in a)if(f=a[k],l[k]=h=[],3<f.length){h[h.length]=[f[0],f[1],(f[1]+f[2])/2];for(c=2;c<f.length-2;c++)h[h.length]=[h[c-2][2],f[c],(f[c]+f[c+1])/2];h[h.length]=[h[h.length-1][2],f[f.length-2],f[f.length-1]]}else 3==f.length?h[h.length]=[f[0],f[1],f[2]]:2==f.length&&(h[h.length]=[f[0],(f[0]+f[1])/2,f[1]]);return l};c.VERSION=1.01;c.API=1;__static(c,["_RAD2DEG",function(){return this._RAD2DEG=180/Math.PI}]);return c}(TweenPlugin),TintPlugin=function(a){function c(){this._ct=this._target=null;this._ignoreAlpha=!1;c.__super.call(this);this.propName="tint";this.overwriteProps=["tint"]}__class(c,"gs.plugins.TintPlugin",!1,a);var b=c.prototype;b.onInitTween=function(a,b,c){if(!(a instanceof iflash.display.DisplayObject))return!1;var f=new ColorTransform;null!=b&&1!=c.exposedVars.removeTint&&(f.color=uint(b));this._ignoreAlpha=!0;this.init(a,f);return!0};b.init=function(a,b){this._target=a;this._ct=this._target.transform.colorTransform;for(var e=0,f,e=c._props.length-1;-1<e;e--)f=c._props[e],this._ct[f]!=b[f]&&(this._tweens[this._tweens.length]=new TweenInfo(this._ct,f,this._ct[f],b[f]-this._ct[f],"tint",!1))};__getset(0,b,"changeFactor",a.prototype._$get_changeFactor,function(a){this.updateTweens(a);this._ignoreAlpha&&(a=this._target.transform.colorTransform,this._ct.alphaMultiplier=a.alphaMultiplier,this._ct.alphaOffset=a.alphaOffset);this._target.transform.colorTransform=this._ct});c.VERSION=1.1;c.API=1;__static(c,["_props",function(){return this._props="redMultiplier greenMultiplier blueMultiplier alphaMultiplier redOffset greenOffset blueOffset alphaOffset".split(" ")}]);return c}(TweenPlugin),EndArrayPlugin=function(a){function c(){this._a=null;this._info=[];c.__super.call(this);this.propName="endArray";this.overwriteProps=["endArray"]}__class(c,"gs.plugins.EndArrayPlugin",!1,a);var b=c.prototype;b.onInitTween=function(a,b,c){if(!(a instanceof Array&&b instanceof Array))return!1;this.init(a,b);return!0};b.init=function(a,b){this._a=a;for(var c=b.length-1;-1<c;c--)a[c]!=b[c]&&null!=a[c]&&(this._info[this._info.length]=new ArrayTweenInfo(c,this._a[c],b[c]-this._a[c]))};__getset(0,b,"changeFactor",a.prototype._$get_changeFactor,function(a){var b=0,c;if(this.round)for(var f=NaN,h=0,b=this._info.length-1;-1<b;b--)c=this._info[b],f=c.start+c.change*a,h=0>f?-1:1,this._a[c.index]=.5<f%1*h?int(f)+h:int(f);else for(b=this._info.length-1;-1<b;b--)c=this._info[b],this._a[c.index]=c.start+c.change*a});c.VERSION=1.01;c.API=1;return c}(TweenPlugin),FastTransformPlugin=function(a){function c(){this._target=null;this.xStart=NaN;this.xChange=0;this.yStart=NaN;this.yChange=0;this.widthStart=NaN;this.widthChange=0;this.heightStart=NaN;this.heightChange=0;this.scaleXStart=NaN;this.scaleXChange=0;this.scaleYStart=NaN;this.scaleYChange=0;this.rotationStart=NaN;this.rotationChange=0;c.__super.call(this);this.propName="fastTransform";this.overwriteProps=[]}__class(c,"gs.plugins.FastTransformPlugin",!1,a);var b=c.prototype;b.onInitTween=function(a,b,c){this._target=a;"x"in b&&(this.xStart=this._target.x,this.xChange="number"==typeof b.x?b.x-this._target.x:Number(b.x),this.overwriteProps[this.overwriteProps.length]="x");"y"in b&&(this.yStart=this._target.y,this.yChange="number"==typeof b.y?b.y-this._target.y:Number(b.y),this.overwriteProps[this.overwriteProps.length]="y");"width"in b&&(this.widthStart=this._target.width,this.widthChange="number"==typeof b.width?b.width-this._target.width:Number(b.width),this.overwriteProps[this.overwriteProps.length]="width");"height"in b&&(this.heightStart=this._target.height,this.heightChange="number"==typeof b.height?b.height-this._target.height:Number(b.height),this.overwriteProps[this.overwriteProps.length]="height");"scaleX"in b&&(this.scaleXStart=this._target.scaleX,this.scaleXChange="number"==typeof b.scaleX?b.scaleX-this._target.scaleX:Number(b.scaleX),this.overwriteProps[this.overwriteProps.length]="scaleX");"scaleY"in b&&(this.scaleYStart=this._target.scaleY,this.scaleYChange="number"==typeof b.scaleY?b.scaleY-this._target.scaleY:Number(b.scaleY),this.overwriteProps[this.overwriteProps.length]="scaleY");"rotation"in b&&(this.rotationStart=this._target.rotation,this.rotationChange="number"==typeof b.rotation?b.rotation-this._target.rotation:Number(b.rotation),this.overwriteProps[this.overwriteProps.length]="rotation");return!0};b.killProps=function(b){for(var c in b)c+"Change"in this&&!isNaN(this[c+"Change"])&&(this[c+"Change"]=0);a.prototype.killProps.call(this,b)};__getset(0,b,"changeFactor",a.prototype._$get_changeFactor,function(a){0!=this.xChange&&(this._target.x=this.xStart+a*this.xChange);0!=this.yChange&&(this._target.y=this.yStart+a*this.yChange);0!=this.widthChange&&(this._target.width=this.widthStart+a*this.widthChange);0!=this.heightChange&&(this._target.height=this.heightStart+a*this.heightChange);0!=this.scaleXChange&&(this._target.scaleX=this.scaleXStart+a*this.scaleXChange);0!=this.scaleYChange&&(this._target.scaleY=this.scaleYStart+a*this.scaleYChange);0!=this.rotationChange&&(this._target.rotation=this.rotationStart+a*this.rotationChange)});c.VERSION=1.02;c.API=1;return c}(TweenPlugin),FramePlugin=function(a){function c(){this.frame=0;this._target=null;c.__super.call(this);this.propName="frame";this.overwriteProps=["frame"];this.round=!0}__class(c,"gs.plugins.FramePlugin",!1,a);var b=c.prototype;b.onInitTween=function(a,b,c){if(!(a instanceof iflash.display.MovieClip)||isNaN(b))return!1;this._target=a;this.frame=this._target.currentFrame;this.addTween(this,"frame",this.frame,b,"frame");return!0};__getset(0,b,"changeFactor",a.prototype._$get_changeFactor,function(a){this.updateTweens(a);this._target.gotoAndStop(this.frame)});c.VERSION=1.01;c.API=1;return c}(TweenPlugin),HexColorsPlugin=function(a){function c(){this._colors=null;c.__super.call(this);this.propName="hexColors";this.overwriteProps=[];this._colors=[]}__class(c,"gs.plugins.HexColorsPlugin",!1,a);var b=c.prototype;b.onInitTween=function(a,b,c){for(var f in b)this.initColor(a,f,uint(a[f]),uint(b[f]));return!0};b.initColor=function(a,b,c,f){if(c!=f){var h=c>>16,k=c>>8&255;c&=255;this._colors[this._colors.length]=[a,b,h,(f>>16)-h,k,(f>>8&255)-k,c,(f&255)-c];this.overwriteProps[this.overwriteProps.length]=b}};b.killProps=function(b){for(var c=this._colors.length-1;-1<c;c--)void 0!=b[this._colors[c][1]]&&this._colors.splice(c,1);a.prototype.killProps.call(this,b)};__getset(0,b,"changeFactor",a.prototype._$get_changeFactor,function(a){for(var b=0,c,b=this._colors.length-1;-1<b;b--)c=this._colors[b],c[0][c[1]]=c[2]+a*c[3]<<16|c[4]+a*c[5]<<8|c[6]+a*c[7]});c.VERSION=1.01;c.API=1;return c}(TweenPlugin),QuaternionsPlugin=function(a){function c(){this._target=null;this._quaternions=[];c.__super.call(this);this.propName="quaternions";this.overwriteProps=[]}__class(c,"gs.plugins.QuaternionsPlugin",!1,a);var b=c.prototype;b.onInitTween=function(a,b,c){if(null==b)return!1;for(var f in b)this.initQuaternion(a[f],b[f],f);return!0};b.initQuaternion=function(a,b,c){var f=NaN,h=NaN,k=NaN,l=NaN,m=NaN,n=NaN,p=NaN,q=NaN,r=NaN,v=NaN,h=a.x,k=b.x,l=a.y,m=b.y,n=a.z,p=b.z,q=a.w,r=b.w,f=h*k+l*m+n*p+q*r;0>f&&(h*=-1,l*=-1,n*=-1,q*=-1,f*=-1);1E-6>f+1&&(m=-l,k=h,r=-q,p=n);v=Math.acos(f);this._quaternions[this._quaternions.length]=[a,c,h,k,l,m,n,p,q,r,f,v,1/Math.sin(v)];this.overwriteProps[this.overwriteProps.length]=c};b.killProps=function(b){for(var c=this._quaternions.length-1;-1<c;c--)void 0!=b[this._quaternions[c][1]]&&this._quaternions.splice(c,1);a.prototype.killProps.call(this,b)};__getset(0,b,"changeFactor",a.prototype._$get_changeFactor,function(a){for(var b=0,c,f=NaN,h=NaN,b=this._quaternions.length-1;-1<b;b--)c=this._quaternions[b],1E-6<c[10]+1?1E-6<=1-c[10]?(f=Math.sin(c[11]*(1-a))*c[12],h=Math.sin(c[11]*a)*c[12]):(f=1-a,h=a):(f=Math.sin(Math.PI*(.5-a)),h=Math.sin(Math.PI*a)),c[0].x=f*c[2]+h*c[3],c[0].y=f*c[4]+h*c[5],c[0].z=f*c[6]+h*c[7],c[0].w=f*c[8]+h*c[9]});c.VERSION=1;c.API=1;__static(c,["_RAD2DEG",function(){return this._RAD2DEG=180/Math.PI}]);return c}(TweenPlugin),RoundPropsPlugin=function(a){function c(){c.__super.call(this);this.propName="roundProps";this.overwriteProps=[];this.round=!0}__class(c,"gs.plugins.RoundPropsPlugin",!1,a);c.prototype.add=function(a,c,g,e){this.addTween(a,c,g,g+e,c);this.overwriteProps[this.overwriteProps.length]=c};c.VERSION=1;c.API=1;return c}(TweenPlugin),ScalePlugin=function(a){function c(){this._target=null;this._changeY=this._startY=this._changeX=this._startX=NaN;c.__super.call(this);this.propName="scale";this.overwriteProps=["scaleX","scaleY","width","height"]}__class(c,"gs.plugins.ScalePlugin",!1,a);var b=c.prototype;b.onInitTween=function(a,b,c){if(!a.hasOwnProperty("scaleX"))return!1;this._target=a;this._startX=this._target.scaleX;this._startY=this._target.scaleY;"number"==typeof b?(this._changeX=b-this._startX,this._changeY=b-this._startY):this._changeX=this._changeY=Number(b);return!0};b.killProps=function(a){for(var b=this.overwriteProps.length-1;-1<b;b--)if(this.overwriteProps[b]in a){this.overwriteProps=[];break}};__getset(0,b,"changeFactor",a.prototype._$get_changeFactor,function(a){this._target.scaleX=this._startX+a*this._changeX;this._target.scaleY=this._startY+a*this._changeY});c.VERSION=1.11;c.API=1;return c}(TweenPlugin),SetSizePlugin=function(a){function c(){this.height=this.width=NaN;this._target=null;this._hasSetSize=this._setHeight=this._setWidth=!1;c.__super.call(this);this.propName="setSize";this.overwriteProps=["setSize","width","height","scaleX","scaleY"];this.round=!0}__class(c,"gs.plugins.SetSizePlugin",!1,a);var b=c.prototype;b.onInitTween=function(a,b,c){this._target=a;this._hasSetSize="setSize"in this._target;"width"in b&&this._target.width!=b.width&&(this.addTween(this._hasSetSize?this:this._target,"width",this._target.width,b.width,"width"),this._setWidth=this._hasSetSize);"height"in b&&this._target.height!=b.height&&(this.addTween(this._hasSetSize?this:this._target,"height",this._target.height,b.height,"height"),this._setHeight=this._hasSetSize);return!0};b.killProps=function(b){a.prototype.killProps.call(this,b);if(0==this._tweens.length||"setSize"in b)this.overwriteProps=[]};__getset(0,b,"changeFactor",a.prototype._$get_changeFactor,function(a){this.updateTweens(a);this._hasSetSize&&this._target.setSize(this._setWidth?this.width:this._target.width,this._setHeight?this.height:this._target.height)});c.VERSION=1.01;c.API=1;return c}(TweenPlugin),ShortRotationPlugin=function(a){function c(){c.__super.call(this);this.propName="shortRotation";this.overwriteProps=[]}__class(c,"gs.plugins.ShortRotationPlugin",!1,a);a=c.prototype;a.onInitTween=function(a,c,g){if("number"==typeof c)return console.log("WARNING: You appear to be using the old shortRotation syntax. Instead of passing a number, please pass an object with properties that correspond to the rotations values For example, TweenMax.to(mc, 2, {shortRotation:{rotationX:-170, rotationY:25}})"),!1;for(var e in c)this.initRotation(a,e,a[e],c[e]);return!0};a.initRotation=function(a,c,g,e){e=(e-g)%360;e!=e%180&&(e=0>e?e+360:e-360);this.addTween(a,c,g,g+e,c);this.overwriteProps[this.overwriteProps.length]=c};c.VERSION=1;c.API=1;return c}(TweenPlugin),VisiblePlugin=function(a){function c(){this._tween=this._target=null;this._visible=!1;c.__super.call(this);this.propName="visible";this.overwriteProps=["visible"];this.onComplete=this.onCompleteTween}__class(c,"gs.plugins.VisiblePlugin",!1,a);var b=c.prototype;b.onInitTween=function(a,b,c){this._target=a;this._tween=c;this._visible=!!b;return!0};b.onCompleteTween=function(){1!=this._tween.vars.runBackwards&&this._tween.ease==this._tween.vars.ease&&(this._target.visible=this._visible)};__getset(0,b,"changeFactor",a.prototype._$get_changeFactor,function(a){1!=this._target.visible&&(this._target.visible=!0)});c.VERSION=1;c.API=1;return c}(TweenPlugin),VolumePlugin=function(a){function c(){this._st=this._target=null;c.__super.call(this);this.propName="volume";this.overwriteProps=["volume"]}__class(c,"gs.plugins.VolumePlugin",!1,a);var b=c.prototype;b.onInitTween=function(a,b,c){if(isNaN(b)||!a.hasOwnProperty("soundTransform"))return!1;this._target=a;this._st=this._target.soundTransform;this.addTween(this._st,"volume",this._st.volume,b,"volume");return!0};__getset(0,b,"changeFactor",a.prototype._$get_changeFactor,function(a){this.updateTweens(a);this._target.soundTransform=this._st});c.VERSION=1.01;c.API=1;return c}(TweenPlugin),TweenMax=function(a){function c(a,b,e){this._callbacks=this._dispatcher=null;this.pauseTime=this._timeScale=this._repeatCount=NaN;c.__super.call(this,a,b,e);1!=this.combinedTimeScale&&this.target instanceof gs.TweenMax?(this._timeScale=1,this.combinedTimeScale=c._globalTimeScale):(this._timeScale=this.combinedTimeScale,this.combinedTimeScale*=c._globalTimeScale);1!=this.combinedTimeScale&&0!=this.delay&&(this.startTime=this.initTime+1E3/this.combinedTimeScale*this.delay);if(null!=this.vars.onCompleteListener||null!=this.vars.onUpdateListener||null!=this.vars.onStartListener)this.initDispatcher(),0==b&&0==this.delay&&(this.onUpdateDispatcher(),this.onCompleteDispatcher());this._repeatCount=0;isNaN(this.vars.yoyo)&&isNaN(this.vars.loop)||(this.vars.persist=!0);0==this.delay&&null!=this.exposedVars.startAt&&(this.exposedVars.startAt.overwrite=0,new c(this.target,0,this.exposedVars.startAt))}__class(c,"gs.TweenMax",!1,a);var b=c.prototype;Laya.imps(b,{"gs.IEventDispatcher":!0});b.initTweenVals=function(){null!=this.exposedVars.startAt&&0!=this.delay&&(this.exposedVars.startAt.overwrite=0,new c(this.target,0,this.exposedVars.startAt));a.prototype.initTweenVals.call(this);if(this.exposedVars.roundProps instanceof Array&&null!=TweenLite.plugins.roundProps)for(var b=0,g=0,e,f,h=this.exposedVars.roundProps,k,l,b=h.length-1;-1<b;b--)for(e=h[b],g=this.tweens.length-1;-1<g;g--)l=this.tweens[g],l.name==e?l.isPlugin?l.target.round=!0:null==k?(k=new TweenLite.plugins.roundProps,k.add(l.target,e,l.start,l.change),this._hasPlugins=!0,this.tweens[g]=new TweenInfo(k,"changeFactor",0,1,e,!0)):(k.add(l.target,e,l.start,l.change),this.tweens.splice(g,1)):l.isPlugin&&"_MULTIPLE_"==l.name&&!l.target.round&&(f=" "+l.target.overwriteProps.join(" ")+" ",-1!=f.indexOf(" "+e+" ")&&(l.target.round=!0))};b.pause=function(){isNaN(this.pauseTime)&&(this.pauseTime=TweenLite.currentTime,this.startTime=999999999999999,this.enabled=!1,c._pausedTweens[this]=this)};b.resume=function(){this.enabled=!0;isNaN(this.pauseTime)||(this.initTime+=TweenLite.currentTime-this.pauseTime,this.startTime=this.initTime+1E3/this.combinedTimeScale*this.delay,this.pauseTime=NaN,!this.started&&TweenLite.currentTime>=this.startTime?this.activate():this.active=this.started,c._pausedTweens[this]=null,delete c._pausedTweens[this])};b.restart=function(a){void 0===a&&(a=!1);a?(this.initTime=TweenLite.currentTime,this.startTime=TweenLite.currentTime+1E3/this.combinedTimeScale*this.delay):(this.startTime=TweenLite.currentTime,this.initTime=TweenLite.currentTime-1E3/this.combinedTimeScale*this.delay);this._repeatCount=0;this.target!=this.vars.onComplete&&this.render(this.startTime);this.pauseTime=NaN;c._pausedTweens[this]=null;delete c._pausedTweens[this];this.enabled=!0};b.reverse=function(a,b){void 0===a&&(a=!0);void 0===b&&(b=!0);this.ease=this.vars.ease==this.ease?this.reverseEase:this.vars.ease;var c=this.progress;a&&0<c&&(this.startTime=TweenLite.currentTime-(1-c)*this.duration*1E3/this.combinedTimeScale,this.initTime=this.startTime-1E3/this.combinedTimeScale*this.delay);0!=b&&(1>c?this.resume():this.restart())};b.reverseEase=function(a,b,c,f){return this.vars.ease(f-a,b,c,f)};b.invalidate=function(a){void 0===a&&(a=!0);if(this.initted){var b=this.progress;a||0==b||(this.progress=0);this.tweens=[];this._hasPlugins=!1;this.exposedVars=1==this.vars.isTV?this.vars.exposedProps:this.vars;this.initTweenVals();this._timeScale=this.vars.timeScale||1;this.combinedTimeScale=this._timeScale*c._globalTimeScale;this.delay=this.vars.delay||0;isNaN(this.pauseTime)&&(this.startTime=this.initTime+1E3*this.delay/this.combinedTimeScale);if(null!=this.vars.onCompleteListener||null!=this.vars.onUpdateListener||null!=this.vars.onStartListener)null!=this._dispatcher&&(this.vars.onStart=this._callbacks.onStart,this.vars.onUpdate=this._callbacks.onUpdate,this.vars.onComplete=this._callbacks.onComplete,this._dispatcher=null),this.initDispatcher();0!=b&&(a?this.adjustStartValues():this.progress=b)}};b.setDestination=function(a,b,c){void 0===c&&(c=!0);var f=this.progress,h=0,k;if(this.initted){if(!c)for(h=this.tweens.length-1;-1<h;h--)k=this.tweens[h],k.name==a&&(k.target[k.property]=k.start);h=this.vars;k=this.exposedVars;var l=this.tweens,m=this._hasPlugins;this.tweens=[];this.vars=this.exposedVars={};this.vars[a]=b;this.initTweenVals();this.ease!=this.reverseEase&&"function"==typeof h.ease&&(this.ease=h.ease);c&&0!=f&&this.adjustStartValues();c=this.tweens;this.vars=h;this.exposedVars=k;this.tweens=l;f={};f[a]=!0;for(h=this.tweens.length-1;-1<h;h--)k=this.tweens[h],k.name==a?this.tweens.splice(h,1):k.isPlugin&&"_MULTIPLE_"==k.name&&(k.target.killProps(f),0==k.target.overwriteProps.length&&this.tweens.splice(h,1));this.tweens=this.tweens.concat(c);this._hasPlugins=!(!m&&!this._hasPlugins)}this.vars[a]=this.exposedVars[a]=b};b.adjustStartValues=function(){var a=this.progress;if(0!=a)for(var a=this.ease(a,0,1,1),b=1/(1-a),c=NaN,f,h=0,h=this.tweens.length-1;-1<h;h--)f=this.tweens[h],c=f.start+f.change,f.change=f.isPlugin?(c-a)*b:(c-f.target[f.property])*b,f.start=c-f.change};b.killProperties=function(a){for(var b={},c=0,c=a.length-1;-1<c;c--)b[a[c]]=!0;this.killVars(b)};b.render=function(a){a=.001*(a-this.startTime)*this.combinedTimeScale;var b=NaN,c,f=0;a>=this.duration?(a=this.duration,b=this.ease==this.vars.ease||.001==this.duration?1:0):b=this.ease(a,0,1,this.duration);for(f=this.tweens.length-1;-1<f;f--)c=this.tweens[f],c.target[c.property]=c.start+b*c.change;this._hasUpdate&&this.vars.onUpdate.apply(null,this.vars.onUpdateParams);a==this.duration&&this.complete(!0)};b.complete=function(b){void 0===b&&(b=!1);!isNaN(this.vars.yoyo)&&(this._repeatCount<this.vars.yoyo||0==this.vars.yoyo)||!isNaN(this.vars.loop)&&(this._repeatCount<this.vars.loop||0==this.vars.loop)?(this._repeatCount++,isNaN(this.vars.yoyo)||(this.ease=this.vars.ease==this.ease?this.reverseEase:this.vars.ease),this.startTime=b?this.startTime+1E3/this.combinedTimeScale*this.duration:TweenLite.currentTime,this.initTime=this.startTime-1E3/this.combinedTimeScale*this.delay):1==this.vars.persist&&this.pause();a.prototype.complete.call(this,b)};b.initDispatcher=function(){if(null==this._dispatcher){this._dispatcher=new EventDispatcher(this);this._callbacks={onStart:this.vars.onStart,onUpdate:this.vars.onUpdate,onComplete:this.vars.onComplete};if(1==this.vars.isTV)this.vars=this.vars.clone();else{var a={},b;for(b in this.vars)a[b]=this.vars[b];this.vars=a}this.vars.onStart=this.onStartDispatcher;this.vars.onComplete=this.onCompleteDispatcher;"function"==typeof this.vars.onStartListener&&this._dispatcher.addEventListener("start",this.vars.onStartListener,!1,0,!0);"function"==typeof this.vars.onUpdateListener&&(this._dispatcher.addEventListener("update",this.vars.onUpdateListener,!1,0,!0),this.vars.onUpdate=this.onUpdateDispatcher,this._hasUpdate=!0);"function"==typeof this.vars.onCompleteListener&&this._dispatcher.addEventListener("complete",this.vars.onCompleteListener,!1,0,!0)}};b.onStartDispatcher=function(a){null!=this._callbacks.onStart&&this._callbacks.onStart.apply(null,this.vars.onStartParams);this._dispatcher.dispatchEvent(new TweenEvent("start"))};b.onUpdateDispatcher=function(a){null!=this._callbacks.onUpdate&&this._callbacks.onUpdate.apply(null,this.vars.onUpdateParams);this._dispatcher.dispatchEvent(new TweenEvent("update"))};b.onCompleteDispatcher=function(a){null!=this._callbacks.onComplete&&this._callbacks.onComplete.apply(null,this.vars.onCompleteParams);this._dispatcher.dispatchEvent(new TweenEvent("complete"))};b.addEventListener=function(a,b,c,f,h){void 0===c&&(c=!1);void 0===f&&(f=0);void 0===h&&(h=!1);null==this._dispatcher&&this.initDispatcher();"update"==a&&this.vars.onUpdate!=this.onUpdateDispatcher&&(this.vars.onUpdate=this.onUpdateDispatcher,this._hasUpdate=!0);this._dispatcher.addEventListener(a,b,c,f,h)};b.removeEventListener=function(a,b,c){void 0===c&&(c=!1);null!=this._dispatcher&&this._dispatcher.removeEventListener(a,b,c)};b.hasEventListener=function(a){return null==this._dispatcher?!1:this._dispatcher.hasEventListener(a)};b.willTrigger=function(a){return null==this._dispatcher?!1:this._dispatcher.willTrigger(a)};b.dispatchEvent=function(a){return null==this._dispatcher?!1:this._dispatcher.dispatchEvent(a)};__getset(0,b,"paused",function(){return!isNaN(this.pauseTime)},function(a){a?this.pause():this.resume()});__getset(0,b,"reversed",function(){return this.ease==this.reverseEase},function(a){this.reversed!=a&&this.reverse()});__getset(0,b,"enabled",a.prototype._$get_enabled,function(b){b||(c._pausedTweens[this]=null,delete c._pausedTweens[this]);a.prototype._$set_enabled.call(this,b);b&&(this.combinedTimeScale=this._timeScale*c._globalTimeScale)});__getset(0,b,"timeScale",function(){return this._timeScale},function(a){1E-5>a?a=this._timeScale=1E-5:(this._timeScale=a,a*=c._globalTimeScale);this.initTime=TweenLite.currentTime-1/a*this.combinedTimeScale*(TweenLite.currentTime-this.initTime-1E3/this.combinedTimeScale*this.delay)-1E3/a*this.delay;999999999999999!=this.startTime&&(this.startTime=this.initTime+1E3/a*this.delay);this.combinedTimeScale=a});__getset(0,b,"progress",function(){var a=(.001*((isNaN(this.pauseTime)?TweenLite.currentTime:this.pauseTime)-this.initTime)-this.delay/this.combinedTimeScale)/this.duration*this.combinedTimeScale;return 1<a?1:0>a?0:a},function(a){this.startTime=TweenLite.currentTime-this.duration*a*1E3;this.initTime=this.startTime-1E3/this.combinedTimeScale*this.delay;this.started||this.activate();this.render(TweenLite.currentTime);isNaN(this.pauseTime)||(this.pauseTime=TweenLite.currentTime,this.startTime=999999999999999,this.active=!1)});__getset(1,c,"globalTimeScale",function(){return c._globalTimeScale},function(a){c.setGlobalTimeScale(a)});c.to=function(a,b,e){return new c(a,b,e)};c.from=function(a,b,e){e.runBackwards=!0;return new c(a,b,e)};c.delayedCall=function(a,b,e,f){void 0===f&&(f=!1);return new c(b,0,{delay:a,onComplete:b,onCompleteParams:e,persist:f,overwrite:0})};c.setGlobalTimeScale=function(a){1E-5>a&&(a=1E-5);var b=TweenLite.masterList,e=0;c._globalTimeScale=a;for(var f in b)for(a=b[f],e=a.length-1;-1<e;e--)a[e]instanceof gs.TweenMax&&(a[e].timeScale*=1)};c.getTweensOf=function(a){var b=TweenLite.masterList[a],e=[];if(null!=b)for(var f=b.length-1;-1<f;f--)b[f].gc||(e[e.length]=b[f]);for(var h in c._pausedTweens)b=c._pausedTweens[h],b.target==a&&(e[e.length]=b);return e};c.isTweening=function(a){a=c.getTweensOf(a);for(var b=a.length-1;-1<b;b--)if((a[b].active||a[b].startTime==TweenLite.currentTime)&&!a[b].gc)return!0;return!1};c.getAllTweens=function(){var a=TweenLite.masterList,b=[],e,f=0,h;for(h in a)for(e=a[h],f=e.length-1;-1<f;f--)e[f].gc||(b[b.length]=e[f]);for(var k in c._pausedTweens)a=c._pausedTweens[k],b[b.length]=a;return b};c.killAllTweens=function(a){void 0===a&&(a=!1);c.killAll(a,!0,!1)};c.killAllDelayedCalls=function(a){void 0===a&&(a=!1);c.killAll(a,!1,!0)};c.killAll=function(a,b,e){void 0===a&&(a=!1);void 0===b&&(b=!0);void 0===e&&(e=!0);for(var f=c.getAllTweens(),h=!1,k=0,k=f.length-1;-1<k;k--)if(h=f[k].target==f[k].vars.onComplete,h==e||h!=b)a?(f[k].complete(!1),f[k].clear()):TweenLite.removeTween(f[k],!0)};c.pauseAll=function(a,b){void 0===a&&(a=!0);void 0===b&&(b=!1);c.changePause(!0,a,b)};c.resumeAll=function(a,b){void 0===a&&(a=!0);void 0===b&&(b=!1);c.changePause(!1,a,b)};c.changePause=function(a,b,e){void 0===b&&(b=!0);void 0===e&&(e=!1);for(var f=c.getAllTweens(),h=!1,k=f.length-1;-1<k;k--)h=f[k].target==f[k].vars.onComplete,f[k]instanceof gs.TweenMax&&(h==e||h!=b)&&(f[k].paused=a)};c.version=10.1;c._globalTimeScale=1;__static(c,["_activatedPlugins",function(){return this._activatedPlugins=TweenPlugin.activate([TintPlugin,RemoveTintPlugin,FramePlugin,AutoAlphaPlugin,VisiblePlugin,VolumePlugin,EndArrayPlugin,HexColorsPlugin,BlurFilterPlugin,ColorMatrixFilterPlugin,BevelFilterPlugin,DropShadowFilterPlugin,GlowFilterPlugin,RoundPropsPlugin,BezierPlugin,BezierThroughPlugin,ShortRotationPlugin])},"_overwriteMode",function(){return this._overwriteMode=OverwriteManager.enabled?OverwriteManager.mode:OverwriteManager.init()},"killTweensOf",function(){return this.killTweensOf=TweenLite.killTweensOf},"killDelayedCallsTo",function(){return this.killDelayedCallsTo=TweenLite.killTweensOf},"removeTween",function(){return this.removeTween=TweenLite.removeTween},"_pausedTweens",function(){return this._pausedTweens=new Dictionary(!1)}]);return c}(TweenLite),FilterVars=function(a){function c(a,d,g){this.remove=!1;this.index=0;this.addFilter=!1;void 0===a&&(a=!1);void 0===d&&(d=-1);void 0===g&&(g=!1);c.__super.call(this);this.remove=a;-1<d&&(this.index=d);this.addFilter=g}__class(c,"gs.utils.tween.FilterVars",!1,a);return c}(SubVars),ColorTransformVars=function(a){function c(a,d,g,e,f,h,k,l,m,n,p,q){void 0===a&&(a=NaN);void 0===d&&(d=NaN);void 0===g&&(g=NaN);void 0===e&&(e=NaN);void 0===f&&(f=NaN);void 0===h&&(h=NaN);void 0===k&&(k=NaN);void 0===l&&(l=NaN);void 0===m&&(m=NaN);void 0===n&&(n=NaN);void 0===p&&(p=NaN);void 0===q&&(q=NaN);c.__super.call(this);isNaN(a)||(this.tint=uint(a));isNaN(d)||(this.tintAmount=d);isNaN(g)||(this.exposure=g);isNaN(e)||(this.brightness=e);isNaN(f)||(this.redMultiplier=f);isNaN(h)||(this.greenMultiplier=h);isNaN(k)||(this.blueMultiplier=k);isNaN(l)||(this.alphaMultiplier=l);isNaN(m)||(this.redOffset=m);isNaN(n)||(this.greenOffset=n);isNaN(p)||(this.blueOffset=p);isNaN(q)||(this.alphaOffset=q)}__class(c,"gs.utils.tween.ColorTransformVars",!1,a);a=c.prototype;__getset(0,a,"alphaMultiplier",function(){return Number(this.exposedVars.alphaMultiplier)},function(a){this.exposedVars.alphaMultiplier=a});__getset(0,a,"tintAmount",function(){return Number(this.exposedVars.tintAmount)},function(a){this.exposedVars.tintAmount=a});__getset(0,a,"tint",function(){return Number(this.exposedVars.tint)},function(a){this.exposedVars.tint=a});__getset(0,a,"exposure",function(){return Number(this.exposedVars.exposure)},function(a){this.exposedVars.exposure=a});__getset(0,a,"brightness",function(){return Number(this.exposedVars.brightness)},function(a){this.exposedVars.brightness=a});__getset(0,a,"redMultiplier",function(){return Number(this.exposedVars.redMultiplier)},function(a){this.exposedVars.redMultiplier=a});__getset(0,a,"greenMultiplier",function(){return Number(this.exposedVars.greenMultiplier)},function(a){this.exposedVars.greenMultiplier=a});__getset(0,a,"blueMultiplier",function(){return Number(this.exposedVars.blueMultiplier)},function(a){this.exposedVars.blueMultiplier=a});__getset(0,a,"redOffset",function(){return Number(this.exposedVars.redOffset)},function(a){this.exposedVars.redOffset=a});__getset(0,a,"greenOffset",function(){return Number(this.exposedVars.greenOffset)},function(a){this.exposedVars.greenOffset=a});__getset(0,a,"blueOffset",function(){return Number(this.exposedVars.blueOffset)},function(a){this.exposedVars.blueOffset=a});__getset(0,a,"alphaOffset",function(){return Number(this.exposedVars.alphaOffset)},function(a){this.exposedVars.alphaOffset=a});c.createFromGeneric=function(a){return a instanceof gs.utils.tween.ColorTransformVars?a:new c(a.tint,a.tintAmount,a.exposure,a.brightness,a.redMultiplier,a.greenMultiplier,a.blueMultiplier,a.alphaMultiplier,a.redOffset,a.greenOffset,a.blueOffset,a.alphaOffset)};return c}(SubVars),TransformAroundPointVars=function(a){function c(a,d,g,e,f,h,k,l,m){void 0===d&&(d=NaN);void 0===g&&(g=NaN);void 0===e&&(e=NaN);void 0===f&&(f=NaN);void 0===h&&(h=NaN);void 0===l&&(l=NaN);void 0===m&&(m=NaN);c.__super.call(this);null!=a&&(this.point=a);isNaN(d)||(this.scaleX=d);isNaN(g)||(this.scaleY=g);isNaN(e)||(this.rotation=e);isNaN(f)||(this.width=f);isNaN(h)||(this.height=h);null!=k&&(this.shortRotation=k);isNaN(l)||(this.x=l);isNaN(m)||(this.y=m)}__class(c,"gs.utils.tween.TransformAroundPointVars",!1,a);a=c.prototype;__getset(0,a,"point",function(){return this.exposedVars.point},function(a){this.exposedVars.point=a});__getset(0,a,"rotation",function(){return Number(this.exposedVars.rotation)},function(a){this.exposedVars.rotation=a});__getset(0,a,"scaleY",function(){return Number(this.exposedVars.scaleY)},function(a){this.exposedVars.scaleY=a});__getset(0,a,"scaleX",function(){return Number(this.exposedVars.scaleX)},function(a){this.exposedVars.scaleX=a});__getset(0,a,"scale",function(){return Number(this.exposedVars.scale)},function(a){this.exposedVars.scale=a});__getset(0,a,"width",function(){return Number(this.exposedVars.width)},function(a){this.exposedVars.width=a});__getset(0,a,"height",function(){return Number(this.exposedVars.height)},function(a){this.exposedVars.height=a});__getset(0,a,"shortRotation",function(){return this.exposedVars.shortRotation},function(a){this.exposedVars.shortRotation=a});__getset(0,a,"x",function(){return Number(this.exposedVars.x)},function(a){this.exposedVars.x=a});__getset(0,a,"y",function(){return Number(this.exposedVars.y)},function(a){this.exposedVars.y=a});c.createFromGeneric=function(a){return a instanceof gs.utils.tween.TransformAroundPointVars?a:new c(a.point,a.scaleX,a.scaleY,a.rotation,a.width,a.height,a.shortRotation,a.x,a.y)};return c}(SubVars),TweenMaxVars=function(a){function c(a){this.onCompleteListener=this.onUpdateListener=this.onStartListener=null;this.loop=this.yoyo=NaN;this._roundProps=null;c.__super.call(this,a)}__class(c,"gs.utils.tween.TweenMaxVars",!1,a);var b=c.prototype;b.clone=function(){var a={protectedVars:{}};this.appendCloneVars(a,a.protectedVars);return new c(a)};b.appendCloneVars=function(b,c){a.prototype.appendCloneVars.call(this,b,c);for(var e="onStartListener onUpdateListener onCompleteListener onCompleteAllListener yoyo loop".split(" "),f=e.length-1;-1<f;f--)b[e[f]]=this[e[f]];c._roundProps=this._roundProps};__getset(0,b,"roundProps",function(){return this._roundProps},function(a){this._roundProps=this._exposedVars.roundProps=a});c.version=2.01;return c}(TweenLiteVars),SocketImpl=function(a){function c(){this.userID=0;this.ip=null;this.port=0;this.errorCallback=null;this._packageLen=this._result=0;this._headInfo=null;this._dataLen=0;this._isGetHead=!0;c.__super.call(this)}__class(c,"com.lilynumber1.net.SocketImpl",!1,a);var b=c.prototype;b.send=function(a,b){var e=new ByteArray,f,h;for(h in b)f=b[h],"string"==typeof f?e.writeUTFBytes(f):f instanceof iflash.utils.ByteArray?e.writeBytes(f):e.writeUnsignedInt(f);f=e.length+17;this.writeUnsignedInt(f);this.writeUTFBytes("1");this.writeUnsignedInt(a);this.writeUnsignedInt(this.userID);if(1E3<a){for(var k=h=0;k<e.length;k++)h^=e[k]&255;this._result=this._result-uint(this._result/7)+147+f%21+a%13+h;this.writeInt(this._result)}else this.writeInt(0);this.writeBytes(e);this.flush();this.sendDataError(a);console.log("\x3e\x3eSocket["+this.ip+":"+this.port.toString()+"][cmdID:"+a+"]",c.getCmdLabel(a),"[data length:"+e.length+"]");return this._result};b.connect=function(b,c){a.prototype.connect.call(this,b,c);this.ip=b;this.port=c;this._result=0;console.log("\u8fde\u63a5SOCKET\uff1a\uff1a\uff1a\uff1a",b,c);this.addEventListener("socketData",__bind(this,this.onData))};b.close=function(){this.removeEventListener("socketData",__bind(this,this.onData));this.connected&&a.prototype.close.call(this);this.ip="";this.port=-1;this._result=0};b.sendDataError=function(a){null!=this.errorCallback&&this.errorCallback(a,1)};b.readDataError=function(a){null!=this.errorCallback&&this.errorCallback(a,0)};b.addCmdListener=function(a,b){this.addEventListener("cmd_"+a.toString(),b)};b.removeCmdListener=function(a,b){this.removeEventListener("cmd_"+a.toString(),b)};b.dispatchCmd=function(a,b,c){return this.dispatchEvent(new SocketEvent("cmd_"+a.toString(),b,c))};b.hasCmdListener=function(a){return this.hasEventListener("cmd_"+a.toString())};b.addErrorListener=function(a,b){this.addEventListener("error_"+a.toString(),b)};b.removeErrorListener=function(a,b){this.removeEventListener("error_"+a.toString(),b)};b.dispatchError=function(a,b){return this.dispatchEvent(new SocketErrorEvent("error_"+a.toString(),b))};b.hasErrorListener=function(a){return this.hasEventListener("error_"+a.toString())};b.onData=function(a){for(console.log("socket onData handler....................");0<this.bytesAvailable;)if(this._isGetHead)if(17<=this.bytesAvailable){this._packageLen=this.readUnsignedInt();if(17>this._packageLen||8388608<this._packageLen){this.readDataError(0);this.dispatchEvent(new SocketErrorEvent("socketError",null));this.readBytes(new ByteArray);break}this._headInfo=new HeadInfo(this);1001==this._headInfo.cmdID&&(this._result=this._headInfo.result);console.log("\x3c\x3cSocket["+this.ip+":"+this.port.toString()+"][cmdID:"+this._headInfo.cmdID+"]",c.getCmdLabel(this._headInfo.cmdID));if(1E3<this._headInfo.result)if(this.readDataError(this._headInfo.cmdID),this.dispatchError(this._headInfo.cmdID,this._headInfo),this.dispatchEvent(new SocketErrorEvent("socketError",this._headInfo)),this.connected)continue;else break;this._dataLen=this._packageLen-17;if(0==this._dataLen){if(this.readDataError(this._headInfo.cmdID),this.dispatchCmd(this._headInfo.cmdID,this._headInfo,null),!this.connected)break}else this._isGetHead=!1}else break;else if(this.bytesAvailable>=this._dataLen){a=new ByteArray;this.readBytes(a,0,this._dataLen);var b=TMF.getClass(this._headInfo.cmdID);this._isGetHead=!0;this.readDataError(this._headInfo.cmdID);this.dispatchCmd(this._headInfo.cmdID,this._headInfo,new b(a));if(!this.connected)break}else break};c.addCmdLabel=function(a,b){c._cmdLabelMap[a]=b};c.getCmdLabel=function(a){return a in c._cmdLabelMap?c._cmdLabelMap[a]:"---"};c.cmdPrefix="cmd_";c.errorPrefix="error_";c.PACKAGE_MAX=8388608;c.VERSION="1";c.HEAD_LENGTH=17;__static(c,["_cmdLabelMap",function(){return this._cmdLabelMap=new Dictionary}]);return c}(Socket),TitleOnlyLoading=function(a){function c(a,b,e){this._titleText=null;void 0===b&&(b="Loading...");void 0===e&&(e=!1);c.__super.call(this,a,e);if(this._titleText=this._loadingBar.content_txt)this._titleText.autoSize="center",this._titleText.text=b}__class(c,"manager.loading.TitleOnlyLoading",!1,a);var b=c.prototype;Laya.imps(b,{"manager.loading.ILoading":!0});b.destroy=function(){this._titleText=null;a.prototype.destroy.call(this)};__getset(0,b,"title",null,function(a){this._titleText&&(this._titleText.text=a)});__getset(0,b,"key",function(){return"titleOnlyLoading"});c.KEY="titleOnlyLoading";return c}(BaseLoading),BevelFilterPlugin=function(a){function c(){c.__super.call(this);this.propName="bevelFilter";this.overwriteProps=["bevelFilter"]}__class(c,"gs.plugins.BevelFilterPlugin",!1,a);c.prototype.onInitTween=function(a,c,g){this._target=a;this._type=BevelFilter;this.initFilter(c,new BevelFilter(0,0,16777215,.5,0,.5,2,2,0,c.quality||2));return!0};c.VERSION=1;c.API=1;return c}(FilterPlugin),BlurFilterPlugin=function(a){function c(){c.__super.call(this);this.propName="blurFilter";this.overwriteProps=["blurFilter"]}__class(c,"gs.plugins.BlurFilterPlugin",!1,a);c.prototype.onInitTween=function(a,c,g){this._target=a;this._type=BlurFilter;this.initFilter(c,new BlurFilter(0,0,c.quality||2));return!0};c.VERSION=1;c.API=1;return c}(FilterPlugin),BezierThroughPlugin=function(a){function c(){c.__super.call(this);this.propName="bezierThrough"}__class(c,"gs.plugins.BezierThroughPlugin",!1,a);c.prototype.onInitTween=function(a,c,g){if(!(c instanceof Array))return!1;this.init(g,c,!0);return!0};c.VERSION=1;c.API=1;return c}(BezierPlugin),ColorMatrixFilterPlugin=function(a){function c(){this._matrixTween=this._matrix=null;c.__super.call(this);this.propName="colorMatrixFilter";this.overwriteProps=["colorMatrixFilter"]}__class(c,"gs.plugins.ColorMatrixFilterPlugin",!1,a);var b=c.prototype;b.onInitTween=function(a,b,e){this._target=a;this._type=ColorMatrixFilter;this.initFilter({remove:b.remove,index:b.index,addFilter:b.addFilter},new ColorMatrixFilter(c._idMatrix.slice()));this._matrix=this._filter.matrix;a=[];null!=b.matrix&&b.matrix instanceof Array?a=b.matrix:(a=1==b.relative?this._matrix.slice():c._idMatrix.slice(),a=c.setBrightness(a,b.brightness),a=c.setContrast(a,b.contrast),a=c.setHue(a,b.hue),a=c.setSaturation(a,b.saturation),a=c.setThreshold(a,b.threshold),isNaN(b.colorize)||(a=c.colorize(a,b.colorize,b.amount)));this._matrixTween=new EndArrayPlugin;this._matrixTween.init(this._matrix,a);return!0};__getset(0,b,"changeFactor",a.prototype._$get_changeFactor,function(b){this._matrixTween.changeFactor=b;this._filter.matrix=this._matrix;a.prototype._$set_changeFactor.call(this,b)});c.colorize=function(a,b,e){void 0===e&&(e=1);if(isNaN(b))return a;isNaN(e)&&(e=1);var f=(b>>16&255)/255,h=(b>>8&255)/255;b=(b&255)/255;var k=1-e;return c.applyMatrix([k+e*f*c._lumR,e*f*c._lumG,e*f*c._lumB,0,0,e*h*c._lumR,k+e*h*c._lumG,e*h*c._lumB,0,0,e*b*c._lumR,e*b*c._lumG,k+e*b*c._lumB,0,0,0,0,0,1,0],a)};c.setThreshold=function(a,b){return isNaN(b)?a:c.applyMatrix([256*c._lumR,256*c._lumG,256*c._lumB,0,-256*b,256*c._lumR,256*c._lumG,256*c._lumB,0,-256*b,256*c._lumR,256*c._lumG,256*c._lumB,0,-256*b,0,0,0,1,0],a)};c.setHue=function(a,b){if(isNaN(b))return a;b*=Math.PI/180;var e=Math.cos(b),f=Math.sin(b);return c.applyMatrix([c._lumR+e*(1-c._lumR)+f*-c._lumR,c._lumG+e*-c._lumG+f*-c._lumG,c._lumB+e*-c._lumB+f*(1-c._lumB),0,0,c._lumR+e*-c._lumR+.143*f,c._lumG+e*(1-c._lumG)+.14*f,c._lumB+e*-c._lumB+-.283*f,0,0,c._lumR+e*-c._lumR+f*-(1-c._lumR),c._lumG+e*-c._lumG+f*c._lumG,c._lumB+e*(1-c._lumB)+f*c._lumB,0,0,0,0,0,1,0,0,0,0,0,1],a)};c.setBrightness=function(a,b){if(isNaN(b))return a;b=100*b-100;return c.applyMatrix([1,0,0,0,b,0,1,0,0,b,0,0,1,0,b,0,0,0,1,0,0,0,0,0,1],a)};c.setSaturation=function(a,b){if(isNaN(b))return a;var e=1-b,f=e*c._lumR,h=e*c._lumG,e=e*c._lumB;return c.applyMatrix([f+b,h,e,0,0,f,h+b,e,0,0,f,h,e+b,0,0,0,0,0,1,0],a)};c.setContrast=function(a,b){if(isNaN(b))return a;b+=.01;return c.applyMatrix([b,0,0,0,128*(1-b),0,b,0,0,128*(1-b),0,0,b,0,128*(1-b),0,0,0,1,0],a)};c.applyMatrix=function(a,b){if(!(a instanceof Array&&b instanceof Array))return b;for(var c=[],f=0,h=0,k=0,l=0,k=0;4>k;k++){for(l=0;5>l;l++)h=4==l?a[f+4]:0,c[f+l]=a[f]*b[l]+a[f+1]*b[l+5]+a[f+2]*b[l+10]+a[f+3]*b[l+15]+h;f+=5}return c};c.VERSION=1.1;c.API=1;c._lumR=.212671;c._lumG=.71516;c._lumB=.072169;__static(c,["_idMatrix",function(){return this._idMatrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]}]);return c}(FilterPlugin),DropShadowFilterPlugin=function(a){function c(){c.__super.call(this);this.propName="dropShadowFilter";this.overwriteProps=["dropShadowFilter"]}__class(c,"gs.plugins.DropShadowFilterPlugin",!1,a);c.prototype.onInitTween=function(a,c,g){this._target=a;this._type=DropShadowFilter;this.initFilter(c,new DropShadowFilter(0,45,0,0,0,0,1,c.quality||2,c.inner,c.knockout,c.hideObject));return!0};c.VERSION=1;c.API=1;return c}(FilterPlugin),ColorTransformPlugin=function(a){function c(){c.__super.call(this);this.propName="colorTransform"}__class(c,"gs.plugins.ColorTransformPlugin",!1,a);c.prototype.onInitTween=function(a,c,g){if(!(a instanceof iflash.display.DisplayObject))return!1;var e=a.transform.colorTransform;1==c.isTV&&(c=c.exposedVars);for(var f in c)"tint"==f||"color"==f?null!=c[f]&&(e.color=int(c[f])):"tintAmount"!=f&&"exposure"!=f&&"brightness"!=f&&(e[f]=c[f]);isNaN(c.tintAmount)?isNaN(c.exposure)?isNaN(c.brightness)||(e.redOffset=e.greenOffset=e.blueOffset=Math.max(0,255*(c.brightness-1)),e.redMultiplier=e.greenMultiplier=e.blueMultiplier=1-Math.abs(c.brightness-1)):(e.redOffset=e.greenOffset=e.blueOffset=255*(c.exposure-1),e.redMultiplier=e.greenMultiplier=e.blueMultiplier=1):(f=c.tintAmount/(1-(e.redMultiplier+e.greenMultiplier+e.blueMultiplier)/3),e.redOffset*=f,e.greenOffset*=f,e.blueOffset*=f,e.redMultiplier=e.greenMultiplier=e.blueMultiplier=1-c.tintAmount);void 0!=g.exposedVars.alpha&&void 0==c.alphaMultiplier&&(e.alphaMultiplier=g.exposedVars.alpha,g.killVars({alpha:1}));this.init(a,e);return!0};c.VERSION=1.01;c.API=1;return c}(TintPlugin),GlowFilterPlugin=function(a){function c(){c.__super.call(this);this.propName="glowFilter";this.overwriteProps=["glowFilter"]}__class(c,"gs.plugins.GlowFilterPlugin",!1,a);c.prototype.onInitTween=function(a,c,g){this._target=a;this._type=GlowFilter;this.initFilter(c,new GlowFilter(16777215,0,0,0,c.strength||1,c.quality||2,c.inner,c.knockout));return!0};c.VERSION=1;c.API=1;return c}(FilterPlugin),RemoveTintPlugin=function(a){function c(){c.__super.call(this);this.propName="removeTint"}__class(c,"gs.plugins.RemoveTintPlugin",!1,a);c.VERSION=1.01;c.API=1;return c}(TintPlugin),FrameLabelPlugin=function(a){function c(){c.__super.call(this);this.propName="frameLabel"}__class(c,"gs.plugins.FrameLabelPlugin",!1,a);c.prototype.onInitTween=function(a,c,g){if(!(g.target instanceof iflash.display.MovieClip))return!1;this._target=a;this.frame=this._target.currentFrame;a=this._target.currentLabels;g=this._target.currentFrame;for(var e=0,e=a.length-1;-1<e;e--)if(a[e].name==c){g=a[e].frame;break}this.frame!=g&&this.addTween(this,"frame",this.frame,g,"frame");return!0};c.VERSION=1.01;c.API=1;return c}(FramePlugin),BevelFilterVars=function(a){function c(a,d,g,e,f,h,k,l,m,n,p,q,r){this._highlightAlpha=this._angle=this._strength=this._blurY=this._blurX=this._distance=NaN;this._highlightColor=0;this._shadowAlpha=NaN;this._quality=this._shadowColor=0;void 0===a&&(a=4);void 0===d&&(d=4);void 0===g&&(g=4);void 0===e&&(e=1);void 0===f&&(f=45);void 0===h&&(h=1);void 0===k&&(k=16777215);void 0===l&&(l=1);void 0===m&&(m=0);void 0===n&&(n=2);void 0===p&&(p=!1);void 0===q&&(q=-1);void 0===r&&(r=!1);c.__super.call(this,p,q,r);this.distance=a;this.blurX=d;this.blurY=g;this.strength=e;this.angle=f;this.highlightAlpha=h;this.highlightColor=k;this.shadowAlpha=l;this.shadowColor=m;this.quality=n}__class(c,"gs.utils.tween.BevelFilterVars",!1,a);a=c.prototype;__getset(0,a,"distance",function(){return this._distance},function(a){this._distance=this.exposedVars.distance=a});__getset(0,a,"blurX",function(){return this._blurX},function(a){this._blurX=this.exposedVars.blurX=a});__getset(0,a,"blurY",function(){return this._blurY},function(a){this._blurY=this.exposedVars.blurY=a});__getset(0,a,"highlightAlpha",function(){return this._highlightAlpha},function(a){this._highlightAlpha=this.exposedVars.highlightAlpha=a});__getset(0,a,"strength",function(){return this._strength},function(a){this._strength=this.exposedVars.strength=a});__getset(0,a,"angle",function(){return this._angle},function(a){this._angle=this.exposedVars.angle=a});__getset(0,a,"highlightColor",function(){return this._highlightColor},function(a){this._highlightColor=this.exposedVars.highlightColor=a});__getset(0,a,"shadowAlpha",function(){return this._shadowAlpha},function(a){this._shadowAlpha=this.exposedVars.shadowAlpha=a});__getset(0,a,"shadowColor",function(){return this._shadowColor},function(a){this._shadowColor=this.exposedVars.shadowColor=a});__getset(0,a,"quality",function(){return this._quality},function(a){this._quality=this.exposedVars.quality=a});c.createFromGeneric=function(a){return a instanceof gs.utils.tween.BevelFilterVars?a:new c(a.distance||0,a.blurX||0,a.blurY||0,null==a.strength?1:a.strength,null==a.angle?45:a.angle,null==a.highlightAlpha?1:a.highlightAlpha,null==a.highlightColor?16777215:a.highlightColor,null==a.shadowAlpha?1:a.shadowAlpha,null==a.shadowColor?16777215:a.shadowColor,a.quality||2,a.remove||!1,null==a.index?-1:a.index,a.addFilter||!1)};return c}(FilterVars),BlurFilterVars=function(a){function c(a,d,g,e,f,h){this._blurY=this._blurX=NaN;this._quality=0;void 0===a&&(a=10);void 0===d&&(d=10);void 0===g&&(g=2);void 0===e&&(e=!1);void 0===f&&(f=-1);void 0===h&&(h=!1);c.__super.call(this,e,f,h);this.blurX=a;this.blurY=d;this.quality=g}__class(c,"gs.utils.tween.BlurFilterVars",!1,a);a=c.prototype;__getset(0,a,"blurX",function(){return this._blurX},function(a){this._blurX=this.exposedVars.blurX=a});__getset(0,a,"blurY",function(){return this._blurY},function(a){this._blurY=this.exposedVars.blurY=a});__getset(0,a,"quality",function(){return this._quality},function(a){this._quality=this.exposedVars.quality=a});c.createFromGeneric=function(a){return a instanceof gs.utils.tween.BlurFilterVars?a:new c(a.blurX||0,a.blurY||0,a.quality||2,a.remove||!1,null==a.index?-1:a.index,a.addFilter||!1)};return c}(FilterVars),ColorMatrixFilterVars=function(a){function c(a,d,g,e,f,h,k,l,m,n){this.matrix=null;void 0===a&&(a=16777215);void 0===d&&(d=1);void 0===g&&(g=1);void 0===e&&(e=1);void 0===f&&(f=1);void 0===h&&(h=0);void 0===k&&(k=-1);void 0===l&&(l=!1);void 0===m&&(m=-1);void 0===n&&(n=!1);c.__super.call(this,l,m,n);this.matrix=c._ID_MATRIX.slice();1!=f&&this.setBrightness(f);1!=e&&this.setContrast(e);0!=h&&this.setHue(h);1!=g&&this.setSaturation(g);-1!=k&&this.setThreshold(k);16777215!=a&&this.setColorize(a,d)}__class(c,"gs.utils.tween.ColorMatrixFilterVars",!1,a);a=c.prototype;a.setBrightness=function(a){this.matrix=this.exposedVars.matrix=ColorMatrixFilterPlugin.setBrightness(this.matrix,a)};a.setContrast=function(a){this.matrix=this.exposedVars.matrix=ColorMatrixFilterPlugin.setContrast(this.matrix,a)};a.setHue=function(a){this.matrix=this.exposedVars.matrix=ColorMatrixFilterPlugin.setHue(this.matrix,a)};a.setSaturation=function(a){this.matrix=this.exposedVars.matrix=ColorMatrixFilterPlugin.setSaturation(this.matrix,a)};a.setThreshold=function(a){this.matrix=this.exposedVars.matrix=ColorMatrixFilterPlugin.setThreshold(this.matrix,a)};a.setColorize=function(a,c){void 0===c&&(c=1);this.matrix=this.exposedVars.matrix=ColorMatrixFilterPlugin.colorize(this.matrix,a,c)};c.createFromGeneric=function(a){var d;a instanceof gs.utils.tween.ColorMatrixFilterVars?d=a:null!=a.matrix?(d=new c,d.matrix=a.matrix):d=new c(a.colorize||16777215,null==a.amount?1:a.amount,null==a.saturation?1:a.saturation,null==a.contrast?1:a.contrast,null==a.brightness?1:a.brightness,a.hue||0,null==a.threshold?-1:a.threshold,a.remove||!1,null==a.index?-1:a.index,a.addFilter||!1);return d};c._lumR=.212671;c._lumG=.71516;c._lumB=.072169;__static(c,["_ID_MATRIX",function(){return this._ID_MATRIX=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]}]);return c}(FilterVars),DropShadowFilterVars=function(a){function c(a,d,g,e,f,h,k,l,m,n,p,q,r,v){this._angle=this._alpha=this._blurY=this._blurX=this._distance=NaN;this._color=0;this._strength=NaN;this._hideObject=this._knockout=this._inner=!1;this._quality=0;void 0===a&&(a=4);void 0===d&&(d=4);void 0===g&&(g=4);void 0===e&&(e=1);void 0===f&&(f=45);void 0===h&&(h=0);void 0===k&&(k=2);void 0===l&&(l=!1);void 0===m&&(m=!1);void 0===n&&(n=!1);void 0===p&&(p=2);void 0===q&&(q=!1);void 0===r&&(r=-1);void 0===v&&(v=!1);c.__super.call(this,q,r,v);this.distance=a;this.blurX=d;this.blurY=g;this.alpha=e;this.angle=f;this.color=h;this.strength=k;this.inner=l;this.knockout=m;this.hideObject=n;this.quality=p}__class(c,"gs.utils.tween.DropShadowFilterVars",!1,a);a=c.prototype;__getset(0,a,"distance",function(){return this._distance},function(a){this._distance=this.exposedVars.distance=a});__getset(0,a,"blurX",function(){return this._blurX},function(a){this._blurX=this.exposedVars.blurX=a});__getset(0,a,"blurY",function(){return this._blurY},function(a){this._blurY=this.exposedVars.blurY=a});__getset(0,a,"alpha",function(){return this._alpha},function(a){this._alpha=this.exposedVars.alpha=a});__getset(0,a,"angle",function(){return this._angle},function(a){this._angle=this.exposedVars.angle=a});__getset(0,a,"knockout",function(){return this._knockout},function(a){this._knockout=this.exposedVars.knockout=a});__getset(0,a,"color",function(){return this._color},function(a){this._color=this.exposedVars.color=a});__getset(0,a,"strength",function(){return this._strength},function(a){this._strength=this.exposedVars.strength=a});__getset(0,a,"inner",function(){return this._inner},function(a){this._inner=this.exposedVars.inner=a});__getset(0,a,"hideObject",function(){return this._hideObject},function(a){this._hideObject=this.exposedVars.hideObject=a});__getset(0,a,"quality",function(){return this._quality},function(a){this._quality=this.exposedVars.quality=a});c.createFromGeneric=function(a){return a instanceof gs.utils.tween.DropShadowFilterVars?a:new c(a.distance||0,a.blurX||0,a.blurY||0,a.alpha||0,null==a.angle?45:a.angle,null==a.color?0:a.color,null==a.strength?2:a.strength,!!a.inner,!!a.knockout,!!a.hideObject,a.quality||2,a.remove||!1,null==a.index?-1:a.index,a.addFilter)};return c}(FilterVars),GlowFilterVars=function(a){function c(a,d,g,e,f,h,k,l,m,n,p){this._blurY=this._blurX=NaN;this._color=0;this._strength=this._alpha=NaN;this._knockout=this._inner=!1;this._quality=0;void 0===a&&(a=10);void 0===d&&(d=10);void 0===g&&(g=16777215);void 0===e&&(e=1);void 0===f&&(f=2);void 0===h&&(h=!1);void 0===k&&(k=!1);void 0===l&&(l=2);void 0===m&&(m=!1);void 0===n&&(n=-1);void 0===p&&(p=!1);c.__super.call(this,m,n,p);this.blurX=a;this.blurY=d;this.color=g;this.alpha=e;this.strength=f;this.inner=h;this.knockout=k;this.quality=l}__class(c,"gs.utils.tween.GlowFilterVars",!1,a);a=c.prototype;__getset(0,a,"blurX",function(){return this._blurX},function(a){this._blurX=this.exposedVars.blurX=a});__getset(0,a,"blurY",function(){return this._blurY},function(a){this._blurY=this.exposedVars.blurY=a});__getset(0,a,"color",function(){return this._color},function(a){this._color=this.exposedVars.color=a});__getset(0,a,"alpha",function(){return this._alpha},function(a){this._alpha=this.exposedVars.alpha=a});__getset(0,a,"knockout",function(){return this._knockout},function(a){this._knockout=this.exposedVars.knockout=a});__getset(0,a,"strength",function(){return this._strength},function(a){this._strength=this.exposedVars.strength=a});__getset(0,a,"inner",function(){return this._inner},function(a){this._inner=this.exposedVars.inner=a});__getset(0,a,"quality",function(){return this._quality},function(a){this._quality=this.exposedVars.quality=a});c.createFromGeneric=function(a){return a instanceof gs.utils.tween.GlowFilterVars?a:new c(a.blurX||0,a.blurY||0,null==a.color?0:a.color,a.alpha||0,null==a.strength?2:a.strength,!!a.inner,!!a.knockout,a.quality||2,a.remove||!1,null==a.index?-1:a.index,a.addFilter||!1)};return c}(FilterVars),TransformAroundCenterVars=function(a){function c(a,d,g,e,f,h,k,l){void 0===a&&(a=NaN);void 0===d&&(d=NaN);void 0===g&&(g=NaN);void 0===e&&(e=NaN);void 0===f&&(f=NaN);void 0===k&&(k=NaN);void 0===l&&(l=NaN);c.__super.call(this,null,a,d,g,e,f,h,k,l)}__class(c,"gs.utils.tween.TransformAroundCenterVars",!1,a);c.createFromGeneric=function(a){return a instanceof gs.utils.tween.TransformAroundCenterVars?a:new c(a.scaleX,a.scaleY,a.rotation,a.width,a.height,a.shortRotation,a.x,a.y)};return c}(TransformAroundPointVars),BitmapFramePlayer=function(a){function c(){this._bitmapList=[];this._repeatCount=this._currentCount=this._currentFrame=this._totalFrames=0;this._playing=!1;c.__super.call(this)}__class(c,"com.lilynumber1.display.BitmapFramePlayer",!1,a);a=c.prototype;a.play=function(){this._playing=!0;if(1<this._totalFrames)this.addEventListener("enterFrame",__bind(this,this.onEnterFrame));else this.onEnterFrame(null)};a.stop=function(){this.removeEventListener("enterFrame",__bind(this,this.onEnterFrame));this._playing=!1};a.gotoAndPlay=function(a){a>this._totalFrames-1&&(a=this._totalFrames-1);0>a||this._currentFrame==a||(this._currentFrame=a,this._playing||this.play())};a.gotoAndStop=function(a){a>this._totalFrames-1&&(a=this._totalFrames-1);0>a||(this.stop(),this._currentFrame=a,this.bitmapData=this._bitmapList[this._currentFrame])};a.clear=function(){this.stop();this.bitmapData=null;this._currentFrame=this._totalFrames=0;this._bitmapList=[];this._currentCount=0};a.destroy=function(a){void 0===a&&(a=!1);this.stop();this._currentCount=this._currentFrame=this._totalFrames=0;a&&this._bitmapList.forEach(function(a,b,c){a&&a.dispose()});this._bitmapList=this.bitmapData=null};a.onEnterFrame=function(a){this._currentFrame++;if(this._currentFrame==this._totalFrames){this._currentFrame=0;if(0!=this._repeatCount&&(this._currentCount++,this._currentCount>=this._repeatCount)){this.stop();return}this.dispatchEvent(new Event("endMovie"))}this.bitmapData=this._bitmapList[this._currentFrame]};__getset(0,a,"currentFrame",function(){return this._currentFrame});__getset(0,a,"totalFrames",function(){return this._totalFrames});__getset(0,a,"playing",function(){return this._playing});__getset(0,a,"dataList",null,function(a){null==a?this.clear():(this.stop(),this._bitmapList=a,this._totalFrames=this._bitmapList.length,this._currentCount=this._currentFrame=0,this.bitmapData=this._bitmapList[this._currentFrame])});__getset(0,a,"repeatCount",function(){return this._repeatCount},function(a){this._repeatCount=a});c.END_MOVIE="endMovie";return c}(Bitmap),BitmapPlayer=function(a){function c(a,d){this._bitmapList=[];this._timeID=this._repeatCount=this._currentCount=this._currentFrame=this._totalFrames=0;this._delay=40;this._playing=!1;c.__super.call(this);void 0===a&&(a=40);void 0===d&&(d=0);this._delay=a;this._repeatCount=d}__class(c,"com.lilynumber1.display.BitmapPlayer",!1,a);a=c.prototype;a.play=function(){this._playing=!0;iflash.utils.clearInterval(this._timeID);1<this._totalFrames&&(this._timeID=iflash.utils.setInterval(__bind(this,this.onEnter),this._delay));this.onEnter()};a.stop=function(){iflash.utils.clearInterval(this._timeID);this._playing=!1};a.gotoAndPlay=function(a){a>this._totalFrames-1&&(a=this._totalFrames-1);0>a||(this._currentFrame=a,this._playing||this.play())};a.gotoAndStop=function(a){a>this._totalFrames-1&&(a=this._totalFrames-1);0>a||(this.stop(),this._currentFrame=a,this.bitmapData=this._bitmapList[this._currentFrame])};a.clear=function(){this.stop();this.bitmapData=null;this._currentFrame=this._totalFrames=0;this._bitmapList=[];this._currentCount=0};a.destroy=function(a){void 0===a&&(a=!1);this.stop();a&&this._bitmapList.forEach(function(a,b,c){a&&a.dispose()});this._bitmapList=this.bitmapData=null};a.onEnter=function(){this.bitmapData=this._bitmapList[this._currentFrame];this._currentFrame++;this._currentFrame==this._totalFrames&&(this._currentFrame=0,0!=this._repeatCount&&(this._currentCount++,this._currentCount==this._repeatCount&&this.stop()))};__getset(0,a,"currentFrame",function(){return this._currentFrame});__getset(0,a,"delay",function(){return this._delay},function(a){this._delay=a;iflash.utils.clearInterval(this._timeID);1<this._totalFrames&&(this._timeID=iflash.utils.setInterval(__bind(this,this.onEnter),this._delay))});__getset(0,a,"totalFrames",function(){return this._totalFrames});__getset(0,a,"playing",function(){return this._playing});__getset(0,a,"dataList",null,function(a){null==a?this.clear():(this.stop(),this._bitmapList=a,this._totalFrames=this._bitmapList.length,this._currentCount=this._currentFrame=0,this.bitmapData=this._bitmapList[this._currentFrame])});__getset(0,a,"repeatCount",function(){return this._repeatCount},function(a){this._repeatCount=a});return c}(Bitmap),ExtBitmapPlayer=function(a){function c(a){this._bitmapList=[];this._currentFrame=this._totalFrames=0;c.__super.call(this);a&&(this.dataList=a)}__class(c,"com.lilynumber1.display.ExtBitmapPlayer",!1,a);a=c.prototype;a.nextFrame=function(){1<this._totalFrames&&(this.bitmapData=this._bitmapList[this._currentFrame],this._currentFrame++,this._currentFrame==this._totalFrames&&(this._currentFrame=0))};a.clear=function(){this.bitmapData=null;this._currentFrame=this._totalFrames=0;this._bitmapList=[]};a.destroy=function(a){void 0===a&&(a=!1);a&&this._bitmapList.forEach(function(a,b,c){a&&a.dispose()});this._bitmapList=this.bitmapData=null};__getset(0,a,"currentFrame",function(){return this._currentFrame},function(a){a>this._totalFrames-1&&(a=this._totalFrames-1);0>a||(this._currentFrame=a,this.bitmapData=this._bitmapList[this._currentFrame])});__getset(0,a,"totalFrames",function(){return this._totalFrames});__getset(0,a,"dataList",null,function(a){null==a?this.clear():(this._bitmapList=a,this._totalFrames=this._bitmapList.length,this._currentFrame=0,this.bitmapData=this._bitmapList[this._currentFrame])});return c}(Bitmap),TitlePercentLoading=function(a){function c(a,b,e){this._bgMC=null;this._barWidth=NaN;this._tips=this._timer=this._tipTxt=this._rect=null;this._prevChangeTime=0;this._currentFrame=1;void 0===b&&(b="Loading...");void 0===e&&(e=!1);c.__super.call(this,a,b,e);this._tipTxt=this.loadingBar.tip_txt;if(this._bgMC=this.loadingBar.bgMC)a=uint(2*Math.random())+1,this._bgMC.gotoAndStop(a);this._barWidth=this._percentBar.width;this._rect=new Rectangle(0,0,0,this._percentBar.height);this._tips=this.getTips();0<this._tips.length&&(this.onChangeTip(null),this._timer=new Timer(2E3),this._timer.addEventListener("timer",__bind(this,this.onChangeTip)),this._timer.start())}__class(c,"manager.loading.TitlePercentLoading",!1,a);var b=c.prototype;Laya.imps(b,{"manager.loading.ILoading":!0});b.getTips=function(){return WordConfig.loading.concat()};b.onChangeTip=function(a){this._tips&&(this._tipTxt.text=this._tips[Math.floor(Math.random()*this._tips.length)])};b.setPercent=function(a,b){manager.loading.BaseLoading.prototype.setPercent.call(this,a,b);this._percentText.text=this._percent+"%";this._rect.width=this._percent/100*this._barWidth;this._percentBar.scrollRect=this._rect};b.show=function(){manager.loading.BaseLoading.prototype.show.call(this);var a=iflash.utils.getTimer();5E3<a-this._prevChangeTime&&(this._prevChangeTime=a,this._currentFrame=int(Math.random()*this._loadingBar.totalFrames)+1);this._loadingBar.gotoAndStop(this._currentFrame);this.layout();manager.StageResizeController.instance.register(__bind(this,this.layout))};b.hide=function(){manager.loading.BaseLoading.prototype.hide.call(this);manager.StageResizeController.instance.unregister(__bind(this,this.layout))};b.layout=function(){this._loadingBar.x=LayerManager.stageWidth-800>>1;this._loadingBar.y=.5*(LayerManager.stageHeight-480)};b.destroy=function(){manager.StageResizeController.instance.unregister(__bind(this,this.layout));this._tipTxt=this._rect=this._percentBar=this._percentText=null;this._timer&&(this._timer.stop(),this._timer.removeEventListener("timer",__bind(this,this.onChangeTip)));this._timer=null;a.prototype.destroy.call(this)};__getset(0,b,"title",null,function(b){a.prototype._$set_title.call(this,b)});__getset(0,b,"key",function(){return"titlePercentLoading"});c.KEY="titlePercentLoading";return c}(TitleOnlyLoading),IFlashMain=function(a){function c(){c.__super.call(this);this.stage?this.init():this.addEventListener("addedToStage",__bind(this,this.init))}__class(c,"IFlashMain",!1,a);c.prototype.init=function(a){this.removeEventListener("addedToStage",__bind(this,this.init))};return c}(Sprite),ToolTip=function(a){function c(){this.area=this.label=null;c.__super.call(this);this.label=new TextField;this.label.autoSize="left";this.label.selectable=!1;this.label.multiline=!1;this.label.wordWrap=!1;this.label.defaultTextFormat=new TextFormat("\u5b8b\u4f53",12,6710886);this.label.text="\u63d0\u793a\u4fe1\u606f";this.label.x=5;this.label.y=2;this.addChild(this.label);this.redraw();this.mouseEnabled=this.mouseChildren=this.visible=!1}__class(c,"component.toolTip.ToolTip",!1,a);a=c.prototype;a.redraw=function(){var a=10+this.label.width,c=4+this.label.height;this.graphics.clear();this.graphics.beginFill(0,.4);this.graphics.drawRoundRect(3,3,a,c,5,5);this.graphics.moveTo(6,3+c);this.graphics.lineTo(12,3+c);this.graphics.lineTo(9,8+c);this.graphics.lineTo(6,3+c);this.graphics.endFill();this.graphics.beginFill(16777215);this.graphics.drawRoundRect(0,0,a,c,5,5);this.graphics.moveTo(3,c);this.graphics.lineTo(9,c);this.graphics.lineTo(6,5+c);this.graphics.lineTo(3,c);this.graphics.endFill()};a.show=function(a){this.area=a;this.area.addEventListener("mouseOut",__bind(this,this.handler));this.area.addEventListener("mouseMove",__bind(this,this.handler));this.label.text=a.accessibilityProperties.description;this.redraw()};a.hide=function(){this.area.removeEventListener("mouseOut",__bind(this,this.handler));this.area.removeEventListener("mouseMove",__bind(this,this.handler));this.area=null;this.visible=!1};a.move=function(a){a=this.parent.globalToLocal(a);this.x=a.x-6;this.y=a.y-this.label.height-12;this.visible||(this.visible=!0)};a.handler=function(a){switch(a.type){case "mouseOut":this.hide();break;case "mouseMove":this.move(new Point(a.stageX,a.stageY));break;case "mouseOver":this.show(a.target),this.move(new Point(a.stageX,a.stageY))}};c.init=function(a){null==c.instance&&(c.instance=new c,a.addChild(c.instance))};c.register=function(a,d){if(null!=c.instance){var g=new iflash.accessibility.AccessibilityProperties;g.description=d;a.accessibilityProperties=g;a.addEventListener("mouseOver",c.instance.handler)}};c.unregister=function(a){null!=c.instance&&a.removeEventListener("mouseOver",c.instance.handler)};c.instance=null;return c}(Sprite),Main=function(a){function c(){this._entry=null;c.__super.call(this);IFlash.setSize(800,480);IFlash.setOrientationEx(0);IFlash.setBgcolor("#ffffff");IFlash.showInfo(!1);var a=new Sprite;this.addChild(a);LayerManager.setup(a);ClientConfig.setup();a=new Loader;a.contentLoaderInfo.addEventListener("complete",__bind(this,this.initGame));a.load(new URLRequest("assets/gameUI.swf"),new LoaderContext(!1,ApplicationDomain.currentDomain))}__class(c,"Main",!1,a);a=c.prototype;a.initGame=function(a){this._entry=new (ApplicationDomain.currentDomain.getDefinition("entryUI"));LayerManager.gameLevel.addChild(this._entry);this._entry.x=this._entry.y=0;this._entry.addEventListener("click",__bind(this,this._entryHandler))};a._entryHandler=function(a){a=a.target;if(null!=a)switch(a.name){case "jewelleryGame":ModuleManager.turnAppModule("JewelleryGameStartPanel");break;case "pandaRun":iflash.net.navigateToURL(new URLRequest("../pandaRun/pandaRun.html"),"_self")}};return c}(Sprite),BaseViewModule=function(a){function c(){this._triggerPosition=this._callBackModule=this._tweenEndPoint=this._tweenStartPoint=this._closeBtn=this._dragBtn=this._mainUI=null;this._fadeOut=this._fadeIn=!1;this._isCanOperate=!0;c.__super.call(this);this._type=2;this._modalType=0}__class(c,"model.BaseViewModule",!1,a);a=c.prototype;Laya.imps(a,{"com.lilynumber1.module.IDisplayModule":!0});a.setMainUI=function(a){this._mainUI=a;this._mainUI.hasOwnProperty("dragBtn")&&(this._dragBtn=this._mainUI.dragBtn);this._mainUI.hasOwnProperty("closeBtn")&&(this._closeBtn=this._mainUI.closeBtn)};a.showFor=function(a){null==a&&(a=LayerManager.topLevel);PopUpManager1.instance.catchScreen(this);a.addChild(this._mainUI);PopUpManager1.instance.add(this);this.layout();this.dispatchEvent(new GlobalEvent("show"));this.addEvent();this.showEffectStart()};a.showEffectStart=function(){if(this._triggerPosition||this._fadeIn){var a=this._mainUI.getBounds(this._mainUI),c=new BitmapData(this._mainUI.width,this._mainUI.height,!0,0);c.draw(this._mainUI,new Matrix(1,0,0,1,-a.x,-a.y));c=new Bitmap(c);this._triggerPosition?(c.x=AlignInfo.getXPosition(LayerManager.stageWidth,0,this._triggerPosition),c.y=AlignInfo.getYPosition(LayerManager.stageHeight,0,this._triggerPosition),c.scaleX=c.scaleY=0,this._mainUI.visible=!1,TweenLite.to(c,.3,{scaleX:1,scaleY:1,x:this._mainUI.x+a.left,y:this._mainUI.y+a.top,onComplete:__bind(this,this.onShowEffectCompelte),onCompleteParams:[c]})):(c.x=this._mainUI.x+a.left,c.y=this._mainUI.y+a.top,c.alpha=0,TweenLite.to(c,.5,{alpha:1,onComplete:__bind(this,this.onShowEffectCompelte),onCompleteParams:[c]}));LayerManager.topLevel.addChild(c)}else this.showEffectComplete()};a.onShowEffectCompelte=function(a){DisplayUtil.removeForParent(a);a.bitmapData.dispose();this.showEffectComplete()};a.showEffectComplete=function(){this._mainUI&&(this._mainUI.visible=!0)};a.hideEffectStart=function(){if(this._triggerPosition||this._fadeOut){if(this._mainUI)if(8191<this._mainUI.width||8191<this._mainUI.height||16777215<this._mainUI.width*this._mainUI.height)this.hideEffectComplete();else{var a=this._mainUI.getBounds(this._mainUI),c=new BitmapData(this._mainUI.width,this._mainUI.height,!0,0);c.draw(this._mainUI,new Matrix(1,0,0,1,-a.x,-a.y));c=new Bitmap(c);c.x=this._mainUI.x+a.left;c.y=this._mainUI.y+a.top;this._mainUI.visible=!1;this._triggerPosition?TweenLite.to(c,.3,{scaleX:0,scaleY:0,x:AlignInfo.getXPosition(LayerManager.stageWidth,0,this._triggerPosition),y:AlignInfo.getYPosition(LayerManager.stageHeight,0,this._triggerPosition),onComplete:__bind(this,this.onHideEffectCompelte),onCompleteParams:[c]}):TweenLite.to(c,.5,{alpha:0,onComplete:__bind(this,this.onHideEffectCompelte),onCompleteParams:[c]});LayerManager.topLevel.addChild(c)}}else this.hideEffectComplete()};a.onHideEffectCompelte=function(a){DisplayUtil.removeForParent(a);a.bitmapData.dispose();this.hideEffectComplete()};a.hideEffectComplete=function(){};a.layout=function(){this._mainUI&&this._mainUI.parent&&(this._mainUI.x=800-this._mainUI.width>>1,this._mainUI.y=480-this._mainUI.height>>1)};a.setup=function(){};a.init=function(a){a&&a.callBackModule&&(this._callBackModule=a.callBackModule);a&&a.triggerPosition&&(this._triggerPosition=a.triggerPosition);a&&a.fadeIn&&(this._fadeIn=a.fadeIn);a&&a.fadeOut&&(this._fadeOut=a.fadeOut);a&&a.modalType&&(this._modalType=a.modalType)};a.show=function(){this.showFor(LayerManager.topLevel)};a.hide=function(){PopUpManager1.instance.remove(this);this.removeEvent();this._mainUI&&(this._mainUI.addEventListener("removedFromStage",__bind(this,this.onRemoveStage)),DisplayUtil.removeForParent(this._mainUI,!1));this.dispatchEvent(new GlobalEvent("hide"))};a.destroy=function(){PopUpManager1.instance.remove(this);this.removeEvent();this._mainUI&&(this._mainUI.removeEventListener("removedFromStage",__bind(this,this.onRemoveStage)),DisplayUtil.removeForParent(this._mainUI,!0));this._mainUI=this._closeBtn=this._dragBtn=null;this.dispatchEvent(new GlobalEvent("destroy"));this._callBackModule&&ModuleManager.showModule(this._callBackModule,"\u6b63\u5728\u52a0\u8f7d")};a.addEvent=function(){this._closeBtn&&this._closeBtn.addEventListener("click",__bind(this,this.onClose));this._dragBtn&&this._dragBtn.addEventListener("mouseDown",__bind(this,this.onDragDown))};a.removeEvent=function(){this._closeBtn&&this._closeBtn.removeEventListener("click",__bind(this,this.onClose));this._dragBtn&&(this._dragBtn.removeEventListener("mouseDown",__bind(this,this.onDragDown)),LayerManager.stage.removeEventListener("mouseUp",__bind(this,this.onDragUp)))};a.removeCloseEvent=function(){this._closeBtn&&this._closeBtn.removeEventListener("click",__bind(this,this.onClose))};a.getSimpleBtn=function(a,c){return a.getChildByName(c)};a.onDragDown=function(a){this._mainUI.startDrag();LayerManager.stage.addEventListener("mouseUp",__bind(this,this.onDragUp))};a.onDragUp=function(a){LayerManager.stage.removeEventListener("mouseUp",__bind(this,this.onDragUp));this._mainUI.stopDrag()};a.onClose=function(a){this.hideEffectStart();1==this._type?this.hide():2==this._type&&this.destroy()};a.onRemoveStage=function(a){this.removeEventListener("removedFromStage",__bind(this,this.onRemoveStage))};a.getTargetDailyId=function(a){return-1!=a.indexOf("awardBtn")?this.getSplitId(a):0};a.getSplitId=function(a){a=a.split("_");return 2==a.length?a[1]:0};__getset(0,a,"sprite",function(){return this._mainUI});__getset(0,a,"width",function(){return this._mainUI.width},function(a){this._mainUI.width=a});__getset(0,a,"height",function(){return this._mainUI.height},function(a){this._mainUI.height=a});__getset(0,a,"parentContainer",function(){return this._mainUI.parent});__getset(0,a,"modalType",function(){return this._modalType});__getset(0,a,"isCanOperate",function(){return this._isCanOperate},function(a){this._isCanOperate=a});c.AWARD_BTN="awardBtn";return c}(Sprite),Alert=function(a){function c(){this._arg=null;c.__super.call(this)}__class(c,"panel.Alert",!1,a);var b=c.prototype;b.setup=function(){var a=ApplicationDomain.currentDomain.getDefinition("AlertUI");this.setMainUI(new a)};b.init=function(a){this._arg=a};b.addEvent=function(){a.prototype.addEvent.call(this);this._mainUI.okBtn.addEventListener("click",__bind(this,this.okHandler));this._mainUI.cancelBtn.addEventListener("click",__bind(this,this.cancelHandler))};b.removeEvent=function(){a.prototype.removeEvent.call(this);this._mainUI.okBtn.removeEventListener("click",__bind(this,this.okHandler));this._mainUI.cancelBtn.removeEventListener("click",__bind(this,this.cancelHandler))};b.okHandler=function(a){this.destroy();null!=this._arg.ok&&this._arg.ok.call(null)};b.cancelHandler=function(a){this.destroy()};b.updateView=function(){this._mainUI.txt.text=this._arg.txt};b.show=function(){this._modalType=1;this.showFor(LayerManager.topLevel);this.updateView()};return c}(BaseViewModule),JewelleryGameOverPanel=function(a){function c(){this._arg=null;c.__super.call(this)}__class(c,"panel.JewelleryGameOverPanel",!1,a);var b=c.prototype;b.setup=function(){var a=ApplicationDomain.currentDomain.getDefinition("JewelleryGameOverPanelUI");this.setMainUI(new a)};b.init=function(a){this._arg=a};b.addEvent=function(){a.prototype.addEvent.call(this);this._mainUI.closeBtn.addEventListener("click",__bind(this,this.closeHandler))};b.removeEvent=function(){a.prototype.removeEvent.call(this);this._mainUI.closeBtn.removeEventListener("click",__bind(this,this.closeHandler))};b.closeHandler=function(a){this.destroy();null!=this._arg.close&&this._arg.close.call(null)};b.updateView=function(){this._mainUI.scoreLabel.text=this._arg.score};b.show=function(){this._modalType=1;this.showFor(LayerManager.topLevel);this.updateView()};return c}(BaseViewModule),JewelleryGamePanel=function(a){function c(){this.RECORED_START=12044;this.RECORED_END=12045;this._map=null;this._currentScore=this._maxValue=0;this._started=!1;this._so=null;c.__super.call(this);this._numBmds=[];this._effectPool=[]}__class(c,"panel.JewelleryGamePanel",!1,a);var b=c.prototype;b.setup=function(){var a=ApplicationDomain.currentDomain.getDefinition("JewelleryGamePanelUI");this.setMainUI(new a);this._so=SharedObject.getLocal("highest_score");for(var a=this._mainUI.cellContainer.cell_0_2.getBounds(this._mainUI.cellContainer.cell_0_2),b=0;9>b;b++){this._mainUI.cellContainer.cell_0_2.gotoAndStop(b+1);var c=new BitmapData(this._mainUI.cellContainer.cell_0_2.width,this._mainUI.cellContainer.cell_0_2.height,!0,0);c.draw(this._mainUI.cellContainer.cell_0_2,new Matrix(1,0,0,1,-a.x,-a.y));this._numBmds.push(c)}this._callBackModule="JewelleryGameStartPanel";this.startHandle();this.responseHighestScore(null)};b.addEvent=function(){a.prototype.addEvent.call(this);for(var b=0;5>b;b++)for(var c=0;5>c;c++)this._mainUI.cellContainer["cell_"+b+"_"+c]&&(this._mainUI.cellContainer["cell_"+b+"_"+c].buttonMode=!0,this._mainUI.cellContainer["cell_"+b+"_"+c].addEventListener("click",__bind(this,this.cellClickHandle)))};b.removeEvent=function(){a.prototype.removeEvent.call(this);for(var b=0;5>b;b++)for(var c=0;5>c;c++)this._mainUI.cellContainer["cell_"+b+"_"+c]&&this._mainUI.cellContainer["cell_"+b+"_"+c].removeEventListener("click",__bind(this,this.cellClickHandle))};b.destroy=function(){for(;this._effectPool.length;)this._effectPool.pop();a.prototype.destroy.call(this)};b.onClose=function(b){this._started?ModuleManager.turnAppModule("Alert","\u52a0\u8f7d\u2026\u2026",{txt:"\u6e38\u620f\u4e2d\u662f\u5426\u9000\u51fa\uff1f",ok:__bind(this,this.quit)}):a.prototype.onClose.call(this,b)};b.responseHighestScore=function(a){this._mainUI.highScoreLabel.text=null!=this._so.data.highest_score?this._so.data.highest_score+"":"0"};b.quit=function(){a.prototype.onClose.call(this,null);this._so.data.highest_score=this._currentScore;this._so.flush()};b.showResultPanel=function(){ModuleManager.turnAppModule("JewelleryGameOverPanel","\u6b63\u5728\u52a0\u8f7d\u2026\u2026",{score:this._currentScore,close:__bind(this,this.quit)});this._started=!1};b.startHandle=function(){this._map=[[0,1,1,1,0],[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1],[0,0,1,0,0]];this._maxValue=1;for(var a=this._currentScore=0;a<this._map.length;a++)for(var b=this._map[a],c=0;c<b.length;c++)0!=this._map[a][c]&&this._mainUI.cellContainer["cell_"+a+"_"+c].gotoAndStop(this._map[a][c])};b.cellClickHandle=function(a){if(this._started){var b=a.currentTarget.name.split("_"),c=int(b[1]),b=int(b[2]),f=this.getSameCells(c,b,[5*c+b]),h=f.length;if(3<=h){var k=this._map[c][b]+(8<h?2:1);k>this._maxValue&&(this._maxValue=k);this.addScore(Math.pow(3,k-2));this._map[c][b]=k;this._mainUI.cellContainer["cell_"+c+"_"+b].gotoAndStop(k);f.shift();for(k=0;k<h-1;k++){var c=int(f[k]/5),b=int(f[k]%5),l=this.getNewEffect();l.alpha=1;l.bitmapData=this._numBmds[this._map[c][b]-1];l.x=this._mainUI.cellContainer["cell_"+c+"_"+b].x;l.y=this._mainUI.cellContainer["cell_"+c+"_"+b].y;this._mainUI.cellContainer.addChild(l);TweenLite.to(l,.5,{alpha:0,x:a.currentTarget.x-.5*l.width,y:a.currentTarget.y-.5*l.height,onComplete:__bind(this,this.effectEndHandle),onCompleteParams:[l]});this._map[c][b]=this.getRandomValue(4<this._maxValue?3:2);this._mainUI.cellContainer["cell_"+c+"_"+b].gotoAndStop(this._map[c][b])}for(c=0;5>c;c++)for(b=0;5>b;b++)if(3<=this.getSameCells(c,b,[5*c+b]).length)return;this.showResultPanel()}}};b.effectEndHandle=function(a){a.bitmapData=null;DisplayUtil.removeForParent(a);this._effectPool.push(a)};b.effectRunning=function(a){a=a.currentTarget;a.currentFrame==a.totalFrames&&(a.gotoAndStop(1),DisplayUtil.removeForParent(a),this._effectPool.push(a))};b.addScore=function(a){this._currentScore+=a;this._mainUI.currentScoreLabel.text=this._currentScore+"";a=0;null!=this._so.data.highest_score&&(a=this._so.data.highest_score);this._currentScore>a&&(this._mainUI.highScoreLabel.text=this._currentScore+"")};b.getNewEffect=function(){return this._effectPool.length?this._effectPool.pop():new Bitmap};b.getRandomValue=function(a){var b=100*Math.random();return 10>b?2:12>b&&3<=a?3:1};b.getSameCells=function(a,b,c){var f=this._map[a][b],h=0,k=0,h=a-1,k=b;0<=h&&this._map[h][k]==f&&-1==c.indexOf(5*h+k)&&(c.push(5*h+k),this.getSameCells(h,k,c));h=a+1;k=b;4>=h&&this._map[h][k]==f&&-1==c.indexOf(5*h+k)&&(c.push(5*h+k),this.getSameCells(h,k,c));h=a;k=b-1;0<=k&&this._map[h][k]==f&&-1==c.indexOf(5*h+k)&&(c.push(5*h+k),this.getSameCells(h,k,c));h=a;k=b+1;4>=k&&this._map[h][k]==f&&-1==c.indexOf(5*h+k)&&(c.push(5*h+k),this.getSameCells(h,k,c));b&1?(h=a+1,k=b-1,4>=h&&0<=k&&this._map[h][k]==f&&-1==c.indexOf(5*h+k)&&(c.push(5*h+k),this.getSameCells(h,k,c)),h=a+1,k=b+1,4>=h&&4>=k&&this._map[h][k]==f&&-1==c.indexOf(5*h+k)&&(c.push(5*h+k),this.getSameCells(h,k,c))):(h=a-1,k=b-1,0<=h&&0<=k&&this._map[h][k]==f&&-1==c.indexOf(5*h+k)&&(c.push(5*h+k),this.getSameCells(h,k,c)),h=a-1,k=b+1,0<=h&&4>=k&&this._map[h][k]==f&&-1==c.indexOf(5*h+k)&&(c.push(5*h+k),this.getSameCells(h,k,c)));return c};b.show=function(){this._modalType=1;this.showFor(LayerManager.topLevel);this._started=!0};c.HIGHEST_SCORE="highest_score";return c}(BaseViewModule),JewelleryGameStartPanel=function(a){function c(){c.__super.call(this)}__class(c,"panel.JewelleryGameStartPanel",!1,a);var b=c.prototype;b.setup=function(){var a=ApplicationDomain.currentDomain.getDefinition("JewelleryGameStartPanelUI");this.setMainUI(new a);this.updateView()};b.addEvent=function(){a.prototype.addEvent.call(this);this._mainUI.enterBtn.addEventListener("click",__bind(this,this.enterHandle))};b.removeEvent=function(){a.prototype.removeEvent.call(this);this._mainUI.enterBtn.removeEventListener("click",__bind(this,this.enterHandle))};b.enterHandle=function(a){this.doEnter()};b.doEnter=function(){ModuleManager.turnAppModule("JewelleryGamePanel");this.destroy()};b.updateView=function(){var a=SharedObject.getLocal("highest_score"),b=0;a.data.highest_score&&(b=int(a.data.highest_score));this._mainUI.totalScoreLabel.text=String(b)};b.show=function(){this._modalType=1;this.showFor(LayerManager.topLevel)};return c}(BaseViewModule);iflash.net.classDic={};iflash.utils.flash_proxy=null;window.Fns={};Laya.__init([Browser,TweenGroup]);Laya.Main(function(){IFlash.Start();IFlash.Run(new Main,-1,-1)});